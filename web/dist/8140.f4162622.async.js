"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[8140],{48347:function(e,t,a){a.d(t,{b:function(){return B}});var n=a(97857),s=a.n(n),r=a(19632),c=a.n(r),o=a(5574),l=a.n(o),i=a(13769),u=a.n(i),f=a(13766),d=a(41352),g=a(28142),p=a(67294),m=a(38074),h=a(64712),v=a(57636),x=a(37483),b=a(27080),C=a(85893),N=["className","value"],j=p.forwardRef((function(e,t){var a=e.className,n=e.value,r=u()(e,N);return(0,C.jsx)(x.fC,s()(s()({ref:t,className:(0,b.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a)},r),{},{children:(0,C.jsx)(x.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})}))}));j.displayName=x.fC.displayName;var k=a(25443),w=["className","orientation"],S=["className","children"],D=p.forwardRef((function(e,t){var a=e.className,n=e.orientation,r=void 0===n?"vertical":n,c=u()(e,w);return(0,C.jsx)(k.gb,s()(s()({ref:t,orientation:r,className:(0,b.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a)},c),{},{children:(0,C.jsx)(k.q4,{className:"relative flex-1 rounded-full bg-border"})}))}));D.displayName=k.gb.displayName;var y=p.forwardRef((function(e,t){var a=e.className,n=e.children,r=u()(e,S);return(0,C.jsxs)(k.fC,s()(s()({ref:t,className:(0,b.cn)("relative overflow-hidden",a)},r),{},{children:[(0,C.jsx)(k.l_,{className:"h-full w-full rounded-[inherit]",children:n}),(0,C.jsx)(D,{}),(0,C.jsx)(k.Ns,{})]}))}));function P(e){var t=p.useRef(e);return p.useEffect((function(){t.current=e})),p.useMemo((function(){return function(){for(var e,a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(n))}}),[])}function A(e){var t=e.prop,a=e.defaultProp,n=e.onChange,s=void 0===n?function(){}:n,r=function(e){var t=e.defaultProp,a=e.onChange,n=p.useState(t),s=l()(n,1)[0],r=p.useRef(s),c=P(a);return p.useEffect((function(){r.current!==s&&(c(s),r.current=s)}),[s,r,c]),n}({defaultProp:a,onChange:s}),c=l()(r,2),o=c[0],i=c[1],u=void 0!==t,f=u?t:o,d=P(s);return[f,p.useCallback((function(e){if(u){var a="function"==typeof e?e(t):e;a!==t&&d(a)}else i(e)}),[u,t,i,d])]}y.displayName=k.fC.displayName;var R=["value","onValueChange","onUpload","progresses","accept","maxSize","maxFileCount","multiple","disabled","className"];function T(e){return"preview"in e&&"string"==typeof e.preview}function Z(e){var t=e.file;return t.type.startsWith("image/")?(0,C.jsx)("img",{src:t.preview,alt:t.name,width:48,height:48,loading:"lazy",className:"aspect-square shrink-0 rounded-md object-cover"}):(0,C.jsx)(f.Z,{className:"size-10 text-muted-foreground","aria-hidden":"true"})}function z(e){var t=e.file,a=e.progress,n=e.onRemove;return(0,C.jsxs)("div",{className:"relative flex items-center gap-2.5",children:[(0,C.jsxs)("div",{className:"flex flex-1 gap-2.5",children:[T(t)?(0,C.jsx)(Z,{file:t}):null,(0,C.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,C.jsxs)("div",{className:"flex flex-col gap-px",children:[(0,C.jsx)("p",{className:"line-clamp-1 text-sm font-medium text-foreground/80",children:t.name}),(0,C.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,b.t)(t.size)})]}),a?(0,C.jsx)(j,{value:a}):null]})]}),(0,C.jsx)("div",{className:"flex items-center gap-2",children:(0,C.jsxs)(v.z,{type:"button",variant:"outline",size:"icon",className:"size-7",onClick:n,children:[(0,C.jsx)(d.Z,{className:"size-4","aria-hidden":"true"}),(0,C.jsx)("span",{className:"sr-only",children:"Remove file"})]})})]})}function B(e){var t,a=e.value,n=e.onValueChange,r=e.onUpload,o=e.progresses,i=e.accept,f=void 0===i?{"image/*":[]}:i,d=e.maxSize,v=void 0===d?2097152:d,x=e.maxFileCount,N=void 0===x?1:x,j=e.multiple,k=void 0!==j&&j,w=e.disabled,S=void 0!==w&&w,D=e.className,P=u()(e,R),Z=A({prop:a,onChange:n}),B=l()(Z,2),I=B[0],F=B[1],L=p.useCallback((function(e,t){var a;if(!k&&1===N&&e.length>1)h.Am.error("Cannot upload more than 1 file at a time");else if((null!==(a=null==I?void 0:I.length)&&void 0!==a?a:0)+e.length>N)h.Am.error("Cannot upload more than ".concat(N," files"));else{var n=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),s=I?[].concat(c()(I),c()(n)):n;if(F(s),t.length>0&&t.forEach((function(e){var t=e.file;h.Am.error("File ".concat(t.name," was rejected"))})),r&&s.length>0&&s.length<=N){var o=s.length>0?"".concat(s.length," files"):"file";h.Am.promise(r(s),{loading:"Uploading ".concat(o,"..."),success:function(){return F([]),"".concat(o," uploaded")},error:"Failed to upload ".concat(o)})}}}),[I,N,k,r,F]);p.useEffect((function(){return function(){I&&I.forEach((function(e){T(e)&&URL.revokeObjectURL(e.preview)}))}}),[]);var U=S||(null!==(t=null==I?void 0:I.length)&&void 0!==t?t:0)>=N;return(0,C.jsxs)("div",{className:"relative flex flex-col gap-6 overflow-hidden",children:[(0,C.jsx)(m.ZP,{onDrop:L,accept:f,maxSize:v,maxFiles:N,multiple:N>1||k,disabled:U,children:function(e){var t=e.getRootProps,a=e.getInputProps,n=e.isDragActive;return(0,C.jsxs)("div",s()(s()(s()({},t()),{},{className:(0,b.cn)("group relative grid h-52 w-full cursor-pointer place-items-center rounded-lg border-2 border-dashed border-muted-foreground/25 px-5 py-2.5 text-center transition hover:bg-muted/25","ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n&&"border-muted-foreground/50",U&&"pointer-events-none opacity-60",D)},P),{},{children:[(0,C.jsx)("input",s()({},a())),n?(0,C.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 sm:px-5",children:[(0,C.jsx)("div",{className:"rounded-full border border-dashed p-3",children:(0,C.jsx)(g.Z,{className:"size-7 text-muted-foreground","aria-hidden":"true"})}),(0,C.jsx)("p",{className:"font-medium text-muted-foreground",children:"Drop the files here"})]}):(0,C.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 sm:px-5",children:[(0,C.jsx)("div",{className:"rounded-full border border-dashed p-3",children:(0,C.jsx)(g.Z,{className:"size-7 text-muted-foreground","aria-hidden":"true"})}),(0,C.jsxs)("div",{className:"flex flex-col gap-px",children:[(0,C.jsxs)("p",{className:"font-medium text-muted-foreground",children:["Drag ","'n'"," drop files here, or click to select files"]}),(0,C.jsxs)("p",{className:"text-sm text-muted-foreground/70",children:["You can upload",N>1?" ".concat(N===1/0?"multiple":N,"\n                      files (up to ").concat((0,b.t)(v)," each)"):" a file with ".concat((0,b.t)(v))]})]})]})]}))}}),null!=I&&I.length?(0,C.jsx)(y,{className:"h-fit w-full px-3",children:(0,C.jsx)("div",{className:"flex max-h-48 flex-col gap-4",children:null==I?void 0:I.map((function(e,t){return(0,C.jsx)(z,{file:e,onRemove:function(){return function(e){if(I){var t=I.filter((function(t,a){return a!==e}));F(t),null==n||n(t)}}(t)},progress:null==o?void 0:o[e.name]},t)}))})}):null]})}},27591:function(e,t,a){a.d(t,{II:function(){return m},Mj:function(){return v}});var n=a(9783),s=a.n(n),r=a(97857),c=a.n(r),o=a(13769),l=a.n(o),i=a(67294),u=a(27080),f=a(87764),d=a(85893),g=["className","type"],p=["suffix","prefix"],m=i.forwardRef((function(e,t){var a=e.className,n=e.type,s=l()(e,g);return(0,d.jsx)("input",c()({type:n,className:(0,u.cn)("flex h-10 w-full rounded-md border border-input bg-colors-background-inverse-weak px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t},s))}));m.displayName="Input";var h=function(e){var t=e.suffix,a=e.prefix,n=l()(e,p);return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("span",{className:(0,u.cn)(s()({},"absolute left-3 top-[50%] translate-y-[-50%]",a)),children:a}),(0,d.jsx)(m,c()({className:(0,u.cn)({"pr-10":t,"pl-10":a})},n)),(0,d.jsx)("span",{className:(0,u.cn)(s()({},"absolute right-3 top-[50%] translate-y-[-50%]",t)),children:t})]})},v=function(e){return(0,d.jsx)(h,c()({suffix:(0,d.jsx)(f.Z,{})},e))}},704:function(e,t,a){a.d(t,{$:function(){return f},t:function(){return u}});var n=a(9783),s=a.n(n),r=a(5574),c=a.n(r),o=a(23454),l=a(67294),i=a(86004),u=function(e){return e.KnowledgeId="knowledgeId",e}({}),f=function(){var e=(0,i.s0)(),t=(0,i.lr)(),a=c()(t,1)[0],n=(0,i.UO)().id,r=(0,l.useCallback)((function(){e(o.Z.Datasets)}),[e]),f=(0,l.useCallback)((function(t){return function(){e("".concat(o.Z.Dataset,"/").concat(t))}}),[e]),d=(0,l.useCallback)((function(){e(o.Z.Home)}),[e]),g=(0,l.useCallback)((function(){e(o.Z.ProfileSetting)}),[e]),p=(0,l.useCallback)((function(){e(o.Z.Chats)}),[e]),m=(0,l.useCallback)((function(){e(o.Z.Chat)}),[e]),h=(0,l.useCallback)((function(){e(o.Z.Agents)}),[e]),v=(0,l.useCallback)((function(t){return function(){e("".concat(o.Z.Agent,"/").concat(t))}}),[e]),x=(0,l.useCallback)((function(){e(o.Z.AgentTemplates)}),[e]),b=(0,l.useCallback)((function(){e(o.Z.Searches)}),[e]),C=(0,l.useCallback)((function(){e(o.Z.Search)}),[e]),N=(0,l.useCallback)((function(t,a){return function(){e("".concat(o.Z.ParsedResult,"/").concat(t,"?").concat(u.KnowledgeId,"=").concat(a))}}),[e]),j=(0,l.useCallback)((function(e){var t=s()({},u.KnowledgeId,a.get(u.KnowledgeId));return e?t[e]:t}),[a]),k=(0,l.useCallback)((function(t){e("".concat(t,"/").concat(n,"?").concat(u.KnowledgeId,"=").concat(j(u.KnowledgeId)))}),[j,n,e]);return{navigateToDatasetList:r,navigateToDataset:f,navigateToHome:d,navigateToProfile:g,navigateToChatList:p,navigateToChat:m,navigateToChunkParsedResult:N,getQueryString:j,navigateToChunk:k,navigateToAgentList:h,navigateToAgent:v,navigateToAgentTemplates:x,navigateToSearchList:b,navigateToSearch:C}}},23454:function(e,t,a){a.d(t,{Z:function(){return n}});var n=function(e){return e.Login="/login",e.Home="/home",e.Datasets="/datasets",e.DatasetBase="/dataset",e[e.Dataset="".concat(e.DatasetBase).concat(e.DatasetBase)]="Dataset",e.Agent="/agent",e.AgentTemplates="/agent-templates",e.Agents="/agents",e.Searches="/next-searches",e.Search="/next-search",e.Chats="/next-chats",e.Chat="/next-chat",e.Files="/files",e.ProfileSetting="/profile-setting",e.DatasetTesting="/testing",e.DatasetSetting="/setting",e.Chunk="/chunk",e.ChunkResult="/chunk/chunk",e.Parsed="/parsed",e.ParsedResult="/chunk/parsed",e.Result="/result",e.ResultView="/chunk/result",e}({});n.Home,n.Home,"@/pages".concat(n.Home),n.Datasets,n.Datasets,"@/pages".concat(n.Datasets),n.Chats,n.Chats,"@/pages".concat(n.Chats),n.Chat,"@/pages".concat(n.Chats,"/chat"),n.Searches,n.Searches,"@/pages".concat(n.Searches),n.Search,"@/pages".concat(n.Search),n.Agents,n.Agents,"@/pages".concat(n.Agents),"".concat(n.Agent,"/:id"),"@/pages".concat(n.Agent),n.AgentTemplates,"@/pages".concat(n.Agents).concat(n.AgentTemplates),n.Files,n.Files,"@/pages".concat(n.Files),n.DatasetBase,n.DatasetBase,n.Dataset,n.DatasetBase,"@/pages".concat(n.DatasetBase),"".concat(n.Dataset,"/:id"),"@/pages".concat(n.Dataset),"".concat(n.DatasetBase).concat(n.DatasetSetting,"/:id"),"@/pages".concat(n.DatasetBase).concat(n.DatasetSetting),"".concat(n.DatasetBase).concat(n.DatasetTesting,"/:id"),"@/pages".concat(n.DatasetBase).concat(n.DatasetTesting),n.Chunk,n.Chunk,"@/pages".concat(n.Chunk),"".concat(n.ParsedResult,"/:id"),"@/pages".concat(n.Chunk,"/parsed-result"),"".concat(n.ChunkResult,"/:id"),"@/pages".concat(n.Chunk,"/chunk-result"),"".concat(n.ResultView,"/:id"),"@/pages".concat(n.Chunk,"/result-view"),n.Chunk,"@/pages".concat(n.Chunk),n.ProfileSetting,"@/pages".concat(n.ProfileSetting),n.ProfileSetting,"".concat(n.ProfileSetting,"/profile"),"".concat(n.ProfileSetting,"/profile"),"@/pages".concat(n.ProfileSetting,"/profile"),"".concat(n.ProfileSetting,"/team"),"@/pages".concat(n.ProfileSetting,"/team"),"".concat(n.ProfileSetting,"/plan"),"@/pages".concat(n.ProfileSetting,"/plan"),"".concat(n.ProfileSetting,"/model"),"@/pages".concat(n.ProfileSetting,"/model"),"".concat(n.ProfileSetting,"/prompt"),"@/pages".concat(n.ProfileSetting,"/prompt")}}]);
//# sourceMappingURL=8140.f4162622.async.js.map