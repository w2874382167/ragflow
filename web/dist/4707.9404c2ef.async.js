/*! For license information please see 4707.9404c2ef.async.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[4707],{82826:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),i=n(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},o=n(84089),a=function(e,t){return i.createElement(o.Z,(0,r.Z)({},e,{ref:t,icon:s}))};var l=i.forwardRef(a)},8751:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),i=n(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},o=n(84089),a=function(e,t){return i.createElement(o.Z,(0,r.Z)({},e,{ref:t,icon:s}))};var l=i.forwardRef(a)},18429:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),i=n(67294),s={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},o=n(84089),a=function(e,t){return i.createElement(o.Z,(0,r.Z)({},e,{ref:t,icon:s}))};var l=i.forwardRef(a)},48689:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),i=n(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},o=n(84089),a=function(e,t){return i.createElement(o.Z,(0,r.Z)({},e,{ref:t,icon:s}))};var l=i.forwardRef(a)},49354:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),i=n(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M531.3 574.4l.3-1.4c5.8-23.9 13.1-53.7 7.4-80.7-3.8-21.3-19.5-29.6-32.9-30.2-15.8-.7-29.9 8.3-33.4 21.4-6.6 24-.7 56.8 10.1 98.6-13.6 32.4-35.3 79.5-51.2 107.5-29.6 15.3-69.3 38.9-75.2 68.7-1.2 5.5.2 12.5 3.5 18.8 3.7 7 9.6 12.4 16.5 15 3 1.1 6.6 2 10.8 2 17.6 0 46.1-14.2 84.1-79.4 5.8-1.9 11.8-3.9 17.6-5.9 27.2-9.2 55.4-18.8 80.9-23.1 28.2 15.1 60.3 24.8 82.1 24.8 21.6 0 30.1-12.8 33.3-20.5 5.6-13.5 2.9-30.5-6.2-39.6-13.2-13-45.3-16.4-95.3-10.2-24.6-15-40.7-35.4-52.4-65.8zM421.6 726.3c-13.9 20.2-24.4 30.3-30.1 34.7 6.7-12.3 19.8-25.3 30.1-34.7zm87.6-235.5c5.2 8.9 4.5 35.8.5 49.4-4.9-19.9-5.6-48.1-2.7-51.4.8.1 1.5.7 2.2 2zm-1.6 120.5c10.7 18.5 24.2 34.4 39.1 46.2-21.6 4.9-41.3 13-58.9 20.2-4.2 1.7-8.3 3.4-12.3 5 13.3-24.1 24.4-51.4 32.1-71.4zm155.6 65.5c.1.2.2.5-.4.9h-.2l-.2.3c-.8.5-9 5.3-44.3-8.6 40.6-1.9 45 7.3 45.1 7.4zm191.4-388.2L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-pdf",theme:"outlined"},o=n(84089),a=function(e,t){return i.createElement(o.Z,(0,r.Z)({},e,{ref:t,icon:s}))};var l=i.forwardRef(a)},3089:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),i=n(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},o=n(84089),a=function(e,t){return i.createElement(o.Z,(0,r.Z)({},e,{ref:t,icon:s}))};var l=i.forwardRef(a)},81643:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=e=>e?"function"==typeof e?e():e:null},38925:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(67294),i=n(89739),s=n(4340),o=n(97937),a=n(21640),l=n(78860),c=n(93967),h=n.n(c),u=n(29372),d=n(64217),p=n(42550),f=n(96159),g=n(53124),m=n(11568),v=n(14747),b=n(83559);const y=(e,t,n,r,i)=>({background:e,border:`${(0,m.bf)(r.lineWidth)} ${r.lineType} ${t}`,[`${i}-icon`]:{color:n}}),_=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:r,marginSM:i,fontSize:s,fontSizeLG:o,lineHeight:a,borderRadiusLG:l,motionEaseInOutCirc:c,withDescriptionIconSize:h,colorText:u,colorTextHeading:d,withDescriptionPadding:p,defaultPadding:f}=e;return{[t]:Object.assign(Object.assign({},(0,v.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:f,wordWrap:"break-word",borderRadius:l,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:r,lineHeight:0},"&-description":{display:"none",fontSize:s,lineHeight:a},"&-message":{color:d},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${c}, opacity ${n} ${c},\n        padding-top ${n} ${c}, padding-bottom ${n} ${c},\n        margin-bottom ${n} ${c}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:p,[`${t}-icon`]:{marginInlineEnd:i,fontSize:h,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:r,color:d,fontSize:o},[`${t}-description`]:{display:"block",color:u}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},w=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:r,colorSuccessBg:i,colorWarning:s,colorWarningBorder:o,colorWarningBg:a,colorError:l,colorErrorBorder:c,colorErrorBg:h,colorInfo:u,colorInfoBorder:d,colorInfoBg:p}=e;return{[t]:{"&-success":y(i,r,n,e,t),"&-info":y(p,d,u,e,t),"&-warning":y(a,o,s,e,t),"&-error":Object.assign(Object.assign({},y(h,c,l,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},S=e=>{const{componentCls:t,iconCls:n,motionDurationMid:r,marginXS:i,fontSizeIcon:s,colorIcon:o,colorIconHover:a}=e;return{[t]:{"&-action":{marginInlineStart:i},[`${t}-close-icon`]:{marginInlineStart:i,padding:0,overflow:"hidden",fontSize:s,lineHeight:(0,m.bf)(s),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:o,transition:`color ${r}`,"&:hover":{color:a}}},"&-close-text":{color:o,transition:`color ${r}`,"&:hover":{color:a}}}}};var A=(0,b.I$)("Alert",(e=>[_(e),w(e),S(e)]),(e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}))),x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const P={success:i.Z,info:l.Z,error:s.Z,warning:a.Z},E=e=>{const{icon:t,prefixCls:n,type:i}=e,s=P[i]||null;return t?(0,f.wm)(t,r.createElement("span",{className:`${n}-icon`},t),(()=>({className:h()(`${n}-icon`,t.props.className)}))):r.createElement(s,{className:`${n}-icon`})},C=e=>{const{isClosable:t,prefixCls:n,closeIcon:i,handleClose:s,ariaProps:a}=e,l=!0===i||void 0===i?r.createElement(o.Z,null):i;return t?r.createElement("button",Object.assign({type:"button",onClick:s,className:`${n}-close-icon`,tabIndex:0},a),l):null},T=r.forwardRef(((e,t)=>{const{description:n,prefixCls:i,message:s,banner:o,className:a,rootClassName:l,style:c,onMouseEnter:f,onMouseLeave:m,onClick:v,afterClose:b,showIcon:y,closable:_,closeText:w,closeIcon:S,action:P,id:T}=e,k=x(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[M,R]=r.useState(!1);const O=r.useRef(null);r.useImperativeHandle(t,(()=>({nativeElement:O.current})));const{getPrefixCls:D,direction:I,closable:L,closeIcon:F,className:N,style:j}=(0,g.dj)("alert"),B=D("alert",i),[W,z,U]=A(B),H=t=>{var n;R(!0),null===(n=e.onClose)||void 0===n||n.call(e,t)},V=r.useMemo((()=>void 0!==e.type?e.type:o?"warning":"info"),[e.type,o]),q=r.useMemo((()=>!("object"!=typeof _||!_.closeIcon)||(!!w||("boolean"==typeof _?_:!1!==S&&null!=S||!!L))),[w,S,_,L]),$=!(!o||void 0!==y)||y,G=h()(B,`${B}-${V}`,{[`${B}-with-description`]:!!n,[`${B}-no-icon`]:!$,[`${B}-banner`]:!!o,[`${B}-rtl`]:"rtl"===I},N,a,l,U,z),X=(0,d.Z)(k,{aria:!0,data:!0}),Y=r.useMemo((()=>"object"==typeof _&&_.closeIcon?_.closeIcon:w||(void 0!==S?S:"object"==typeof L&&L.closeIcon?L.closeIcon:F)),[S,_,w,F]),K=r.useMemo((()=>{const e=null!=_?_:L;if("object"==typeof e){const{closeIcon:t}=e;return x(e,["closeIcon"])}return{}}),[_,L]);return W(r.createElement(u.ZP,{visible:!M,motionName:`${B}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:e=>({maxHeight:e.offsetHeight}),onLeaveEnd:b},((t,i)=>{let{className:o,style:a}=t;return r.createElement("div",Object.assign({id:T,ref:(0,p.sQ)(O,i),"data-show":!M,className:h()(G,o),style:Object.assign(Object.assign(Object.assign({},j),c),a),onMouseEnter:f,onMouseLeave:m,onClick:v,role:"alert"},X),$?r.createElement(E,{description:n,icon:e.icon,prefixCls:B,type:V}):null,r.createElement("div",{className:`${B}-content`},s?r.createElement("div",{className:`${B}-message`},s):null,n?r.createElement("div",{className:`${B}-description`},n):null),P?r.createElement("div",{className:`${B}-action`},P):null,r.createElement(C,{isClosable:q,prefixCls:B,closeIcon:Y,handleClose:H,ariaProps:K}))})))}));var k=T,M=n(15671),R=n(43144),O=n(53640),D=n(60136);let I=function(e){function t(){var e;return(0,M.Z)(this,t),(e=(0,O.Z)(this,t,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,D.Z)(t,e),(0,R.Z)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){const{message:e,description:t,id:n,children:i}=this.props,{error:s,info:o}=this.state,a=(null==o?void 0:o.componentStack)||null,l=void 0===e?(s||"").toString():e,c=void 0===t?a:t;return s?r.createElement(k,{id:n,type:"error",message:l,description:r.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},c)}):i}}])}(r.Component);var L=I;const F=k;F.ErrorBoundary=L;var N=F},84567:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(67294),i=n(93967),s=n.n(i),o=n(50132),a=n(42550),l=n(45353),c=n(17415),h=n(53124),u=n(98866),d=n(35792),p=n(65223);var f=r.createContext(null),g=n(63185),m=n(5273),v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const b=(e,t)=>{var n;const{prefixCls:i,className:b,rootClassName:y,children:_,indeterminate:w=!1,style:S,onMouseEnter:A,onMouseLeave:x,skipGroup:P=!1,disabled:E}=e,C=v(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:T,direction:k,checkbox:M}=r.useContext(h.E_),R=r.useContext(f),{isFormItemInput:O}=r.useContext(p.aM),D=r.useContext(u.Z),I=null!==(n=(null==R?void 0:R.disabled)||E)&&void 0!==n?n:D,L=r.useRef(C.value),F=r.useRef(null),N=(0,a.sQ)(t,F);r.useEffect((()=>{null==R||R.registerValue(C.value)}),[]),r.useEffect((()=>{if(!P)return C.value!==L.current&&(null==R||R.cancelValue(L.current),null==R||R.registerValue(C.value),L.current=C.value),()=>null==R?void 0:R.cancelValue(C.value)}),[C.value]),r.useEffect((()=>{var e;(null===(e=F.current)||void 0===e?void 0:e.input)&&(F.current.input.indeterminate=w)}),[w]);const j=T("checkbox",i),B=(0,d.Z)(j),[W,z,U]=(0,g.ZP)(j,B),H=Object.assign({},C);R&&!P&&(H.onChange=function(){C.onChange&&C.onChange.apply(C,arguments),R.toggleOption&&R.toggleOption({label:_,value:C.value})},H.name=R.name,H.checked=R.value.includes(C.value));const V=s()(`${j}-wrapper`,{[`${j}-rtl`]:"rtl"===k,[`${j}-wrapper-checked`]:H.checked,[`${j}-wrapper-disabled`]:I,[`${j}-wrapper-in-form-item`]:O},null==M?void 0:M.className,b,y,U,B,z),q=s()({[`${j}-indeterminate`]:w},c.A,z),[$,G]=(0,m.Z)(H.onClick);return W(r.createElement(l.Z,{component:"Checkbox",disabled:I},r.createElement("label",{className:V,style:Object.assign(Object.assign({},null==M?void 0:M.style),S),onMouseEnter:A,onMouseLeave:x,onClick:$},r.createElement(o.Z,Object.assign({},H,{onClick:G,prefixCls:j,className:q,disabled:I,ref:N})),void 0!==_&&r.createElement("span",{className:`${j}-label`},_))))};var y=r.forwardRef(b),_=n(74902),w=n(98423),S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const A=r.forwardRef(((e,t)=>{const{defaultValue:n,children:i,options:o=[],prefixCls:a,className:l,rootClassName:c,style:u,onChange:p}=e,m=S(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:v,direction:b}=r.useContext(h.E_),[A,x]=r.useState(m.value||n||[]),[P,E]=r.useState([]);r.useEffect((()=>{"value"in m&&x(m.value||[])}),[m.value]);const C=r.useMemo((()=>o.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e))),[o]),T=v("checkbox",a),k=`${T}-group`,M=(0,d.Z)(T),[R,O,D]=(0,g.ZP)(T,M),I=(0,w.Z)(m,["value","disabled"]),L=o.length?C.map((e=>r.createElement(y,{prefixCls:T,key:e.value.toString(),disabled:"disabled"in e?e.disabled:m.disabled,value:e.value,checked:A.includes(e.value),onChange:e.onChange,className:`${k}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label))):i,F={toggleOption:e=>{const t=A.indexOf(e.value),n=(0,_.Z)(A);-1===t?n.push(e.value):n.splice(t,1),"value"in m||x(n),null==p||p(n.filter((e=>P.includes(e))).sort(((e,t)=>C.findIndex((t=>t.value===e))-C.findIndex((e=>e.value===t)))))},value:A,disabled:m.disabled,name:m.name,registerValue:e=>{E((t=>[].concat((0,_.Z)(t),[e])))},cancelValue:e=>{E((t=>t.filter((t=>t!==e))))}},N=s()(k,{[`${k}-rtl`]:"rtl"===b},l,c,D,M,O);return R(r.createElement("div",Object.assign({className:N,style:u},I,{ref:t}),r.createElement(f.Provider,{value:F},L)))}));var x=A;const P=y;P.Group=x,P.__ANT_CHECKBOX=!0;var E=P},63185:function(e,t,n){"use strict";n.d(t,{C2:function(){return l}});var r=n(11568),i=n(14747),s=n(83262),o=n(83559);const a=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},(0,i.Wf)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},(0,i.Wf)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},(0,i.Wf)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},(0,i.oN)(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${(0,r.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${(0,r.bf)(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function l(e,t){const n=(0,s.IX)(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[a(n)]}t.ZP=(0,o.I$)("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[l(n,e)]}))},66330:function(e,t,n){"use strict";n.d(t,{aV:function(){return u}});var r=n(67294),i=n(93967),s=n.n(i),o=n(92419),a=n(81643),l=n(53124),c=n(20136),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const u=e=>{let{title:t,content:n,prefixCls:i}=e;return t||n?r.createElement(r.Fragment,null,t&&r.createElement("div",{className:`${i}-title`},t),n&&r.createElement("div",{className:`${i}-inner-content`},n)):null},d=e=>{const{hashId:t,prefixCls:n,className:i,style:l,placement:c="top",title:h,content:d,children:p}=e,f=(0,a.Z)(h),g=(0,a.Z)(d),m=s()(t,n,`${n}-pure`,`${n}-placement-${c}`,i);return r.createElement("div",{className:m,style:l},r.createElement("div",{className:`${n}-arrow`}),r.createElement(o.G,Object.assign({},e,{className:t,prefixCls:n}),p||r.createElement(u,{prefixCls:n,title:f,content:g})))};t.ZP=e=>{const{prefixCls:t,className:n}=e,i=h(e,["prefixCls","className"]),{getPrefixCls:o}=r.useContext(l.E_),a=o("popover",t),[u,p,f]=(0,c.Z)(a);return u(r.createElement(d,Object.assign({},i,{prefixCls:a,hashId:p,className:s()(n,f)})))}},55241:function(e,t,n){"use strict";var r=n(67294),i=n(93967),s=n.n(i),o=n(21770),a=n(15105),l=n(81643),c=n(33603),h=n(96159),u=n(83062),d=n(66330),p=n(53124),f=n(20136),g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const m=r.forwardRef(((e,t)=>{var n,i;const{prefixCls:m,title:v,content:b,overlayClassName:y,placement:_="top",trigger:w="hover",children:S,mouseEnterDelay:A=.1,mouseLeaveDelay:x=.1,onOpenChange:P,overlayStyle:E={},styles:C,classNames:T}=e,k=g(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:M,className:R,style:O,classNames:D,styles:I}=(0,p.dj)("popover"),L=M("popover",m),[F,N,j]=(0,f.Z)(L),B=M(),W=s()(y,N,j,R,D.root,null==T?void 0:T.root),z=s()(D.body,null==T?void 0:T.body),[U,H]=(0,o.Z)(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(i=e.defaultOpen)&&void 0!==i?i:e.defaultVisible}),V=(e,t)=>{H(e,!0),null==P||P(e,t)},q=(0,l.Z)(v),$=(0,l.Z)(b);return F(r.createElement(u.Z,Object.assign({placement:_,trigger:w,mouseEnterDelay:A,mouseLeaveDelay:x},k,{prefixCls:L,classNames:{root:W,body:z},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},I.root),O),E),null==C?void 0:C.root),body:Object.assign(Object.assign({},I.body),null==C?void 0:C.body)},ref:t,open:U,onOpenChange:e=>{V(e)},overlay:q||$?r.createElement(d.aV,{prefixCls:L,title:q,content:$}):null,transitionName:(0,c.m)(B,"zoom-big",k.transitionName),"data-popover-inject":!0}),(0,h.Tm)(S,{onKeyDown:e=>{var t,n;r.isValidElement(S)&&(null===(n=null==S?void 0:(t=S.props).onKeyDown)||void 0===n||n.call(t,e)),(e=>{e.keyCode===a.Z.ESC&&V(!1,e)})(e)}})))}));m._InternalPanelDoNotUseOrYouWillBeFired=d.ZP,t.Z=m},20136:function(e,t,n){"use strict";var r=n(14747),i=n(50438),s=n(97414),o=n(79511),a=n(8796),l=n(83559),c=n(83262);const h=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:i,fontWeightStrong:o,innerPadding:a,boxShadowSecondary:l,colorTextHeading:c,borderRadiusLG:h,zIndexPopup:u,titleMarginBottom:d,colorBgElevated:p,popoverBg:f,titleBorderBottom:g,innerContentPadding:m,titlePadding:v}=e;return[{[t]:Object.assign(Object.assign({},(0,r.Wf)(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:u,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":p,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:f,backgroundClip:"padding-box",borderRadius:h,boxShadow:l,padding:a},[`${t}-title`]:{minWidth:i,marginBottom:d,color:c,fontWeight:o,borderBottom:g,padding:v},[`${t}-inner-content`]:{color:n,padding:m}})},(0,s.ZP)(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},u=e=>{const{componentCls:t}=e;return{[t]:a.i.map((n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}}))}};t.Z=(0,l.I$)("Popover",(e=>{const{colorBgElevated:t,colorText:n}=e,r=(0,c.IX)(e,{popoverBg:t,popoverColor:n});return[h(r),u(r),(0,i._y)(r,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:i,wireframe:a,zIndexPopupBase:l,borderRadiusLG:c,marginXS:h,lineType:u,colorSplit:d,paddingSM:p}=e,f=n-r,g=f/2,m=f/2-t,v=i;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},(0,o.w)(e)),(0,s.wZ)({contentRadius:c,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:h,titlePadding:a?`${g}px ${v}px ${m}px`:0,titleBorderBottom:a?`${t}px ${u} ${d}`:"none",innerContentPadding:a?`${p}px ${v}px`:0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]})},72269:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(67294),i=n(50888),s=n(93967),o=n.n(s),a=n(87462),l=n(4942),c=n(97685),h=n(45987),u=n(21770),d=n(15105),p=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],f=r.forwardRef((function(e,t){var n,i=e.prefixCls,s=void 0===i?"rc-switch":i,f=e.className,g=e.checked,m=e.defaultChecked,v=e.disabled,b=e.loadingIcon,y=e.checkedChildren,_=e.unCheckedChildren,w=e.onClick,S=e.onChange,A=e.onKeyDown,x=(0,h.Z)(e,p),P=(0,u.Z)(!1,{value:g,defaultValue:m}),E=(0,c.Z)(P,2),C=E[0],T=E[1];function k(e,t){var n=C;return v||(T(n=e),null==S||S(n,t)),n}var M=o()(s,f,(n={},(0,l.Z)(n,"".concat(s,"-checked"),C),(0,l.Z)(n,"".concat(s,"-disabled"),v),n));return r.createElement("button",(0,a.Z)({},x,{type:"button",role:"switch","aria-checked":C,disabled:v,className:M,ref:t,onKeyDown:function(e){e.which===d.Z.LEFT?k(!1,e):e.which===d.Z.RIGHT&&k(!0,e),null==A||A(e)},onClick:function(e){var t=k(!C,e);null==w||w(t,e)}}),b,r.createElement("span",{className:"".concat(s,"-inner")},r.createElement("span",{className:"".concat(s,"-inner-checked")},y),r.createElement("span",{className:"".concat(s,"-inner-unchecked")},_)))}));f.displayName="Switch";var g=f,m=n(45353),v=n(53124),b=n(98866),y=n(98675),_=n(11568),w=n(15063),S=n(14747),A=n(83559),x=n(83262);const P=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:i,innerMinMarginSM:s,innerMaxMarginSM:o,handleSizeSM:a,calc:l}=e,c=`${t}-inner`,h=(0,_.bf)(l(a).add(l(r).mul(2)).equal()),u=(0,_.bf)(l(o).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:i,height:n,lineHeight:(0,_.bf)(n),[`${t}-inner`]:{paddingInlineStart:o,paddingInlineEnd:s,[`${c}-checked, ${c}-unchecked`]:{minHeight:n},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${h} - ${u})`,marginInlineEnd:`calc(100% - ${h} + ${u})`},[`${c}-unchecked`]:{marginTop:l(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:a,height:a},[`${t}-loading-icon`]:{top:l(l(a).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:s,paddingInlineEnd:o,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${h} + ${u})`,marginInlineEnd:`calc(-100% + ${h} - ${u})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${(0,_.bf)(l(a).add(r).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:l(e.marginXXS).div(2).equal(),marginInlineEnd:l(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:l(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(e.marginXXS).div(2).equal()}}}}}}},E=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},C=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:i,handleSize:s,calc:o}=e,a=`${t}-handle`;return{[t]:{[a]:{position:"absolute",top:n,insetInlineStart:n,width:s,height:s,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:o(s).div(2).equal(),boxShadow:i,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${a}`]:{insetInlineStart:`calc(100% - ${(0,_.bf)(o(s).add(n).equal())})`},[`&:not(${t}-disabled):active`]:{[`${a}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${a}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},T=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:i,innerMaxMargin:s,handleSize:o,calc:a}=e,l=`${t}-inner`,c=(0,_.bf)(a(o).add(a(r).mul(2)).equal()),h=(0,_.bf)(a(s).mul(2).equal());return{[t]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:s,paddingInlineEnd:i,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${l}-checked, ${l}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:n},[`${l}-checked`]:{marginInlineStart:`calc(-100% + ${c} - ${h})`,marginInlineEnd:`calc(100% - ${c} + ${h})`},[`${l}-unchecked`]:{marginTop:a(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${l}`]:{paddingInlineStart:i,paddingInlineEnd:s,[`${l}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${l}-unchecked`]:{marginInlineStart:`calc(100% - ${c} + ${h})`,marginInlineEnd:`calc(-100% + ${c} - ${h})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${l}`]:{[`${l}-unchecked`]:{marginInlineStart:a(r).mul(2).equal(),marginInlineEnd:a(r).mul(-1).mul(2).equal()}},[`&${t}-checked ${l}`]:{[`${l}-checked`]:{marginInlineStart:a(r).mul(-1).mul(2).equal(),marginInlineEnd:a(r).mul(2).equal()}}}}}},k=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,S.Wf)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:(0,_.bf)(n),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),(0,S.Qy)(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}};var M=(0,A.I$)("Switch",(e=>{const t=(0,x.IX)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[k(t),T(t),C(t),E(t),P(t)]}),(e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:i}=e,s=t*n,o=r/2,a=s-4,l=o-4;return{trackHeight:s,trackHeightSM:o,trackMinWidth:2*a+8,trackMinWidthSM:2*l+4,trackPadding:2,handleBg:i,handleSize:a,handleSizeSM:l,handleShadow:`0 2px 4px 0 ${new w.t("#00230b").setA(.2).toRgbString()}`,innerMinMargin:a/2,innerMaxMargin:a+2+4,innerMinMarginSM:l/2,innerMaxMarginSM:l+2+4}})),R=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const O=r.forwardRef(((e,t)=>{const{prefixCls:n,size:s,disabled:a,loading:l,className:c,rootClassName:h,style:d,checked:p,value:f,defaultChecked:_,defaultValue:w,onChange:S}=e,A=R(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[x,P]=(0,u.Z)(!1,{value:null!=p?p:f,defaultValue:null!=_?_:w}),{getPrefixCls:E,direction:C,switch:T}=r.useContext(v.E_),k=r.useContext(b.Z),O=(null!=a?a:k)||l,D=E("switch",n),I=r.createElement("div",{className:`${D}-handle`},l&&r.createElement(i.Z,{className:`${D}-loading-icon`})),[L,F,N]=M(D),j=(0,y.Z)(s),B=o()(null==T?void 0:T.className,{[`${D}-small`]:"small"===j,[`${D}-loading`]:l,[`${D}-rtl`]:"rtl"===C},c,h,F,N),W=Object.assign(Object.assign({},null==T?void 0:T.style),d);return L(r.createElement(m.Z,{component:"Switch"},r.createElement(g,Object.assign({},A,{checked:x,onChange:function(){P(arguments.length<=0?void 0:arguments[0]),null==S||S.apply(void 0,arguments)},prefixCls:D,className:B,style:W,disabled:O,ref:t,loadingIcon:I}))))})),D=O;D.__ANT_SWITCH=!0;var I=D},90733:function(e){e.exports=function(){"use strict";function e(e){var t=new d,n=Array.from(e);if(!n.every((function(e){return!Number.isNaN(e)})))throw TypeError('CSSMatrix: "'+e+'" must only have numbers.');if(16===n.length){var r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],h=n[7],u=n[8],p=n[9],f=n[10],g=n[11],m=n[12],v=n[13],b=n[14],y=n[15];t.m11=r,t.a=r,t.m21=a,t.c=a,t.m31=u,t.m41=m,t.e=m,t.m12=i,t.b=i,t.m22=l,t.d=l,t.m32=p,t.m42=v,t.f=v,t.m13=s,t.m23=c,t.m33=f,t.m43=b,t.m14=o,t.m24=h,t.m34=g,t.m44=y}else{if(6!==n.length)throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");var _=n[0],w=n[1],S=n[2],A=n[3],x=n[4],P=n[5];t.m11=_,t.a=_,t.m12=w,t.b=w,t.m21=S,t.c=S,t.m22=A,t.d=A,t.m41=x,t.e=x,t.m42=P,t.f=P}return t}function t(t){var n=Object.keys(new d);if("object"==typeof t&&n.every((function(e){return e in t})))return e([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(t)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function n(t){if("string"!=typeof t)throw TypeError('CSSMatrix: "'+t+'" is not a string.');var n=String(t).replace(/\s/g,""),r=new d,i='CSSMatrix: invalid transform string "'+t+'"';return n.split(")").filter((function(e){return e})).forEach((function(t){var n=t.split("("),s=n[0],o=n[1];if(!o)throw TypeError(i);var a=o.split(",").map((function(e){return e.includes("rad")?parseFloat(e)*(180/Math.PI):parseFloat(e)})),l=a[0],c=a[1],h=a[2],u=a[3],d=[l,c,h],p=[l,c,h,u];if("perspective"===s&&l&&[c,h].every((function(e){return void 0===e})))r.m34=-1/l;else if(s.includes("matrix")&&[6,16].includes(a.length)&&a.every((function(e){return!Number.isNaN(+e)}))){var f=a.map((function(e){return Math.abs(e)<1e-6?0:e}));r=r.multiply(e(f))}else if("translate3d"===s&&d.every((function(e){return!Number.isNaN(+e)})))r=r.translate(l,c,h);else if("translate"===s&&l&&void 0===h)r=r.translate(l,c||0,0);else if("rotate3d"===s&&p.every((function(e){return!Number.isNaN(+e)}))&&u)r=r.rotateAxisAngle(l,c,h,u);else if("rotate"===s&&l&&[c,h].every((function(e){return void 0===e})))r=r.rotate(0,0,l);else if("scale3d"===s&&d.every((function(e){return!Number.isNaN(+e)}))&&d.some((function(e){return 1!==e})))r=r.scale(l,c,h);else if("scale"!==s||Number.isNaN(l)||1===l||void 0!==h)if("skew"===s&&(l||!Number.isNaN(l)&&c)&&void 0===h)r=r.skew(l,c||0);else{if(!(/[XYZ]/.test(s)&&l&&[c,h].every((function(e){return void 0===e}))&&["translate","rotate","scale","skew"].some((function(e){return s.includes(e)}))))throw TypeError(i);if(["skewX","skewY"].includes(s))r=r[s](l);else{var g=s.replace(/[XYZ]/,""),m=s.replace(g,""),v=["X","Y","Z"].indexOf(m),b="scale"===g?1:0,y=[0===v?l:b,1===v?l:b,2===v?l:b];r=r[g].apply(r,y)}}else{var _=Number.isNaN(+c)?l:c;r=r.scale(l,_,1)}})),r}function r(e,t){return t?[e.a,e.b,e.c,e.d,e.e,e.f]:[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]}function i(e,t,n){var r=new d;return r.m41=e,r.e=e,r.m42=t,r.f=t,r.m43=n,r}function s(e,t,n){var r=new d,i=Math.PI/180,s=e*i,o=t*i,a=n*i,l=Math.cos(s),c=-Math.sin(s),h=Math.cos(o),u=-Math.sin(o),p=Math.cos(a),f=-Math.sin(a),g=h*p,m=-h*f;r.m11=g,r.a=g,r.m12=m,r.b=m,r.m13=u;var v=c*u*p+l*f;r.m21=v,r.c=v;var b=l*p-c*u*f;return r.m22=b,r.d=b,r.m23=-c*h,r.m31=c*f-l*u*p,r.m32=c*p+l*u*f,r.m33=l*h,r}function o(e,t,n,r){var i=new d,s=Math.sqrt(e*e+t*t+n*n);if(0===s)return i;var o=e/s,a=t/s,l=n/s,c=r*(Math.PI/360),h=Math.sin(c),u=Math.cos(c),p=h*h,f=o*o,g=a*a,m=l*l,v=1-2*(g+m)*p;i.m11=v,i.a=v;var b=2*(o*a*p+l*h*u);i.m12=b,i.b=b,i.m13=2*(o*l*p-a*h*u);var y=2*(a*o*p-l*h*u);i.m21=y,i.c=y;var _=1-2*(m+f)*p;return i.m22=_,i.d=_,i.m23=2*(a*l*p+o*h*u),i.m31=2*(l*o*p+a*h*u),i.m32=2*(l*a*p-o*h*u),i.m33=1-2*(f+g)*p,i}function a(e,t,n){var r=new d;return r.m11=e,r.a=e,r.m22=t,r.d=t,r.m33=n,r}function l(e,t){var n=new d;if(e){var r=e*Math.PI/180,i=Math.tan(r);n.m21=i,n.c=i}if(t){var s=t*Math.PI/180,o=Math.tan(s);n.m12=o,n.b=o}return n}function c(e){return l(e,0)}function h(e){return l(0,e)}function u(t,n){return e([n.m11*t.m11+n.m12*t.m21+n.m13*t.m31+n.m14*t.m41,n.m11*t.m12+n.m12*t.m22+n.m13*t.m32+n.m14*t.m42,n.m11*t.m13+n.m12*t.m23+n.m13*t.m33+n.m14*t.m43,n.m11*t.m14+n.m12*t.m24+n.m13*t.m34+n.m14*t.m44,n.m21*t.m11+n.m22*t.m21+n.m23*t.m31+n.m24*t.m41,n.m21*t.m12+n.m22*t.m22+n.m23*t.m32+n.m24*t.m42,n.m21*t.m13+n.m22*t.m23+n.m23*t.m33+n.m24*t.m43,n.m21*t.m14+n.m22*t.m24+n.m23*t.m34+n.m24*t.m44,n.m31*t.m11+n.m32*t.m21+n.m33*t.m31+n.m34*t.m41,n.m31*t.m12+n.m32*t.m22+n.m33*t.m32+n.m34*t.m42,n.m31*t.m13+n.m32*t.m23+n.m33*t.m33+n.m34*t.m43,n.m31*t.m14+n.m32*t.m24+n.m33*t.m34+n.m34*t.m44,n.m41*t.m11+n.m42*t.m21+n.m43*t.m31+n.m44*t.m41,n.m41*t.m12+n.m42*t.m22+n.m43*t.m32+n.m44*t.m42,n.m41*t.m13+n.m42*t.m23+n.m43*t.m33+n.m44*t.m43,n.m41*t.m14+n.m42*t.m24+n.m43*t.m34+n.m44*t.m44])}var d=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if(n.a=1,n.b=0,n.c=0,n.d=1,n.e=0,n.f=0,n.m11=1,n.m12=0,n.m13=0,n.m14=0,n.m21=0,n.m22=1,n.m23=0,n.m24=0,n.m31=0,n.m32=0,n.m33=1,n.m34=0,n.m41=0,n.m42=0,n.m43=0,n.m44=1,e.length){var r=[16,6].some((function(t){return t===e.length}))?e:e[0];return n.setMatrixValue(r)}return n},p={isIdentity:{configurable:!0},is2D:{configurable:!0}};p.isIdentity.get=function(){var e=this;return 1===e.m11&&0===e.m12&&0===e.m13&&0===e.m14&&0===e.m21&&1===e.m22&&0===e.m23&&0===e.m24&&0===e.m31&&0===e.m32&&1===e.m33&&0===e.m34&&0===e.m41&&0===e.m42&&0===e.m43&&1===e.m44},p.is2D.get=function(){var e=this;return 0===e.m31&&0===e.m32&&1===e.m33&&0===e.m34&&0===e.m43&&1===e.m44},d.prototype.setMatrixValue=function(r){var i=this;return"string"==typeof r&&r.length&&"none"!==r?n(r):[Array,Float64Array,Float32Array].some((function(e){return r instanceof e}))?e(r):[d,DOMMatrix,Object].some((function(e){return r instanceof e}))?t(r):i},d.prototype.toFloat32Array=function(e){return Float32Array.from(r(this,e))},d.prototype.toFloat64Array=function(e){return Float64Array.from(r(this,e))},d.prototype.toString=function(){var e=this,t=e.is2D;return(t?"matrix":"matrix3d")+"("+e.toFloat64Array(t).join(", ")+")"},d.prototype.toJSON=function(){var e=this,t=e.is2D,n=e.isIdentity;return Object.assign({},e,{is2D:t,isIdentity:n})},d.prototype.multiply=function(e){return u(this,e)},d.prototype.translate=function(e,t,n){var r=t,s=n;return void 0===r&&(r=0),void 0===s&&(s=0),u(this,i(e,r,s))},d.prototype.scale=function(e,t,n){var r=t,i=n;return void 0===r&&(r=e),void 0===i&&(i=1),u(this,a(e,r,i))},d.prototype.rotate=function(e,t,n){var r=e,i=t||0,o=n||0;return"number"==typeof e&&void 0===t&&void 0===n&&(o=r,r=0,i=0),u(this,s(r,i,o))},d.prototype.rotateAxisAngle=function(e,t,n,r){if([e,t,n,r].some((function(e){return Number.isNaN(+e)})))throw new TypeError("CSSMatrix: expecting 4 values");return u(this,o(e,t,n,r))},d.prototype.skewX=function(e){return u(this,c(e))},d.prototype.skewY=function(e){return u(this,h(e))},d.prototype.skew=function(e,t){return u(this,l(e,t))},d.prototype.transformPoint=function(e){var t=this,n=t.m11*e.x+t.m21*e.y+t.m31*e.z+t.m41*e.w,r=t.m12*e.x+t.m22*e.y+t.m32*e.z+t.m42*e.w,i=t.m13*e.x+t.m23*e.y+t.m33*e.z+t.m43*e.w,s=t.m14*e.x+t.m24*e.y+t.m34*e.z+t.m44*e.w;return e instanceof DOMPoint?new DOMPoint(n,r,i,s):{x:n,y:r,z:i,w:s}},Object.defineProperties(d.prototype,p),Object.assign(d,{Translate:i,Rotate:s,RotateAxisAngle:o,Scale:a,SkewX:c,SkewY:h,Skew:l,Multiply:u,fromArray:e,fromMatrix:t,fromString:n,toArray:r});var f="1.0.3";return Object.assign(d,{Version:f}),d}()},91296:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,h=l||c||Function("return this")(),u=Object.prototype.toString,d=Math.max,p=Math.min,f=function(){return h.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=s.test(e);return n||o.test(e)?a(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,s,o,a,l,c=0,h=!1,u=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function y(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-c>=s}function _(){var e=f();if(y(e))return w(e);a=setTimeout(_,function(e){var n=t-(e-l);return u?p(n,s-(e-c)):n}(e))}function w(e){return a=void 0,v&&r?b(e):(r=i=void 0,o)}function S(){var e=f(),n=y(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(_,t),h?b(e):o}(l);if(u)return a=setTimeout(_,t),b(l)}return void 0===a&&(a=setTimeout(_,t)),o}return t=m(t)||0,g(n)&&(h=!!n.leading,s=(u="maxWait"in n)?d(m(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},S.flush=function(){return void 0===a?o:w(f())},S}},78783:function(module,__unused_webpack_exports,__webpack_require__){var Buffer=__webpack_require__(48764).lW,process=__webpack_require__(34155),factory;globalThis,factory=()=>(()=>{var __webpack_modules__=[,(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.arrayByteLength=h,t.arraysToBytes=function(e){const t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];let n=0;for(let r=0;r<t;r++)n+=h(e[r]);let r=0;const i=new Uint8Array(n);for(let n=0;n<t;n++){let t=e[n];t instanceof Uint8Array||(t="string"==typeof t?c(t):new Uint8Array(t));const s=t.byteLength;i.set(t,r),r+=s}return i},t.assert=function(e,t){e||o(t)},t.bytesToString=function(e){"object"==typeof e&&null!==e&&void 0!==e.length||o("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const s=Math.min(i+n,t),o=e.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")},t.createPromiseCapability=function(){const e=Object.create(null);let t=!1;return Object.defineProperty(e,"settled",{get(){return t}}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.createValidAbsoluteUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"==typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t&&t.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=f(e)}catch(e){}}const r=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch(e){}return null},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,(e=>"\n"===e?"\\n":"\r"===e?"\\r":`\\${e}`))},t.getModificationDate=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=r.INFOS&&console.log(`Info: ${e}`)},t.isArrayBuffer=function(e){return"object"==typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.objectFromMap=function(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=a,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=c,t.stringToPDFString=function(e){if(e[0]>="ï"){let t;if("þ"===e[0]&&"ÿ"===e[1]?t="utf-16be":"ÿ"===e[0]&&"þ"===e[1]?t="utf-16le":"ï"===e[0]&&"»"===e[1]&&"¿"===e[2]&&(t="utf-8"),t)try{const n=new TextDecoder(t,{fatal:!0}),r=c(e);return n.decode(r)}catch(e){s(`stringToPDFString: "${e}".`)}}const t=[];for(let n=0,r=e.length;n<r;n++){const r=p[e.charCodeAt(n)];t.push(r?String.fromCharCode(r):e.charAt(n))}return t.join("")},t.stringToUTF16BEString=function(e){const t=["þÿ"];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);t.push(String.fromCharCode(r>>8&255),String.fromCharCode(255&r))}return t.join("")},t.stringToUTF8String=f,t.unreachable=o,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=s,n(2),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},t.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=r.WARNINGS;function s(e){i>=r.WARNINGS&&console.log(`Warning: ${e}`)}function o(e){throw new Error(e)}function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const l=function(){function e(t,n){this.constructor===e&&o("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();function c(e){"string"!=typeof e&&o("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function h(e){return void 0!==e.length?e.length:void 0!==e.byteLength?e.byteLength:void o("Invalid argument for arrayByteLength")}t.BaseException=l,t.PasswordException=class extends l{constructor(e,t){super(e,"PasswordException"),this.code=t}},t.UnknownErrorException=class extends l{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},t.InvalidPDFException=class extends l{constructor(e){super(e,"InvalidPDFException")}},t.MissingPDFException=class extends l{constructor(e){super(e,"MissingPDFException")}},t.UnexpectedResponseException=class extends l{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},t.FormatError=class extends l{constructor(e){super(e,"FormatError")}},t.AbortException=class extends l{constructor(e){super(e,"AbortException")}},t.FeatureTest=class{static get isLittleEndian(){return a(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return a(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return a(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}};const u=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));class d{static makeHexColor(e,t,n){return`#${u[e]}${u[t]}${u[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=d.applyTransform(e,t),r=d.applyTransform(e.slice(2,4),t),i=d.applyTransform([e[0],e[3]],t),s=d.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],s[0]),Math.min(n[1],r[1],i[1],s[1]),Math.max(n[0],r[0],i[0],s[0]),Math.max(n[1],r[1],i[1],s[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static apply3dTransform(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],o=(n+s)/2,a=Math.sqrt((n+s)**2-4*(n*s-i*r))/2,l=o+a||1,c=o-a||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>s?null:[n,i,r,s]}static bezierBoundingBox(e,t,n,r,i,s,o,a){const l=[],c=[[],[]];let h,u,d,p,f,g,m,v;for(let c=0;c<2;++c)if(0===c?(u=6*e-12*n+6*i,h=-3*e+9*n-9*i+3*o,d=3*n-3*e):(u=6*t-12*r+6*s,h=-3*t+9*r-9*s+3*a,d=3*r-3*t),Math.abs(h)<1e-12){if(Math.abs(u)<1e-12)continue;p=-d/u,0<p&&p<1&&l.push(p)}else m=u*u-4*d*h,v=Math.sqrt(m),m<0||(f=(-u+v)/(2*h),0<f&&f<1&&l.push(f),g=(-u-v)/(2*h),0<g&&g<1&&l.push(g));let b,y=l.length;const _=y;for(;y--;)p=l[y],b=1-p,c[0][y]=b*b*b*e+3*b*b*p*n+3*b*p*p*i+p*p*p*o,c[1][y]=b*b*b*t+3*b*b*p*r+3*b*p*p*s+p*p*p*a;return c[0][_]=e,c[1][_]=t,c[0][_+1]=o,c[1][_+1]=a,c[0].length=c[1].length=_+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}}t.Util=d;const p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function f(e){return decodeURIComponent(escape(e))}},(e,t,n)=>{"use strict";var r=n(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,!globalThis.btoa&&r.isNodeJS&&(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}),!globalThis.atob&&r.isNodeJS&&(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),!globalThis.DOMMatrix&&r.isNodeJS&&(globalThis.DOMMatrix=__webpack_require__(90733)),!globalThis.ReadableStream&&r.isNodeJS&&(globalThis.ReadableStream=__webpack_require__(23800).ReadableStream),Array.prototype.at||n(4),Uint8Array.prototype.at||n(76),globalThis.structuredClone||n(86))},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const n=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},(e,t,n)=>{n(5);var r=n(75);e.exports=r("Array","at")},(e,t,n)=>{"use strict";var r=n(6),i=n(41),s=n(65),o=n(63),a=n(70);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=s(t),r=o(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}}),a("at")},(e,t,n)=>{var r=n(7),i=n(8).f,s=n(45),o=n(49),a=n(39),l=n(57),c=n(69);e.exports=function(e,t){var n,h,u,d,p,f=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[f]||a(f,{}):(r[f]||{}).prototype)for(h in t){if(d=t[h],u=e.dontCallGetSet?(p=i(n,h))&&p.value:n[h],!c(g?h:f+(m?".":"#")+h,e.forced)&&void 0!==u){if(typeof d==typeof u)continue;l(d,u)}(e.sham||u&&u.sham)&&s(d,"sham",!0),o(n,h,d,e)}}},e=>{var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof __webpack_require__.g&&__webpack_require__.g)||function(){return this}()||Function("return this")()},(e,t,n)=>{var r=n(9),i=n(11),s=n(13),o=n(14),a=n(15),l=n(20),c=n(40),h=n(43),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=a(e),t=l(t),h)try{return u(e,t)}catch(e){}if(c(e,t))return o(!i(s.f,e,t),e[t])}},(e,t,n)=>{var r=n(10);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},(e,t,n)=>{var r=n(12),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},(e,t,n)=>{var r=n(10);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},(e,t,n)=>{var r=n(16),i=n(19);e.exports=function(e){return r(i(e))}},(e,t,n)=>{var r=n(17),i=n(10),s=n(18),o=Object,a=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?a(e,""):o(e)}:o},(e,t,n)=>{var r=n(12),i=Function.prototype,s=i.bind,o=i.call,a=r&&s.bind(o,o);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},(e,t,n)=>{var r=n(17),i=r({}.toString),s=r("".slice);e.exports=function(e){return s(i(e),8,-1)}},e=>{var t=TypeError;e.exports=function(e){if(null==e)throw t("Can't call method on "+e);return e}},(e,t,n)=>{var r=n(21),i=n(24);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},(e,t,n)=>{var r=n(11),i=n(22),s=n(24),o=n(31),a=n(34),l=n(35),c=TypeError,h=l("toPrimitive");e.exports=function(e,t){if(!i(e)||s(e))return e;var n,l=o(e,h);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||s(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},(e,t,n)=>{var r=n(23);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},e=>{e.exports=function(e){return"function"==typeof e}},(e,t,n)=>{var r=n(25),i=n(23),s=n(26),o=n(27),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&s(t.prototype,a(e))}},(e,t,n)=>{var r=n(7),i=n(23);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},(e,t,n)=>{var r=n(17);e.exports=r({}.isPrototypeOf)},(e,t,n)=>{var r=n(28);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(e,t,n)=>{var r=n(29),i=n(10);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},(e,t,n)=>{var r,i,s=n(7),o=n(30),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,h=c&&c.v8;h&&(i=(r=h.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},(e,t,n)=>{var r=n(25);e.exports=r("navigator","userAgent")||""},(e,t,n)=>{var r=n(32);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},(e,t,n)=>{var r=n(23),i=n(33),s=TypeError;e.exports=function(e){if(r(e))return e;throw s(i(e)+" is not a function")}},e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},(e,t,n)=>{var r=n(11),i=n(23),s=n(22),o=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!s(a=r(n,e)))return a;if(i(n=e.valueOf)&&!s(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!s(a=r(n,e)))return a;throw o("Can't convert object to primitive value")}},(e,t,n)=>{var r=n(7),i=n(36),s=n(40),o=n(42),a=n(28),l=n(27),c=i("wks"),h=r.Symbol,u=h&&h.for,d=l?h:h&&h.withoutSetter||o;e.exports=function(e){if(!s(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&s(h,e)?c[e]=h[e]:c[e]=l&&u?u(t):d(t)}return c[e]}},(e,t,n)=>{var r=n(37),i=n(38);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},e=>{e.exports=!1},(e,t,n)=>{var r=n(7),i=n(39),s="__core-js_shared__",o=r[s]||i(s,{});e.exports=o},(e,t,n)=>{var r=n(7),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},(e,t,n)=>{var r=n(17),i=n(41),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},(e,t,n)=>{var r=n(19),i=Object;e.exports=function(e){return i(r(e))}},(e,t,n)=>{var r=n(17),i=0,s=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+s,36)}},(e,t,n)=>{var r=n(9),i=n(10),s=n(44);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},(e,t,n)=>{var r=n(7),i=n(22),s=r.document,o=i(s)&&i(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},(e,t,n)=>{var r=n(9),i=n(46),s=n(14);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},(e,t,n)=>{var r=n(9),i=n(43),s=n(47),o=n(48),a=n(20),l=TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,u="enumerable",d="configurable",p="writable";t.f=r?s?function(e,t,n){if(o(e),t=a(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=h(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:u in n?n[u]:r[u],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=a(t),o(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},(e,t,n)=>{var r=n(9),i=n(10);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},(e,t,n)=>{var r=n(22),i=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw s(i(e)+" is not an object")}},(e,t,n)=>{var r=n(23),i=n(46),s=n(50),o=n(39);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(r(n)&&s(n,c,a),a.global)l?e[t]=n:o(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},(e,t,n)=>{var r=n(10),i=n(23),s=n(40),o=n(9),a=n(51).CONFIGURABLE,l=n(52),c=n(53),h=c.enforce,u=c.get,d=Object.defineProperty,p=o&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),f=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||a&&e.name!==t)&&(o?d(e,"name",{value:t,configurable:!0}):e.name=t),p&&n&&s(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?o&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=h(e);return s(r,"source")||(r.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return i(this)&&u(this).source||l(this)}),"toString")},(e,t,n)=>{var r=n(9),i=n(40),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},(e,t,n)=>{var r=n(17),i=n(23),s=n(38),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},(e,t,n)=>{var r,i,s,o=n(54),a=n(7),l=n(17),c=n(22),h=n(45),u=n(40),d=n(38),p=n(55),f=n(56),g="Object already initialized",m=a.TypeError,v=a.WeakMap;if(o||d.state){var b=d.state||(d.state=new v),y=l(b.get),_=l(b.has),w=l(b.set);r=function(e,t){if(_(b,e))throw new m(g);return t.facade=e,w(b,e,t),t},i=function(e){return y(b,e)||{}},s=function(e){return _(b,e)}}else{var S=p("state");f[S]=!0,r=function(e,t){if(u(e,S))throw new m(g);return t.facade=e,h(e,S,t),t},i=function(e){return u(e,S)?e[S]:{}},s=function(e){return u(e,S)}}e.exports={set:r,get:i,has:s,enforce:function(e){return s(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},(e,t,n)=>{var r=n(7),i=n(23),s=n(52),o=r.WeakMap;e.exports=i(o)&&/native code/.test(s(o))},(e,t,n)=>{var r=n(36),i=n(42),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},e=>{e.exports={}},(e,t,n)=>{var r=n(40),i=n(58),s=n(8),o=n(46);e.exports=function(e,t,n){for(var a=i(t),l=o.f,c=s.f,h=0;h<a.length;h++){var u=a[h];r(e,u)||n&&r(n,u)||l(e,u,c(t,u))}}},(e,t,n)=>{var r=n(25),i=n(17),s=n(59),o=n(68),a=n(48),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(a(e)),n=o.f;return n?l(t,n(e)):t}},(e,t,n)=>{var r=n(60),i=n(67).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},(e,t,n)=>{var r=n(17),i=n(40),s=n(15),o=n(61).indexOf,a=n(56),l=r([].push);e.exports=function(e,t){var n,r=s(e),c=0,h=[];for(n in r)!i(a,n)&&i(r,n)&&l(h,n);for(;t.length>c;)i(r,n=t[c++])&&(~o(h,n)||l(h,n));return h}},(e,t,n)=>{var r=n(15),i=n(62),s=n(65),o=function(e){return function(t,n,o){var a,l=r(t),c=s(l),h=i(o,c);if(e&&n!=n){for(;c>h;)if((a=l[h++])!=a)return!0}else for(;c>h;h++)if((e||h in l)&&l[h]===n)return e||h||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},(e,t,n)=>{var r=n(63),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},(e,t,n)=>{var r=n(64);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},(e,t,n)=>{var r=n(66);e.exports=function(e){return r(e.length)}},(e,t,n)=>{var r=n(63),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,n)=>{var r=n(10),i=n(23),s=/#|\.prototype\./,o=function(e,t){var n=l[a(e)];return n==h||n!=c&&(i(t)?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",h=o.POLYFILL="P";e.exports=o},(e,t,n)=>{var r=n(35),i=n(71),s=n(46).f,o=r("unscopables"),a=Array.prototype;null==a[o]&&s(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},(e,t,n)=>{var r,i=n(48),s=n(72),o=n(67),a=n(56),l=n(74),c=n(44),h=n(55),u="prototype",d="script",p=h("IE_PROTO"),f=function(){},g=function(e){return"<"+d+">"+e+"</"+d+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;v="undefined"!=typeof document?document.domain&&r?m(r):(t=c("iframe"),n="java"+d+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):m(r);for(var i=o.length;i--;)delete v[u][o[i]];return v()};a[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f[u]=i(e),n=new f,f[u]=null,n[p]=e):n=v(),void 0===t?n:s.f(n,t)}},(e,t,n)=>{var r=n(9),i=n(47),s=n(46),o=n(48),a=n(15),l=n(73);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),i=l(t),c=i.length,h=0;c>h;)s.f(e,n=i[h++],r[n]);return e}},(e,t,n)=>{var r=n(60),i=n(67);e.exports=Object.keys||function(e){return r(e,i)}},(e,t,n)=>{var r=n(25);e.exports=r("document","documentElement")},(e,t,n)=>{var r=n(7),i=n(17);e.exports=function(e,t){return i(r[e].prototype[t])}},(e,t,n)=>{n(77)},(e,t,n)=>{"use strict";var r=n(78),i=n(65),s=n(63),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("at",(function(e){var t=o(this),n=i(t),r=s(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}))},(e,t,n)=>{"use strict";var r,i,s,o=n(79),a=n(9),l=n(7),c=n(23),h=n(22),u=n(40),d=n(80),p=n(33),f=n(45),g=n(49),m=n(46).f,v=n(26),b=n(82),y=n(84),_=n(35),w=n(42),S=n(53),A=S.enforce,x=S.get,P=l.Int8Array,E=P&&P.prototype,C=l.Uint8ClampedArray,T=C&&C.prototype,k=P&&b(P),M=E&&b(E),R=Object.prototype,O=l.TypeError,D=_("toStringTag"),I=w("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",F=o&&!!y&&"Opera"!==d(l.opera),N=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},W=function(e){var t=b(e);if(h(t)){var n=x(t);return n&&u(n,L)?n[L]:W(t)}},z=function(e){if(!h(e))return!1;var t=d(e);return u(j,t)||u(B,t)};for(r in j)(s=(i=l[r])&&i.prototype)?A(s)[L]=i:F=!1;for(r in B)(s=(i=l[r])&&i.prototype)&&(A(s)[L]=i);if((!F||!c(k)||k===Function.prototype)&&(k=function(){throw O("Incorrect invocation")},F))for(r in j)l[r]&&y(l[r],k);if((!F||!M||M===R)&&(M=k.prototype,F))for(r in j)l[r]&&y(l[r].prototype,M);if(F&&b(T)!==M&&y(T,M),a&&!u(M,D))for(r in N=!0,m(M,D,{get:function(){return h(this)?this[I]:void 0}}),j)l[r]&&f(l[r],I,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:N&&I,aTypedArray:function(e){if(z(e))return e;throw O("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!y||v(k,e)))return e;throw O(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,r){if(a){if(n)for(var i in j){var s=l[i];if(s&&u(s.prototype,e))try{delete s.prototype[e]}catch(n){try{s.prototype[e]=t}catch(e){}}}M[e]&&!n||g(M,e,n?t:F&&E[e]||t,r)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(a){if(y){if(n)for(r in j)if((i=l[r])&&u(i,e))try{delete i[e]}catch(e){}if(k[e]&&!n)return;try{return g(k,e,n?t:F&&k[e]||t)}catch(e){}}for(r in j)!(i=l[r])||i[e]&&!n||g(i,e,t)}},getTypedArrayConstructor:W,isView:function(e){if(!h(e))return!1;var t=d(e);return"DataView"===t||u(j,t)||u(B,t)},isTypedArray:z,TypedArray:k,TypedArrayPrototype:M}},e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},(e,t,n)=>{var r=n(81),i=n(23),s=n(18),o=n(35)("toStringTag"),a=Object,l="Arguments"==s(function(){return arguments}());e.exports=r?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=a(e),o))?n:l?s(t):"Object"==(r=s(t))&&i(t.callee)?"Arguments":r}},(e,t,n)=>{var r={};r[n(35)("toStringTag")]="z",e.exports="[object z]"===String(r)},(e,t,n)=>{var r=n(40),i=n(23),s=n(41),o=n(55),a=n(83),l=o("IE_PROTO"),c=Object,h=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=s(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?h:null}},(e,t,n)=>{var r=n(10);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},(e,t,n)=>{var r=n(17),i=n(48),s=n(85);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),s(r),t?e(n,r):n.__proto__=r,n}}():void 0)},(e,t,n)=>{var r=n(23),i=String,s=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw s("Can't set "+i(e)+" as a prototype")}},(e,t,n)=>{n(87),n(93),n(95),n(117),n(119);var r=n(128);e.exports=r.structuredClone},(e,t,n)=>{"use strict";var r=n(15),i=n(70),s=n(88),o=n(53),a=n(46).f,l=n(89),c=n(37),h=n(9),u="Array Iterator",d=o.set,p=o.getterFor(u);e.exports=l(Array,"Array",(function(e,t){d(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var f=s.Arguments=s.Array;if(i("keys"),i("values"),i("entries"),!c&&h&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(e){}},e=>{e.exports={}},(e,t,n)=>{"use strict";var r=n(6),i=n(11),s=n(37),o=n(51),a=n(23),l=n(90),c=n(82),h=n(84),u=n(92),d=n(45),p=n(49),f=n(35),g=n(88),m=n(91),v=o.PROPER,b=o.CONFIGURABLE,y=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,w=f("iterator"),S="keys",A="values",x="entries",P=function(){return this};e.exports=function(e,t,n,o,f,m,E){l(n,t,o);var C,T,k,M=function(e){if(e===f&&L)return L;if(!_&&e in D)return D[e];switch(e){case S:case A:case x:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",O=!1,D=e.prototype,I=D[w]||D["@@iterator"]||f&&D[f],L=!_&&I||M(f),F="Array"==t&&D.entries||I;if(F&&(C=c(F.call(new e)))!==Object.prototype&&C.next&&(s||c(C)===y||(h?h(C,y):a(C[w])||p(C,w,P)),u(C,R,!0,!0),s&&(g[R]=P)),v&&f==A&&I&&I.name!==A&&(!s&&b?d(D,"name",A):(O=!0,L=function(){return i(I,this)})),f)if(T={values:M(A),keys:m?L:M(S),entries:M(x)},E)for(k in T)(_||O||!(k in D))&&p(D,k,T[k]);else r({target:t,proto:!0,forced:_||O},T);return s&&!E||D[w]===L||p(D,w,L,{name:f}),g[t]=L,T}},(e,t,n)=>{"use strict";var r=n(91).IteratorPrototype,i=n(71),s=n(14),o=n(92),a=n(88),l=function(){return this};e.exports=function(e,t,n,c){var h=t+" Iterator";return e.prototype=i(r,{next:s(+!c,n)}),o(e,h,!1,!0),a[h]=l,e}},(e,t,n)=>{"use strict";var r,i,s,o=n(10),a=n(23),l=n(71),c=n(82),h=n(49),u=n(35),d=n(37),p=u("iterator"),f=!1;[].keys&&("next"in(s=[].keys())?(i=c(c(s)))!==Object.prototype&&(r=i):f=!0),null==r||o((function(){var e={};return r[p].call(e)!==e}))?r={}:d&&(r=l(r)),a(r[p])||h(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},(e,t,n)=>{var r=n(46).f,i=n(40),s=n(35)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&r(e,s,{configurable:!0,value:t})}},(e,t,n)=>{var r=n(81),i=n(49),s=n(94);r||i(Object.prototype,"toString",s,{unsafe:!0})},(e,t,n)=>{"use strict";var r=n(81),i=n(80);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},(e,t,n)=>{n(96)},(e,t,n)=>{"use strict";n(97)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(114))},(e,t,n)=>{"use strict";var r=n(6),i=n(7),s=n(17),o=n(69),a=n(49),l=n(98),c=n(105),h=n(111),u=n(23),d=n(22),p=n(10),f=n(112),g=n(92),m=n(113);e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),y=v?"set":"add",_=i[e],w=_&&_.prototype,S=_,A={},x=function(e){var t=s(w[e]);a(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!d(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(o(e,!u(_)||!(b||w.forEach&&!p((function(){(new _).entries().next()})))))S=n.getConstructor(t,e,v,y),l.enable();else if(o(e,!0)){var P=new S,E=P[y](b?{}:-0,1)!=P,C=p((function(){P.has(1)})),T=f((function(e){new _(e)})),k=!b&&p((function(){for(var e=new _,t=5;t--;)e[y](t,t);return!e.has(-0)}));T||((S=t((function(e,t){h(e,w);var n=m(new _,e,S);return null!=t&&c(t,n[y],{that:n,AS_ENTRIES:v}),n}))).prototype=w,w.constructor=S),(C||k)&&(x("delete"),x("has"),v&&x("get")),(k||E)&&x(y),b&&w.clear&&delete w.clear}return A[e]=S,r({global:!0,constructor:!0,forced:S!=_},A),g(S,e),b||n.setStrong(S,e,v),S}},(e,t,n)=>{var r=n(6),i=n(17),s=n(56),o=n(22),a=n(40),l=n(46).f,c=n(59),h=n(99),u=n(102),d=n(42),p=n(104),f=!1,g=d("meta"),m=0,v=function(e){l(e,g,{value:{objectID:"O"+m++,weakData:{}}})},b=e.exports={enable:function(){b.enable=function(){},f=!0;var e=c.f,t=i([].splice),n={};n[g]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,s=r.length;i<s;i++)if(r[i]===g){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:h.f}))},fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,g)){if(!u(e))return"F";if(!t)return"E";v(e)}return e[g].objectID},getWeakData:function(e,t){if(!a(e,g)){if(!u(e))return!0;if(!t)return!1;v(e)}return e[g].weakData},onFreeze:function(e){return p&&f&&u(e)&&!a(e,g)&&v(e),e}};s[g]=!0},(e,t,n)=>{var r=n(18),i=n(15),s=n(59).f,o=n(100),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"==r(e)?function(e){try{return s(e)}catch(e){return o(a)}}(e):s(i(e))}},(e,t,n)=>{var r=n(62),i=n(65),s=n(101),o=Array,a=Math.max;e.exports=function(e,t,n){for(var l=i(e),c=r(t,l),h=r(void 0===n?l:n,l),u=o(a(h-c,0)),d=0;c<h;c++,d++)s(u,d,e[c]);return u.length=d,u}},(e,t,n)=>{"use strict";var r=n(20),i=n(46),s=n(14);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,s(0,n)):e[o]=n}},(e,t,n)=>{var r=n(10),i=n(22),s=n(18),o=n(103),a=Object.isExtensible,l=r((function(){a(1)}));e.exports=l||o?function(e){return!!i(e)&&(!o||"ArrayBuffer"!=s(e))&&(!a||a(e))}:a},(e,t,n)=>{var r=n(10);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},(e,t,n)=>{var r=n(10);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},(e,t,n)=>{var r=n(106),i=n(11),s=n(48),o=n(33),a=n(107),l=n(65),c=n(26),h=n(108),u=n(109),d=n(110),p=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,n){var m,v,b,y,_,w,S,A=n&&n.that,x=!(!n||!n.AS_ENTRIES),P=!(!n||!n.IS_RECORD),E=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),T=r(t,A),k=function(e){return m&&d(m,"normal",e),new f(!0,e)},M=function(e){return x?(s(e),C?T(e[0],e[1],k):T(e[0],e[1])):C?T(e,k):T(e)};if(P)m=e.iterator;else if(E)m=e;else{if(!(v=u(e)))throw p(o(e)+" is not iterable");if(a(v)){for(b=0,y=l(e);y>b;b++)if((_=M(e[b]))&&c(g,_))return _;return new f(!1)}m=h(e,v)}for(w=P?e.next:m.next;!(S=i(w,m)).done;){try{_=M(S.value)}catch(e){d(m,"throw",e)}if("object"==typeof _&&_&&c(g,_))return _}return new f(!1)}},(e,t,n)=>{var r=n(17),i=n(32),s=n(12),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:s?o(e,t):function(){return e.apply(t,arguments)}}},(e,t,n)=>{var r=n(35),i=n(88),s=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[s]===e)}},(e,t,n)=>{var r=n(11),i=n(32),s=n(48),o=n(33),a=n(109),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(i(n))return s(r(n,e));throw l(o(e)+" is not iterable")}},(e,t,n)=>{var r=n(80),i=n(31),s=n(88),o=n(35)("iterator");e.exports=function(e){if(null!=e)return i(e,o)||i(e,"@@iterator")||s[r(e)]}},(e,t,n)=>{var r=n(11),i=n(48),s=n(31);e.exports=function(e,t,n){var o,a;i(e);try{if(!(o=s(e,"return"))){if("throw"===t)throw n;return n}o=r(o,e)}catch(e){a=!0,o=e}if("throw"===t)throw n;if(a)throw o;return i(o),n}},(e,t,n)=>{var r=n(26),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},(e,t,n)=>{var r=n(35)("iterator"),i=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var s={};s[r]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},(e,t,n)=>{var r=n(23),i=n(22),s=n(84);e.exports=function(e,t,n){var o,a;return s&&r(o=t.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&s(e,a),e}},(e,t,n)=>{"use strict";var r=n(46).f,i=n(71),s=n(115),o=n(106),a=n(111),l=n(105),c=n(89),h=n(116),u=n(9),d=n(98).fastKey,p=n(53),f=p.set,g=p.getterFor;e.exports={getConstructor:function(e,t,n,c){var h=e((function(e,r){a(e,p),f(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),u||(e.size=0),null!=r&&l(r,e[c],{that:e,AS_ENTRIES:n})})),p=h.prototype,m=g(t),v=function(e,t,n){var r,i,s=m(e),o=b(e,t);return o?o.value=n:(s.last=o={index:i=d(t,!0),key:t,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=o),r&&(r.next=o),u?s.size++:e.size++,"F"!==i&&(s.index[i]=o)),e},b=function(e,t){var n,r=m(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return s(p,{clear:function(){for(var e=m(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,u?e.size=0:this.size=0},delete:function(e){var t=this,n=m(t),r=b(t,e);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),u?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=m(this),r=o(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),s(p,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),u&&r(p,"size",{get:function(){return m(this).size}}),h},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),s=g(r);c(e,t,(function(e,t){f(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=s(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),h(t)}}},(e,t,n)=>{var r=n(49);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},(e,t,n)=>{"use strict";var r=n(25),i=n(46),s=n(35),o=n(9),a=s("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},(e,t,n)=>{n(118)},(e,t,n)=>{"use strict";n(97)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(114))},(e,t,n)=>{var r,i=n(37),s=n(6),o=n(7),a=n(25),l=n(17),c=n(10),h=n(42),u=n(23),d=n(120),p=n(22),f=n(24),g=n(105),m=n(48),v=n(80),b=n(40),y=n(101),_=n(45),w=n(65),S=n(121),A=n(122),x=n(124),P=n(29),E=n(125),C=n(126),T=n(127),k=o.Object,M=o.Date,R=o.Error,O=o.EvalError,D=o.RangeError,I=o.ReferenceError,L=o.SyntaxError,F=o.TypeError,N=o.URIError,j=o.PerformanceMark,B=o.WebAssembly,W=B&&B.CompileError||R,z=B&&B.LinkError||R,U=B&&B.RuntimeError||R,H=a("DOMException"),V=a("Set"),q=a("Map"),$=q.prototype,G=l($.has),X=l($.get),Y=l($.set),K=l(V.prototype.add),Z=a("Object","keys"),Q=l([].push),J=l((!0).valueOf),ee=l(1..valueOf),te=l("".valueOf),ne=l(M.prototype.getTime),re=h("structuredClone"),ie="DataCloneError",se="Transferring",oe=function(e){return!c((function(){var t=new o.Set([7]),n=e(t),r=e(k(7));return n==t||!n.has(7)||"object"!=typeof r||7!=r}))&&e},ae=function(e,t){return!c((function(){var n=new t,r=e({a:n,b:n});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===n.stack)}))},le=o.structuredClone,ce=i||!ae(le,R)||!ae(le,H)||(r=le,!!c((function(){var e=r(new o.AggregateError([1],re,{cause:3}));return"AggregateError"!=e.name||1!=e.errors[0]||e.message!=re||3!=e.cause}))),he=!le&&oe((function(e){return new j(re,{detail:e}).detail})),ue=oe(le)||he,de=function(e){throw new H("Uncloneable type: "+e,ie)},pe=function(e,t){throw new H((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",ie)},fe=function(e,t){if(f(e)&&de("Symbol"),!p(e))return e;if(t){if(G(t,e))return X(t,e)}else t=new q;var n,r,i,s,l,c,h,g,m,S,P=v(e),E=!1;switch(P){case"Array":i=[],E=!0;break;case"Object":i={},E=!0;break;case"Map":i=new q,E=!0;break;case"Set":i=new V,E=!0;break;case"RegExp":i=new RegExp(e.source,A(e));break;case"Error":switch(r=e.name){case"AggregateError":i=a("AggregateError")([]);break;case"EvalError":i=O();break;case"RangeError":i=D();break;case"ReferenceError":i=I();break;case"SyntaxError":i=L();break;case"TypeError":i=F();break;case"URIError":i=N();break;case"CompileError":i=W();break;case"LinkError":i=z();break;case"RuntimeError":i=U();break;default:i=R()}E=!0;break;case"DOMException":i=new H(e.message,e.name),E=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":n=o[P],p(n)||pe(P),i=new n(fe(e.buffer,t),e.byteOffset,"DataView"===P?e.byteLength:e.length);break;case"DOMQuad":try{i=new DOMQuad(fe(e.p1,t),fe(e.p2,t),fe(e.p3,t),fe(e.p4,t))}catch(t){ue?i=ue(e):pe(P)}break;case"FileList":if(n=o.DataTransfer,d(n)){for(s=new n,l=0,c=w(e);l<c;l++)s.items.add(fe(e[l],t));i=s.files}else ue?i=ue(e):pe(P);break;case"ImageData":try{i=new ImageData(fe(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){ue?i=ue(e):pe(P)}break;default:if(ue)i=ue(e);else switch(P){case"BigInt":i=k(e.valueOf());break;case"Boolean":i=k(J(e));break;case"Number":i=k(ee(e));break;case"String":i=k(te(e));break;case"Date":i=new M(ne(e));break;case"ArrayBuffer":(n=o.DataView)||"function"==typeof e.slice||pe(P);try{if("function"==typeof e.slice)i=e.slice(0);else for(c=e.byteLength,i=new ArrayBuffer(c),m=new n(e),S=new n(i),l=0;l<c;l++)S.setUint8(l,m.getUint8(l))}catch(e){throw new H("ArrayBuffer is detached",ie)}break;case"SharedArrayBuffer":i=e;break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(e){pe(P)}break;case"DOMPoint":case"DOMPointReadOnly":n=o[P];try{i=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(e){pe(P)}break;case"DOMRect":case"DOMRectReadOnly":n=o[P];try{i=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(e){pe(P)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=o[P];try{i=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(e){pe(P)}break;case"AudioData":case"VideoFrame":u(e.clone)||pe(P);try{i=e.clone()}catch(e){de(P)}break;case"File":try{i=new File([e],e.name,e)}catch(e){pe(P)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":pe(P);default:de(P)}}if(Y(t,e,i),E)switch(P){case"Array":case"Object":for(h=Z(e),l=0,c=w(h);l<c;l++)g=h[l],y(i,g,fe(e[g],t));break;case"Map":e.forEach((function(e,n){Y(i,fe(n,t),fe(e,t))}));break;case"Set":e.forEach((function(e){K(i,fe(e,t))}));break;case"Error":_(i,"message",fe(e.message,t)),b(e,"cause")&&_(i,"cause",fe(e.cause,t)),"AggregateError"==r&&(i.errors=fe(e.errors,t));case"DOMException":x&&_(i,"stack",fe(e.stack,t))}return i},ge=le&&!c((function(){if(C&&P>92||T&&P>94||E&&P>97)return!1;var e=new ArrayBuffer(8),t=le(e,{transfer:[e]});return 0!=e.byteLength||8!=t.byteLength}));s({global:!0,enumerable:!0,sham:!ge,forced:ce},{structuredClone:function(e){var t,n=S(arguments.length,1)>1&&null!=arguments[1]?m(arguments[1]):void 0,r=n?n.transfer:void 0;return void 0!==r&&function(e,t){if(!p(e))throw F("Transfer option cannot be converted to a sequence");var n=[];g(e,(function(e){Q(n,m(e))}));var r,i,s,a,l,c,h=0,f=w(n);if(ge)for(a=le(n,{transfer:n});h<f;)Y(t,n[h],a[h++]);else for(;h<f;){if(r=n[h++],G(t,r))throw new H("Duplicate transferable",ie);switch(i=v(r)){case"ImageBitmap":s=o.OffscreenCanvas,d(s)||pe(i,se);try{(c=new s(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),l=c.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":u(r.clone)&&u(r.close)||pe(i,se);try{l=r.clone(),r.close()}catch(e){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":pe(i,se)}if(void 0===l)throw new H("This object cannot be transferred: "+i,ie);Y(t,r,l)}}(r,t=new q),fe(e,t)}})},(e,t,n)=>{var r=n(17),i=n(10),s=n(23),o=n(80),a=n(25),l=n(52),c=function(){},h=[],u=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),f=!d.exec(c),g=function(e){if(!s(e))return!1;try{return u(c,h,e),!0}catch(e){return!1}},m=function(e){if(!s(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(d,l(e))}catch(e){return!0}};m.sham=!0,e.exports=!u||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},(e,t,n)=>{var r=n(11),i=n(40),s=n(26),o=n(123),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||i(e,"flags")||!s(a,e)?t:r(o,e)}},(e,t,n)=>{"use strict";var r=n(48);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},(e,t,n)=>{var r=n(10),i=n(14);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},(e,t,n)=>{var r=n(126),i=n(127);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},(e,t,n)=>{var r=n(18),i=n(7);e.exports="process"==r(i.process)},(e,t,n)=>{var r=n(7);e.exports=r},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(130),_display_utils=__w_pdfjs_require__(133),_font_loader=__w_pdfjs_require__(136),_canvas=__w_pdfjs_require__(137),_worker_options=__w_pdfjs_require__(140),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(141),_metadata=__w_pdfjs_require__(142),_optional_content_config=__w_pdfjs_require__(143),_transport_stream=__w_pdfjs_require__(144),_xfa_text=__w_pdfjs_require__(145);function _classPrivateMethodInitSpec(e,t){_checkPrivateRedeclaration(e,t),t.add(e)}function _classPrivateMethodGet(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function _classPrivateFieldInitSpec(e,t,n){_checkPrivateRedeclaration(e,t),t.set(e,n)}function _checkPrivateRedeclaration(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(e,t,n){return _classApplyDescriptorSet(e,_classExtractFieldDescriptor(e,t,"set"),n),n}function _classPrivateFieldGet(e,t){return _classApplyDescriptorGet(e,_classExtractFieldDescriptor(e,t,"get"))}function _classExtractFieldDescriptor(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function _classStaticPrivateFieldSpecSet(e,t,n,r){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(n,"set"),_classApplyDescriptorSet(e,n,r),r}function _classApplyDescriptorSet(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function _classStaticPrivateFieldSpecGet(e,t,n){return _classCheckPrivateStaticAccess(e,t),_classCheckPrivateStaticFieldDescriptor(n,"get"),_classApplyDescriptorGet(e,n)}function _classCheckPrivateStaticFieldDescriptor(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function _classCheckPrivateStaticAccess(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(e,t){return t.get?t.get.call(e):t.value}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:e,NodeCMapReaderFactory:t,NodeStandardFontDataFactory:n}=__w_pdfjs_require__(146);exports.DefaultCanvasFactory=DefaultCanvasFactory=e,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=t,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=n}function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){const t=new PDFDocumentLoadingTask;let n;if("string"==typeof e||e instanceof URL)n={url:e};else if((0,_util.isArrayBuffer)(e))n={data:e};else if(e instanceof PDFDataRangeTransport)n={range:e};else{if("object"!=typeof e)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=e}const r=Object.create(null);let i=null,s=null;for(const e in n){const t=n[e];switch(e){case"url":if("undefined"!=typeof window)try{r[e]=new URL(t,window.location).href;continue}catch(e){(0,_util.warn)(`Cannot create valid URL: "${e}".`)}else if("string"==typeof t||t instanceof URL){r[e]=t.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=t;continue;case"worker":s=t;continue;case"data":if(_is_node.isNodeJS&&void 0!==Buffer&&t instanceof Buffer)r[e]=new Uint8Array(t);else{if(t instanceof Uint8Array)break;if("string"==typeof t)r[e]=(0,_util.stringToBytes)(t);else if("object"!=typeof t||null===t||isNaN(t.length)){if(!(0,_util.isArrayBuffer)(t))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");r[e]=new Uint8Array(t)}else r[e]=new Uint8Array(t)}continue}r[e]=t}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),"string"!=typeof r.cMapUrl&&(r.cMapUrl=null),"string"!=typeof r.standardFontDataUrl&&(r.standardFontDataUrl=null),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),"object"==typeof r.ownerDocument&&null!==r.ownerDocument||(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!s){const e={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};s=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=s}const o=t.docId;return s.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(s,r,i,o),n=new Promise((function(e){let t;i?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)}));return Promise.all([e,n]).then((function(e){let[n,i]=e;if(t.destroyed)throw new Error("Loading aborted");const a=new _message_handler.MessageHandler(o,n,s.port),l=new WorkerTransport(a,t,i,r);t._transport=l,a.send("Ready",null)}))})).catch(t._capability.reject),t}async function _fetchDocument(e,t,n,r){if(e.destroyed)throw new Error("Worker was destroyed");n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone,t.contentDispositionFilename=n.contentDispositionFilename);const i=await e.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.16.105",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});if(t.data&&(t.data=null),e.destroyed)throw new Error("Worker was destroyed");return i}class PDFDocumentLoadingTask{constructor(){var e,t;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(e=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),t=e++,e)),t}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var e;this.destroyed=!0,await(null===(e=this._transport)||void 0===e?void 0:e.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0};class PDFDataRangeTransport{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._pageIndex=e,this._pageInfo=t,this._ownerDocument=r,this._transport=n,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._transport.getRenderingIntent(e);let n=this._annotationPromises.get(t.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,t.renderingIntent),this._annotationPromises.set(t.cacheKey,n),n=n.then((e=>{for(const t of e)void 0!==t.titleObj&&Object.defineProperty(t,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),t.titleObj.str}}),void 0!==t.contentsObj&&Object.defineProperty(t,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),t.contentsObj.str}});return e}))),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n,r;let{canvasContext:i,viewport:s,intent:o="display",annotationMode:a=_util.AnnotationMode.ENABLE,transform:l=null,imageLayer:c=null,canvasFactory:h=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:p=null,pageColors:f=null,printAnnotationStorage:g=null}=e;void 0!==(null===(t=arguments[0])||void 0===t?void 0:t.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&a===_util.AnnotationMode.ENABLE&&(a=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(n=arguments[0])||void 0===n?void 0:n.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&a===_util.AnnotationMode.ENABLE&&(a=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const m=this._transport.getRenderingIntent(o,a,g);this.pendingCleanup=!1,d||(d=this._transport.getOptionalContentConfig());let v=this._intentStates.get(m.cacheKey);v||(v=Object.create(null),this._intentStates.set(m.cacheKey,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const b=h||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),y=!!(m.renderingIntent&_util.RenderingIntentFlag.PRINT);v.displayReadyCapability||(v.displayReadyCapability=(0,_util.createPromiseCapability)(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(m));const _=e=>{v.renderTasks.delete(w),(this.cleanupAfterRender||y)&&(this.pendingCleanup=!0),this._tryCleanup(),e?(w.capability.reject(e),this._abortOperatorList({intentState:v,reason:e instanceof Error?e:new Error(e)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},w=new InternalRenderTask({callback:_,params:{canvasContext:i,viewport:s,transform:l,imageLayer:c,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:b,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:f});((r=v).renderTasks||(r.renderTasks=new Set)).add(w);const S=w.task;return Promise.all([v.displayReadyCapability.promise,d]).then((e=>{let[t,n]=e;this.pendingCleanup?_():(this._stats&&this._stats.time("Rendering"),w.initializeGraphics({transparency:t,optionalContentConfig:n}),w.operatorListChanged())})).catch(_),S}getOperatorList(){let{intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(e,t,n,!0);let i,s=this._intentStates.get(r.cacheKey);var o;return s||(s=Object.create(null),this._intentStates.set(r.cacheKey,s)),s.opListReadCapability||(i=Object.create(null),i.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(i))},s.opListReadCapability=(0,_util.createPromiseCapability)(),((o=s).renderTasks||(o.renderTasks=new Set)).add(i),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(r)),s.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:e=!1,includeMarkedContent:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==e,includeMarkedContent:!0===t},{highWaterMark:100,size(e){return e.items.length}})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>_xfa_text.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){let{value:r,done:s}=n;s?e(i):(Object.assign(i.styles,r.styles),i.items.push(...r.items),t())}),n)}()}))}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();this.objs.clear();for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const e of this._bitmaps)e.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const e of t.renderTasks)e.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageMap:r}=e;const i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r}).getReader(),s=this._intentStates.get(n);s.streamReader=i;const o=()=>{i.read().then((e=>{let{value:t,done:n}=e;n?s.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,s),o())}),(e=>{if(s.streamReader=null,!this._transport.destroyed){if(s.operatorList){s.operatorList.lastChunk=!0;for(const e of s.renderTasks)e.operatorListChanged();this._tryCleanup()}if(s.displayReadyCapability)s.displayReadyCapability.reject(e);else{if(!s.opListReadCapability)throw e;s.opListReadCapability.reject(e)}}}))};o()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(!r){if(t.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException)return void(t.streamReaderCancelTimeout=setTimeout((()=>{this._abortOperatorList({intentState:t,reason:n,force:!0}),t.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(t.streamReader.cancel(new _util.AbortException(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,t){const n={data:structuredClone(e,t)};this._deferred.then((()=>{for(const e of this._listeners)e.call(this,n)}))}addEventListener(e,t){this._listeners.push(t)}removeEventListener(e,t){const n=this._listeners.indexOf(t);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){var _document,_document$currentScri;const e=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(e){return!1}const r=new URL(t,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))};class PDFWorker{constructor(){let{name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return _classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).set(t,this),void this._initializeFromPort(t);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),r=()=>{t.removeEventListener("error",i),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};t.addEventListener("error",i),n.on("test",(e=>{t.removeEventListener("error",i),this.destroyed?r():e?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())})),n.on("ready",(e=>{if(t.removeEventListener("error",i),this.destroyed)r();else try{s()}catch(e){this._setupFakeWorker()}}));const s=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void s()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(r,t);const i=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(PDFWorker,PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(null==e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).has(e.port)?_classStaticPrivateFieldSpecGet(this,PDFWorker,_workerPorts).get(e.port):new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;var _workerPorts={writable:!0,value:new WeakMap};PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(e,t,n,r){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,r.useWorkerFetch||(this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.StandardFontDataFactory=new r.StandardFontDataFactory({baseUrl:r.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=_util.RenderingIntentFlag.DISPLAY,s=null;switch(e){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,s=(i&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:`${i}_${_annotation_storage.AnnotationStorage.getHash(s)}`,annotationStorageMap:s}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const t of _classPrivateFieldGet(this,_pageCache).values())e.push(t._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(n),"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=(0,_util.createPromiseCapability)(),r=this._fullReader;return r.headersReady.then((()=>{var e;r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&(null===(e=t.onProgress)||void 0===e||e.call(t,this._lastProgress)),r.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})});n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(n),"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){const n=e=>{e instanceof Error?this._passwordCapability.reject(e):this._passwordCapability.resolve({password:e})};try{t.onPassword(n,e.code)}catch(e){this._passwordCapability.reject(e)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise})),e.on("DataLoaded",(e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{var n;let[r,i,s]=t;if(!this.destroyed&&!this.commonObjs.has(r))switch(i){case"Font":const t=this._params;if("error"in s){const e=s.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(r,e);break}let o=null;t.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled&&(o={registerFont(e,t){globalThis.FontInspector.fontAdded(e,t)}});const a=new _font_loader.FontFaceObject(s,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:o});this.fontLoader.bind(a).catch((t=>e.sendWithPromise("FontFallback",{id:r}))).finally((()=>{!t.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(r,a)}));break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}})),e.on("obj",(e=>{let[t,n,r,i]=e;if(this.destroyed)return;const s=_classPrivateFieldGet(this,_pageCache).get(n);if(!s.objs.has(t))switch(r){case"Image":s.objs.resolve(t,i);const e=8e6;if(i){let t;if(i.bitmap){const{bitmap:e,width:n,height:r}=i;t=n*r*4,s._bitmaps.add(e)}else{var o;t=(null===(o=i.data)||void 0===o?void 0:o.length)||0}t>e&&(s.cleanupAfterRender=!0)}break;case"Pattern":s.objs.resolve(t,i);break;default:throw new Error(`Got unknown object type ${r}`)}})),e.on("DocProgress",(e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})})),e.on("DocStats",(e=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}_onUnsupportedFeature(e){var t,n;let{featureId:r}=e;this.destroyed||null===(t=(n=this.loadingTask).onUnsupportedFeature)||void 0===t||t.call(n,r)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=_classPrivateFieldGet(this,_pagePromises).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(t,n),n}));return _classPrivateFieldGet(this,_pagePromises).set(t,r),r}getPageIndex(e){return"object"!=typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}saveDocument(){var e,t;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null}).finally((()=>{this.annotationStorage.resetModified()}))}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then((e=>{var t,n,r,i;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(r=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==r?r:null}})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const e of _classPrivateFieldGet(this,_pageCache).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);return n.capability.promise.then((()=>t(n.data))),null}const n=_classPrivateFieldGet(this,_objs)[e];if(null==n||!n.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=_classPrivateFieldGet(this,_objs)[e];return(null==t?void 0:t.capability.settled)||!1}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,e);n.data=t,n.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(e){const t=_classPrivateFieldGet(this,_objs)[e];return t||(_classPrivateFieldGet(this,_objs)[e]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(e){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,e),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:e}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=_classPrivateFieldGet(this,_internalRenderTask);return e.form||e.canvas&&(null==t?void 0:t.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,useRequestAnimationFrame:c=!1,pdfBug:h=!1,pageColors:u=null}=e;this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this._pdfBug=h,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){var t;let{transparency:n=!1,optionalContentConfig:r}=e;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:o,imageLayer:a,background:l}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,a,r,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:n,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var r=n(1),i=n(131),s=n(135);function o(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,a(e,t,"set"),n),n}function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function l(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}var c=new WeakSet;class h{constructor(){var e,t;l(e=this,t=c),t.add(e),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this._storage.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this._storage.get(e)}remove(e){if(this._storage.delete(e),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const e of this._storage.values())if(e instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this._storage.get(e);let r=!1;if(void 0!==n)for(const[e,i]of Object.entries(t))n[e]!==i&&(r=!0,n[e]=i);else r=!0,this._storage.set(e,t);r&&function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(this,c,u).call(this),t instanceof i.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this._storage.has(e)}getAll(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new p(this)}get serializable(){if(0===this._storage.size)return null;const e=new Map;for(const[t,n]of this._storage){const r=n instanceof i.AnnotationEditor?n.serialize():n;r&&e.set(t,r)}return e}static getHash(e){if(!e)return"";const t=new s.MurmurHash3_64;for(const[n,r]of e)t.update(`${n}:${JSON.stringify(r)}`);return t.hexdigest()}}function u(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}t.AnnotationStorage=h;var d=new WeakMap;class p extends h{constructor(e){var t,n,r;super(),r={writable:!0,value:null},l(t=this,n=d),n.set(t,r),o(this,d,structuredClone(e.serializable))}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return function(e,t){return t.get?t.get.call(e):t.value}(e=this,a(e,d,"get"));var e}}t.PrintAnnotationStorage=p},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var r=n(132),i=n(1);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function a(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,c(e,t,"set"),n),n}function l(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,c(e,t,"get"))}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var h=new WeakMap,u=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakMap;class m{constructor(e){o(this,h,{writable:!0,value:this.focusin.bind(this)}),o(this,u,{writable:!0,value:this.focusout.bind(this)}),o(this,d,{writable:!0,value:!1}),o(this,p,{writable:!0,value:!1}),o(this,f,{writable:!0,value:!1}),o(this,g,{writable:!0,value:m._zIndex++}),this.constructor===m&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null;const[t,n]=this.parent.viewportBaseDimensions;this.x=e.x/t,this.y=e.y/n,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,g)}focusin(e){l(this,d)?a(this,d,!1):this.parent.setSelected(this)}focusout(e){if(!this.isAttachedToDOM)return;const t=e.relatedTarget;null!=t&&t.closest(`#${this.id}`)||(e.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(e){const t=this.parent.div.getBoundingClientRect();this.startX=e.clientX-t.x,this.startY=e.clientY-t.y,e.dataTransfer.setData("text/plain",this.id),e.dataTransfer.effectAllowed="move"}setAt(e,t,n,r){const[i,s]=this.parent.viewportBaseDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/s,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(e,t){const[n,r]=this.parent.viewportBaseDimensions;[e,t]=this.screenToPageTranslation(e,t),this.x+=e/n,this.y+=t/r,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(e,t){const{rotation:n}=this.parent.viewport;switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}setDims(e,t){const[n,r]=this.parent.viewportBaseDimensions;this.div.style.width=100*e/n+"%",this.div.style.height=100*t/r+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",l(this,h)),this.div.addEventListener("focusout",l(this,u));const[e,t]=this.getInitialTranslation();return this.translate(e,t),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(e){const t=r.KeyboardManager.platform.isMac;0!==e.button||e.ctrlKey&&t?e.preventDefault():(e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this),a(this,d,!0))}getRect(e,t){const[n,r]=this.parent.viewportBaseDimensions,[i,s]=this.parent.pageDimensions,o=i*e/n,a=s*t/r,l=this.x*i,c=this.y*s,h=this.width*i,u=this.height*s;switch(this.rotation){case 0:return[l+o,s-c-a-u,l+o+h,s-c-a];case 90:return[l+a,s-c+o,l+a+u,s-c+o+h];case 180:return[l-o-h,s-c+a,l-o,s-c+a+u];case 270:return[l-a-u,s-c-o-h,l-a,s-c-o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,s]=e,o=i-n,a=s-r;switch(this.rotation){case 0:return[n,t-s,o,a];case 90:return[n,t-r,a,o];case 180:return[i,t-r,o,a];case 270:return[i,t-s,a,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){a(this,f,!0)}disableEditMode(){a(this,f,!1)}isInEditMode(){return l(this,f)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e;null===(e=this.div)||void 0===e||e.addEventListener("focusin",l(this,h))}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(e,t){const n=new this.prototype.constructor({parent:t,id:t.getNextId()});n.rotation=e.rotation;const[r,i]=t.pageDimensions,[s,o,a,l]=n.getRectInCurrentCoords(e.rect,i);return n.x=s/r,n.y=o/i,n.width=a/r,n.height=l/i,n}remove(){this.div.removeEventListener("focusin",l(this,h)),this.div.removeEventListener("focusout",l(this,u)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var e;null===(e=this.div)||void 0===e||e.classList.add("selectedEditor")}unselect(){var e;null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor")}updateParams(e,t){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return l(this,p)}set isEditing(e){a(this,p,e),e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}t.AnnotationEditor=m,s(m,"_colorManager",new r.ColorManager),s(m,"_zIndex",1)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var r=n(1),i=n(133);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){c(e,t),t.add(e)}function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function l(e,t,n){c(e,t),t.set(e,n)}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,d(e,t,"set"),n),n}function u(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,d(e,t,"get"))}function d(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var p=new WeakMap;class f{constructor(){l(this,p,{writable:!0,value:0})}getId(){var e,t;return`${r.AnnotationEditorPrefix}${h(this,p,(e=u(this,p),t=e++,e)),t}`}}var g=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakMap;class y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;l(this,g,{writable:!0,value:[]}),l(this,m,{writable:!0,value:!1}),l(this,v,{writable:!0,value:void 0}),l(this,b,{writable:!0,value:-1}),h(this,v,e)}add(e){let{cmd:t,undo:n,mustExec:r,type:i=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}=e;if(r&&t(),u(this,m))return;const a={cmd:t,undo:n,type:i};if(-1===u(this,b))return u(this,g).length>0&&(u(this,g).length=0),h(this,b,0),void u(this,g).push(a);if(s&&u(this,g)[u(this,b)].type===i)return o&&(a.undo=u(this,g)[u(this,b)].undo),void(u(this,g)[u(this,b)]=a);const l=u(this,b)+1;l===u(this,v)?u(this,g).splice(0,1):(h(this,b,l),l<u(this,g).length&&u(this,g).splice(l)),u(this,g).push(a)}undo(){-1!==u(this,b)&&(h(this,m,!0),u(this,g)[u(this,b)].undo(),h(this,m,!1),h(this,b,u(this,b)-1))}redo(){u(this,b)<u(this,g).length-1&&(h(this,b,u(this,b)+1),h(this,m,!0),u(this,g)[u(this,b)].cmd(),h(this,m,!1))}hasSomethingToUndo(){return-1!==u(this,b)}hasSomethingToRedo(){return u(this,b)<u(this,g).length-1}destroy(){h(this,g,null)}}t.CommandManager=y;var _=new WeakSet;class w{constructor(e){o(this,_),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const t=w.platform.isMac;for(const[n,r]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),r),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,r),this.allKeys.add(e.split("+").at(-1)))}}static get platform(){const e="undefined"!=typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(a(this,_,S).call(this,t));n&&(n.bind(e)(),t.stopPropagation(),t.preventDefault())}}function S(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}t.KeyboardManager=w;var A=new WeakMap;class x{constructor(){l(this,A,{writable:!0,value:null})}copy(e){e&&(Array.isArray(e)?h(this,A,e.map((e=>e.serialize()))):h(this,A,[e.serialize()]),h(this,A,u(this,A).filter((e=>!!e))),0===u(this,A).length&&h(this,A,null))}paste(){return u(this,A)}isEmpty(){return null===u(this,A)}destroy(){h(this,A,null)}}class P{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(e),(0,r.shadow)(this,"_colors",e)}convert(e){const t=(0,i.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[e,n]of this._colors)if(n.every(((e,n)=>e===t[n])))return P._colorsMapping.get(e);return t}getHexCode(e){const t=this._colors.get(e);return t?r.Util.makeHexColor(...t):e}}t.ColorManager=P,s(P,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var E=new WeakMap,C=new WeakMap,T=new WeakMap,k=new WeakMap,M=new WeakMap,R=new WeakMap,O=new WeakMap,D=new WeakMap,I=new WeakMap,L=new WeakMap,F=new WeakMap,N=new WeakMap,j=new WeakMap,B=new WeakMap,W=new WeakMap,z=new WeakMap,U=new WeakMap,H=new WeakSet,V=new WeakSet,q=new WeakSet,$=new WeakSet,G=new WeakSet,X=new WeakSet,Y=new WeakSet,K=new WeakSet,Z=new WeakSet;class Q{constructor(e,t){o(this,Z),o(this,K),o(this,Y),o(this,X),o(this,G),o(this,$),o(this,q),o(this,V),o(this,H),l(this,E,{writable:!0,value:null}),l(this,C,{writable:!0,value:new Map}),l(this,T,{writable:!0,value:new Map}),l(this,k,{writable:!0,value:new x}),l(this,M,{writable:!0,value:new y}),l(this,R,{writable:!0,value:0}),l(this,O,{writable:!0,value:null}),l(this,D,{writable:!0,value:null}),l(this,I,{writable:!0,value:new f}),l(this,L,{writable:!0,value:!1}),l(this,F,{writable:!0,value:r.AnnotationEditorType.NONE}),l(this,N,{writable:!0,value:new Set}),l(this,j,{writable:!0,value:this.keydown.bind(this)}),l(this,B,{writable:!0,value:this.onEditingAction.bind(this)}),l(this,W,{writable:!0,value:this.onPageChanging.bind(this)}),l(this,z,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),l(this,U,{writable:!0,value:null}),h(this,U,e),h(this,D,t),u(this,D)._on("editingaction",u(this,B)),u(this,D)._on("pagechanging",u(this,W))}destroy(){a(this,V,ee).call(this),u(this,D)._off("editingaction",u(this,B)),u(this,D)._off("pagechanging",u(this,W));for(const e of u(this,T).values())e.destroy();u(this,T).clear(),u(this,C).clear(),h(this,E,null),u(this,N).clear(),u(this,k).destroy(),u(this,M).destroy()}onPageChanging(e){let{pageNumber:t}=e;h(this,R,t-1)}focusMainContainer(){u(this,U).focus()}keydown(e){var t;null!==(t=this.getActive())&&void 0!==t&&t.shouldGetKeyboardEvents()||Q._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","cut","copy","paste","delete","selectAll"].includes(e.name)&&this[e.name]()}setEditingState(e){e?(a(this,H,J).call(this),a(this,q,te).call(this,{isEditing:u(this,F)!==r.AnnotationEditorType.NONE,isEmpty:a(this,K,oe).call(this),hasSomethingToUndo:u(this,M).hasSomethingToUndo(),hasSomethingToRedo:u(this,M).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:u(this,k).isEmpty()})):(a(this,V,ee).call(this),a(this,q,te).call(this,{isEditing:!1}))}registerEditorTypes(e){h(this,O,e);for(const e of u(this,O))a(this,$,ne).call(this,e.defaultPropertiesToUpdate)}getId(){return u(this,I).getId()}addLayer(e){u(this,T).set(e.pageIndex,e),u(this,L)?e.enable():e.disable()}removeLayer(e){u(this,T).delete(e.pageIndex)}updateMode(e){if(h(this,F,e),e===r.AnnotationEditorType.NONE)this.setEditingState(!1),a(this,X,ie).call(this);else{this.setEditingState(!0),a(this,G,re).call(this);for(const t of u(this,T).values())t.updateMode(e)}}updateToolbar(e){e!==u(this,F)&&u(this,D).dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){for(const n of u(this,N))n.updateParams(e,t);for(const n of u(this,O))n.updateDefaultParams(e,t)}getEditors(e){const t=[];for(const n of u(this,C).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return u(this,C).get(e)}addEditor(e){u(this,C).set(e.id,e)}removeEditor(e){u(this,C).delete(e.id),this.unselect(e)}setActiveEditor(e){u(this,E)!==e&&(h(this,E,e),e&&a(this,$,ne).call(this,e.propertiesToUpdate))}toggleSelected(e){if(u(this,N).has(e))return u(this,N).delete(e),e.unselect(),void a(this,q,te).call(this,{hasSelectedEditor:this.hasSelection});u(this,N).add(e),e.select(),a(this,$,ne).call(this,e.propertiesToUpdate),a(this,q,te).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of u(this,N))t!==e&&t.unselect();u(this,N).clear(),u(this,N).add(e),e.select(),a(this,$,ne).call(this,e.propertiesToUpdate),a(this,q,te).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,N).has(e)}unselect(e){e.unselect(),u(this,N).delete(e),a(this,q,te).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==u(this,N).size}undo(){u(this,M).undo(),a(this,q,te).call(this,{hasSomethingToUndo:u(this,M).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:a(this,K,oe).call(this)})}redo(){u(this,M).redo(),a(this,q,te).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,M).hasSomethingToRedo(),isEmpty:a(this,K,oe).call(this)})}addCommands(e){u(this,M).add(e),a(this,q,te).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:a(this,K,oe).call(this)})}delete(){if(u(this,E)&&u(this,E).commitOrRemove(),!this.hasSelection)return;const e=[...u(this,N)];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)a(this,Y,se).call(this,t)},mustExec:!0})}copy(){if(u(this,E)&&u(this,E).commitOrRemove(),this.hasSelection){const e=[];for(const t of u(this,N))t.isEmpty()||e.push(t);if(0===e.length)return;u(this,k).copy(e),a(this,q,te).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(u(this,k).isEmpty())return;this.unselectAll();const e=u(this,T).get(u(this,R)),t=u(this,k).paste().map((t=>e.deserialize(t)));this.addCommands({cmd:()=>{for(const e of t)a(this,Y,se).call(this,e);a(this,Z,ae).call(this,t)},undo:()=>{for(const e of t)e.remove()},mustExec:!0})}selectAll(){for(const e of u(this,N))e.commit();a(this,Z,ae).call(this,u(this,C).values())}unselectAll(){if(u(this,E))u(this,E).commitOrRemove();else if(0!==a(this,Z,ae).size){for(const e of u(this,N))e.unselect();u(this,N).clear(),a(this,q,te).call(this,{hasSelectedEditor:!1})}}isActive(e){return u(this,E)===e}getActive(){return u(this,E)}getMode(){return u(this,F)}}function J(){u(this,U).addEventListener("keydown",u(this,j))}function ee(){u(this,U).removeEventListener("keydown",u(this,j))}function te(e){Object.entries(e).some((e=>{let[t,n]=e;return u(this,z)[t]!==n}))&&u(this,D).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,z),e)})}function ne(e){u(this,D).dispatch("annotationeditorparamschanged",{source:this,details:e})}function re(){if(!u(this,L)){h(this,L,!0);for(const e of u(this,T).values())e.enable()}}function ie(){if(this.unselectAll(),u(this,L)){h(this,L,!1);for(const e of u(this,T).values())e.disable()}}function se(e){const t=u(this,T).get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}function oe(){if(0===u(this,C).size)return!0;if(1===u(this,C).size)for(const e of u(this,C).values())return e.isEmpty();return!1}function ae(e){u(this,N).clear();for(const t of e)t.isEmpty()||(u(this,N).add(t),t.select());a(this,q,te).call(this,{hasSelectedEditor:!0})}t.AnnotationEditorUIManager=Q,s(Q,"_keyboardManager",new w([[["ctrl+a","mac+meta+a"],Q.prototype.selectAll],[["ctrl+c","mac+meta+c"],Q.prototype.copy],[["ctrl+v","mac+meta+v"],Q.prototype.paste],[["ctrl+x","mac+meta+x"],Q.prototype.cut],[["ctrl+z","mac+meta+z"],Q.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Q.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Q.prototype.delete],[["Escape","mac+Escape"],Q.prototype.unselectAll]]))},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,v(r))}t.remove()},t.getCurrentTransform=function(e){const{a:t,b:n,c:r,d:i,e:s,f:o}=e.getTransform();return[t,n,r,i,s,o]},t.getCurrentTransformInverse=function(e){const{a:t,b:n,c:r,d:i,e:s,f:o}=e.getTransform().invertSelf();return[t,n,r,i,s,o]},t.getFilenameFromUrl=function(e){const t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.getPdfFilenameFromUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(f(e))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let s=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch(e){}return s||t},t.getRGB=v,t.getXfaPageViewport=function(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:s}=e.attributes.style,o=[0,0,parseInt(i),parseInt(s)];return new d({viewBox:o,scale:n,rotation:r})},t.isDataScheme=f,t.isPdfFile=function(e){return"string"==typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=g,t.loadScript=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((n,r)=>{const i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),n(e)},i.onerror=function(){r(new Error(`Cannot load script at: ${i.src}`))},(document.head||document.documentElement).append(i)}))};var r=n(134),i=n(1);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.AnnotationPrefix="pdfjs_internal_id_";class o{}t.PixelsPerInch=o,s(o,"CSS",96),s(o,"PDF",72),s(o,"PDF_TO_CSS_UNITS",o.CSS/o.PDF);class a extends r.BaseCanvasFactory{constructor(){let{ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(g(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);return t?new Uint8Array(await n.arrayBuffer()):(0,i.stringToBytes)(await n.text())}return new Promise(((n,r)=>{const s=new XMLHttpRequest;s.open("GET",e,!0),t&&(s.responseType="arraybuffer"),s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(200===s.status||0===s.status){let e;if(t&&s.response?e=new Uint8Array(s.response):!t&&s.responseText&&(e=(0,i.stringToBytes)(s.responseText)),e)return void n(e)}r(new Error(s.statusText))}},s.send(null)}))}t.DOMCanvasFactory=a;class c extends r.BaseCMapReaderFactory{_fetchData(e,t){return l(e,this.isCompressed).then((e=>({cMapData:e,compressionType:t})))}}t.DOMCMapReaderFactory=c;class h extends r.BaseStandardFontDataFactory{_fetchData(e){return l(e,!0)}}t.DOMStandardFontDataFactory=h;class u extends r.BaseSVGFactory{_createSVG(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}t.DOMSVGFactory=u;class d{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,h,u,d,p,f,g,m;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,h=0,u=0,d=1;break;case 90:c=0,h=1,u=1,d=0;break;case 270:c=0,h=-1,u=-1,d=0;break;case 0:c=1,h=0,u=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(u=-u,d=-d),0===c?(p=Math.abs(l-t[1])*n+i,f=Math.abs(a-t[0])*n+s,g=Math.abs(t[3]-t[1])*n,m=Math.abs(t[2]-t[0])*n):(p=Math.abs(a-t[0])*n+i,f=Math.abs(l-t[1])*n+s,g=Math.abs(t[2]-t[0])*n,m=Math.abs(t[3]-t[1])*n),this.transform=[c*n,h*n,u*n,d*n,p-c*n*a-u*n*l,f-h*n*a-d*n*l],this.width=g,this.height=m}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new d({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return i.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=i.Util.applyTransform([e[0],e[1]],this.transform),n=i.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return i.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=d;class p extends i.BaseException{constructor(e,t){super(e,"RenderingCancelledException"),this.type=t}}function f(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function g(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(e){return!1}}let m;function v(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,i.warn)(`Not a valid color format: "${e}"`),[0,0,0])}t.RenderingCancelledException=p,t.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(e){e in this.started&&(0,i.warn)(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,i.warn)(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const e of this.times){const n=e.name;n.length>t&&(t=n.length)}for(const n of this.times){const r=n.end-n.start;e.push(`${n.name.padEnd(t)} ${r}ms\n`)}return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||"string"!=typeof e)return null;m||(m=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let a=parseInt(t[6],10);a=a>=0&&a<=59?a:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===l?(s+=c,o+=h):"+"===l&&(s-=c,o-=h),new Date(Date.UTC(n,r,i,s,o,a))}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r=n(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=i;class s{constructor(e){let{baseUrl:t=null,isCompressed:n=!1}=e;this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),i=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(n,i).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=s;class o{constructor(e){let{baseUrl:t=null}=e;this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=o;class a{constructor(){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=a},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var r=n(1);const i=3285377520,s=4294901760,o=65535;t.MurmurHash3_64=class{constructor(e){this.h1=e?4294967295&e:i,this.h2=e?4294967295&e:i}update(e){let t,n;if("string"==typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!(0,r.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),n=t.byteLength}const i=n>>2,a=n-4*i,l=new Uint32Array(t.buffer,0,i);let c=0,h=0,u=this.h1,d=this.h2;const p=3432918353,f=461845907,g=11601,m=13715;for(let e=0;e<i;e++)1&e?(c=l[e],c=c*p&s|c*g&o,c=c<<15|c>>>17,c=c*f&s|c*m&o,u^=c,u=u<<13|u>>>19,u=5*u+3864292196):(h=l[e],h=h*p&s|h*g&o,h=h<<15|h>>>17,h=h*f&s|h*m&o,d^=h,d=d<<13|d>>>19,d=5*d+3864292196);switch(c=0,a){case 3:c^=t[4*i+2]<<16;case 2:c^=t[4*i+1]<<8;case 1:c^=t[4*i],c=c*p&s|c*g&o,c=c<<15|c>>>17,c=c*f&s|c*m&o,1&i?u^=c:d^=c}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;e^=t>>>1,e=3981806797*e&s|36045*e&o,t=4283543511*t&s|(2950163797*(t<<16|e>>>16)&s)>>>16,e^=t>>>1,e=444984403*e&s|60499*e&o,t=3301882366*t&s|(3120437893*(t<<16|e>>>16)&s)>>>16,e^=t>>>1;const n=(e>>>0).toString(16),r=(t>>>0).toString(16);return n.padStart(8,"0")+r.padStart(8,"0")}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=n(1);class i{constructor(e){let{docId:t,onUnsupportedFeature:n,ownerDocument:s=globalThis.document,styleElement:o=null}=e;this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=n,this._document=s,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}insertRule(e){let t=this.styleElement;t||(t=this.styleElement=this._document.createElement("style"),t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(t));const n=t.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(e){if(e.attached||e.missingFile)return;if(e.attached=!0,this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent([t],[e],r)}))}}_queueLoadingCallback(e){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var e;const t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(e,t,n){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let s;t.FontLoader=s,t.FontLoader=s=class extends i{constructor(e){super(e),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let e=!1;if("undefined"==typeof navigator)e=!0;else{const t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==t?void 0:t[1])>=14&&(e=!0)}return(0,r.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const t=this.loadingContext,n={id:"pdfjs-font-loading-"+t.nextRequestId++,done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){const e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}get _loadTestFont(){return(0,r.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t,n){function i(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function s(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let o,a;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let h=0;const u=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=s(d,976,u.length,u);const p=1482184792;let f=i(d,16);for(o=0,a=u.length-3;o<a;o+=4)f=f-p+i(u,o)|0;o<u.length&&(f=f-p+i(u+"XXX",o)|0),d=s(d,16,4,(0,r.string32)(f));const g=`@font-face {font-family:"${u}";src:url(data:font/opentype;base64,${btoa(d)});}`;this.insertRule(g);const m=[];for(const e of t)m.push(e.loadedName);m.push(u);const v=this._document.createElement("div");v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px";for(const e of m){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=e,v.append(t)}this._document.body.append(v),function e(t,n){if(h++,h>30)return(0,r.warn)("Load test font never loaded."),void n();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(u,(()=>{v.remove(),n.complete()}))}},t.FontFaceObject=class{constructor(e,t){let{isEvalSupported:n=!0,disableFontFace:r=!1,ignoreErrors:i=!1,onUnsupportedFeature:s,fontRegistry:o=null}=t;this.compiledGlyphs=Object.create(null);for(const t in e)this[t]=e[t];this.isEvalSupported=!1!==n,this.disableFontFace=!0===r,this.ignoreErrors=!0===i,this._onUnsupportedFeature=s,this.fontRegistry=o}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,r.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${e}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const r of n)"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(133),i=n(1),s=n(138),o=n(139),a=n(3);function l(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}const h=4096,u=a.isNodeJS&&"undefined"==typeof Path2D?-1:1e3,d=16;class p{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function f(e,t,n,i,s,o,a,l,c,h){const[u,d,p,f,g,m]=(0,r.getCurrentTransform)(e);if(0===d&&0===p){const r=a*u+g,v=Math.round(r),b=l*f+m,y=Math.round(b),_=(a+c)*u+g,w=Math.abs(Math.round(_)-v)||1,S=(l+h)*f+m,A=Math.abs(Math.round(S)-y)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(f),v,y),e.drawImage(t,n,i,s,o,0,0,w,A),e.setTransform(u,d,p,f,g,m),[w,A]}if(0===u&&0===f){const r=l*p+g,v=Math.round(r),b=a*d+m,y=Math.round(b),_=(l+h)*p+g,w=Math.abs(Math.round(_)-v)||1,S=(a+c)*d+m,A=Math.abs(Math.round(S)-y)||1;return e.setTransform(0,Math.sign(d),Math.sign(p),0,v,y),e.drawImage(t,n,i,s,o,0,0,A,w),e.setTransform(u,d,p,f,g,m),[A,w]}return e.drawImage(t,n,i,s,o,a,l,c,h),[Math.hypot(u,d)*c,Math.hypot(p,f)*h]}class g{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=i.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=i.Util.applyTransform(t,e),r=i.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,n[0],r[0]),this.minY=Math.min(this.minY,n[1],r[1]),this.maxX=Math.max(this.maxX,n[0],r[0]),this.maxY=Math.max(this.maxY,n[1],r[1])}updateScalingPathMinMax(e,t){i.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,s,o,a,l,c,h){const u=i.Util.bezierBoundingBox(t,n,r,s,o,a,l,c);if(h)return h[0]=Math.min(h[0],u[0],u[2]),h[1]=Math.max(h[1],u[0],u[2]),h[2]=Math.min(h[2],u[1],u[3]),void(h[3]=Math.max(h[3],u[1],u[3]));this.updateRectMinMax(e,u)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===s.PathType.STROKE){t||(0,i.unreachable)("Stroke bounding box must include transform.");const e=i.Util.singularValueDecompose2dScale(t),r=e[0]*this.lineWidth/2,s=e[1]*this.lineWidth/2;n[0]-=r,n[1]-=s,n[2]+=r,n[3]+=s}return n}updateClipFromPath(){const e=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const r=t.height,s=t.width,o=r%d,a=(r-o)/d,l=0===o?a:a+1,c=e.createImageData(s,d);let h,u=0;const p=t.data,f=c.data;let g,m,v,b,y,_,w,S;if(n)switch(n.length){case 1:y=n[0],_=n[0],w=n[0],S=n[0];break;case 4:y=n[0],_=n[1],w=n[2],S=n[3]}if(t.kind===i.ImageKind.GRAYSCALE_1BPP){const t=p.byteLength,n=new Uint32Array(f.buffer,0,f.byteLength>>2),r=n.length,b=s+7>>3;let y=4294967295,_=i.FeatureTest.isLittleEndian?4278190080:255;for(S&&255===S[0]&&0===S[255]&&([y,_]=[_,y]),g=0;g<l;g++){for(v=g<a?d:o,h=0,m=0;m<v;m++){const e=t-u;let r=0;const i=e>b?s:8*e-7,o=-8&i;let a=0,l=0;for(;r<o;r+=8)l=p[u++],n[h++]=128&l?y:_,n[h++]=64&l?y:_,n[h++]=32&l?y:_,n[h++]=16&l?y:_,n[h++]=8&l?y:_,n[h++]=4&l?y:_,n[h++]=2&l?y:_,n[h++]=1&l?y:_;for(;r<i;r++)0===a&&(l=p[u++],a=128),n[h++]=l&a?y:_,a>>=1}for(;h<r;)n[h++]=0;e.putImageData(c,0,g*d)}}else if(t.kind===i.ImageKind.RGBA_32BPP){const t=!!(y||_||w);for(m=0,b=s*d*4,g=0;g<a;g++){if(f.set(p.subarray(u,u+b)),u+=b,t)for(let e=0;e<b;e+=4)y&&(f[e+0]=y[f[e+0]]),_&&(f[e+1]=_[f[e+1]]),w&&(f[e+2]=w[f[e+2]]);e.putImageData(c,0,m),m+=d}if(g<l){if(b=s*o*4,f.set(p.subarray(u,u+b)),t)for(let e=0;e<b;e+=4)y&&(f[e+0]=y[f[e+0]]),_&&(f[e+1]=_[f[e+1]]),w&&(f[e+2]=w[f[e+2]]);e.putImageData(c,0,m)}}else{if(t.kind!==i.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);{const t=!!(y||_||w);for(v=d,b=s*v,g=0;g<l;g++){for(g>=a&&(v=o,b=s*v),h=0,m=b;m--;)f[h++]=p[u++],f[h++]=p[u++],f[h++]=p[u++],f[h++]=255;if(t)for(let e=0;e<h;e+=4)y&&(f[e+0]=y[f[e+0]]),_&&(f[e+1]=_[f[e+1]]),w&&(f[e+2]=w[f[e+2]]);e.putImageData(c,0,g*d)}}}}function v(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%d,s=(n-i)/d,a=0===i?s:s+1,l=e.createImageData(r,d);let c=0;const h=t.data,u=l.data;for(let t=0;t<a;t++){const n=t<s?d:i;({srcPos:c}=(0,o.applyMaskImageData)({src:h,srcPos:c,dest:u,width:r,height:n})),e.putImageData(l,0,t*d)}}function b(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let r=0,i=n.length;r<i;r++){const i=n[r];void 0!==e[i]&&(t[i]=e[i])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function y(e,t){e.strokeStyle=e.fillStyle=t||"#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function _(e,t,n,r){const i=e.length;for(let s=3;s<i;s+=4){const i=e[s];if(0===i)e[s-3]=t,e[s-2]=n,e[s-1]=r;else if(i<255){const o=255-i;e[s-3]=e[s-3]*i+t*o>>8,e[s-2]=e[s-2]*i+n*o>>8,e[s-1]=e[s-1]*i+r*o>>8}}}function w(e,t,n){const r=e.length,i=1/255;for(let s=3;s<r;s+=4){const r=n?n[e[s]]:e[s];t[s]=t[s]*r*i|0}}function S(e,t,n){const r=e.length;for(let i=3;i<r;i+=4){const r=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[r>>8]>>8:t[i]*r>>16}}function A(e,t,n,r){const i=r[0],s=r[1],o=r[2]-i,a=r[3]-s;0!==o&&0!==a&&(function(e,t,n,r,i,s,o,a,l,c,h){const u=!!s,d=u?s[0]:0,p=u?s[1]:0,f=u?s[2]:0;let g;g="Luminosity"===i?S:w;const m=Math.min(r,Math.ceil(1048576/n));for(let i=0;i<r;i+=m){const s=Math.min(m,r-i),v=e.getImageData(a-c,i+(l-h),n,s),b=t.getImageData(a,i+l,n,s);u&&_(v.data,d,p,f),g(v.data,b.data,o),t.putImageData(b,a,i+l)}}(t.context,n,o,a,t.subtype,t.backdrop,t.transferMap,i,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}function x(e,t){const n=i.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=s||n[1]<=s}const P=["butt","round","square"],E=["miter","round","bevel"],C={},T={};var k=new WeakSet;class M{constructor(e,t,n,r,i,s,o,a){l(this,k),this.ctx=e,this.current=new g(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=s,this.cachedCanvases=new p(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=o,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(null==a?void 0:a.background)||null,this.foregroundColor=(null==a?void 0:a.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:i=!1,background:s=null}=e;const o=this.ctx.canvas.width,a=this.ctx.canvas.height,l=s||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const e=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const t=this.backgroundColor=this.ctx.fillStyle;let n=!0,i=l;if(this.ctx.fillStyle=l,i=this.ctx.fillStyle,n="string"==typeof i&&/^#[0-9A-Fa-f]{6}$/.test(i),"#000000"===e&&"#ffffff"===t||e===t||!n)this.foregroundColor=this.backgroundColor=null;else{const[n,s,o]=(0,r.getRGB)(i),a=e=>(e/=255)<=.03928?e/12.92:((e+.055)/1.055)**2.4,l=Math.round(.2126*a(n)+.7152*a(s)+.0722*a(o));this.selectColor=(n,r,i)=>{const s=.2126*a(n)+.7152*a(r)+.0722*a(i);return Math.round(s)===l?t:e}}}if(this.ctx.fillStyle=this.backgroundColor||l,this.ctx.fillRect(0,0,o,a),this.ctx.restore(),i){const e=this.cachedCanvases.getCanvas("transparent",o,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),y(this.ctx,this.foregroundColor),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx),this.imageLayer&&((0,r.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(e,t,n,r){const s=e.argsArray,o=e.fnArray;let a=t||0;const l=s.length;if(l===a)return a;const c=l-a>10&&"function"==typeof n,h=c?Date.now()+15:0;let u=0;const d=this.commonObjs,p=this.objs;let f;for(;;){if(void 0!==r&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if(f=o[a],f!==i.OPS.dependency)this[f].apply(this,s[a]);else for(const e of s[a]){const t=e.startsWith("g_")?d:p;if(!t.has(e))return t.get(e,n),a}if(a++,a===l)return a;if(c&&++u>10){if(Date.now()>h)return n(),a;u=0}}}endDrawing(){c(this,k,R).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(e,t){const n=e.width,r=e.height;let i,s,o=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,h="prescale1";for(;o>2&&l>1||a>2&&c>1;){let t=l,n=c;o>2&&l>1&&(t=Math.ceil(l/2),o/=l/t),a>2&&c>1&&(n=Math.ceil(c/2),a/=c/n),i=this.cachedCanvases.getCanvas(h,t,n),s=i.context,s.clearRect(0,0,t,n),s.drawImage(e,0,0,l,c,0,0,t,n),e=i.canvas,l=t,c=n,h="prescale1"===h?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:o}=e,a=this.current.fillColor,l=this.current.patternFill,c=(0,r.getCurrentTransform)(t);let h,u,d,p;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer,n=c.slice(0,4);u=JSON.stringify(l?n:[n,a]),h=this._cachedBitmapsMap.get(t),h||(h=new Map,this._cachedBitmapsMap.set(t,h));const r=h.get(u);if(r&&!l)return{canvas:r,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};d=r}d||(p=this.cachedCanvases.getCanvas("maskCanvas",n,o),v(p.context,e));let g=i.Util.transform(c,[1/n,0,0,-1/o,0,0]);g=i.Util.transform(g,[1,0,0,1,0,-o]);const m=i.Util.applyTransform([0,0],g),b=i.Util.applyTransform([n,o],g),y=i.Util.normalizeRect([m[0],m[1],b[0],b[1]]),_=Math.round(y[2]-y[0])||1,w=Math.round(y[3]-y[1])||1,S=this.cachedCanvases.getCanvas("fillCanvas",_,w),A=S.context,P=Math.min(m[0],b[0]),E=Math.min(m[1],b[1]);A.translate(-P,-E),A.transform(...g),d||(d=this._scaleImage(p.canvas,(0,r.getCurrentTransformInverse)(A)),d=d.img,h&&l&&h.set(u,d)),A.imageSmoothingEnabled=x((0,r.getCurrentTransform)(A),e.interpolate),f(A,d,0,0,d.width,d.height,0,0,n,o),A.globalCompositeOperation="source-in";const C=i.Util.transform((0,r.getCurrentTransformInverse)(A),[1,0,0,1,-P,-E]);return A.fillStyle=l?a.getPattern(t,this,C,s.PathType.FILL):a,A.fillRect(0,0,n,o),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(u,S.canvas)),{canvas:S.canvas,offsetX:Math.round(P),offsetY:Math.round(E)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=P[e]}setLineJoin(e){this.ctx.lineJoin=E[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let t=0,n=e.length;t<n;t++){const n=e[t],r=n[0],i=n[1];switch(r){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=i}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),b(this.suspendedCtx,s),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,s,o){t.transform(e,n,r,i,s,o),this.__originalTransform(e,n,r,i,s,o)},e.setTransform=function(e,n,r,i,s,o){t.setTransform(e,n,r,i,s,o),this.__originalSetTransform(e,n,r,i,s,o)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,s,o){t.bezierCurveTo(e,n,r,i,s,o),this.__originalBezierCurveTo(e,n,r,i,s,o)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),b(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;A(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(b(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),b(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,s){this.ctx.transform(e,t,n,r,i,s),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const s=this.ctx,o=this.current;let a,l,c=o.x,h=o.y;const u=(0,r.getCurrentTransform)(s),d=0===u[0]&&0===u[3]||0===u[1]&&0===u[2],p=d?n.slice(0):null;for(let n=0,r=0,f=e.length;n<f;n++)switch(0|e[n]){case i.OPS.rectangle:c=t[r++],h=t[r++];const e=t[r++],n=t[r++],f=c+e,g=h+n;s.moveTo(c,h),0===e||0===n?s.lineTo(f,g):(s.lineTo(f,h),s.lineTo(f,g),s.lineTo(c,g)),d||o.updateRectMinMax(u,[c,h,f,g]),s.closePath();break;case i.OPS.moveTo:c=t[r++],h=t[r++],s.moveTo(c,h),d||o.updatePathMinMax(u,c,h);break;case i.OPS.lineTo:c=t[r++],h=t[r++],s.lineTo(c,h),d||o.updatePathMinMax(u,c,h);break;case i.OPS.curveTo:a=c,l=h,c=t[r+4],h=t[r+5],s.bezierCurveTo(t[r],t[r+1],t[r+2],t[r+3],c,h),o.updateCurvePathMinMax(u,a,l,t[r],t[r+1],t[r+2],t[r+3],c,h,p),r+=6;break;case i.OPS.curveTo2:a=c,l=h,s.bezierCurveTo(c,h,t[r],t[r+1],t[r+2],t[r+3]),o.updateCurvePathMinMax(u,a,l,c,h,t[r],t[r+1],t[r+2],t[r+3],p),c=t[r+2],h=t[r+3],r+=4;break;case i.OPS.curveTo3:a=c,l=h,c=t[r+2],h=t[r+3],s.bezierCurveTo(t[r],t[r+1],c,h,c,h),o.updateCurvePathMinMax(u,a,l,t[r],t[r+1],c,h,c,h,p),r+=4;break;case i.OPS.closePath:s.closePath()}d&&o.updateScalingPathMinMax(u,p),o.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(e){e=void 0===e||e;const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof n&&null!=n&&n.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),s.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e){e=void 0===e||e;const t=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),s.PathType.FILL),i=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=C}eoClip(){this.pendingClip=T}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif";let o="normal";n.black?o="900":n.bold&&(o="bold");const a=n.italic?"italic":"normal",l=`"${s}", ${n.fallbackName}`;let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${a} ${o} ${c}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,s){this.current.textMatrix=[e,t,n,r,i,s],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,s){const o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,h=a.fontSize/a.fontSizeScale,u=c&i.TextRenderingMode.FILL_STROKE_MASK,d=!!(c&i.TextRenderingMode.ADD_TO_PATH_FLAG),p=a.patternFill&&!l.missingFile;let f;(l.disableFontFace||d||p)&&(f=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p?(o.save(),o.translate(t,n),o.beginPath(),f(o,h),s&&o.setTransform(...s),u!==i.TextRenderingMode.FILL&&u!==i.TextRenderingMode.FILL_STROKE||o.fill(),u!==i.TextRenderingMode.STROKE&&u!==i.TextRenderingMode.FILL_STROKE||o.stroke(),o.restore()):(u!==i.TextRenderingMode.FILL&&u!==i.TextRenderingMode.FILL_STROKE||o.fillText(e,t,n),u!==i.TextRenderingMode.STROKE&&u!==i.TextRenderingMode.FILL_STROKE||o.strokeText(e,t,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,r.getCurrentTransform)(o),x:t,y:n,fontSize:h,addToPath:f})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let e=3;e<t.length;e+=4)if(t[e]>0&&t[e]<255){n=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const o=t.fontSize;if(0===o)return;const a=this.ctx,l=t.fontSizeScale,c=t.charSpacing,h=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,p=e.length,f=n.vertical,g=f?1:-1,m=n.defaultVMetrics,v=o*t.fontMatrix[0],b=t.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let y;if(a.save(),a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),u>0?a.scale(d,-1):a.scale(d,1),t.patternFill){a.save();const e=t.fillColor.getPattern(a,this,(0,r.getCurrentTransformInverse)(a),s.PathType.FILL);y=(0,r.getCurrentTransform)(a),a.restore(),a.fillStyle=e}let _=t.lineWidth;const w=t.textMatrixScale;if(0===w||0===_){const e=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;e!==i.TextRenderingMode.STROKE&&e!==i.TextRenderingMode.FILL_STROKE||(_=this.getSinglePixelWidth())}else _/=w;1!==l&&(a.scale(l,l),_/=l),a.lineWidth=_;let S,A=0;for(S=0;S<p;++S){const t=e[S];if("number"==typeof t){A+=g*t*o/1e3;continue}let r=!1;const i=(t.isSpace?h:0)+c,s=t.fontChar,d=t.accent;let p,_,w,x=t.width;if(f){const e=t.vmetric||m,n=-(t.vmetric?e[1]:.5*x)*v,r=e[2]*v;x=e?-e[0]:x,p=n/l,_=(A+r)/l}else p=A/l,_=0;if(n.remeasure&&x>0){const e=1e3*a.measureText(s).width/o*l;if(x<e&&this.isFontSubpixelAAEnabled){const t=x/e;r=!0,a.save(),a.scale(t,1),p/=t}else x!==e&&(p+=(x-e)/2e3*o/l)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(b&&!d)a.fillText(s,p,_);else if(this.paintChar(s,p,_,y),d){const e=p+o*d.offset.x/l,t=_-o*d.offset.y/l;this.paintChar(d.fontChar,e,t,y)}w=f?x*v-i*u:x*v+i*u,A+=w,r&&a.restore()}f?t.y-=A:t.x+=A*d,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,s=n.fontSize,o=n.fontDirection,a=r.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,h=n.textHScale*o,u=n.fontMatrix||i.FONT_IDENTITY_MATRIX,d=e.length;let p,f,g,m;if(n.textRenderingMode!==i.TextRenderingMode.INVISIBLE&&0!==s){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(h,o),p=0;p<d;++p){if(f=e[p],"number"==typeof f){m=a*f*s/1e3,this.ctx.translate(m,0),n.x+=m*h;continue}const o=(f.isSpace?c:0)+l,d=r.charProcOperatorList[f.operatorListId];d?(this.contentVisible&&(this.processingType3=f,this.save(),t.scale(s,s),t.transform(...u),this.executeOperatorList(d),this.restore()),g=i.Util.applyTransform([f.width,0],u)[0]*s+o,t.translate(g,0),n.x+=g*h):(0,i.warn)(`Type3 character "${f.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,s){this.ctx.rect(n,r,i-n,s-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],i=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),o={createCanvasGraphics:e=>new M(e,this.commonObjs,this.objs,this.canvasFactory)};t=new s.TilingPattern(e,n,this.ctx,o,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){var r;const s=(null===(r=this.selectColor)||void 0===r?void 0:r.call(this,e,t,n))||i.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(e,t,n){var r;const s=(null===(r=this.selectColor)||void 0===r?void 0:r.call(this,e,t,n))||i.Util.makeHexColor(e,t,n);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,s.getShadingPattern)(this.objs.get(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,r.getCurrentTransformInverse)(t),s.PathType.SHADING);const o=(0,r.getCurrentTransformInverse)(t);if(o){const e=t.canvas,n=e.width,r=e.height,s=i.Util.applyTransform([0,0],o),a=i.Util.applyTransform([0,r],o),l=i.Util.applyTransform([n,0],o),c=i.Util.applyTransform([n,r],o),h=Math.min(s[0],a[0],l[0],c[0]),u=Math.min(s[1],a[1],l[1],c[1]),d=Math.max(s[0],a[0],l[0],c[0]),p=Math.max(s[1],a[1],l[1],c[1]);this.ctx.fillRect(h,u,d-h,p-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,i.info)("TODO: Support non-isolated groups."),e.knockout&&(0,i.warn)("Knockout groups not supported.");const n=(0,r.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=i.Util.getAxialAlignedBoundingBox(e.bbox,(0,r.getCurrentTransform)(t));const o=[0,0,t.canvas.width,t.canvas.height];s=i.Util.intersect(s,o)||[0,0,0,0];const a=Math.floor(s[0]),l=Math.floor(s[1]);let c=Math.max(Math.ceil(s[2])-a,1),u=Math.max(Math.ceil(s[3])-l,1),d=1,p=1;c>h&&(d=c/h,c=h),u>h&&(p=u/h,u=h),this.current.startNewPathAndClipBox([0,0,c,u]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,c,u),m=g.context;m.scale(1/d,1/p),m.translate(-a,-l),m.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:m,offsetX:a,offsetY:l,scaleX:d,scaleY:p,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,l),t.scale(d,p),t.save()),b(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=i.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,s,o){if(c(this,k,R).call(this),y(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const s=t[2]-t[0],a=t[3]-t[1];if(o&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=s,t[3]=a;const[o,l]=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,h=Math.ceil(s*this.outputScaleX*c),u=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(h,u);const{canvas:d,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.setTransform(o,0,0,-l,0,a*l),y(this.ctx,this.foregroundColor)}else y(this.ctx,this.foregroundColor),this.ctx.rect(t[0],t[1],s,a),this.ctx.clip(),this.endPath()}this.current=new g(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>u||n>u)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let s,o,a,l=new Uint8Array(i*(n+1));const c=t+7&-8;let h=new Uint8Array(c*n),d=0;for(const t of e.data){let e=128;for(;e>0;)h[d++]=t&e?0:255,e>>=1}let p=0;for(d=0,0!==h[d]&&(l[0]=1,++p),o=1;o<t;o++)h[d]!==h[d+1]&&(l[o]=h[d]?2:1,++p),d++;for(0!==h[d]&&(l[o]=2,++p),s=1;s<n;s++){d=s*c,a=s*i,h[d-c]!==h[d]&&(l[a]=h[d]?1:8,++p);let e=(h[d]?4:0)+(h[d-c]?8:0);for(o=1;o<t;o++)e=(e>>2)+(h[d+1]?4:0)+(h[d-c+1]?8:0),r[e]&&(l[a+o]=r[e],++p),d++;if(h[d-c]!==h[d]&&(l[a+o]=h[d]?2:4,++p),p>1e3)return null}for(d=c*(n-1),a=s*i,0!==h[d]&&(l[a]=8,++p),o=1;o<t;o++)h[d]!==h[d+1]&&(l[a+o]=h[d]?4:8,++p),d++;if(0!==h[d]&&(l[a+o]=4,++p),p>1e3)return null;const f=new Int32Array([0,i,-1,0,-i,0,0,0,1]),g=new Path2D;for(s=0;p&&s<=n;s++){let e=s*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;g.moveTo(e%i,s);const r=e;let o=l[e];do{const t=f[o];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(o=n,l[e]=0):(o=n&51*o>>4,l[e]&=o>>2|o<<2),g.lineTo(e%i,e/i|0),l[e]||--p}while(r!==e);--s}return h=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(g),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),s=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,r.getCurrentTransform)(l);l.transform(t,n,s,o,0,0);const h=this._createMaskCanvas(e);l.setTransform(1,0,0,1,0,0);for(let e=0,r=a.length;e<r;e+=2){const r=i.Util.transform(c,[t,n,s,o,a[e],a[e+1]]),[u,d]=i.Util.applyTransform([0,0],r);l.drawImage(h.canvas,u,d)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const o of e){const{data:e,width:a,height:l,transform:c}=o,h=this.cachedCanvases.getCanvas("maskCanvas",a,l),u=h.context;u.save(),v(u,this.getObject(e,o)),u.globalCompositeOperation="source-in",u.fillStyle=i?n.getPattern(u,this,(0,r.getCurrentTransformInverse)(t),s.PathType.FILL):n,u.fillRect(0,0,a,l),u.restore(),t.save(),t.transform(...c),t.scale(1,-1),f(t,h.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,i.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const s=this.getObject(e);if(!s)return void(0,i.warn)("Dependent image isn't ready yet");const o=s.width,a=s.height,l=[];for(let e=0,i=r.length;e<i;e+=2)l.push({transform:[t,0,0,n,r[e],r[e+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,s=this.ctx;let o;if(this.save(),s.scale(1/t,-1/n),"function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)o=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n);m(r.context,e,this.current.transferMaps),o=r.canvas}const a=this._scaleImage(o,(0,r.getCurrentTransformInverse)(s));s.imageSmoothingEnabled=x((0,r.getCurrentTransform)(s),e.interpolate);const[l,c]=f(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n);if(this.imageLayer){const[t,s]=i.Util.applyTransform([0,-n],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:e,left:t,top:s,width:l,height:c})}this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,s=e.width,o=e.height,a=this.cachedCanvases.getCanvas("inlineImage",s,o);m(a.context,e,this.current.transferMaps);for(const l of t){if(n.save(),n.transform(...l.transform),n.scale(1,-1),f(n,a.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){const[t,n]=i.Util.applyTransform([l.x,l.y],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:e,left:t,top:n,width:s,height:o})}n.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===T?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,r.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:e}=this.current,t=(0,r.getCurrentTransform)(this.ctx);let n,i;if(0===t[1]&&0===t[2]){const r=Math.abs(t[0]),s=Math.abs(t[3]);if(0===e)n=1/r,i=1/s;else{const t=r*e,o=s*e;n=t<1?1/t:1,i=o<1?1/o:1}}else{const r=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[1]),o=Math.hypot(t[2],t[3]);if(0===e)n=o/r,i=s/r;else{const t=e*r;n=o>t?o/t:1,i=s>t?s/t:1}}this._cachedScaleForStroking=[n,i]}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=n||1,1===i&&1===s)return void t.stroke();let o,a,l;e&&(o=(0,r.getCurrentTransform)(t),a=t.getLineDash().slice(),l=t.lineDashOffset),t.scale(i,s);const c=Math.max(i,s);t.setLineDash(t.getLineDash().map((e=>e/c))),t.lineDashOffset/=c,t.stroke(),e&&(t.setTransform(...o),t.setLineDash(a),t.lineDashOffset=l)}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function R(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}t.CanvasGraphics=M;for(const e in i.OPS)void 0!==M.prototype[e]&&(M.prototype[i.OPS[e]]=M.prototype[e])},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new c(e);case"Mesh":return new d(e);case"Dummy":return new p}throw new Error(`Unknown IR type: ${e[0]}`)};var r=n(1),i=n(133),s=n(3);const o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function a(e,t){if(!t||s.isNodeJS)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}t.PathType=o;class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class c extends l{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const e of this._colorStops)t.addColorStop(e[0],e[1]);return t}getPattern(e,t,n,s){let l;if(s===o.STROKE||s===o.FILL){const o=t.current.getClippedPathBoundingBox(s,(0,i.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,h=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",c,h,!0),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),n=r.Util.transform(n,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),a(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),l=e.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(n);try{l.setTransform(p)}catch(e){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${null==e?void 0:e.message}".`)}}else a(e,this._bbox),l=this._createGradient(e);return l}}function h(e,t,n,r,i,s,o,a){const l=t.coords,c=t.colors,h=e.data,u=4*e.width;let d;l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=s,s=o,o=d),l[r+1]>l[i+1]&&(d=r,r=i,i=d,d=o,o=a,a=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=s,s=o,o=d);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,g=(l[r]+t.offsetX)*t.scaleX,m=(l[r+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,b=(l[i+1]+t.offsetY)*t.scaleY;if(f>=b)return;const y=c[s],_=c[s+1],w=c[s+2],S=c[o],A=c[o+1],x=c[o+2],P=c[a],E=c[a+1],C=c[a+2],T=Math.round(f),k=Math.round(b);let M,R,O,D,I,L,F,N;for(let e=T;e<=k;e++){if(e<m){let t;t=e<f?0:(f-e)/(f-m),M=p-(p-g)*t,R=y-(y-S)*t,O=_-(_-A)*t,D=w-(w-x)*t}else{let t;t=e>b?1:m===b?0:(m-e)/(m-b),M=g-(g-v)*t,R=S-(S-P)*t,O=A-(A-E)*t,D=x-(x-C)*t}let t;t=e<f?0:e>b?1:(f-e)/(f-b),I=p-(p-v)*t,L=y-(y-P)*t,F=_-(_-E)*t,N=w-(w-C)*t;const n=Math.round(Math.min(M,I)),r=Math.round(Math.max(M,I));let i=u*e+4*n;for(let e=n;e<=r;e++)t=(M-e)/(M-I),t<0?t=0:t>1&&(t=1),h[i++]=R-(R-L)*t|0,h[i++]=O-(O-F)*t|0,h[i++]=D-(D-N)*t|0,h[i++]=255}}function u(e,t,n){const r=t.coords,i=t.colors;let s,o;switch(t.type){case"lattice":const a=t.verticesPerRow,l=Math.floor(r.length/a)-1,c=a-1;for(s=0;s<l;s++){let t=s*a;for(let s=0;s<c;s++,t++)h(e,n,r[t],r[t+1],r[t+a],i[t],i[t+1],i[t+a]),h(e,n,r[t+a+1],r[t+1],r[t+a],i[t+a+1],i[t+1],i[t+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)h(e,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class d extends l{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-r,o=Math.ceil(this._bounds[3])-i,a=Math.min(Math.ceil(Math.abs(s*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(o*e[1]*1.1)),3e3),c=s/a,h=o/l,d={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/h},p=a+4,f=l+4,g=n.getCanvas("mesh",p,f,!1),m=g.context,v=m.createImageData(a,l);if(t){const e=v.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const e of this._figures)u(v,e,d);return m.putImageData(v,2,2),{canvas:g.canvas,offsetX:r-2*c,offsetY:i-2*h,scaleX:c,scaleY:h}}getPattern(e,t,n,s){let l;if(a(e,this._bbox),s===o.SHADING)l=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(e));else if(l=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=r.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*e[0],l[1]*e[1]]}const c=this._createMeshCanvas(l,s===o.SHADING?null:this._background,t.cachedCanvases);return s!==o.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class p extends l{getPattern(){return"hotpink"}}const f=1,g=2;class m{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,s=this.xstep,o=this.ystep,a=this.paintType,l=this.tilingType,c=this.color,h=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);const u=n[0],d=n[1],p=n[2],f=n[3],g=r.Util.singularValueDecompose2dScale(this.matrix),m=r.Util.singularValueDecompose2dScale(this.baseTransform),v=[g[0]*m[0],g[1]*m[1]],b=this.getSizeAndScale(s,this.ctx.canvas.width,v[0]),y=this.getSizeAndScale(o,this.ctx.canvas.height,v[1]),_=e.cachedCanvases.getCanvas("pattern",b.size,y.size,!0),w=_.context,S=h.createCanvasGraphics(w);S.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(S,a,c);let A=u,x=d,P=p,E=f;return u<0&&(A=0,P+=Math.abs(u)),d<0&&(x=0,E+=Math.abs(d)),w.translate(-b.scale*A,-y.scale*x),S.transform(b.scale,0,0,y.scale,0,0),w.save(),this.clipBbox(S,A,x,P,E),S.baseTransform=(0,i.getCurrentTransform)(S.ctx),S.executeOperatorList(t),S.endDrawing(),{canvas:_.canvas,scaleX:b.scale,scaleY:y.scale,offsetX:A,offsetY:x}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(m.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,s){const o=r-t,a=s-n;e.ctx.rect(t,n,o,a),e.current.updateRectMinMax((0,i.getCurrentTransform)(e.ctx),[t,n,r,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case f:const e=this.ctx;i.fillStyle=e.fillStyle,i.strokeStyle=e.strokeStyle,s.fillColor=e.fillStyle,s.strokeColor=e.strokeStyle;break;case g:const o=r.Util.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new r.FormatError(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==o.SHADING&&(s=r.Util.transform(s,t.baseTransform),this.matrix&&(s=r.Util.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let l=new DOMMatrix(s);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");try{c.setTransform(l)}catch(e){(0,r.warn)(`TilingPattern.getPattern: "${null==e?void 0:e.message}".`)}return c}}t.TilingPattern=m},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=function(e){let{src:t,srcPos:n=0,dest:i,destPos:s=0,width:o,height:a,inverseDecode:l=!1}=e;const c=r.FeatureTest.isLittleEndian?4278190080:255,[h,u]=l?[0,c]:[c,0],d=o>>3,p=7&o,f=t.length;i=new Uint32Array(i.buffer);for(let e=0;e<a;e++){for(const e=n+d;n<e;n++){const e=n<f?t[n]:255;i[s++]=128&e?u:h,i[s++]=64&e?u:h,i[s++]=32&e?u:h,i[s++]=16&e?u:h,i[s++]=8&e?u:h,i[s++]=4&e?u:h,i[s++]=2&e?u:h,i[s++]=1&e?u:h}if(0===p)continue;const e=n<f?t[n++]:255;for(let t=0;t<p;t++)i[s++]=e&1<<7-t?u:h}return{srcPos:n,destPos:s}};var r=n(1)},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1);const i=1,s=2,o=1,a=2,l=3,c=4,h=5,u=6,d=7,p=8;function f(e){switch(e instanceof Error||"object"==typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this._processStreamMessage(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===i)n.resolve(t.data);else{if(t.callback!==s)throw new Error("Unexpected callback case");n.reject(f(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,o=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:o,callback:i,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:o,callback:s,callbackId:t.callbackId,reason:f(r)})}))}else t.streamId?this._createStreamSink(t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=(0,r.createPromiseCapability)();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(e){s.reject(e)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const o=(0,r.createPromiseCapability)();return this.streamControllers[s]={controller:n,startCall:o,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:l,action:e,streamId:s,data:t,desiredSize:n.desiredSize},i),o.promise},pull:e=>{const t=(0,r.createPromiseCapability)();return this.streamControllers[s].pullCall=t,c.postMessage({sourceName:a,targetName:l,stream:u,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=(0,r.createPromiseCapability)();return this.streamControllers[s].cancelCall=t,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:l,stream:o,streamId:s,reason:f(e)}),t.promise}},n)}_createStreamSink(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],u={enqueue(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=o,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:c,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:l,streamId:t}),delete o.streamSinks[t])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:h,streamId:t,reason:f(e)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise((function(t){t(a(e.data,u))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:p,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:p,streamId:t,reason:f(e)})}))}_processStreamMessage(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,g=this.streamControllers[t],m=this.streamSinks[t];switch(e.stream){case p:e.success?g.startCall.resolve():g.startCall.reject(f(e.reason));break;case d:e.success?g.pullCall.resolve():g.pullCall.reject(f(e.reason));break;case u:if(!m){s.postMessage({sourceName:n,targetName:i,stream:d,streamId:t,success:!0});break}m.desiredSize<=0&&e.desiredSize>0&&m.sinkCapability.resolve(),m.desiredSize=e.desiredSize,new Promise((function(e){e(m.onPull&&m.onPull())})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:d,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:d,streamId:t,reason:f(e)})}));break;case c:if((0,r.assert)(g,"enqueue should have stream controller"),g.isClosed)break;g.controller.enqueue(e.chunk);break;case l:if((0,r.assert)(g,"close should have stream controller"),g.isClosed)break;g.isClosed=!0,g.controller.close(),this._deleteStreamController(g,t);break;case h:(0,r.assert)(g,"error should have stream controller"),g.controller.error(f(e.reason)),this._deleteStreamController(g,t);break;case a:e.success?g.cancelCall.resolve():g.cancelCall.reject(f(e.reason)),this._deleteStreamController(g,t);break;case o:if(!m)break;new Promise((function(t){t(m.onCancel&&m.onCancel(f(e.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:a,streamId:t,success:!0})}),(function(e){s.postMessage({sourceName:n,targetName:i,stream:a,streamId:t,reason:f(e)})})),m.sinkCapability.reject(f(e.reason)),m.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(e,t){await Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1);function i(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function s(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,a(e,t,"get"))}function o(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,a(e,t,"set"),n),n}function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var l=new WeakMap,c=new WeakMap;t.Metadata=class{constructor(e){let{parsedData:t,rawData:n}=e;i(this,l,{writable:!0,value:void 0}),i(this,c,{writable:!0,value:void 0}),o(this,l,t),o(this,c,n)}getRaw(){return s(this,c)}get(e){var t;return null!==(t=s(this,l).get(e))&&void 0!==t?t:null}getAll(){return(0,r.objectFromMap)(s(this,l))}has(e){return s(this,l).has(e)}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(1);function i(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function s(e,t,n){o(e,t),t.set(e,n)}function o(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,c(e,t,"set"),n),n}function l(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,c(e,t,"get"))}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}const h=Symbol("INTERNAL");var u=new WeakMap;class d{constructor(e,t){s(this,u,{writable:!0,value:!0}),this.name=e,this.intent=t}get visible(){return l(this,u)}_setVisible(e,t){e!==h&&(0,r.unreachable)("Internal method `_setVisible` called."),a(this,u,t)}}var p=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakSet;function b(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const t=e[s];let o;if(Array.isArray(t))o=i(this,v,b).call(this,t);else{if(!l(this,f).has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;o=l(this,f).get(t).visible}switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===n}t.OptionalContentConfig=class{constructor(e){var t,n;if(o(t=this,n=v),n.add(t),s(this,p,{writable:!0,value:!0}),s(this,f,{writable:!0,value:new Map}),s(this,g,{writable:!0,value:null}),s(this,m,{writable:!0,value:null}),this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,a(this,m,e.order);for(const t of e.groups)l(this,f).set(t.id,new d(t.name,t.intent));if("OFF"===e.baseState)for(const e of l(this,f).values())e._setVisible(h,!1);for(const t of e.on)l(this,f).get(t)._setVisible(h,!0);for(const t of e.off)l(this,f).get(t)._setVisible(h,!1);a(this,g,new Map);for(const[e,t]of l(this,f))l(this,g).set(e,t.visible)}}isVisible(e){if(0===l(this,f).size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return l(this,f).has(e.id)?l(this,f).get(e.id).visible:((0,r.warn)(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return i(this,v,b).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!l(this,f).has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(l(this,f).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!l(this,f).has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!l(this,f).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!l(this,f).has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!l(this,f).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!l(this,f).has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(l(this,f).get(t).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${e.policy}.`),!0}return(0,r.warn)(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l(this,f).has(e)?(l(this,f).get(e)._setVisible(h,!!t),a(this,p,null)):(0,r.warn)(`Optional content group not found: ${e}`)}get hasInitialVisibility(){if(null!==l(this,p))return l(this,p);for(const[e,t]of l(this,f)){const n=l(this,g).get(e);if(t.visible!==n)return a(this,p,!1)}return a(this,p,!0)}getOrder(){return l(this,f).size?l(this,m)?l(this,m).slice():[...l(this,f).keys()]:null}getGroups(){return l(this,f).size>0?(0,r.objectFromMap)(l(this,f)):null}getGroup(e){return l(this,f).get(e)||null}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),i=n(133);t.PDFDataTransportStream=class{constructor(e,t){(0,r.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;const n=e.initialData;if((null==n?void 0:n.length)>0){const e=new Uint8Array(n).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{const n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,r.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){if(void 0===e.total){const t=this._rangeReaders[0];null!=t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{const t=this._fullRequestReader;null!=t&&t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new s(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new o(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}};class s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=(0,i.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class o{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};return function e(r){var i;if(!r)return;let s=null;const o=r.name;if("#text"===o)s=r.value;else{if(!n.shouldBuildText(o))return;null!=r&&null!==(i=r.attributes)&&void 0!==i&&i.textContent?s=r.attributes.textContent:r.value&&(s=r.value)}if(null!==s&&t.push({str:s}),r.children)for(const t of r.children)e(t)}(e),r}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=n},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r=n(134);const i=function(e){return new Promise(((t,n)=>{__webpack_require__(32767).readFile(e,((e,r)=>{!e&&r?t(new Uint8Array(r)):n(new Error(e))}))}))};class s extends r.BaseCanvasFactory{_createCanvas(e,t){return __webpack_require__(14601).createCanvas(e,t)}}t.NodeCanvasFactory=s;class o extends r.BaseCMapReaderFactory{_fetchData(e,t){return i(e).then((e=>({cMapData:e,compressionType:t})))}}t.NodeCMapReaderFactory=o;class a extends r.BaseStandardFontDataFactory{_fetchData(e){return i(e)}}t.NodeStandardFontDataFactory=a},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var r=n(132),i=n(1),s=n(148),o=n(149);function a(e,t){c(e,t),t.add(e)}function l(e,t,n){c(e,t),t.set(e,n)}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function u(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,p(e,t,"get"))}function d(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,p(e,t,"set"),n),n}function p(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var f,g,m,v=new WeakMap,b=new WeakMap,y=new WeakMap,_=new WeakMap,w=new WeakMap,S=new WeakMap,A=new WeakMap,x=new WeakMap,P=new WeakSet,E=new WeakSet,C=new WeakSet,T=new WeakSet;class k{constructor(e){a(this,T),a(this,C),a(this,E),a(this,P),l(this,v,{writable:!0,value:void 0}),l(this,b,{writable:!0,value:!1}),l(this,y,{writable:!0,value:this.pointerup.bind(this)}),l(this,_,{writable:!0,value:this.pointerdown.bind(this)}),l(this,w,{writable:!0,value:new Map}),l(this,S,{writable:!0,value:!1}),l(this,A,{writable:!0,value:!1}),l(this,x,{writable:!0,value:void 0}),k._initialized||(k._initialized=!0,s.FreeTextEditor.initialize(e.l10n),o.InkEditor.initialize(e.l10n),e.uiManager.registerEditorTypes([s.FreeTextEditor,o.InkEditor])),d(this,x,e.uiManager),this.annotationStorage=e.annotationStorage,this.pageIndex=e.pageIndex,this.div=e.div,d(this,v,e.accessibilityManager),u(this,x).addLayer(this)}updateToolbar(e){u(this,x).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u(this,x).getMode();h(this,T,D).call(this),e===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),u(this,x).unselectAll()}addInkEditorIfNeeded(e){if(e||u(this,x).getMode()===i.AnnotationEditorType.INK){if(!e)for(const e of u(this,w).values())if(e.isEmpty())return void e.setInBackground();h(this,C,O).call(this,{offsetX:0,offsetY:0}).setInBackground()}}setEditingState(e){u(this,x).setEditingState(e)}addCommands(e){u(this,x).addCommands(e)}enable(){this.div.style.pointerEvents="auto";for(const e of u(this,w).values())e.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const e of u(this,w).values())e.disableEditing()}setActiveEditor(e){u(this,x).getActive()!==e&&u(this,x).setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",u(this,_)),this.div.addEventListener("pointerup",u(this,y))}disableClick(){this.div.removeEventListener("pointerdown",u(this,_)),this.div.removeEventListener("pointerup",u(this,y))}attach(e){u(this,w).set(e.id,e)}detach(e){var t;u(this,w).delete(e.id),null===(t=u(this,v))||void 0===t||t.removePointerInTextLayer(e.contentDiv)}remove(e){u(this,x).removeEditor(e),this.detach(e),this.annotationStorage.remove(e.id),e.div.style.display="none",setTimeout((()=>{e.div.style.display="",e.div.remove(),e.isAttachedToDOM=!1,document.activeElement===document.body&&u(this,x).focusMainContainer()}),0),u(this,A)||this.addInkEditorIfNeeded(!1)}add(e){if(h(this,P,M).call(this,e),u(this,x).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}this.moveEditorInDOM(e),e.onceAdded(),this.addToAnnotationStorage(e)}moveEditorInDOM(e){var t;null===(t=u(this,v))||void 0===t||t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addToAnnotationStorage(e){e.isEmpty()||this.annotationStorage.has(e.id)||this.annotationStorage.setValue(e.id,e)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addANewEditor(e){this.addCommands({cmd:()=>{this.addOrRebuild(e)},undo:()=>{e.remove()},mustExec:!0})}addUndoableEditor(e){this.addCommands({cmd:()=>{this.addOrRebuild(e)},undo:()=>{e.remove()},mustExec:!1})}getNextId(){return u(this,x).getId()}deserialize(e){switch(e.annotationType){case i.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(e,this);case i.AnnotationEditorType.INK:return o.InkEditor.deserialize(e,this)}return null}setSelected(e){u(this,x).setSelected(e)}toggleSelected(e){u(this,x).toggleSelected(e)}isSelected(e){return u(this,x).isSelected(e)}unselect(e){u(this,x).unselect(e)}pointerup(e){const t=r.KeyboardManager.platform.isMac;0!==e.button||e.ctrlKey&&t||e.target===this.div&&u(this,S)&&(d(this,S,!1),u(this,b)?h(this,C,O).call(this,e):d(this,b,!0))}pointerdown(e){const t=r.KeyboardManager.platform.isMac;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;d(this,S,!0);const n=u(this,x).getActive();d(this,b,!n||n.isEmpty())}drop(e){const t=e.dataTransfer.getData("text/plain"),n=u(this,x).getEditor(t);if(!n)return;e.preventDefault(),e.dataTransfer.dropEffect="move",h(this,P,M).call(this,n);const r=this.div.getBoundingClientRect(),i=e.clientX-r.x,s=e.clientY-r.y;n.translate(i-n.startX,s-n.startY),this.moveEditorInDOM(n),n.div.focus()}dragover(e){e.preventDefault()}destroy(){var e;(null===(e=u(this,x).getActive())||void 0===e?void 0:e.parent)===this&&u(this,x).setActiveEditor(null);for(const e of u(this,w).values()){var t;null===(t=u(this,v))||void 0===t||t.removePointerInTextLayer(e.contentDiv),e.isAttachedToDOM=!1,e.div.remove(),e.parent=null}this.div=null,u(this,w).clear(),u(this,x).removeLayer(this)}render(e){this.viewport=e.viewport,(0,r.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const e of u(this,x).getEditors(this.pageIndex))this.add(e);this.updateMode()}update(e){this.viewport=e.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[e,t,n,r]=this.viewport.viewBox;return[n-e,r-t]}get viewportBaseDimensions(){const{width:e,height:t,rotation:n}=this.viewport;return n%180==0?[e,t]:[t,e]}setDimensions(){const{width:e,height:t,rotation:n}=this.viewport,r=n%180!=0,i=Math.floor(e)+"px",s=Math.floor(t)+"px";this.div.style.width=r?s:i,this.div.style.height=r?i:s,this.div.setAttribute("data-main-rotation",n)}}function M(e){var t;e.parent!==this&&(this.attach(e),e.pageIndex=this.pageIndex,null===(t=e.parent)||void 0===t||t.detach(e),e.parent=this,e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}function R(e){switch(u(this,x).getMode()){case i.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(e);case i.AnnotationEditorType.INK:return new o.InkEditor(e)}return null}function O(e){const t=this.getNextId(),n=h(this,E,R).call(this,{parent:this,id:t,x:e.offsetX,y:e.offsetY});return n&&this.add(n),n}function D(){d(this,A,!0);for(const e of u(this,w).values())e.isEmpty()&&e.remove();d(this,A,!1)}t.AnnotationEditorLayer=k,m=!1,(g="_initialized")in(f=k)?Object.defineProperty(f,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[g]=m},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var r=n(1),i=n(132),s=n(131);function o(e,t){c(e,t),t.add(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){c(e,t),t.set(e,n)}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,p(e,t,"get"))}function u(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function d(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,p(e,t,"set"),n),n}function p(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap,_=new WeakMap,w=new WeakSet,S=new WeakSet,A=new WeakSet,x=new WeakSet;class P extends s.AnnotationEditor{constructor(e){super({...e,name:"freeTextEditor"}),o(this,x),o(this,A),o(this,S),o(this,w),l(this,f,{writable:!0,value:this.editorDivBlur.bind(this)}),l(this,g,{writable:!0,value:this.editorDivFocus.bind(this)}),l(this,m,{writable:!0,value:this.editorDivKeydown.bind(this)}),l(this,v,{writable:!0,value:void 0}),l(this,b,{writable:!0,value:""}),l(this,y,{writable:!0,value:!1}),l(this,_,{writable:!0,value:void 0}),d(this,v,e.color||P._defaultColor||s.AnnotationEditor._defaultLineColor),d(this,_,e.fontSize||P._defaultFontSize)}static initialize(e){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map((t=>[t,e.get(t)])));const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:P._defaultFontSize=t;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:P._defaultColor=t}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:u(this,w,E).call(this,t);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:u(this,S,C).call(this,t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,P._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,P._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,h(this,_)],[r.AnnotationEditorParamsType.FREETEXT_COLOR,h(this,v)]]}getInitialTranslation(){return[-P._internalPadding*this.parent.scaleFactor,-(P._internalPadding+h(this,_))*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",h(this,m)),this.editorDiv.addEventListener("focus",h(this,g)),this.editorDiv.addEventListener("blur",h(this,f)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",h(this,m)),this.editorDiv.removeEventListener("focus",h(this,g)),this.editorDiv.removeEventListener("blur",h(this,f)),this.div.focus(),this.isEditing=!1)}focusin(e){super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),h(this,y)||(d(this,y,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),d(this,b,u(this,A,T).call(this).trimEnd()),u(this,x,k).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(e){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(e){P._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),P._l10nPromise.get("editor_free_text_aria_label").then((e=>{var t;return null===(t=this.editorDiv)||void 0===t?void 0:t.setAttribute("aria-label",e)})),P._l10nPromise.get("free_text_default_content").then((e=>{var t;return null===(t=this.editorDiv)||void 0===t?void 0:t.setAttribute("default-content",e)})),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${h(this,_)}px * var(--scale-factor))`,n.color=h(this,v),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parent.viewportBaseDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r);for(const e of h(this,b).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(e,t){const n=super.deserialize(e,t);return d(n,_,e.fontSize),d(n,v,r.Util.makeHexColor(...e.color)),d(n,b,e.value),n}serialize(){if(this.isEmpty())return null;const e=P._internalPadding*this.parent.scaleFactor,t=this.getRect(e,e),n=s.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:r.AnnotationEditorType.FREETEXT,color:n,fontSize:h(this,_),value:h(this,b),pageIndex:this.parent.pageIndex,rect:t,rotation:this.rotation}}}function E(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-h(this,_))*this.parent.scaleFactor),d(this,_,e),u(this,x,k).call(this)},n=h(this,_);this.parent.addCommands({cmd:()=>{t(e)},undo:()=>{t(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function C(e){const t=h(this,v);this.parent.addCommands({cmd:()=>{d(this,v,e),this.editorDiv.style.color=e},undo:()=>{d(this,v,t),this.editorDiv.style.color=t},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function T(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n].firstChild;"#text"===(null==r?void 0:r.nodeName)?t.push(r.data):t.push("")}return t.join("\n")}function k(){const[e,t]=this.parent.viewportBaseDimensions,n=this.div.getBoundingClientRect();this.width=n.width/e,this.height=n.height/t}t.FreeTextEditor=P,a(P,"_freeTextDefaultContent",""),a(P,"_l10nPromise",void 0),a(P,"_internalPadding",0),a(P,"_defaultColor",null),a(P,"_defaultFontSize",10),a(P,"_keyboardManager",new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],P.prototype.commitOrRemove]])),a(P,"_type","freetext")},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return s.fitCurve}});var r=n(1),i=n(131),s=n(150),o=n(132);function a(e,t){h(e,t),t.add(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){h(e,t),t.set(e,n)}function h(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}function d(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,f(e,t,"set"),n),n}function p(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,f(e,t,"get"))}function f(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function g(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}const m=16;var v=new WeakMap,b=new WeakMap,y=new WeakMap,_=new WeakMap,w=new WeakMap,S=new WeakMap,A=new WeakMap,x=new WeakMap,P=new WeakMap,E=new WeakMap,C=new WeakMap,T=new WeakMap,k=new WeakMap,M=new WeakMap,R=new WeakSet,O=new WeakSet,D=new WeakSet,I=new WeakSet,L=new WeakSet,F=new WeakSet,N=new WeakSet,j=new WeakSet,B=new WeakSet,W=new WeakSet,z=new WeakSet,U=new WeakSet,H=new WeakSet,V=new WeakSet,q=new WeakSet,$=new WeakSet,G=new WeakSet,X=new WeakSet,Y=new WeakSet,K=new WeakSet,Z=new WeakSet,Q=new WeakSet;class J extends i.AnnotationEditor{constructor(e){super({...e,name:"inkEditor"}),a(this,Q),a(this,Z),a(this,K),a(this,Y),a(this,X),a(this,G),a(this,$),a(this,q),a(this,V),a(this,H),a(this,U),a(this,z),a(this,W),a(this,B),a(this,j),a(this,N),a(this,F),a(this,L),a(this,I),a(this,D),a(this,O),a(this,R),c(this,v,{writable:!0,value:0}),c(this,b,{writable:!0,value:0}),c(this,y,{writable:!0,value:0}),c(this,_,{writable:!0,value:this.canvasPointermove.bind(this)}),c(this,w,{writable:!0,value:this.canvasPointerleave.bind(this)}),c(this,S,{writable:!0,value:this.canvasPointerup.bind(this)}),c(this,A,{writable:!0,value:this.canvasPointerdown.bind(this)}),c(this,x,{writable:!0,value:!1}),c(this,P,{writable:!0,value:!1}),c(this,E,{writable:!0,value:null}),c(this,C,{writable:!0,value:null}),c(this,T,{writable:!0,value:0}),c(this,k,{writable:!0,value:0}),c(this,M,{writable:!0,value:null}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(e){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map((t=>[t,e.get(t)])))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:J._defaultThickness=t;break;case r.AnnotationEditorParamsType.INK_COLOR:J._defaultColor=t;break;case r.AnnotationEditorParamsType.INK_OPACITY:J._defaultOpacity=t/100}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:g(this,R,ee).call(this,t);break;case r.AnnotationEditorParamsType.INK_COLOR:g(this,O,te).call(this,t);break;case r.AnnotationEditorParamsType.INK_OPACITY:g(this,D,ne).call(this,t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,J._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,J._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*J._defaultOpacity)]]}get propertiesToUpdate(){var e;return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||J._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||J._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:J._defaultOpacity))]]}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(g(this,z,he).call(this),g(this,U,ue).call(this)),this.isAttachedToDOM||(this.parent.add(this),g(this,H,de).call(this)),g(this,Z,we).call(this))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,p(this,C).disconnect(),d(this,C,null),super.remove())}enableEditMode(){p(this,x)||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",p(this,A)),this.canvas.addEventListener("pointerup",p(this,S)))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",p(this,A)),this.canvas.removeEventListener("pointerup",p(this,S)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){p(this,x)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),d(this,x,!0),this.div.classList.add("disabled"),g(this,Z,we).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(e){super.focusin(e),this.enableEditMode()}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!p(this,x)&&(this.setInForeground(),"mouse"!==e.type&&this.div.focus(),e.stopPropagation(),this.canvas.addEventListener("pointerleave",p(this,w)),this.canvas.addEventListener("pointermove",p(this,_)),g(this,F,se).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.stopPropagation(),g(this,N,oe).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){0===e.button&&this.isInEditMode()&&0!==this.currentPath.length&&(e.stopPropagation(),g(this,W,ce).call(this,e),this.setInBackground())}canvasPointerleave(e){g(this,W,ce).call(this,e),this.setInBackground()}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),J._l10nPromise.get("editor_ink_aria_label").then((e=>{var t;return null===(t=this.div)||void 0===t?void 0:t.setAttribute("aria-label",e)}));const[n,r,i,s]=g(this,I,re).call(this);if(this.setAt(n,r,0,0),this.setDims(i,s),g(this,z,he).call(this),this.width){const[n,r]=this.parent.viewportBaseDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r),d(this,P,!0),g(this,H,de).call(this),this.setDims(this.width*n,this.height*r),g(this,B,le).call(this),g(this,Q,Se).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return g(this,U,ue).call(this),this.div}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(p(this,T)===n&&p(this,k)===r)return;d(this,T,n),d(this,k,r),this.canvas.style.visibility="hidden",p(this,v)&&Math.abs(p(this,v)-e/t)>.01&&(t=Math.ceil(e/p(this,v)),this.setDims(e,t));const[i,s]=this.parent.viewportBaseDimensions;this.width=e/i,this.height=t/s,p(this,x)&&g(this,V,pe).call(this,e,t),g(this,H,de).call(this),g(this,B,le).call(this),this.canvas.style.visibility="visible"}static deserialize(e,t){const n=super.deserialize(e,t);n.thickness=e.thickness,n.color=r.Util.makeHexColor(...e.color),n.opacity=e.opacity;const[i,s]=t.pageDimensions,o=n.width*i,a=n.height*s,l=t.scaleFactor,c=e.thickness/2;d(n,v,o/a),d(n,x,!0),d(n,T,Math.round(o)),d(n,k,Math.round(a));for(const{bezier:t}of e.paths){const e=[];n.paths.push(e);let r=l*(t[0]-c),i=l*(a-t[1]-c);for(let n=2,s=t.length;n<s;n+=6){const s=l*(t[n]-c),o=l*(a-t[n+1]-c),h=l*(t[n+2]-c),u=l*(a-t[n+3]-c),d=l*(t[n+4]-c),p=l*(a-t[n+5]-c);e.push([[r,i],[s,o],[h,u],[d,p]]),r=d,i=p}const s=u(this,J,ge).call(this,e);n.bezierPath2D.push(s)}const h=g(n,Y,ye).call(n);return d(n,y,Math.max(m,h[2]-h[0])),d(n,b,Math.max(m,h[3]-h[1])),g(n,V,pe).call(n,o,a),n}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=this.rotation%180==0?e[3]-e[1]:e[2]-e[0],n=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:g(this,$,me).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,t),pageIndex:this.parent.pageIndex,rect:e,rotation:this.rotation}}}function ee(e){const t=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=e,g(this,Z,we).call(this)},undo:()=>{this.thickness=t,g(this,Z,we).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function te(e){const t=this.color;this.parent.addCommands({cmd:()=>{this.color=e,g(this,B,le).call(this)},undo:()=>{this.color=t,g(this,B,le).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function ne(e){e/=100;const t=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=e,g(this,B,le).call(this)},undo:()=>{this.opacity=t,g(this,B,le).call(this)},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function re(){const{width:e,height:t,rotation:n}=this.parent.viewport;switch(n){case 90:return[0,e,e,t];case 180:return[e,t,e,t];case 270:return[t,0,e,t];default:return[0,0,e,t]}}function ie(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,o.opacityToHex)(this.opacity)}`}function se(e,t){var n;this.isEditing=!0,p(this,P)||(d(this,P,!0),g(this,H,de).call(this),this.thickness||(this.thickness=J._defaultThickness),this.color||(this.color=J._defaultColor||i.AnnotationEditor._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=J._defaultOpacity)),this.currentPath.push([e,t]),d(this,E,null),g(this,L,ie).call(this),this.ctx.beginPath(),this.ctx.moveTo(e,t),d(this,M,(()=>{p(this,M)&&(p(this,E)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):g(this,B,le).call(this),this.ctx.lineTo(...p(this,E)),d(this,E,null),this.ctx.stroke()),window.requestAnimationFrame(p(this,M)))})),window.requestAnimationFrame(p(this,M))}function oe(e,t){const[n,r]=this.currentPath.at(-1);e===n&&t===r||(this.currentPath.push([e,t]),d(this,E,[e,t]))}function ae(e,t){this.ctx.closePath(),d(this,M,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height);const[n,r]=this.currentPath.at(-1);let i;if(e===n&&t===r||this.currentPath.push([e,t]),1!==this.currentPath.length)i=(0,s.fitCurve)(this.currentPath,30,null);else{const n=[e,t];i=[[n,n.slice(),n.slice(),n]]}const o=u(J,J,ge).call(J,i);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(i),this.bezierPath2D.push(o),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(g(this,z,he).call(this),g(this,U,ue).call(this)),g(this,Z,we).call(this))},mustExec:!0})}function le(){if(this.isEmpty())return void g(this,q,fe).call(this);g(this,L,ie).call(this);const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),g(this,q,fe).call(this);for(const e of this.bezierPath2D)t.stroke(e)}function ce(e){g(this,j,ae).call(this,e.offsetX,e.offsetY),this.canvas.removeEventListener("pointerleave",p(this,w)),this.canvas.removeEventListener("pointermove",p(this,_)),this.parent.addToAnnotationStorage(this)}function he(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",J._l10nPromise.get("editor_ink_canvas_aria_label").then((e=>{var t;return null===(t=this.canvas)||void 0===t?void 0:t.setAttribute("aria-label",e)})),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function ue(){d(this,C,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}))),p(this,C).observe(this.div)}function de(){if(!p(this,P))return;const[e,t]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),g(this,q,fe).call(this)}function pe(e,t){const n=g(this,K,_e).call(this),r=(e-n)/p(this,y),i=(t-n)/p(this,b);this.scaleFactor=Math.min(r,i)}function fe(){const e=g(this,K,_e).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function ge(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,s,o]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],s[0],s[1],o[0],o[1])}return t}function me(e,t,n,r){const i=[],s=this.thickness/2;let o,a;for(const l of this.paths){o=[],a=[];for(let i=0,c=l.length;i<c;i++){const[c,h,u,d]=l[i],p=e*(c[0]+t)+s,f=r-e*(c[1]+n)-s,m=e*(h[0]+t)+s,v=r-e*(h[1]+n)-s,b=e*(u[0]+t)+s,y=r-e*(u[1]+n)-s,_=e*(d[0]+t)+s,w=r-e*(d[1]+n)-s;0===i&&(o.push(p,f),a.push(p,f)),o.push(m,v,b,y,_,w),g(this,G,ve).call(this,p,f,m,v,b,y,_,w,4,a)}i.push({bezier:o,points:a})}return i}function ve(e,t,n,r,i,s,o,a,l,c){if(g(this,X,be).call(this,e,t,n,r,i,s,o,a))c.push(o,a);else{for(let h=1;h<l-1;h++){const u=h/l,d=1-u;let p=u*e+d*n,f=u*t+d*r,g=u*n+d*i,m=u*r+d*s;p=u*p+d*g,f=u*f+d*m,g=u*g+d*(u*i+d*o),m=u*m+d*(u*s+d*a),p=u*p+d*g,f=u*f+d*m,c.push(p,f)}c.push(o,a)}}function be(e,t,n,r,i,s,o,a){const l=(3*n-2*e-o)**2,c=(3*r-2*t-a)**2,h=(3*i-e-2*o)**2,u=(3*s-t-2*a)**2;return Math.max(l,h)+Math.max(c,u)<=10}function ye(){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(const s of this.paths)for(const[o,a,l,c]of s){const s=r.Util.bezierBoundingBox(...o,...a,...l,...c);e=Math.min(e,s[0]),n=Math.min(n,s[1]),t=Math.max(t,s[2]),i=Math.max(i,s[3])}return[e,n,t,i]}function _e(){return p(this,x)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function we(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!p(this,x))return void g(this,B,le).call(this);const t=g(this,Y,ye).call(this),n=g(this,K,_e).call(this);d(this,y,Math.max(m,t[2]-t[0])),d(this,b,Math.max(m,t[3]-t[1]));const r=Math.ceil(n+p(this,y)*this.scaleFactor),i=Math.ceil(n+p(this,b)*this.scaleFactor),[s,o]=this.parent.viewportBaseDimensions;this.width=r/s,this.height=i/o,d(this,v,r/i),g(this,Q,Se).call(this);const a=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],g(this,H,de).call(this),g(this,B,le).call(this),d(this,T,r),d(this,k,i),this.setDims(r,i);const c=e?n/this.scaleFactor/2:0;this.translate(a-this.translationX-c,l-this.translationY-c)}function Se(){const{style:e}=this.div;p(this,v)>=1?(e.minHeight="16px",e.minWidth=`${Math.round(p(this,v)*m)}px`):(e.minWidth="16px",e.minHeight=`${Math.round(m/p(this,v))}px`)}t.InkEditor=J,l(J,"_defaultColor",null),l(J,"_defaultOpacity",1),l(J,"_defaultThickness",1),l(J,"_l10nPromise",void 0),l(J,"_type","ink")},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;const r=n(151);t.fitCurve=r},e=>{"use strict";function t(e,i,s,o,a){var c,h,u,d,p,f,g,m,v,b,y,_,w;if(2===e.length)return _=l.vectorLen(l.subtract(e[0],e[1]))/3,[c=[e[0],l.addArrays(e[0],l.mulItems(i,_)),l.addArrays(e[1],l.mulItems(s,_)),e[1]]];if(h=function(e){var t,n,r,i=[];return e.forEach(((e,s)=>{t=s?n+l.vectorLen(l.subtract(e,r)):0,i.push(t),n=t,r=e})),i=i.map((e=>e/n))}(e),[c,d,f]=n(e,h,h,i,s,a),0===d||d<o)return[c];if(d<o*o)for(u=h,p=d,g=f,w=0;w<20;w++){if(u=r(c,e,u),[c,d,f]=n(e,h,u,i,s,a),d<o)return[c];if(f===g){let e=d/p;if(e>.9999&&e<1.0001)break}p=d,g=f}return y=[],(m=l.subtract(e[f-1],e[f+1])).every((e=>0===e))&&(m=l.subtract(e[f-1],e[f]),[m[0],m[1]]=[-m[1],m[0]]),v=l.normalize(m),b=l.mulItems(v,-1),y=(y=y.concat(t(e.slice(0,f+1),i,v,o,a))).concat(t(e.slice(f),b,s,o,a))}function n(e,t,n,r,i,a){var h,u,d;return h=function(e,t,n,r){var i,s,o,a,h,u,d,p,f,g,m,v,b,y,_,w,S,A=e[0],x=e[e.length-1];for(i=[A,null,null,x],s=l.zeros_Xx2x2(t.length),b=0,y=t.length;b<y;b++)S=1-(w=t[b]),(o=s[b])[0]=l.mulItems(n,3*w*(S*S)),o[1]=l.mulItems(r,3*S*(w*w));for(a=[[0,0],[0,0]],h=[0,0],b=0,y=e.length;b<y;b++)w=t[b],o=s[b],a[0][0]+=l.dot(o[0],o[0]),a[0][1]+=l.dot(o[0],o[1]),a[1][0]+=l.dot(o[0],o[1]),a[1][1]+=l.dot(o[1],o[1]),_=l.subtract(e[b],c.q([A,A,x,x],w)),h[0]+=l.dot(o[0],_),h[1]+=l.dot(o[1],_);return u=a[0][0]*a[1][1]-a[1][0]*a[0][1],d=a[0][0]*h[1]-a[1][0]*h[0],p=h[0]*a[1][1]-h[1]*a[0][1],f=0===u?0:p/u,g=0===u?0:d/u,v=l.vectorLen(l.subtract(A,x)),f<(m=1e-6*v)||g<m?(i[1]=l.addArrays(A,l.mulItems(n,v/3)),i[2]=l.addArrays(x,l.mulItems(r,v/3))):(i[1]=l.addArrays(A,l.mulItems(n,f)),i[2]=l.addArrays(x,l.mulItems(r,g))),i}(e,n,r,i),[u,d]=function(e,t,n){var r,i,a,h,u,d,p,f;i=0,a=Math.floor(e.length/2);const g=s(t,10);for(u=0,d=e.length;u<d;u++)p=e[u],f=o(0,n[u],g,10),(r=(h=l.subtract(c.q(t,f),p))[0]*h[0]+h[1]*h[1])>i&&(i=r,a=u);return[i,a]}(e,h,t),a&&a({bez:h,points:e,params:t,maxErr:u,maxPoint:d}),[h,u,d]}function r(e,t,n){return n.map(((n,r)=>i(e,t[r],n)))}function i(e,t,n){var r=l.subtract(c.q(e,n),t),i=c.qprime(e,n),s=l.mulMatrix(r,i),o=l.sum(l.squareItems(i))+2*l.mulMatrix(r,c.qprimeprime(e,n));return 0===o?n:n-s/o}var s=function(e,t){for(var n,r=[0],i=e[0],s=0,o=1;o<=t;o++)n=c.q(e,o/t),s+=l.vectorLen(l.subtract(n,i)),r.push(s),i=n;return r=r.map((e=>e/s))};function o(e,t,n,r){if(t<0)return 0;if(t>1)return 1;for(var i,s,o,a,l=1;l<=r;l++)if(t<=n[l]){o=(l-1)/r,s=l/r,a=(t-(i=n[l-1]))/(n[l]-i)*(s-o)+o;break}return a}function a(e,t){return l.normalize(l.subtract(e,t))}class l{static zeros_Xx2x2(e){for(var t=[];e--;)t.push([0,0]);return t}static mulItems(e,t){return e.map((e=>e*t))}static mulMatrix(e,t){return e.reduce(((e,n,r)=>e+n*t[r]),0)}static subtract(e,t){return e.map(((e,n)=>e-t[n]))}static addArrays(e,t){return e.map(((e,n)=>e+t[n]))}static addItems(e,t){return e.map((e=>e+t))}static sum(e){return e.reduce(((e,t)=>e+t))}static dot(e,t){return l.mulMatrix(e,t)}static vectorLen(e){return Math.hypot(...e)}static divItems(e,t){return e.map((e=>e/t))}static squareItems(e){return e.map((e=>e*e))}static normalize(e){return this.divItems(e,this.vectorLen(e))}}class c{static q(e,t){var n=1-t,r=l.mulItems(e[0],n*n*n),i=l.mulItems(e[1],3*n*n*t),s=l.mulItems(e[2],3*n*t*t),o=l.mulItems(e[3],t*t*t);return l.addArrays(l.addArrays(r,i),l.addArrays(s,o))}static qprime(e,t){var n=1-t,r=l.mulItems(l.subtract(e[1],e[0]),3*n*n),i=l.mulItems(l.subtract(e[2],e[1]),6*n*t),s=l.mulItems(l.subtract(e[3],e[2]),3*t*t);return l.addArrays(l.addArrays(r,i),s)}static qprimeprime(e,t){return l.addArrays(l.mulItems(l.addArrays(l.subtract(e[2],l.mulItems(e[1],2)),e[0]),6*(1-t)),l.mulItems(l.addArrays(l.subtract(e[3],l.mulItems(e[2],2)),e[1]),6*t))}}e.exports=function(e,n,r){if(!Array.isArray(e))throw new TypeError("First argument should be an array");if(e.forEach((t=>{if(!Array.isArray(t)||t.some((e=>"number"!=typeof e))||t.length!==e[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")})),(e=e.filter(((t,n)=>0===n||!t.every(((t,r)=>t===e[n-1][r]))))).length<2)return[];const i=e.length,s=a(e[1],e[0]),o=a(e[i-2],e[i-1]);return t(e,s,o,n,r)},e.exports.fitCubic=t,e.exports.createTangent=a},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),i=n(133),s=n(130),o=n(153),a=n(154);function l(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}const c=1e3,h=new WeakSet;function u(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class d{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new f(e);case r.AnnotationType.TEXT:return new g(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new v(e);case"Btn":return e.data.radioButton?new y(e):e.data.checkBox?new b(e):new _(e);case"Ch":return new w(e)}return new m(e);case r.AnnotationType.POPUP:return new S(e);case r.AnnotationType.FREETEXT:return new x(e);case r.AnnotationType.LINE:return new P(e);case r.AnnotationType.SQUARE:return new E(e);case r.AnnotationType.CIRCLE:return new C(e);case r.AnnotationType.POLYLINE:return new T(e);case r.AnnotationType.CARET:return new M(e);case r.AnnotationType.INK:return new R(e);case r.AnnotationType.POLYGON:return new k(e);case r.AnnotationType.HIGHLIGHT:return new O(e);case r.AnnotationType.UNDERLINE:return new D(e);case r.AnnotationType.SQUIGGLY:return new I(e);case r.AnnotationType.STRIKEOUT:return new L(e);case r.AnnotationType.STAMP:return new F(e);case r.AnnotationType.FILEATTACHMENT:return new N(e);default:return new p(e)}}}class p{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,t&&(this.container=this._createContainer(n)),r&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.data,n=this.page,i=this.viewport,s=document.createElement("section"),{width:o,height:a}=u(t.rect),[l,c,h,d]=i.viewBox,p=h-l,f=d-c;s.setAttribute("data-annotation-id",t.id);const g=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){s.style.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;s.style.borderRadius=t}else if(this instanceof y){const e=`calc(${o}px * var(--scale-factor)) / calc(${a}px * var(--scale-factor))`;s.style.borderRadius=e}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:s.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:s.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:s.style.borderBottomStyle="solid"}const i=t.borderColor||null;i?s.style.borderColor=r.Util.makeHexColor(0|i[0],0|i[1],0|i[2]):s.style.borderWidth=0}s.style.left=100*(g[0]-l)/p+"%",s.style.top=100*(g[1]-c)/f+"%";const{rotation:m}=t;return t.hasOwnCanvas||0===m?(s.style.width=100*o/p+"%",s.style.height=100*a/f+"%"):this.setRotation(m,s),s}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;const[n,r,i,s]=this.viewport.viewBox,o=i-n,a=s-r,{width:l,height:c}=u(this.data.rect);let h,d;e%180==0?(h=100*l/o,d=100*c/a):(h=100*c/o,d=100*l/a),t.style.width=`${h}%`,t.style.height=`${d}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e];n.target.style[t]=o.ColorConverters[`${r[0]}_HTML`](r.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:e=>{const t=e.detail.display%2==1;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:t,print:0===e.detail.display||3===e.detail.display})},print:e=>{this.annotationStorage.setValue(this.data.id,{print:e.detail.print})},hidden:e=>{this.container.style.visibility=e.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:e.detail.hidden})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];i&&i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const s=n[r];s&&(s({detail:{[r]:i},target:e}),delete t[r])}}_createQuadrilaterals(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;const t=[],n=this.data.rect;for(const n of this.data.quadPoints)this.data.rect=[n[2].x,n[2].y,n[1].x,n[1].y],t.push(this._createContainer(e));return this.data.rect=n,t}_createPopup(e,t){let n=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,n=this.quadrilaterals[0]),e||((e=document.createElement("div")).className="popupTriggerArea",n.append(e));const r=new A({container:n,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,hideWrapper:!0}).render();r.style.left="100%",n.append(r)}_renderQuadrilaterals(e){for(const t of this.quadrilaterals)t.className=e;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:s,exportValues:o}of i){if(-1===e)continue;if(s===t)continue;const i="string"==typeof o?o:null,a=document.querySelector(`[data-element-id="${s}"]`);!a||h.has(a)?n.push({id:s,exportValue:i,domElement:a}):(0,r.warn)(`_getElementsByName - element not allowed: ${s}`)}return n}for(const r of document.getElementsByName(e)){const{id:e,exportValue:i}=r;e!==t&&h.has(r)&&n.push({id:e,exportValue:i,domElement:r})}return n}static get platform(){const e="undefined"!=typeof navigator?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class f extends p{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null==t||!t.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(((e,t)=>{const r=0===t?n:n.cloneNode();return e.append(r),e})):(this.container.className="linkAnnotation",r&&this.container.append(n),this.container)}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),e.className="internalLink"}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n&&n();const{fields:e,refs:i,include:s}=t,o=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===s&&o.push(n)}else for(const e of Object.values(this._fieldObjects))o.push(...e);const a=this.annotationStorage,l=[];for(const e of o){const{id:t}=e;switch(l.push(t),e.type){case"text":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;a.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${t}"]`);n&&(h.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)(`_bindResetFormAction - element not allowed: ${t}`))}var c;return this.enableScripting&&(null===(c=this.linkService.eventBus)||void 0===c||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}})),!1}}}class g extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.append(e),this.container}}class m extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:t,isMac:n}=p.platform;return t&&e.ctrlKey||n&&e.metaKey}_setEventListener(e,t,n,r){t.includes("mouse")?e.addEventListener(t,(e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(t,(e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e)}})}))}_setEventListeners(e,t,n){for(const[i,s]of t){var r;("Action"===s||null!==(r=this.data.actions)&&void 0!==r&&r[s])&&this._setEventListener(e,i,s,n)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,s=e.style;let o;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]),t=e/(Math.round(e/(r.LINE_FACTOR*i))||1);o=Math.min(i,Math.round(t/r.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]);o=Math.min(i,Math.round(e/r.LINE_FACTOR))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=r.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class v extends m{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),i.setValue(s.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let s=i.formattedValue||i.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));const a={userValue:s,formattedValue:null,valueOnFocus:""};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",s),this.data.doNotScroll&&(n.style.overflowX="hidden")),h.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=c,this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value")})),n.addEventListener("resetform",(e=>{var t;const r=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=a.userValue=r,a.formattedValue=null}));let l=e=>{const{formattedValue:t}=a;null!=t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var r;n.addEventListener("focus",(e=>{a.userValue&&(e.target.value=a.userValue),a.valueOnFocus=e.target.value})),n.addEventListener("updatefromsandbox",(n=>{const r={value(n){var r;a.userValue=null!==(r=n.detail.value)&&void 0!==r?r:"",e.setValue(t,{value:a.userValue.toString()}),n.target.value=a.userValue},formattedValue(n){const{formattedValue:r}=n.detail;a.formattedValue=r,null!=r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var r;const{charLimit:i}=n.detail,{target:s}=n;if(0===i)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",i);let o=a.userValue;!o||o.length<=i||(o=o.slice(0,i),s.value=a.userValue=o,e.setValue(t,{value:o}),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{var n;let r=-1;if("Escape"===e.key?r=0:"Enter"===e.key?r=2:"Tab"===e.key&&(r=3),-1===r)return;const{value:i}=e.target;a.valueOnFocus!==i&&(a.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const i=l;l=null,n.addEventListener("blur",(e=>{const{value:n}=e.target;var r;a.userValue=n,this._mouseState.isDown&&a.valueOnFocus!==n&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})),i(e)})),null!==(r=this.data.actions)&&void 0!==r&&r.Keystroke&&n.addEventListener("beforeinput",(e=>{var n;const{data:r,target:i}=e,{value:s,selectionStart:o,selectionEnd:a}=i;let l=o,c=a;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,o).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=s.substring(o).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":o===a&&(l-=1);break;case"deleteContentForward":o===a&&(c+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:r||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class b extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"==typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.className="buttonWidgetAnnotation checkBox";const i=document.createElement("input");return h.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=c,i.addEventListener("change",(r=>{const{name:i,checked:s}=r.target;for(const r of this._getElementsByName(i,n)){const n=s&&r.exportValue===t.exportValue;r.domElement&&(r.domElement.checked=n),e.setValue(r.id,{value:n})}e.setValue(n,{value:s})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class y extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;"string"==typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r}));const i=document.createElement("input");if(h.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=c,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const t of this._getElementsByName(r,n))e.setValue(t.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!=n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class _ extends f{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class w extends m{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");h.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=c;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const e of r.options)e.selected=e.value===t}));for(const e of this.data.options){const t=document.createElement("option");t.textContent=e.displayValue,t.value=e.exportValue,n.value.includes(e.exportValue)&&(t.setAttribute("selected",!0),i=!1),r.append(t)}let s=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),s=()=>{e.remove(),r.removeEventListener("input",s),s=null},r.addEventListener("input",s)}const o=(e,t)=>{const n=t?"value":"textContent",r=e.target.options;return e.target.multiple?Array.prototype.filter.call(r,(e=>e.selected)).map((e=>e[n])):-1===r.selectedIndex?null:r[r.selectedIndex][n]},a=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){var i;null===(i=s)||void 0===i||i();const a=n.detail.value,l=new Set(Array.isArray(a)?a:[a]);for(const e of r.options)e.selected=l.has(e.value);e.setValue(t,{value:o(n,!0)})},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,s=n.detail.remove;i[s].selected=!1,r.remove(s),i.length>0&&-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0),e.setValue(t,{value:o(n,!0),items:a(n)})},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]})},insert(n){const{index:i,displayValue:s,exportValue:l}=n.detail.insert,c=r.children[i],h=document.createElement("option");h.textContent=s,h.value=l,c?c.before(h):r.append(h),e.setValue(t,{value:o(n,!0),items:a(n)})},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(n,!0),items:a(n)})},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:o(n,!0)})},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{var r;const i=o(n,!0),s=o(n,!1);e.setValue(t,{value:i}),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,changeEx:i,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(e=>e.target.checked))):r.addEventListener("input",(function(n){e.setValue(t,{value:o(n,!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class S extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const e=`[data-annotation-id="${this.data.parentId}"]`,t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;const n=new A({container:this.container,trigger:Array.from(t),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),i=this.page,s=r.Util.normalizeRect([this.data.parentRect[0],i.view[3]-this.data.parentRect[1]+i.view[1],this.data.parentRect[2],i.view[3]-this.data.parentRect[3]+i.view[1]]),o=s[0]+this.data.parentRect[2]-this.data.parentRect[0],a=s[1],[l,c,h,u]=this.viewport.viewBox,d=h-l,p=u-c;return this.container.style.left=100*(o-l)/d+"%",this.container.style.top=100*(a-c)/p+"%",this.container.append(n.render()),this.container}}class A{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){var e,t;const n=document.createElement("div");n.className="popupWrapper",this.hideElement=this.hideWrapper?n:this.container,this.hideElement.hidden=!0;const s=document.createElement("div");s.className="popup";const o=this.color;if(o){const e=.7*(255-o[0])+o[0],t=.7*(255-o[1])+o[1],n=.7*(255-o[2])+o[2];s.style.backgroundColor=r.Util.makeHexColor(0|e,0|t,0|n)}const l=document.createElement("h1");l.dir=this.titleObj.dir,l.textContent=this.titleObj.str,s.append(l);const c=i.PDFDateString.toDateObject(this.modificationDate);if(c){const e=document.createElement("span");e.className="popupDate",e.textContent="{{date}}, {{time}}",e.dataset.l10nId="annotation_date_string",e.dataset.l10nArgs=JSON.stringify({date:c.toLocaleDateString(),time:c.toLocaleTimeString()}),s.append(e)}if(null===(e=this.richText)||void 0===e||!e.str||null!==(t=this.contentsObj)&&void 0!==t&&t.str&&this.contentsObj.str!==this.richText.str){const e=this._formatContents(this.contentsObj);s.append(e)}else a.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:s}),s.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const e of this.trigger)e.addEventListener("click",this._toggle.bind(this)),e.addEventListener("mouseover",this._show.bind(this,!1)),e.addEventListener("mouseout",this._hide.bind(this,!1));return s.addEventListener("click",this._hide.bind(this,!0)),n.append(s),n}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.className="popupContent",r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let e=0,t=i.length;e<t;++e){const n=i[e];r.append(document.createTextNode(n)),e<t-1&&r.append(document.createElement("br"))}return r}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class x extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0}),this.textContent=e.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const e=document.createElement("div");e.className="annotationTextContent",e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class P extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),this._createPopup(i,e),this.container}}class E extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,s=this.svgFactory.createElement("svg:rect");return s.setAttribute("x",i/2),s.setAttribute("y",i/2),s.setAttribute("width",t-i),s.setAttribute("height",n-i),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),this._createPopup(s,e),this.container}}class C extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,s=this.svgFactory.createElement("svg:ellipse");return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-i/2),s.setAttribute("ry",n/2-i/2),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),this._createPopup(s,e),this.container}}class T extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);let i=[];for(const t of e.vertices){const n=t.x-e.rect[0],r=e.rect[3]-t.y;i.push(n+","+r)}i=i.join(" ");const s=this.svgFactory.createElement(this.svgElementName);return s.setAttribute("points",i),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),this._createPopup(s,e),this.container}}class k extends T{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class M extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class R extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);for(const t of e.inkLists){let n=[];for(const r of t){const t=r.x-e.rect[0],i=e.rect[3]-r.y;n.push(`${t},${i}`)}n=n.join(" ");const i=this.svgFactory.createElement(this.svgElementName);i.setAttribute("points",n),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),this._createPopup(i,e),r.append(i)}return this.container.append(r),this.container}}class O extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class D extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class I extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class L extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class F extends p{constructor(e){var t,n,r;super(e,{isRenderable:!!(e.data.hasPopup||null!==(t=e.data.titleObj)&&void 0!==t&&t.str||null!==(n=e.data.contentsObj)&&void 0!==n&&n.str||null!==(r=e.data.richText)&&void 0!==r&&r.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class N extends p{constructor(e){var t;super(e,{isRenderable:!0});const{filename:n,content:r}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(n),this.content=r,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",{source:this,filename:n,content:r})}render(){var e,t;this.container.className="fileAttachmentAnnotation";const n=document.createElement("div");return n.className="popupTriggerArea",n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(e=this.data.titleObj)&&void 0!==e&&e.str||null!==(t=this.data.contentsObj)&&void 0!==t&&t.str||this.data.richText)&&this._createPopup(n,this.data),this.container.append(n),this.container}_download(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}}class j{static render(e){const{annotations:t,div:n,viewport:o,accessibilityManager:a}=e;l(this,j,W).call(this,n,o);let c=0;for(const h of t){if(h.annotationType!==r.AnnotationType.POPUP){const{width:e,height:t}=u(h.rect);if(e<=0||t<=0)continue}const t=d.create({data:h,layer:n,page:e.page,viewport:o,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new i.DOMSVGFactory,annotationStorage:e.annotationStorage||new s.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(t.isRenderable){const e=t.render();if(h.hidden&&(e.style.visibility="hidden"),Array.isArray(e))for(const t of e)t.style.zIndex=c++,l(j,j,B).call(j,t,h.id,n,a);else e.style.zIndex=c++,t instanceof S?n.prepend(e):l(j,j,B).call(j,e,h.id,n,a)}}l(this,j,z).call(this,n,e.annotationCanvasMap)}static update(e){const{annotationCanvasMap:t,div:n,viewport:r}=e;l(this,j,W).call(this,n,r),l(this,j,z).call(this,n,t),n.hidden=!1}}function B(e,t,n,r){const s=e.firstChild||e;s.id=`${i.AnnotationPrefix}${t}`,n.append(e),null==r||r.moveElementInDOM(n,e,s,!1)}function W(e,t){let{width:n,height:r,rotation:i}=t;const{style:s}=e,o=i%180!=0,a=Math.floor(n)+"px",l=Math.floor(r)+"px";s.width=o?l:a,s.height=o?a:l,e.setAttribute("data-main-rotation",i)}function z(e,t){if(t){for(const[n,r]of t){const t=e.querySelector(`[data-annotation-id="${n}"]`);if(!t)continue;const{firstChild:i}=t;i?"CANVAS"===i.nodeName?i.replaceWith(r):i.before(r):t.append(r)}t.clear()}}t.AnnotationLayer=j},(e,t)=>{"use strict";function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_HTML(e){let[t]=e;const r=n(t);return`#${r}${r}${r}`}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_HTML(e){let[t,r,i]=e;return`#${n(t)}${n(r)}${n(i)}`}static T_HTML(){return"#00000000"}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,s=1-n,o=1-r;return["CMYK",i,s,o,Math.min(i,s,o)]}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(145);t.XfaLayer=class{static setupStorage(e,t,n,r,i){const s=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(e.textContent=s.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==s.value&&e.setAttribute("value",s.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==s.value)for(const e of n.children)e.attributes.value===s.value&&(e.attributes.selected=!0);e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:s}=e;const{attributes:o}=n,a=t instanceof HTMLAnchorElement;"radio"===o.type&&(o.name=`${o.name}-${i}`);for(const[e,n]of Object.entries(o))if(null!=n)switch(e){case"class":n.length&&t.setAttribute(e,n.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",n);break;case"style":Object.assign(t.style,n);break;case"textContent":t.textContent=n;break;default:(!a||"href"!==e&&"newWindow"!==e)&&t.setAttribute(e,n)}a&&s.addLinkAttributes(t,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(t,o.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:n});const a=[[i,-1,o]],l=e.div;if(l.append(o),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=t}"richText"!==s&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;a.length>0;){var h;const[e,i,o]=a.at(-1);if(i+1===e.children.length){a.pop();continue}const l=e.children[++a.at(-1)[1]];if(null===l)continue;const{name:u}=l;if("#text"===u){const e=document.createTextNode(l.value);c.push(e),o.append(e);continue}let d;if(d=null!=l&&null!==(h=l.attributes)&&void 0!==h&&h.xmlns?document.createElementNS(l.attributes.xmlns,u):document.createElement(u),o.append(d),l.attributes&&this.setAttributes({html:d,element:l,storage:t,intent:s,linkService:n}),l.children&&l.children.length>0)a.push([l,-1,d]);else if(l.value){const e=document.createTextNode(l.value);r.XfaText.shouldBuildText(u)&&c.push(e),d.append(e)}}for(const e of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))e.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){const t=new p({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t};var r=n(1),i=n(133);const s=30,o=new Map,a=/^\s+$/g;function l(e,t,n,i){const l=document.createElement("span"),c=e._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(l);const h=r.Util.transform(e._viewport.transform,t.transform);let u=Math.atan2(h[1],h[0]);const d=n[t.fontName];d.vertical&&(u+=Math.PI/2);const p=Math.hypot(h[2],h[3]),f=p*function(e,t){const n=o.get(e);if(n)return n;t.save(),t.font=`30px ${e}`;const r=t.measureText("");let i=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);if(i){t.restore();const n=i/(i+a);return o.set(e,n),n}t.strokeStyle="red",t.clearRect(0,0,s,s),t.strokeText("g",0,0);let l=t.getImageData(0,0,s,s).data;a=0;for(let e=l.length-1-3;e>=0;e-=4)if(l[e]>0){a=Math.ceil(e/4/s);break}t.clearRect(0,0,s,s),t.strokeText("A",0,s),l=t.getImageData(0,0,s,s).data,i=0;for(let e=0,t=l.length;e<t;e+=4)if(l[e]>0){i=s-Math.floor(e/4/s);break}if(t.restore(),i){const t=i/(i+a);return o.set(e,t),t}return o.set(e,.8),.8}(d.fontFamily,i);let g,m;0===u?(g=h[4],m=h[5]-f):(g=h[4]+f*Math.sin(u),m=h[5]-f*Math.cos(u)),l.style.left=`${g}px`,l.style.top=`${m}px`,l.style.fontSize=`${p}px`,l.style.fontFamily=d.fontFamily,c.fontSize=p,l.setAttribute("role","presentation"),l.textContent=t.str,l.dir=t.dir,e._fontInspectorEnabled&&(l.dataset.fontName=t.fontName),0!==u&&(c.angle=u*(180/Math.PI));let v=!1;if(t.str.length>1||e._enhanceTextSelection&&a.test(t.str))v=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(v=!0)}if(v&&(d.vertical?c.canvasWidth=t.height*e._viewport.scale:c.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(l,c),e._textContentStream&&e._layoutText(l),e._enhanceTextSelection&&c.hasText){let n=1,i=0;0!==u&&(n=Math.cos(u),i=Math.sin(u));const s=(d.vertical?t.height:t.width)*e._viewport.scale,o=p;let a,c;0!==u?(a=[n,i,-i,n,g,m],c=r.Util.getAxialAlignedBoundingBox([0,0,s,o],a)):c=[g,m,g+s,m+o],e._bounds.push({left:c[0],top:c[1],right:c[2],bottom:c[3],div:l,size:[s,o],m:a})}}function c(e){if(e._canceled)return;const t=e._textDivs,n=e._capability,r=t.length;if(r>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(let n=0;n<r;n++)e._layoutText(t[n]);e._renderingDone=!0,n.resolve()}function h(e,t,n){let r=0;for(let i=0;i<n;i++){const n=e[t++];n>0&&(r=r?Math.min(n,r):n)}return r}function u(e){const t=e._bounds,n=e._viewport,i=function(e,t,n){const r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));d(e,r);const i=new Array(n.length);for(const e of r){const t=e.index;i[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}n.map((function(t,n){const s=i[n],o=r[n];o.x1=t.top,o.y1=e-s.right,o.x2=t.bottom,o.y2=e-s.left,o.index=n,o.x1New=void 0,o.x2New=void 0})),d(t,r);for(const e of r){const t=e.index;i[t].top=e.x1New,i[t].bottom=e.x2New}return i}(n.width,n.height,t);for(let n=0;n<i.length;n++){const s=t[n].div,o=e._textDivProperties.get(s);if(0===o.angle){o.paddingLeft=t[n].left-i[n].left,o.paddingTop=t[n].top-i[n].top,o.paddingRight=i[n].right-t[n].right,o.paddingBottom=i[n].bottom-t[n].bottom,e._textDivProperties.set(s,o);continue}const a=i[n],l=t[n],c=l.m,u=c[0],d=c[1],p=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],f=new Float64Array(64);for(let e=0,t=p.length;e<t;e++){const t=r.Util.applyTransform(p[e],c);f[e+0]=u&&(a.left-t[0])/u,f[e+4]=d&&(a.top-t[1])/d,f[e+8]=u&&(a.right-t[0])/u,f[e+12]=d&&(a.bottom-t[1])/d,f[e+16]=d&&(a.left-t[0])/-d,f[e+20]=u&&(a.top-t[1])/u,f[e+24]=d&&(a.right-t[0])/-d,f[e+28]=u&&(a.bottom-t[1])/u,f[e+32]=u&&(a.left-t[0])/-u,f[e+36]=d&&(a.top-t[1])/-d,f[e+40]=u&&(a.right-t[0])/-u,f[e+44]=d&&(a.bottom-t[1])/-d,f[e+48]=d&&(a.left-t[0])/d,f[e+52]=u&&(a.top-t[1])/-u,f[e+56]=d&&(a.right-t[0])/d,f[e+60]=u&&(a.bottom-t[1])/-u}const g=1+Math.min(Math.abs(u),Math.abs(d));o.paddingLeft=h(f,32,16)/g,o.paddingTop=h(f,48,16)/g,o.paddingRight=h(f,0,16)/g,o.paddingBottom=h(f,16,16)/g,e._textDivProperties.set(s,o)}}function d(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const e of t){let t=0;for(;t<n.length&&n[t].end<=e.y1;)t++;let r,i,s=n.length-1;for(;s>=0&&n[s].start>=e.y2;)s--;let o,a,l=-1/0;for(o=t;o<=s;o++){let t;r=n[o],i=r.boundary,t=i.x2>e.x1?i.index>e.index?i.x1New:e.x1:void 0===i.x2New?(i.x2+e.x1)/2:i.x2New,t>l&&(l=t)}for(e.x1New=l,o=t;o<=s;o++)r=n[o],i=r.boundary,void 0===i.x2New?i.x2>e.x1?i.index>e.index&&(i.x2New=i.x2):i.x2New=l:i.x2New>l&&(i.x2New=Math.max(l,i.x2));const c=[];let h=null;for(o=t;o<=s;o++){r=n[o],i=r.boundary;const t=i.x2>e.x2?i:e;h===t?c.at(-1).end=r.end:(c.push({start:r.start,end:r.end,boundary:t}),h=t)}for(n[t].start<e.y1&&(c[0].start=e.y1,c.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[s].end&&(c.at(-1).end=e.y2,c.push({start:e.y2,end:n[s].end,boundary:n[s].boundary})),o=t;o<=s;o++){if(r=n[o],i=r.boundary,void 0!==i.x2New)continue;let e=!1;for(a=t-1;!e&&a>=0&&n[a].start>=i.y1;a--)e=n[a].boundary===i;for(a=s+1;!e&&a<n.length&&n[a].end<=i.y2;a++)e=n[a].boundary===i;for(a=0;!e&&a<c.length;a++)e=c[a].boundary===i;e||(i.x2New=l)}Array.prototype.splice.apply(n,[t,s-t+1,...c])}for(const t of n){const n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}}class p{constructor(e){var t;let{textContent:n,textContentStream:s,container:o,viewport:a,textDivs:l,textContentItemsStr:c,enhanceTextSelection:h}=e;h&&(0,i.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=n,this._textContentStream=s,this._container=o,this._document=o.ownerDocument,this._viewport=a,this._textDivs=l||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!h,this._fontInspectorEnabled=!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally((()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(e,t){for(let n=0,r=e.length;n<r;n++)if(void 0!==e[n].str)this._textContentItemsStr.push(e[n].str),l(this,e[n],t,this._layoutTextCtx);else if("beginMarkedContentProps"===e[n].type||"beginMarkedContent"===e[n].type){const t=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==e[n].id&&this._container.setAttribute("id",`${e[n].id}`),t.append(this._container)}else"endMarkedContent"===e[n].type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._textDivProperties.get(e);let n="";if(0!==t.canvasWidth&&t.hasText){const{fontFamily:r}=e.style,{fontSize:i}=t;i===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${i*this._devicePixelRatio}px ${r}`,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=r);const{width:s}=this._layoutTextCtx.measureText(e.textContent);if(s>0){const e=this._devicePixelRatio*t.canvasWidth/s;this._enhanceTextSelection&&(t.scale=e),n=`scaleX(${e})`}}if(0!==t.angle&&(n=`rotate(${t.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=(0,r.createPromiseCapability)();let n=Object.create(null);const i=this._document.createElement("canvas");if(i.height=i.width=s,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent){const e=this._textContent.items,n=this._textContent.styles;this._processItems(e,n),t.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const e=()=>{this._reader.read().then((r=>{let{value:i,done:s}=r;s?t.resolve():(Object.assign(n,i.styles),this._processItems(i.items,n),e())}),t.reject)};this._reader=this._textContentStream.getReader(),e()}}t.promise.then((()=>{n=null,e?this._renderTimer=setTimeout((()=>{c(this),this._renderTimer=null}),e):c(this)}),this._capability.reject)}expandTextDivs(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(u(this),this._bounds=null);const t=[],n=[];for(let r=0,i=this._textDivs.length;r<i;r++){const i=this._textDivs[r],s=this._textDivProperties.get(i);s.hasText&&(e?(t.length=0,n.length=0,s.originalTransform&&t.push(s.originalTransform),s.paddingTop>0?(n.push(`${s.paddingTop}px`),t.push(`translateY(${-s.paddingTop}px)`)):n.push(0),s.paddingRight>0?n.push(s.paddingRight/s.scale+"px"):n.push(0),s.paddingBottom>0?n.push(`${s.paddingBottom}px`):n.push(0),s.paddingLeft>0?(n.push(s.paddingLeft/s.scale+"px"),t.push(`translateX(${-s.paddingLeft/s.scale}px)`)):n.push(0),i.style.padding=n.join(" "),t.length&&(i.style.transform=t.join(" "))):(i.style.padding=null,i.style.transform=s.originalTransform))}}}t.TextLayerRenderTask=p},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(133),i=n(1),s=n(3);let o=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=o;{const a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",h=["butt","round","square"],u=["miter","round","bevel"],d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!=typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i=`data:${t};base64,`;for(let t=0,n=e.length;t<n;t+=3){const s=255&e[t],o=255&e[t+1],a=255&e[t+2];i+=r[s>>2]+r[(3&s)<<4|o>>4]+r[t+1<n?(15&o)<<2|a>>6:64]+r[t+2<n?63&a:64]}return i},p=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let e=0;e<256;e++){let n=e;for(let e=0;e<8;e++)n=1&n?3988292384^n>>1&2147483647:n>>1&2147483647;t[e]=n}function n(e,n,r,i){let s=i;const o=n.length;r[s]=o>>24&255,r[s+1]=o>>16&255,r[s+2]=o>>8&255,r[s+3]=255&o,s+=4,r[s]=255&e.charCodeAt(0),r[s+1]=255&e.charCodeAt(1),r[s+2]=255&e.charCodeAt(2),r[s+3]=255&e.charCodeAt(3),s+=4,r.set(n,s),s+=n.length;const a=function(e,n,r){let i=-1;for(let s=n;s<r;s++){const n=255&(i^e[s]);i=i>>>8^t[n]}return~i}(r,i+4,s);r[s]=a>>24&255,r[s+1]=a>>16&255,r[s+2]=a>>8&255,r[s+3]=255&a}function r(e){let t=e.length;const n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4);let s=0;i[s++]=120,i[s++]=156;let o=0;for(;t>n;)i[s++]=0,i[s++]=255,i[s++]=255,i[s++]=0,i[s++]=0,i.set(e.subarray(o,o+n),s),s+=n,o+=n,t-=n;i[s++]=1,i[s++]=255&t,i[s++]=t>>8&255,i[s++]=255&~t,i[s++]=(65535&~t)>>8&255,i.set(e.subarray(o),s),s+=e.length-o;const a=function(e,t,n){let r=1,i=0;for(let s=t;s<n;++s)r=(r+(255&e[s]))%65521,i=(i+r)%65521;return i<<16|r}(e,0,e.length);return i[s++]=a>>24&255,i[s++]=a>>16&255,i[s++]=a>>8&255,i[s++]=255&a,i}function o(t,o,a,l){const c=t.width,h=t.height;let u,p,f;const g=t.data;switch(o){case i.ImageKind.GRAYSCALE_1BPP:p=0,u=1,f=c+7>>3;break;case i.ImageKind.RGB_24BPP:p=2,u=8,f=3*c;break;case i.ImageKind.RGBA_32BPP:p=6,u=8,f=4*c;break;default:throw new Error("invalid format")}const m=new Uint8Array((1+f)*h);let v=0,b=0;for(let e=0;e<h;++e)m[v++]=0,m.set(g.subarray(b,b+f),v),b+=f,v+=f;if(o===i.ImageKind.GRAYSCALE_1BPP&&l){v=0;for(let e=0;e<h;e++){v++;for(let e=0;e<f;e++)m[v++]^=255}}const y=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,h>>24&255,h>>16&255,h>>8&255,255&h,u,p,0,0,0]),_=function(e){if(!s.isNodeJS)return r(e);try{let t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);const n=__webpack_require__(87324).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return r(e)}(m),w=e.length+36+y.length+_.length,S=new Uint8Array(w);let A=0;return S.set(e,A),A+=e.length,n("IHDR",y,S,A),A+=12+y.length,n("IDATA",_,S,A),A+=12+_.length,n("IEND",new Uint8Array(0),S,A),d(S,"image/png",a)}return function(e,t,n){return o(e,void 0===e.kind?i.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function g(e){let t=[];const n=[];for(const r of e)"save"!==r.fn?"restore"===r.fn?t=n.pop():t.push(r):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t.at(-1).items);return t}function m(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function v(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${m(e[0])} ${m(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2])return`rotate(${m(180*Math.acos(e[0])/Math.PI)})`}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${m(e[4])} ${m(e[5])})`;return`matrix(${m(e[0])} ${m(e[1])} ${m(e[2])} ${m(e[3])} ${m(e[4])} ${m(e[5])})`}let b=0,y=0,_=0;t.SVGGraphics=o=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new f,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const e in i.OPS)this._operatorIdMapping[i.OPS[e]]=e}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let e=0,r=t.length;e<r;e++)if(t[e]===i.OPS.dependency)for(const t of n[e]){const e=t.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{e.get(t,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,r,s,o){const a=[e,t,n,r,s,o];this.transformMatrix=i.Util.transform(this.transformMatrix,a),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n)))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[];for(let e=0,s=r.length;e<s;e++){const s=r[e];i.push({fnId:s,fn:t[s],args:n[e]})}return g(i)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,r=t.args;switch(0|n){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(r);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case i.OPS.setFont:this.setFont(r);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(r[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(r[0],r[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case i.OPS.setHScale:this.setHScale(r[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.setTextRise:this.setTextRise(r[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case i.OPS.setLineWidth:this.setLineWidth(r[0]);break;case i.OPS.setLineJoin:this.setLineJoin(r[0]);break;case i.OPS.setLineCap:this.setLineCap(r[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case i.OPS.setFillColorN:this.setFillColorN(r);break;case i.OPS.shadingFill:this.shadingFill(r[0]);break;case i.OPS.setDash:this.setDash(r[0],r[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case i.OPS.setFlatness:this.setFlatness(r[0]);break;case i.OPS.setGState:this.setGState(r[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case i.OPS.constructPath:this.constructPath(r[0],r[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,i.warn)(`Unimplemented operator ${e}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,r,i,s){const o=this.current;o.textMatrix=o.lineMatrix=[e,t,n,r,i,s],o.textMatrixScale=Math.hypot(e,t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",`${m(o.fontSize)}px`),o.tspan.setAttributeNS(null,"y",m(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.append(o.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=i.IDENTITY_MATRIX,e.lineMatrix=i.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${m(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",m(-n.y))}showText(e){const t=this.current,n=t.font,r=t.fontSize;if(0===r)return;const s=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,h=t.fontDirection,u=t.textHScale*h,d=n.vertical,p=d?1:-1,f=n.defaultVMetrics,g=r*t.fontMatrix[0];let b=0;for(const i of e){if(null===i){b+=h*c;continue}if("number"==typeof i){b+=p*i*r/1e3;continue}const e=(i.isSpace?c:0)+o,a=i.fontChar;let l,u,m,v=i.width;if(d){let e;const t=i.vmetric||f;e=i.vmetric?t[1]:.5*v,e=-e*g;const n=t[2]*g;v=t?-t[0]:v,l=e/s,u=(b+n)/s}else l=b/s,u=0;(i.isInFont||n.missingFile)&&(t.xcoords.push(t.x+l),d&&t.ycoords.push(-t.y+u),t.tspan.textContent+=a),m=d?v*g-e*h:v*g+e*h,b+=m}t.tspan.setAttributeNS(null,"x",t.xcoords.map(m).join(" ")),d?t.tspan.setAttributeNS(null,"y",t.ycoords.map(m).join(" ")):t.tspan.setAttributeNS(null,"y",m(-t.y)),d?t.y-=b:t.x+=b*u,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${m(t.fontSize)}px`),t.fontStyle!==a.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==a.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const y=t.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(y===i.TextRenderingMode.FILL||y===i.TextRenderingMode.FILL_STROKE?(t.fillColor!==a.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),y===i.TextRenderingMode.STROKE||y===i.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let _=t.textMatrix;0!==t.textRise&&(_=_.slice(),_[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${v(_)} scale(${m(u)}, -1)`),t.txtElement.setAttributeNS(l,"xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=d(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let r=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||i.FONT_IDENTITY_MATRIX;let s="normal";n.black?s="900":n.bold&&(s="bold");const o=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=s,t.fontStyle=o,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",m(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){var e;const t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=h[e]}setLineJoin(e){this.current.lineJoin=u[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=i.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=i.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const t=this.viewport.width,n=this.viewport.height,r=i.Util.inverseTransform(this.transformMatrix),s=i.Util.applyTransform([0,0],r),o=i.Util.applyTransform([0,n],r),a=i.Util.applyTransform([t,0],r),l=i.Util.applyTransform([t,n],r),c=Math.min(s[0],o[0],a[0],l[0]),h=Math.min(s[1],o[1],a[1],l[1]),u=Math.max(s[0],o[0],a[0],l[0]),d=Math.max(s[1],o[1],a[1],l[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",c),p.setAttributeNS(null,"y",h),p.setAttributeNS(null,"width",u-c),p.setAttributeNS(null,"height",d-h),p.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&p.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(p)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],r=e[3]||i.IDENTITY_MATRIX,[s,o,a,l]=e[4],c=e[5],h=e[6],u=e[7],d="shading"+_++,[p,f,g,m]=i.Util.normalizeRect([...i.Util.applyTransform([s,o],r),...i.Util.applyTransform([a,l],r)]),[v,b]=i.Util.singularValueDecompose2dScale(r),y=c*v,w=h*b,S=this.svgFactory.createElement("svg:pattern");S.setAttributeNS(null,"id",d),S.setAttributeNS(null,"patternUnits","userSpaceOnUse"),S.setAttributeNS(null,"width",y),S.setAttributeNS(null,"height",w),S.setAttributeNS(null,"x",`${p}`),S.setAttributeNS(null,"y",`${f}`);const A=this.svg,x=this.transformMatrix,P=this.current.fillColor,E=this.current.strokeColor,C=this.svgFactory.create(g-p,m-f);if(this.svg=C,this.transformMatrix=r,2===u){const e=i.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=A,this.transformMatrix=x,this.current.fillColor=P,this.current.strokeColor=E,S.append(C.childNodes[0]),this.defs.append(S),`url(#${d})`}_makeShadingPattern(e){switch("string"==typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading"+_++,n=e[3];let r;switch(e[1]){case"axial":const n=e[4],i=e[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",i[0]),r.setAttributeNS(null,"y2",i[1]);break;case"radial":const s=e[4],o=e[5],a=e[6],l=e[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",o[0]),r.setAttributeNS(null,"cy",o[1]),r.setAttributeNS(null,"r",l),r.setAttributeNS(null,"fx",s[0]),r.setAttributeNS(null,"fy",s[1]),r.setAttributeNS(null,"fr",a);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),r.append(t)}return this.defs.append(r),`url(#${t})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let r=n.x,s=n.y,o=[],a=0;for(const n of e)switch(0|n){case i.OPS.rectangle:r=t[a++],s=t[a++];const e=r+t[a++],n=s+t[a++];o.push("M",m(r),m(s),"L",m(e),m(s),"L",m(e),m(n),"L",m(r),m(n),"Z");break;case i.OPS.moveTo:r=t[a++],s=t[a++],o.push("M",m(r),m(s));break;case i.OPS.lineTo:r=t[a++],s=t[a++],o.push("L",m(r),m(s));break;case i.OPS.curveTo:r=t[a+4],s=t[a+5],o.push("C",m(t[a]),m(t[a+1]),m(t[a+2]),m(t[a+3]),m(r),m(s)),a+=6;break;case i.OPS.curveTo2:o.push("C",m(r),m(s),m(t[a]),m(t[a+1]),m(t[a+2]),m(t[a+3])),r=t[a+2],s=t[a+3],a+=4;break;case i.OPS.curveTo3:r=t[a+2],s=t[a+3],o.push("C",m(t[a]),m(t[a+1]),m(r),m(s),m(r),m(s)),a+=4;break;case i.OPS.closePath:o.push("Z")}o=o.join(" "),n.path&&e.length>0&&e[0]!==i.OPS.rectangle&&e[0]!==i.OPS.moveTo?o=n.path.getAttributeNS(null,"d")+o:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",o),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,s)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+b++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",v(this.transformMatrix));const r=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,i.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.current;let r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",m(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",m(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(m).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",m(t*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,i.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const n=e.width,r=e.height,i=p(e,this.forceDataSchema,!!t),s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",m(n)),s.setAttributeNS(null,"height",m(r)),this.current.element=s,this.clip("nonzero");const o=this.svgFactory.createElement("svg:image");o.setAttributeNS(c,"xlink:href",i),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",m(-r)),o.setAttributeNS(null,"width",m(n)+"px"),o.setAttributeNS(null,"height",m(r)+"px"),o.setAttributeNS(null,"transform",`scale(${m(1/n)} ${m(-1/r)})`),t?t.append(o):this._ensureTransformGroup().append(o)}paintImageMaskXObject(e){const t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask"+y++;const s=this.svgFactory.createElement("svg:mask");s.setAttributeNS(null,"id",t.maskId);const o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",m(n)),o.setAttributeNS(null,"height",m(r)),o.setAttributeNS(null,"fill",i),o.setAttributeNS(null,"mask",`url(#${t.maskId})`),this.defs.append(s),this._ensureTransformGroup().append(o),this.paintInlineImageXObject(e,s)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",m(e)),r.setAttributeNS(null,"height",m(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.append(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",v(e.transform)),t.append(r),this.svg=r,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",v(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),i=n(158);const s=__webpack_require__(32767),o=__webpack_require__(28251),a=__webpack_require__(57677),l=__webpack_require__(1543),c=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=l.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?l.parse(`file:///${e}`):(t.host||(t.protocol="file:"),t)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new g(this):new p(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new m(this,e,t):new f(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class h{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class p extends h{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=o.request(d(this._url,e.httpHeaders),t):this._request=a.request(d(this._url,e.httpHeaders),t),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class f extends u{constructor(e,t,n){super(e),this._httpHeaders={};for(const t in e.httpHeaders){const n=e.httpHeaders[t];void 0!==n&&(this._httpHeaders[t]=n)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const i=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};this._request=null,"http:"===this._url.protocol?this._request=o.request(d(this._url,this._httpHeaders),i):this._request=a.request(d(this._url,this._httpHeaders),i),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class g extends h{constructor(e){super(e);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),s.lstat(t,((e,n)=>{if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=n.size,this._setReadableStream(s.createReadStream(t)),this._headersCapability.resolve()}))}}class m extends u{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);c.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(s.createReadStream(r,{start:t,end:n-1}))}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,i.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(e){}if((0,s.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);return Number.isInteger(o)?(s.suggestedLength=o,o<=2*r||i||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s):s},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(1),i=n(159),s=n(133)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=l(e),e=c(e),o(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const s=[];for(let e=0;e<t.length&&e in t;++e){let[n,r]=t[e];r=a(r),n&&(r=unescape(r),0===e&&(r=l(r))),s.push(r)}return s.join("")}(e),n)return o(c(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=a(n);return e=c(e),o(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function s(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),s=(0,r.stringToBytes)(n);n=i.decode(s),t=!1}catch(e){}}return n}function o(e){return t&&/[\x80-\xff]/.test(e)&&(e=s("utf-8",e),t&&(e=s("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){const t=e.indexOf("'");return-1===t?e:s(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return s(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(e){}return s(t,r)}))}return""};var r=n(1)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),i=n(158);class s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const e in n)r[e]=n[e];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const e in this.httpHeaders){const n=this.httpHeaders[e];void 0!==n&&t.setRequestHeader(e,n)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;var s;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void(null===(s=n.onError)||void 0===s||s.call(n,i.status));const o=i.status||200;var a;if((200!==o||206!==n.expectedStatus)&&o!==n.expectedStatus)return void(null===(a=n.onError)||void 0===a||a.call(n,i.status));const l=function(e){const t=e.response;return"string"!=typeof t?t:(0,r.stringToBytes)(t).buffer}(i);if(206===o){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:l})}else if(l)n.onDone({begin:0,chunk:l});else{var c;null===(c=n.onError)||void 0===c||c.call(n,i.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new s(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new o(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new a(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class o{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:s}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,i.createResponseStatusError)(e,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),i=n(158);function s(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function o(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new a(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new l(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class a{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=o(this._stream.httpHeaders);const n=t.url;fetch(n,s(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:s,suggestedLength:o}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController.abort()}}class l{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController,this._headers=o(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const l=a.url;fetch(l,s(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,i.validateResponseStatus)(e.status))throw(0,i.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{"use strict";var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return a.GlobalWorkerOptions}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return h.SVGGraphics}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(129),r=__w_pdfjs_require__(133),i=__w_pdfjs_require__(147),s=__w_pdfjs_require__(132),o=__w_pdfjs_require__(152),a=__w_pdfjs_require__(140),l=__w_pdfjs_require__(3),c=__w_pdfjs_require__(155),h=__w_pdfjs_require__(156),u=__w_pdfjs_require__(154);if(l.isNodeJS){const{PDFNodeStream:e}=__w_pdfjs_require__(157);(0,n.setPDFNetworkStreamFactory)((t=>new e(t)))}else{const{PDFNetworkStream:e}=__w_pdfjs_require__(160),{PDFFetchStream:t}=__w_pdfjs_require__(161);(0,n.setPDFNetworkStreamFactory)((n=>(0,r.isValidFetchUrl)(n.url)?new t(n):new e(n)))}})(),__nested_webpack_exports__})(),module.exports=factory()},23102:function(e,t,n){var r;globalThis,r=()=>(()=>{"use strict";var e=[,(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultXfaLayerFactory=t.DefaultTextLayerFactory=t.DefaultStructTreeLayerFactory=t.DefaultAnnotationLayerFactory=t.DefaultAnnotationEditorLayerFactory=void 0;var r=n(2),i=n(5),s=n(4),o=n(6),a=n(8),l=n(9),c=n(10);t.DefaultAnnotationLayerFactory=class{createAnnotationLayerBuilder(e){let{pageDiv:t,pdfPage:n,annotationStorage:r=null,imageResourcesPath:a="",renderForms:l=!0,l10n:c=s.NullL10n,enableScripting:h=!1,hasJSActionsPromise:u=null,mouseState:d=null,fieldObjectsPromise:p=null,annotationCanvasMap:f=null,accessibilityManager:g=null}=e;return new i.AnnotationLayerBuilder({pageDiv:t,pdfPage:n,imageResourcesPath:a,renderForms:l,linkService:new o.SimpleLinkService,l10n:c,annotationStorage:r,enableScripting:h,hasJSActionsPromise:u,fieldObjectsPromise:p,mouseState:d,annotationCanvasMap:f,accessibilityManager:g})}},t.DefaultAnnotationEditorLayerFactory=class{createAnnotationEditorLayerBuilder(e){let{uiManager:t=null,pageDiv:n,pdfPage:i,accessibilityManager:s=null,l10n:o,annotationStorage:a=null}=e;return new r.AnnotationEditorLayerBuilder({uiManager:t,pageDiv:n,pdfPage:i,accessibilityManager:s,l10n:o,annotationStorage:a})}},t.DefaultStructTreeLayerFactory=class{createStructTreeLayerBuilder(e){let{pdfPage:t}=e;return new a.StructTreeLayerBuilder({pdfPage:t})}},t.DefaultTextLayerFactory=class{createTextLayerBuilder(e){let{textLayerDiv:t,pageIndex:n,viewport:r,enhanceTextSelection:i=!1,eventBus:s,highlighter:o,accessibilityManager:a=null}=e;return new l.TextLayerBuilder({textLayerDiv:t,pageIndex:n,viewport:r,enhanceTextSelection:i,eventBus:s,highlighter:o,accessibilityManager:a})}},t.DefaultXfaLayerFactory=class{createXfaLayerBuilder(e){let{pageDiv:t,pdfPage:n,annotationStorage:r=null}=e;return new c.XfaLayerBuilder({pageDiv:t,pdfPage:n,annotationStorage:r,linkService:new o.SimpleLinkService})}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayerBuilder=void 0;var r=n(3),i=n(4);function s(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function o(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,a(e,t,"set"),n),n}function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var l=new WeakMap;t.AnnotationEditorLayerBuilder=class{constructor(e){s(this,l,{writable:!0,value:void 0}),this.pageDiv=e.pageDiv,this.pdfPage=e.pdfPage,this.annotationStorage=e.annotationStorage||null,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n||i.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,o(this,l,e.uiManager)}async render(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if("display"!==t)return;if(this._cancelled)return;const n=e.clone({dontFlip:!0});if(this.div)return this.annotationEditorLayer.update({viewport:n}),void this.show();var i,s;this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new r.AnnotationEditorLayer({uiManager:(i=this,s=l,function(e,t){return t.get?t.get.call(e):t.value}(i,a(i,s,"get"))),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:n});const o={viewport:n,div:this.div,annotations:null,intent:t};this.annotationEditorLayer.render(o)}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}},e=>{let t;t="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n(78783),e.exports=t},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.fixupLangCode=function(e){return i[null==e?void 0:e.toLowerCase()]||e},t.getL10nFallback=r;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading…",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text…",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function r(e,t){switch(e){case"find_match_count":e=`find_match_count[${1===t.total?"one":"other"}]`;break;case"find_match_count_limit":e=`find_match_count_limit[${1===t.limit?"one":"other"}]`}return n[e]||""}const i={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"},s={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(e,t){return t?e.replace(/\{\{\s*(\w+)\s*\}\}/g,((e,n)=>n in t?t[n]:"{{"+n+"}}")):e}(arguments.length>2&&void 0!==arguments[2]?arguments[2]:r(e,t),t)},async translate(e){}};t.NullL10n=s},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayerBuilder=void 0;var r=n(3),i=n(4);t.AnnotationLayerBuilder=class{constructor(e){let{pageDiv:t,pdfPage:n,linkService:r,downloadManager:s,annotationStorage:o=null,imageResourcesPath:a="",renderForms:l=!0,l10n:c=i.NullL10n,enableScripting:h=!1,hasJSActionsPromise:u=null,fieldObjectsPromise:d=null,mouseState:p=null,annotationCanvasMap:f=null,accessibilityManager:g=null}=e;this.pageDiv=t,this.pdfPage=n,this.linkService=r,this.downloadManager=s,this.imageResourcesPath=a,this.renderForms=l,this.l10n=c,this.annotationStorage=o,this.enableScripting=h,this._hasJSActionsPromise=u,this._fieldObjectsPromise=d,this._mouseState=p,this._annotationCanvasMap=f,this._accessibilityManager=g,this.div=null,this._cancelled=!1}async render(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";const[n,i=!1,s=null]=await Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||0===n.length)return;const o={viewport:e.clone({dontFlip:!0}),div:this.div,annotations:n,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:i,fieldObjects:s,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?r.AnnotationLayer.update(o):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),o.div=this.div,r.AnnotationLayer.render(o),this.l10n.translate(this.div))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=t.LinkTarget=void 0;var r=n(7);function i(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function a(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(e,t,"get");return function(e,t){return t.get?t.get.call(e):t.value}(e,n)}const l={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function c(e){let{url:t,target:n,rel:i,enabled:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||"string"!=typeof t)throw new Error('A valid "url" parameter must provided.');const o=(0,r.removeNullCharacters)(t);s?e.href=e.title=o:(e.href="",e.title=`Disabled: ${o}`,e.onclick=()=>!1);let a="";switch(n){case l.NONE:break;case l.SELF:a="_self";break;case l.BLANK:a="_blank";break;case l.PARENT:a="_parent";break;case l.TOP:a="_top"}e.target=a,e.rel="string"==typeof i?i:"noopener noreferrer nofollow"}t.LinkTarget=l;var h=new WeakMap,u=new WeakSet;class d{constructor(){let{eventBus:e,externalLinkTarget:t=null,externalLinkRel:n=null,ignoreDestinationZoom:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s,o;i(s=this,o=u),o.add(s),function(e,t,n){i(e,t),t.set(e,n)}(this,h,{writable:!0,value:new Map}),this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=n,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=r,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e,a(this,h).clear()}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(e){this.pdfViewer.currentPageNumber=e}get rotation(){return this.pdfViewer.pagesRotation}set rotation(e){this.pdfViewer.pagesRotation=e}async goToDestination(e){if(!this.pdfDocument)return;let t,n;"string"==typeof e?(t=e,n=await this.pdfDocument.getDestination(e)):(t=null,n=await e),Array.isArray(n)?o(this,u,p).call(this,e,t,n):console.error(`PDFLinkService.goToDestination: "${n}" is not a valid destination array, for dest="${e}".`)}goToPage(e){if(!this.pdfDocument)return;const t="string"==typeof e&&this.pdfViewer.pageLabelToPageNumber(e)||0|e;Number.isInteger(t)&&t>0&&t<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})):console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`)}addLinkAttributes(e,t){c(e,{url:t,target:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?l.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(e){if("string"==typeof e){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){const t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return(this.baseUrl||"")+e}setHash(e){if(!this.pdfDocument)return;let t,n;if(e.includes("=")){const i=(0,r.parseQueryString)(e);if(i.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:i.get("search").replace(/"/g,""),phraseSearch:"true"===i.get("phrase")}),i.has("page")&&(t=0|i.get("page")||1),i.has("zoom")){const e=i.get("zoom").split(","),t=e[0],r=parseFloat(t);t.includes("Fit")?"Fit"===t||"FitB"===t?n=[null,{name:t}]:"FitH"===t||"FitBH"===t||"FitV"===t||"FitBV"===t?n=[null,{name:t},e.length>1?0|e[1]:null]:"FitR"===t?5!==e.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:t},0|e[1],0|e[2],0|e[3],0|e[4]]:console.error(`PDFLinkService.setHash: "${t}" is not a valid zoom value.`):n=[null,{name:"XYZ"},e.length>1?0|e[1]:null,e.length>2?0|e[2]:null,r?r/100:t]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),i.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:i.get("pagemode")}),i.has("nameddest")&&this.goToDestination(i.get("nameddest"))}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(e){}if("string"==typeof n||s(d,d,f).call(d,n))return void this.goToDestination(n);console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}}executeNamedAction(e){var t,n;switch(e){case"GoBack":null===(t=this.pdfHistory)||void 0===t||t.back();break;case"GoForward":null===(n=this.pdfHistory)||void 0===n||n.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}cachePageRef(e,t){if(!t)return;const n=0===t.gen?`${t.num}R`:`${t.num}R${t.gen}`;a(this,h).set(n,e)}_cachedPageNumber(e){if(!e)return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return a(this,h).get(t)||null}isPageVisible(e){return this.pdfViewer.isPageVisible(e)}isPageCached(e){return this.pdfViewer.isPageCached(e)}}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;const r=n[0];let i;if("object"==typeof r&&null!==r){if(i=this._cachedPageNumber(r),!i)return void this.pdfDocument.getPageIndex(r).then((i=>{this.cachePageRef(i+1,r),o(this,u,p).call(this,e,t,n)})).catch((()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${r}" is not a valid page reference, for dest="${e}".`)}))}else{if(!Number.isInteger(r))return void console.error(`PDFLinkService.#goToDestinationHelper: "${r}" is not a valid destination reference, for dest="${e}".`);i=r+1}!i||i<1||i>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${i}" is not a valid page number, for dest="${e}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:n,pageNumber:i})),this.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:n,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function f(e){if(!Array.isArray(e))return!1;const t=e.length;if(t<2)return!1;const n=e[0];if(!("object"==typeof n&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&n>=0))return!1;const r=e[1];if("object"!=typeof r||"string"!=typeof r.name)return!1;let i=!0;switch(r.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;i=!1;break;default:return!1}for(let n=2;n<t;n++){const t=e[n];if(!("number"==typeof t||i&&null===t))return!1}return!0}t.PDFLinkService=d,t.SimpleLinkService=class{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(e){}get rotation(){return 0}set rotation(e){}async goToDestination(e){}goToPage(e){}addLinkAttributes(e,t){c(e,{url:t,enabled:this.externalLinkEnabled})}getDestinationHash(e){return"#"}getAnchorUrl(e){return"#"}setHash(e){}executeNamedAction(e){}cachePageRef(e,t){}isPageVisible(e){return!0}isPageCached(e){return!0}}},(e,t)=>{function n(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function r(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,s(e,t,"get"))}function i(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,s(e,t,"set"),n),n}function s(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.animationStarted=t.VERTICAL_PADDING=t.UNKNOWN_SCALE=t.TextLayerMode=t.SpreadMode=t.SidebarView=t.ScrollMode=t.SCROLLBAR_PADDING=t.RenderingStates=t.RendererType=t.ProgressBar=t.PresentationModeState=t.OutputScale=t.MIN_SCALE=t.MAX_SCALE=t.MAX_AUTO_SCALE=t.DEFAULT_SCALE_VALUE=t.DEFAULT_SCALE_DELTA=t.DEFAULT_SCALE=t.AutoPrintRegExp=void 0,t.apiPageLayoutToViewerModes=function(e){let t=a.VERTICAL,n=l.NONE;switch(e){case"SinglePage":t=a.PAGE;break;case"OneColumn":break;case"TwoPageLeft":t=a.PAGE;case"TwoColumnLeft":n=l.ODD;break;case"TwoPageRight":t=a.PAGE;case"TwoColumnRight":n=l.EVEN}return{scrollMode:t,spreadMode:n}},t.apiPageModeToSidebarView=function(e){switch(e){case"UseNone":return o.NONE;case"UseThumbs":return o.THUMBS;case"UseOutlines":return o.OUTLINE;case"UseAttachments":return o.ATTACHMENTS;case"UseOC":return o.LAYERS}return o.NONE},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];const t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];const n=e>1?t:e;let r,i=0,s=1,o=1,a=1;for(;;){const e=i+o,t=s+a;if(t>8)break;n<=e/t?(o=e,a=t):(i=e,s=t)}return r=n-i/s<o/a-n?n===e?[i,s]:[s,i]:n===e?[o,a]:[a,o],r},t.backtrackBeforeAllVisibleElements=d,t.binarySearchFirstItem=u,t.docStyle=void 0,t.getActiveOrFocusedElement=function(){let e=document,t=e.activeElement||e.querySelector(":focus");for(;null!==(n=t)&&void 0!==n&&n.shadowRoot;){var n;e=t.shadowRoot,t=e.activeElement||e.querySelector(":focus")}return t},t.getPageSizeInches=function(e){let{view:t,userUnit:n,rotate:r}=e;const[i,s,o,a]=t,l=r%180!=0,c=(o-i)/72*n,h=(a-s)/72*n;return{width:l?h:c,height:l?c:h}},t.getVisibleElements=function(e){let{scrollEl:t,views:n,sortByVisibility:r=!1,horizontal:i=!1,rtl:s=!1}=e;const o=t.scrollTop,a=o+t.clientHeight,l=t.scrollLeft,c=l+t.clientWidth,h=[],p=new Set,f=n.length;let g=u(n,i?function(e){const t=e.div,n=t.offsetLeft+t.clientLeft,r=n+t.clientWidth;return s?n<c:r>l}:function(e){const t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>o});g>0&&g<f&&!i&&(g=d(g,n,o));let m=i?c:-1;for(let e=g;e<f;e++){const t=n[e],r=t.div,s=r.offsetLeft+r.clientLeft,u=r.offsetTop+r.clientTop,d=r.clientWidth,f=r.clientHeight,g=s+d,v=u+f;if(-1===m)v>=a&&(m=v);else if((i?s:u)>m)break;if(v<=o||u>=a||g<=l||s>=c)continue;const b=Math.max(0,o-u)+Math.max(0,v-a),y=(d-(Math.max(0,l-s)+Math.max(0,g-c)))/d,_=(f-b)/f*y*100|0;h.push({id:t.id,x:s,y:u,view:t,percent:_,widthPercent:100*y|0}),p.add(t.id)}const v=h[0],b=h.at(-1);return r&&h.sort((function(e,t){const n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id})),{first:v,last:b,views:h,ids:p}},t.isPortraitOrientation=function(e){return e.width<=e.height},t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(a).includes(e)&&e!==a.UNKNOWN},t.isValidSpreadMode=function(e){return Number.isInteger(e)&&Object.values(l).includes(e)&&e!==l.UNKNOWN},t.noContextMenuHandler=function(e){e.preventDefault()},t.normalizeWheelEventDelta=function(e){let t=p(e);return 0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30),t},t.normalizeWheelEventDirection=p,t.parseQueryString=function(e){const t=new Map;for(const[n,r]of new URLSearchParams(e))t.set(n.toLowerCase(),r);return t},t.removeNullCharacters=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"!=typeof e?(console.error("The argument must be a string."),e):(t&&(e=e.replace(h," ")),e.replace(c,""))},t.roundToDivide=function(e,t){const n=e%t;return 0===n?e:Math.round(e-n+t)},t.scrollIntoView=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.offsetParent;if(!r)return void console.error("offsetParent is not set -- cannot scroll");let i=e.offsetTop+e.clientTop,s=e.offsetLeft+e.clientLeft;for(;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||n&&(r.classList.contains("markedContent")||"hidden"===getComputedStyle(r).overflow);)if(i+=r.offsetTop,s+=r.offsetLeft,r=r.offsetParent,!r)return;t&&(void 0!==t.top&&(i+=t.top),void 0!==t.left&&(s+=t.left,r.scrollLeft=s)),r.scrollTop=i},t.watchScroll=function(e,t){const n=function(n){i||(i=window.requestAnimationFrame((function(){i=null;const n=e.scrollLeft,s=r.lastX;n!==s&&(r.right=n>s),r.lastX=n;const o=e.scrollTop,a=r.lastY;o!==a&&(r.down=o>a),r.lastY=o,t(r)})))},r={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n};let i=null;return e.addEventListener("scroll",n,!0),r},t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.DEFAULT_SCALE_DELTA=1.1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const o={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};t.SidebarView=o,t.RendererType={CANVAS:"canvas",SVG:"svg"},t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const a={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};t.ScrollMode=a;const l={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=l,t.AutoPrintRegExp=/\bprint\s*\(/,t.OutputScale=class{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}};const c=/\x00/g,h=/[\x01-\x1F]/g;function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.length-1;if(r<0||!t(e[r]))return e.length;if(t(e[n]))return n;for(;n<r;){const i=n+r>>1;t(e[i])?r=i:n=i+1}return n}function d(e,t,n){if(e<2)return e;let r=t[e].div,i=r.offsetTop+r.clientTop;i>=n&&(r=t[e-1].div,i=r.offsetTop+r.clientTop);for(let n=e-2;n>=0&&(r=t[n].div,!(r.offsetTop+r.clientTop+r.clientHeight<=i));--n)e=n;return e}function p(e){let t=Math.hypot(e.deltaX,e.deltaY);const n=Math.atan2(e.deltaY,e.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t),t}const f=new Promise((function(e){window.requestAnimationFrame(e)}));t.animationStarted=f;const g=document.documentElement.style;t.docStyle=g;var m=new WeakMap,v=new WeakMap,b=new WeakMap;t.ProgressBar=class{constructor(e){if(n(this,m,{writable:!0,value:null}),n(this,v,{writable:!0,value:0}),n(this,b,{writable:!0,value:!0}),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const t=document.getElementById(e);i(this,m,t.classList)}get percent(){return r(this,v)}set percent(e){var t,n,s;i(this,v,(t=e,n=0,s=100,Math.min(Math.max(t,n),s))),isNaN(e)?r(this,m).add("indeterminate"):(r(this,m).remove("indeterminate"),g.setProperty("--progressBar-percent",`${r(this,v)}%`))}setWidth(e){if(!e)return;const t=e.parentNode.offsetWidth-e.offsetWidth;t>0&&g.setProperty("--progressBar-end-offset",`${t}px`)}hide(){r(this,b)&&(i(this,b,!1),r(this,m).add("hidden"))}show(){r(this,b)||(i(this,b,!0),r(this,m).remove("hidden"))}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StructTreeLayerBuilder=void 0;const n={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},r=/^H(\d+)$/;t.StructTreeLayerBuilder=class{constructor(e){let{pdfPage:t}=e;this.pdfPage=t}render(e){return this._walk(e)}_setAttributes(e,t){void 0!==e.alt&&t.setAttribute("aria-label",e.alt),void 0!==e.id&&t.setAttribute("aria-owns",e.id),void 0!==e.lang&&t.setAttribute("lang",e.lang)}_walk(e){if(!e)return null;const t=document.createElement("span");if("role"in e){const{role:i}=e,s=i.match(r);s?(t.setAttribute("role","heading"),t.setAttribute("aria-level",s[1])):n[i]&&t.setAttribute("role",n[i])}if(this._setAttributes(e,t),e.children)if(1===e.children.length&&"id"in e.children[0])this._setAttributes(e.children[0],t);else for(const n of e.children)t.append(this._walk(n));return t}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerBuilder=void 0;var r=n(3);t.TextLayerBuilder=class{constructor(e){let{textLayerDiv:t,eventBus:n,pageIndex:r,viewport:i,highlighter:s=null,enhanceTextSelection:o=!1,accessibilityManager:a=null}=e;this.textLayerDiv=t,this.eventBus=n,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=r+1,this.viewport=i,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=s,this.enhanceTextSelection=o,this.accessibilityManager=a,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.append(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null===(e=this.highlighter)||void 0===e||e.setTextMapping(this.textDivs,this.textContentItemsStr),null===(t=this.accessibilityManager)||void 0===t||t.setTextMapping(this.textDivs);const i=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:i,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((()=>{var e,t;this.textLayerDiv.append(i),this._finishRendering(),null===(e=this.highlighter)||void 0===e||e.enable(),null===(t=this.accessibilityManager)||void 0===t||t.enable()}),(function(e){}))}cancel(){var e,t;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null===(e=this.highlighter)||void 0===e||e.disable(),null===(t=this.accessibilityManager)||void 0===t||t.disable()}setTextContentStream(e){this.cancel(),this.textContentStream=e}setTextContent(e){this.cancel(),this.textContent=e}_bindMouse(){const e=this.textLayerDiv;let t=null;e.addEventListener("mousedown",(n=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(t&&(clearTimeout(t),t=null));const r=e.querySelector(".endOfContent");if(!r)return;let i=n.target!==e;if(i=i&&"none"!==window.getComputedStyle(r).getPropertyValue("-moz-user-select"),i){const t=e.getBoundingClientRect(),i=Math.max(0,(n.pageY-t.top)/t.height);r.style.top=(100*i).toFixed(2)+"%"}r.classList.add("active")})),e.addEventListener("mouseup",(()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(t=setTimeout((()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),t=null}),300));const n=e.querySelector(".endOfContent");n&&(n.style.top="",n.classList.remove("active"))}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayerBuilder=void 0;var r=n(3);t.XfaLayerBuilder=class{constructor(e){let{pageDiv:t,pdfPage:n,annotationStorage:r=null,linkService:i,xfaHtml:s=null}=e;this.pageDiv=t,this.pdfPage=n,this.annotationStorage=r,this.linkService=i,this.xfaHtml=s,this.div=null,this._cancelled=!1}render(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if("print"===t){const n={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t},i=document.createElement("div");this.pageDiv.append(i),n.div=i;const s=r.XfaLayer.render(n);return Promise.resolve(s)}return this.pdfPage.getXfa().then((n=>{if(this._cancelled||!n)return{textDivs:[]};const i={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:n,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?r.XfaLayer.update(i):(this.div=document.createElement("div"),this.pageDiv.append(this.div),i.div=this.div,r.XfaLayer.render(i))})).catch((e=>{console.error(e)}))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=t.PDFSinglePageViewer=void 0;var r=n(7),i=n(12);class s extends i.BaseViewer{}t.PDFViewer=s;class o extends i.BaseViewer{_resetView(){super._resetView(),this._scrollMode=r.ScrollMode.PAGE,this._spreadMode=r.SpreadMode.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}}t.PDFSinglePageViewer=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PagesCountLimit=t.PDFPageViewBuffer=t.BaseViewer=void 0;var r=n(3),i=n(7),s=n(2),o=n(5),a=n(4),l=n(13),c=n(16),h=n(6),u=n(8),d=n(17),p=n(9),f=n(10);let g;function m(e,t){b(e,t),t.add(e)}function v(e,t,n){b(e,t),t.set(e,n)}function b(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function _(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,S(e,t,"get"))}function w(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,S(e,t,"set"),n),n}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}const A="enablePermissions",x={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function P(e){return Object.values(r.AnnotationEditorType).includes(e)&&e!==r.AnnotationEditorType.DISABLE}t.PagesCountLimit=x;var E=new WeakMap,C=new WeakMap,T=new WeakSet;g=Symbol.iterator;class k{constructor(e){m(this,T),v(this,E,{writable:!0,value:new Set}),v(this,C,{writable:!0,value:0}),w(this,C,e)}push(e){const t=_(this,E);t.has(e)&&t.delete(e),t.add(e),t.size>_(this,C)&&y(this,T,M).call(this)}resize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;w(this,C,e);const n=_(this,E);if(t){const e=n.size;let r=1;for(const i of n)if(t.has(i.id)&&(n.delete(i),n.add(i)),++r>e)break}for(;n.size>_(this,C);)y(this,T,M).call(this)}has(e){return _(this,E).has(e)}[g](){return _(this,E).keys()}}function M(){const e=_(this,E).keys().next().value;null==e||e.destroy(),_(this,E).delete(e)}t.PDFPageViewBuffer=k;var R=new WeakMap,O=new WeakMap,D=new WeakMap,I=new WeakMap,L=new WeakMap,F=new WeakMap,N=new WeakMap,j=new WeakMap,B=new WeakSet,W=new WeakSet,z=new WeakSet,U=new WeakSet,H=new WeakSet,V=new WeakSet,q=new WeakSet,$=new WeakSet,G=new WeakSet;class X{constructor(e){var t,n,s,o,l;if(m(this,G),m(this,$),m(this,q),m(this,V),m(this,H),m(this,U),m(this,z),m(this,W),m(this,B),v(this,R,{writable:!0,value:null}),v(this,O,{writable:!0,value:r.AnnotationEditorType.DISABLE}),v(this,D,{writable:!0,value:null}),v(this,I,{writable:!0,value:r.AnnotationMode.ENABLE_FORMS}),v(this,L,{writable:!0,value:!1}),v(this,F,{writable:!0,value:0}),v(this,N,{writable:!0,value:null}),v(this,j,{writable:!0,value:null}),this.constructor===X)throw new Error("Cannot initialize BaseViewer.");const u="2.16.105";if(r.version!==u)throw new Error(`The API version "${r.version}" does not match the Viewer version "${u}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,"DIV"!==(null===(t=this.container)||void 0===t?void 0:t.tagName.toUpperCase())||"DIV"!==(null===(n=this.viewer)||void 0===n?void 0:n.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=e.eventBus,this.linkService=e.linkService||new h.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this._scriptingManager=e.scriptingManager||null,this.removePageBorders=e.removePageBorders||!1,this.textLayerMode=null!==(s=e.textLayerMode)&&void 0!==s?s:i.TextLayerMode.ENABLE,w(this,I,null!==(o=e.annotationMode)&&void 0!==o?o:r.AnnotationMode.ENABLE_FORMS),w(this,O,null!==(l=e.annotationEditorMode)&&void 0!==l?l:r.AnnotationEditorType.DISABLE),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.renderer=e.renderer||i.RendererType.CANVAS,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||a.NullL10n,w(this,L,e.enablePermissions||!1),this.pageColors=e.pageColors||null,!this.pageColors||CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground)||((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new c.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=i.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every((function(e){return null==e?void 0:e.pdfPage}))}get renderForms(){return _(this,I)===r.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===e)return r&&y(this,V,ee).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:null!==(t=null===(n=this._pageLabels)||void 0===n?void 0:n[e-1])&&void 0!==t?t:null,previous:i}),r&&y(this,V,ee).call(this),!0}get currentPageLabel(){var e,t;return null!==(e=null===(t=this._pageLabels)||void 0===t?void 0:t[this._currentPageNumber-1])&&void 0!==e?e:null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=0|e;if(this._pageLabels){const n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(e,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this._setScale(e,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!(0,i.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument)return;if((e%=360)<0&&(e+=360),this._pagesRotation===e)return;this._pagesRotation=e;const t=this._currentPageNumber,n={rotation:e};for(const e of this._pages)e.update(n);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(e){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),_(this,D)&&(_(this,D).destroy(),w(this,D,null))),this.pdfDocument=e,!e)return;const t=e.isPureXfa,n=e.numPages,s=e.getPage(1),o=e.getOptionalContentConfig(),a=_(this,L)?e.getPermissions():Promise.resolve();if(n>x.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const e=this._scrollMode=i.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e})}this._pagesCapability.promise.then((()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:n})}),(()=>{})),this._onBeforeDraw=e=>{const t=this._pages[e.pageNumber-1];t&&_(this,R).push(t)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=e=>{e.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:e.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,_(this,j)&&(document.removeEventListener("visibilitychange",_(this,j)),w(this,j,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([s,a]).then((s=>{let[a,c]=s;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(a),this._optionalContentConfigPromise=o;const{annotationEditorMode:h,annotationMode:u,textLayerMode:d}=y(this,B,Y).call(this,c);if(h!==r.AnnotationEditorType.DISABLE){const e=h;t?console.warn("Warning: XFA-editing is not implemented."):P(e)?(w(this,D,new r.AnnotationEditorUIManager(this.container,this.eventBus)),e!==r.AnnotationEditorType.NONE&&_(this,D).updateMode(e)):console.error(`Invalid AnnotationEditor mode: ${e}`)}const p=this._scrollMode===i.ScrollMode.PAGE?null:this.viewer,f=this.currentScale,g=a.getViewport({scale:f*r.PixelsPerInch.PDF_TO_CSS_UNITS}),m=d===i.TextLayerMode.DISABLE||t?null:this,v=u!==r.AnnotationMode.DISABLE?this:null,b=t?this:null,S=_(this,D)?this:null;for(let e=1;e<=n;++e){const t=new l.PDFPageView({container:p,eventBus:this.eventBus,id:e,scale:f,defaultViewport:g.clone(),optionalContentConfigPromise:o,renderingQueue:this.renderingQueue,textLayerFactory:m,textLayerMode:d,annotationLayerFactory:v,annotationMode:u,xfaLayerFactory:b,annotationEditorLayerFactory:S,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(t)}const A=this._pages[0];A&&(A.setPdfPage(a),this.linkService.cachePageRef(1,a.ref)),this._scrollMode===i.ScrollMode.PAGE?y(this,z,Z).call(this):this._spreadMode!==i.SpreadMode.NONE&&this._updateSpreadMode(),y(this,W,K).call(this).then((async()=>{if(this.findController&&this.findController.setDocument(e),this._scriptingManager&&this._scriptingManager.setDocument(e),_(this,D)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:_(this,O)}),e.loadingParams.disableAutoFetch||n>x.FORCE_LAZY_PAGE_INIT)return void this._pagesCapability.resolve();let t=n-1;if(t<=0)this._pagesCapability.resolve();else for(let r=2;r<=n;++r){const n=e.getPage(r).then((e=>{const n=this._pages[r-1];n.pdfPage||n.setPdfPage(e),this.linkService.cachePageRef(r,e.ref),0==--t&&this._pagesCapability.resolve()}),(e=>{console.error(`Unable to get page ${r} to initialize viewer`,e),0==--t&&this._pagesCapability.resolve()}));r%x.PAUSE_EAGER_PAGE_INIT==0&&await n}})),this.eventBus.dispatch("pagesinit",{source:this}),e.getMetadata().then((t=>{let{info:n}=t;e===this.pdfDocument&&n.Language&&(this.viewer.lang=n.Language)})),this.defaultRenderingQueue&&this.update()})).catch((e=>{console.error("Unable to initialize viewer",e),this._pagesCapability.reject(e)}))}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let e=0,r=this._pages.length;e<r;e++){var t,n;this._pages[e].setPageLabel(null!==(t=null===(n=this._pageLabels)||void 0===n?void 0:n[e])&&void 0!==t?t:null)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=i.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,w(this,R,new k(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,r.createPromiseCapability)(),this._onePageRenderedCapability=(0,r.createPromiseCapability)(),this._pagesCapability=(0,r.createPromiseCapability)(),this._scrollMode=i.ScrollMode.VERTICAL,this._previousScrollMode=i.ScrollMode.UNKNOWN,this._spreadMode=i.SpreadMode.NONE,w(this,N,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),_(this,j)&&(document.removeEventListener("visibilitychange",_(this,j)),w(this,j,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(A)}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=t.toString(),y(this,H,J).call(this,e))return void(s&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t}));i.docStyle.setProperty("--scale-factor",e*r.PixelsPerInch.PDF_TO_CSS_UNITS);const o={scale:e};for(const e of this._pages)e.update(o);if(this._currentScale=e,!n){let e,t=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(t=this._location.pageNumber,e=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:t,destArray:e,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:s?t:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==i.SpreadMode.NONE&&this._scrollMode!==i.ScrollMode.HORIZONTAL?2:1}_setScale(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(e);if(n>0)this._setScaleUpdatePages(n,e,t,!1);else{const r=this._pages[this._currentPageNumber-1];if(!r)return;let s=i.SCROLLBAR_PADDING,o=i.VERTICAL_PADDING;this.isInPresentationMode?s=o=4:this.removePageBorders?s=o=0:this._scrollMode===i.ScrollMode.HORIZONTAL&&([s,o]=[o,s]);const a=(this.container.clientWidth-s)/r.width*r.scale/this._pageWidthScaleFactor,l=(this.container.clientHeight-o)/r.height*r.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=a;break;case"page-height":n=l;break;case"page-fit":n=Math.min(a,l);break;case"auto":const t=(0,i.isPortraitOrientation)(r)?a:Math.min(l,a);n=Math.min(i.MAX_AUTO_SCALE,t);break;default:return void console.error(`_setScale: "${e}" is an unknown zoom value.`)}this._setScaleUpdatePages(n,e,t,!0)}}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView(e){let{pageNumber:t,destArray:n=null,allowNegativeOffset:s=!1,ignoreDestinationZoom:o=!1}=e;if(!this.pdfDocument)return;const a=Number.isInteger(t)&&this._pages[t-1];if(!a)return void console.error(`scrollPageIntoView: "${t}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!n)return void this._setCurrentPageNumber(t,!0);let l,c,h=0,u=0,d=0,p=0;const f=a.rotation%180!=0,g=(f?a.height:a.width)/a.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,m=(f?a.width:a.height)/a.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS;let v=0;switch(n[1].name){case"XYZ":h=n[2],u=n[3],v=n[4],h=null!==h?h:0,u=null!==u?u:m;break;case"Fit":case"FitB":v="page-fit";break;case"FitH":case"FitBH":u=n[2],v="page-width",null===u&&this._location?(h=this._location.left,u=this._location.top):("number"!=typeof u||u<0)&&(u=m);break;case"FitV":case"FitBV":h=n[2],d=g,p=m,v="page-height";break;case"FitR":h=n[2],u=n[3],d=n[4]-h,p=n[5]-u;const e=this.removePageBorders?0:i.SCROLLBAR_PADDING,t=this.removePageBorders?0:i.VERTICAL_PADDING;l=(this.container.clientWidth-e)/d/r.PixelsPerInch.PDF_TO_CSS_UNITS,c=(this.container.clientHeight-t)/p/r.PixelsPerInch.PDF_TO_CSS_UNITS,v=Math.min(Math.abs(l),Math.abs(c));break;default:return void console.error(`scrollPageIntoView: "${n[1].name}" is not a valid destination type.`)}if(o||(v&&v!==this._currentScale?this.currentScaleValue=v:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE)),"page-fit"===v&&!n[4])return void y(this,U,Q).call(this,a);const b=[a.viewport.convertToViewportPoint(h,u),a.viewport.convertToViewportPoint(h+d,u+p)];let _=Math.min(b[0][0],b[1][0]),w=Math.min(b[0][1],b[1][1]);s||(_=Math.max(_,0),w=Math.max(w,0)),y(this,U,Q).call(this,a,{left:_,top:w})}_updateLocation(e){const t=this._currentScale,n=this._currentScaleValue,r=parseFloat(n)===t?Math.round(1e4*t)/100:n,i=e.id,s=this._pages[i-1],o=this.container,a=s.getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),l=Math.round(a[0]),c=Math.round(a[1]);let h=`#page=${i}`;this.isInPresentationMode||(h+=`&zoom=${r},${l},${c}`),this._location={pageNumber:i,scale:r,top:c,left:l,rotation:this._pagesRotation,pdfOpenParams:h}}update(){const e=this._getVisiblePages(),t=e.views,n=t.length;if(0===n)return;const r=Math.max(10,2*n+1);_(this,R).resize(r,e.ids),this.renderingQueue.renderHighestPriority(e);const s=this._spreadMode===i.SpreadMode.NONE&&(this._scrollMode===i.ScrollMode.PAGE||this._scrollMode===i.ScrollMode.VERTICAL),o=this._currentPageNumber;let a=!1;for(const e of t){if(e.percent<100)break;if(e.id===o&&s){a=!0;break}}this._setCurrentPageNumber(a?o:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===i.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===i.ScrollMode.PAGE?_(this,N).pages:this._pages,t=this._scrollMode===i.ScrollMode.HORIZONTAL,n=t&&this._isContainerRtl;return(0,i.getVisibleElements)({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:n})}isPageVisible(e){return!!this.pdfDocument&&(Number.isInteger(e)&&e>0&&e<=this.pagesCount?this._getVisiblePages().ids.has(e):(console.error(`isPageVisible: "${e}" is not a valid page.`),!1))}isPageCached(e){if(!this.pdfDocument)return!1;if(!(Number.isInteger(e)&&e>0&&e<=this.pagesCount))return console.error(`isPageCached: "${e}" is not a valid page.`),!1;const t=this._pages[e-1];return _(this,R).has(t)}cleanup(){for(const e of this._pages)e.renderingState!==i.RenderingStates.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),n=y(this,$,ne).call(this,t),r=this._spreadMode!==i.SpreadMode.NONE&&this._scrollMode!==i.ScrollMode.HORIZONTAL,s=this.renderingQueue.getHighestPriority(t,this._pages,n,r);return y(this,G,re).call(this,t.ids),!!s&&(y(this,q,te).call(this,s).then((()=>{this.renderingQueue.renderView(s)})),!0)}createTextLayerBuilder(e){let{textLayerDiv:t,pageIndex:n,viewport:r,enhanceTextSelection:i=!1,eventBus:s,highlighter:o,accessibilityManager:a=null}=e;return new p.TextLayerBuilder({textLayerDiv:t,eventBus:s,pageIndex:n,viewport:r,enhanceTextSelection:!this.isInPresentationMode&&i,highlighter:o,accessibilityManager:a})}createTextHighlighter(e){let{pageIndex:t,eventBus:n}=e;return new d.TextHighlighter({eventBus:n,pageIndex:t,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(e){var t,n,r,i;let{pageDiv:s,pdfPage:l,annotationStorage:c=(null===(t=this.pdfDocument)||void 0===t?void 0:t.annotationStorage),imageResourcesPath:h="",renderForms:u=!0,l10n:d=a.NullL10n,enableScripting:p=this.enableScripting,hasJSActionsPromise:f=(null===(n=this.pdfDocument)||void 0===n?void 0:n.hasJSActions()),mouseState:g=(null===(r=this._scriptingManager)||void 0===r?void 0:r.mouseState),fieldObjectsPromise:m=(null===(i=this.pdfDocument)||void 0===i?void 0:i.getFieldObjects()),annotationCanvasMap:v=null,accessibilityManager:b=null}=e;return new o.AnnotationLayerBuilder({pageDiv:s,pdfPage:l,annotationStorage:c,imageResourcesPath:h,renderForms:u,linkService:this.linkService,downloadManager:this.downloadManager,l10n:d,enableScripting:p,hasJSActionsPromise:f,mouseState:g,fieldObjectsPromise:m,annotationCanvasMap:v,accessibilityManager:b})}createAnnotationEditorLayerBuilder(e){var t;let{uiManager:n=_(this,D),pageDiv:r,pdfPage:i,accessibilityManager:o=null,l10n:a,annotationStorage:l=(null===(t=this.pdfDocument)||void 0===t?void 0:t.annotationStorage)}=e;return new s.AnnotationEditorLayerBuilder({uiManager:n,pageDiv:r,pdfPage:i,annotationStorage:l,accessibilityManager:o,l10n:a})}createXfaLayerBuilder(e){var t;let{pageDiv:n,pdfPage:r,annotationStorage:i=(null===(t=this.pdfDocument)||void 0===t?void 0:t.annotationStorage)}=e;return new f.XfaLayerBuilder({pageDiv:n,pdfPage:r,annotationStorage:i,linkService:this.linkService})}createStructTreeLayerBuilder(e){let{pdfPage:t}=e;return new u.StructTreeLayerBuilder({pdfPage:t})}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,n=this._pages.length;t<n;++t){const n=this._pages[t];if(n.width!==e.width||n.height!==e.height)return!1}return!0}getPagesOverview(){return this._pages.map((e=>{const t=e.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,i.isPortraitOrientation)(t)?{width:t.width,height:t.height,rotation:t.rotation}:{width:t.height,height:t.width,rotation:(t.rotation-90)%360}}))}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);if(!this.pdfDocument)return;if(!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=e;const t={optionalContentConfigPromise:e};for(const e of this._pages)e.update(t);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e})}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!(0,i.isValidScrollMode)(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>x.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===i.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",t===i.ScrollMode.WRAPPED),this.pdfDocument&&e&&(t===i.ScrollMode.PAGE?y(this,z,Z).call(this):this._previousScrollMode===i.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!(0,i.isValidSpreadMode)(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.pdfDocument)return;const t=this.viewer,n=this._pages;if(this._scrollMode===i.ScrollMode.PAGE)y(this,z,Z).call(this);else if(t.textContent="",this._spreadMode===i.SpreadMode.NONE)for(const e of this._pages)t.append(e.div);else{const e=this._spreadMode-1;let r=null;for(let i=0,s=n.length;i<s;++i)null===r?(r=document.createElement("div"),r.className="spread",t.append(r)):i%2===e&&(r=r.cloneNode(!1),t.append(r)),r.append(n[i].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this._scrollMode){case i.ScrollMode.WRAPPED:{const{views:n}=this._getVisiblePages(),r=new Map;for(const{id:e,y:t,percent:i,widthPercent:s}of n){if(0===i||s<100)continue;let n=r.get(t);n||r.set(t,n||(n=[])),n.push(e)}for(const n of r.values()){const r=n.indexOf(e);if(-1===r)continue;const i=n.length;if(1===i)break;if(t)for(let t=r-1,i=0;t>=i;t--){const r=n[t],i=n[t+1]-1;if(r<i)return e-i}else for(let t=r+1,s=i;t<s;t++){const r=n[t],i=n[t-1]+1;if(r>i)return i-e}if(t){const t=n[0];if(t<e)return e-t+1}else{const t=n[i-1];if(t>e)return t-e+1}break}break}case i.ScrollMode.HORIZONTAL:break;case i.ScrollMode.PAGE:case i.ScrollMode.VERTICAL:{if(this._spreadMode===i.SpreadMode.NONE)break;const n=this._spreadMode-1;if(t&&e%2!==n)break;if(!t&&e%2===n)break;const{views:r}=this._getVisiblePages(),s=t?e-1:e+1;for(const{id:e,percent:t,widthPercent:n}of r)if(e===s){if(t>0&&100===n)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const n=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+n,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}increaseScale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this._currentScale;do{t=(t*i.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(i.MAX_SCALE,t)}while(--e>0&&t<i.MAX_SCALE);this.currentScaleValue=t}decreaseScale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this._currentScale;do{t=(t/i.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(i.MIN_SCALE,t)}while(--e>0&&t>i.MIN_SCALE);this.currentScaleValue=t}updateContainerHeightCss(){const e=this.container.clientHeight;e!==_(this,F)&&(w(this,F,e),i.docStyle.setProperty("--viewer-container-height",`${e}px`))}get annotationEditorMode(){return _(this,D)?_(this,O):r.AnnotationEditorType.DISABLE}set annotationEditorMode(e){if(!_(this,D))throw new Error("The AnnotationEditor is not enabled.");if(_(this,O)!==e){if(!P(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);this.pdfDocument&&(w(this,O,e),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:e}),_(this,D).updateMode(e))}}set annotationEditorParams(e){let{type:t,value:n}=e;if(!_(this,D))throw new Error("The AnnotationEditor is not enabled.");_(this,D).updateParams(t,n)}refresh(){if(!this.pdfDocument)return;const e={};for(const t of this._pages)t.update(e);this.update()}}function Y(e){const t={annotationEditorMode:_(this,O),annotationMode:_(this,I),textLayerMode:this.textLayerMode};return e?(e.includes(r.PermissionFlag.COPY)||this.viewer.classList.add(A),e.includes(r.PermissionFlag.MODIFY_CONTENTS)||(t.annotationEditorMode=r.AnnotationEditorType.DISABLE),e.includes(r.PermissionFlag.MODIFY_ANNOTATIONS)||e.includes(r.PermissionFlag.FILL_INTERACTIVE_FORMS)||_(this,I)!==r.AnnotationMode.ENABLE_FORMS||(t.annotationMode=r.AnnotationMode.ENABLE),t):t}function K(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const e=new Promise((e=>{w(this,j,(()=>{"hidden"===document.visibilityState&&(e(),document.removeEventListener("visibilitychange",_(this,j)),w(this,j,null))})),document.addEventListener("visibilitychange",_(this,j))}));return Promise.race([this._onePageRenderedCapability.promise,e])}function Z(){if(this._scrollMode!==i.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=_(this,N),n=this.viewer;if(n.textContent="",t.pages.length=0,this._spreadMode!==i.SpreadMode.NONE||this.isInPresentationMode){const r=new Set,i=this._spreadMode-1;-1===i?r.add(e-1):e%2!==i?(r.add(e-1),r.add(e)):(r.add(e-2),r.add(e-1));const s=document.createElement("div");if(s.className="spread",this.isInPresentationMode){const e=document.createElement("div");e.className="dummyPage",s.append(e)}for(const e of r){const n=this._pages[e];n&&(s.append(n.div),t.pages.push(n))}n.append(s)}else{const r=this._pages[e-1];n.append(r.div),t.pages.push(r)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}function Q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{div:n,id:r}=e;if(this._scrollMode===i.ScrollMode.PAGE&&(this._setCurrentPageNumber(r),y(this,z,Z).call(this),this.update()),!t&&!this.isInPresentationMode){const e=n.offsetLeft+n.clientLeft,r=e+n.clientWidth,{scrollLeft:s,clientWidth:o}=this.container;(this._scrollMode===i.ScrollMode.HORIZONTAL||e<s||r>s+o)&&(t={left:0,top:0})}(0,i.scrollIntoView)(n,t)}function J(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}function ee(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),y(this,U,Q).call(this,e)}async function te(e){if(e.pdfPage)return e.pdfPage;try{var t,n;const r=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(r),null!==(t=(n=this.linkService)._cachedPageNumber)&&void 0!==t&&t.call(n,r.ref)||this.linkService.cachePageRef(e.id,r.ref),r}catch(e){return console.error("Unable to get page for page view",e),null}}function ne(e){var t,n;if(1===(null===(t=e.first)||void 0===t?void 0:t.id))return!0;if((null===(n=e.last)||void 0===n?void 0:n.id)===this.pagesCount)return!1;switch(this._scrollMode){case i.ScrollMode.PAGE:return _(this,N).scrollDown;case i.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function re(e){for(const t of e){const e=this._pages[t-1];null==e||e.toggleLoadingIconSpinner(!0)}for(const t of _(this,R))e.has(t.id)||t.toggleLoadingIconSpinner(!1)}t.BaseViewer=X},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var r=n(3),i=n(7),s=n(14),o=n(4),a=n(15);function l(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function c(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,u(e,t,"get"))}function h(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,u(e,t,"set"),n),n}function u(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}const d=s.compatibilityParams.maxCanvasPixels||16777216;var p=new WeakMap,f=new WeakMap;t.PDFPageView=class{constructor(e){var t,n,s,a;l(this,p,{writable:!0,value:r.AnnotationMode.ENABLE_FORMS}),l(this,f,{writable:!0,value:{initialOptionalContent:!0,regularAnnotations:!0}});const u=e.container,g=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||i.DEFAULT_SCALE,this.viewport=g,this.pdfPageRotate=g.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!==(t=e.textLayerMode)&&void 0!==t?t:i.TextLayerMode.ENABLE,h(this,p,null!==(n=e.annotationMode)&&void 0!==n?n:r.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=e.imageResourcesPath||"",this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels||d,this.pageColors=e.pageColors||null,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.textLayerFactory=e.textLayerFactory,this.annotationLayerFactory=e.annotationLayerFactory,this.annotationEditorLayerFactory=e.annotationEditorLayerFactory,this.xfaLayerFactory=e.xfaLayerFactory,this.textHighlighter=null===(s=e.textHighlighterFactory)||void 0===s?void 0:s.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=e.structTreeLayerFactory,this.renderer=e.renderer||i.RendererType.CANVAS,this.l10n=e.l10n||o.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=i.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null!==(a=this.renderingQueue)&&void 0!==a&&a.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const m=document.createElement("div");if(m.className="page",m.style.width=Math.floor(this.viewport.width)+"px",m.style.height=Math.floor(this.viewport.height)+"px",m.setAttribute("data-page-number",this.id),m.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then((e=>{m.setAttribute("aria-label",e)})),this.div=m,null==u||u.append(m),this._isStandalone){const{optionalContentConfigPromise:t}=e;t&&t.then((e=>{t===this._optionalContentConfigPromise&&(c(this,f).initialOptionalContent=e.hasInitialVisibility)}))}}setPdfPage(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;const t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:t}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}async _renderAnnotationLayer(){let e=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(t){console.error(`_renderAnnotationLayer: "${t}".`),e=t}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:e})}}async _renderAnnotationEditorLayer(){let e=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`_renderAnnotationEditorLayer: "${t}".`),e=t}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:e})}}async _renderXfaLayer(){let e=null;try{const e=await this.xfaLayer.render(this.viewport,"display");this.textHighlighter&&this._buildXfaTextContentItems(e.textDivs)}catch(t){console.error(`_renderXfaLayer: "${t}".`),e=t}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:e})}}async _buildXfaTextContentItems(e){const t=await this.pdfPage.getTextContent(),n=[];for(const e of t.items)n.push(e.str);this.textHighlighter.setTextMapping(e,n),this.textHighlighter.enable()}_resetZoomLayer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.zoomLayer)return;const t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset(){var e,t,n;let{keepZoomLayer:r=!1,keepAnnotationLayer:s=!1,keepAnnotationEditorLayer:o=!1,keepXfaLayer:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:s,keepAnnotationEditorLayer:o,keepXfaLayer:a}),this.renderingState=i.RenderingStates.INITIAL;const l=this.div;l.style.width=Math.floor(this.viewport.width)+"px",l.style.height=Math.floor(this.viewport.height)+"px";const c=l.childNodes,h=r&&this.zoomLayer||null,u=s&&(null===(e=this.annotationLayer)||void 0===e?void 0:e.div)||null,d=o&&(null===(t=this.annotationEditorLayer)||void 0===t?void 0:t.div)||null,p=a&&(null===(n=this.xfaLayer)||void 0===n?void 0:n.div)||null;for(let e=c.length-1;e>=0;e--){const t=c[e];switch(t){case h:case u:case d:case p:continue}t.remove()}var f;l.removeAttribute("data-loaded"),u&&this.annotationLayer.hide(),d?this.annotationEditorLayer.hide():null===(f=this.annotationEditorLayer)||void 0===f||f.destroy(),p&&this.xfaLayer.hide(),h||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then((e=>{var t;null===(t=this.loadingIconDiv)||void 0===t||t.setAttribute("aria-label",e)})),l.append(this.loadingIconDiv)}update(e){let{scale:t=0,rotation:n=null,optionalContentConfigPromise:s=null}=e;this.scale=t||this.scale,"number"==typeof n&&(this.rotation=n),s instanceof Promise&&(this._optionalContentConfigPromise=s,s.then((e=>{s===this._optionalContentConfigPromise&&(c(this,f).initialOptionalContent=e.hasInitialVisibility)})));const o=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*r.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:o}),this._isStandalone&&i.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let a=!1;if(this.canvas&&this.maxCanvasPixels>0){const e=this.outputScale;(Math.floor(this.viewport.width)*e.sx|0)*(Math.floor(this.viewport.height)*e.sy|0)>this.maxCanvasPixels&&(a=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&a)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});this.zoomLayer||this.canvas.hidden||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering(){let{keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!this.annotationLayer||e&&this.annotationLayer.div||(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),!this.annotationEditorLayer||t&&this.annotationEditorLayer.div||(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),!this.xfaLayer||n&&this.xfaLayer.div||(this.xfaLayer.cancel(),this.xfaLayer=null,null===(r=this.textHighlighter)||void 0===r||r.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform(e){let{target:t,redrawAnnotationLayer:n=!1,redrawAnnotationEditorLayer:r=!1,redrawXfaLayer:i=!1}=e;const s=this.viewport.width,o=this.viewport.height,a=this.div;t.style.width=t.parentNode.style.width=a.style.width=Math.floor(s)+"px",t.style.height=t.parentNode.style.height=a.style.height=Math.floor(o)+"px";const l=this.viewport.rotation-this.paintedViewportMap.get(t).rotation,c=Math.abs(l);let h=1,u=1;if(90!==c&&270!==c||(h=o/s,u=s/o),t.style.transform=`rotate(${l}deg) scale(${h}, ${u})`,this.textLayer){const e=this.textLayer.viewport,t=this.viewport.rotation-e.rotation,n=Math.abs(t);let r=s/e.width;90!==n&&270!==n||(r=s/e.height);const i=this.textLayer.textLayerDiv;let o,a;switch(n){case 0:o=a=0;break;case 90:o=0,a="-"+i.style.height;break;case 180:o="-"+i.style.width,a="-"+i.style.height;break;case 270:o="-"+i.style.width,a=0;break;default:console.error("Bad rotation value.")}i.style.transform=`rotate(${n}deg) scale(${r}) translate(${o}, ${a})`,i.style.transformOrigin="0% 0%"}n&&this.annotationLayer&&this._renderAnnotationLayer(),r&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),i&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}toggleLoadingIconSpinner(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.loadingIconDiv)||void 0===e||e.classList.toggle("notVisible",!t)}draw(){var e,t,n,s=this;this.renderingState!==i.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:o,pdfPage:l}=this;if(!l)return this.renderingState=i.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=i.RenderingStates.RUNNING;const h=document.createElement("div");h.style.width=o.style.width,h.style.height=o.style.height,h.classList.add("canvasWrapper");const u=(null===(e=this.annotationLayer)||void 0===e?void 0:e.div)||(null===(t=this.annotationEditorLayer)||void 0===t?void 0:t.div);u?u.before(h):o.append(h);let d=null;if(this.textLayerMode!==i.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new a.TextAccessibilityManager);const e=document.createElement("div");e.className="textLayer",e.style.width=h.style.width,e.style.height=h.style.height,u?u.before(e):o.append(e),d=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:e,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===i.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=d,c(this,p)!==r.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:o,pdfPage:l,imageResourcesPath:this.imageResourcesPath,renderForms:c(this,p)===r.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),null!==(n=this.xfaLayer)&&void 0!==n&&n.div&&o.append(this.xfaLayer.div);let g=null;this.renderingQueue&&(g=e=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=i.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=i.RenderingStates.RUNNING,e()});e()});const m=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(v===s.paintTask&&(s.paintTask=null),e instanceof r.RenderingCancelledException)s._renderError=null;else if(s._renderError=e,s.renderingState=i.RenderingStates.FINISHED,s.loadingIconDiv&&(s.loadingIconDiv.remove(),delete s.loadingIconDiv),s._resetZoomLayer(!0),c(s,f).regularAnnotations=!v.separateAnnots,s.eventBus.dispatch("pagerendered",{source:s,pageNumber:s.id,cssTransform:!1,timestamp:performance.now(),error:s._renderError}),e)throw e},v=this.renderer===i.RendererType.SVG?this.paintOnSvg(h):this.paintOnCanvas(h);v.onRenderContinue=g,this.paintTask=v;const b=v.promise.then((()=>m(null).then((()=>{if(d){const e=l.streamTextContent({includeMarkedContent:!0});d.setTextContentStream(e),d.render()}this.annotationLayer&&this._renderAnnotationLayer().then((()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:o,pdfPage:l,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())}))}))),(function(e){return m(e)}));return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:o,pdfPage:l})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=e=>{e.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then((e=>{if(!e)return;if(!this.canvas)return;const t=this.structTreeLayer.render(e);t.classList.add("structTree"),this.canvas.append(t)})))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:l})),o.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),b}paintOnCanvas(e){const t=(0,r.createPromiseCapability)(),n={promise:t.promise,onRenderContinue(e){e()},cancel(){m.cancel()},get separateAnnots(){return m.separateAnnots}},s=this.viewport,o=document.createElement("canvas");o.setAttribute("role","presentation"),o.hidden=!0;let a=!0;const l=function(){a&&(o.hidden=!1,a=!1)};e.append(o),this.canvas=o;const h=o.getContext("2d",{alpha:!1}),u=this.outputScale=new i.OutputScale;if(this.useOnlyCssZoom){const e=s.clone({scale:r.PixelsPerInch.PDF_TO_CSS_UNITS});u.sx*=e.width/s.width,u.sy*=e.height/s.height}if(this.maxCanvasPixels>0){const e=s.width*s.height,t=Math.sqrt(this.maxCanvasPixels/e);u.sx>t||u.sy>t?(u.sx=t,u.sy=t,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const d=(0,i.approximateFraction)(u.sx),f=(0,i.approximateFraction)(u.sy);o.width=(0,i.roundToDivide)(s.width*u.sx,d[0]),o.height=(0,i.roundToDivide)(s.height*u.sy,f[0]),o.style.width=(0,i.roundToDivide)(s.width,d[1])+"px",o.style.height=(0,i.roundToDivide)(s.height,f[1])+"px",this.paintedViewportMap.set(o,s);const g={canvasContext:h,transform:u.scaled?[u.sx,0,0,u.sy,0,0]:null,viewport:this.viewport,annotationMode:c(this,p),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},m=this.pdfPage.render(g);return m.onContinue=function(e){l(),n.onRenderContinue?n.onRenderContinue(e):e()},m.promise.then((function(){l(),t.resolve()}),(function(e){l(),t.reject(e)})),n}paintOnSvg(e){let t=!1;const n=()=>{if(t)throw new r.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},s=this.pdfPage,o=this.viewport.clone({scale:r.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:s.getOperatorList({annotationMode:c(this,p)}).then((t=>(n(),new r.SVGGraphics(s.commonObjs,s.objs).getSVG(t,o).then((t=>{n(),this.svg=t,this.paintedViewportMap.set(t,o),t.style.width=e.style.width,t.style.height=e.style.height,this.renderingState=i.RenderingStates.FINISHED,e.append(t)}))))),onRenderContinue(e){e()},cancel(){t=!0},get separateAnnots(){return!1}}}setPageLabel(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:e,regularAnnotations:t}=c(this,f);return e&&t?this.canvas:null}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.compatibilityParams=t.OptionKind=t.AppOptions=void 0;const n=Object.create(null);t.compatibilityParams=n;{const e=navigator.userAgent||"",t=navigator.platform||"",r=navigator.maxTouchPoints||1,i=/Android/.test(e);(/\b(iPad|iPhone|iPod)(?=;)/.test(e)||"MacIntel"===t&&r>1||i)&&(n.maxCanvasPixels=5242880)}const r={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};t.OptionKind=r;const i={annotationEditorMode:{value:-1,kind:r.VIEWER+r.PREFERENCE},annotationMode:{value:2,kind:r.VIEWER+r.PREFERENCE},cursorToolOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},defaultZoomValue:{value:"",kind:r.VIEWER+r.PREFERENCE},disableHistory:{value:!1,kind:r.VIEWER},disablePageLabels:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePermissions:{value:!1,kind:r.VIEWER+r.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:r.VIEWER+r.PREFERENCE},enableScripting:{value:!0,kind:r.VIEWER+r.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:r.VIEWER},externalLinkTarget:{value:0,kind:r.VIEWER+r.PREFERENCE},historyUpdateUrl:{value:!1,kind:r.VIEWER+r.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:r.VIEWER+r.PREFERENCE},imageResourcesPath:{value:"./images/",kind:r.VIEWER},maxCanvasPixels:{value:16777216,kind:r.VIEWER},forcePageColors:{value:!1,kind:r.VIEWER+r.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:r.VIEWER+r.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:r.VIEWER+r.PREFERENCE},pdfBugEnabled:{value:!1,kind:r.VIEWER+r.PREFERENCE},printResolution:{value:150,kind:r.VIEWER},sidebarViewOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},scrollModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},spreadModeOnLoad:{value:-1,kind:r.VIEWER+r.PREFERENCE},textLayerMode:{value:1,kind:r.VIEWER+r.PREFERENCE},useOnlyCssZoom:{value:!1,kind:r.VIEWER+r.PREFERENCE},viewerCssTheme:{value:0,kind:r.VIEWER+r.PREFERENCE},viewOnLoad:{value:0,kind:r.VIEWER+r.PREFERENCE},cMapPacked:{value:!0,kind:r.API},cMapUrl:{value:"../web/cmaps/",kind:r.API},disableAutoFetch:{value:!1,kind:r.API+r.PREFERENCE},disableFontFace:{value:!1,kind:r.API+r.PREFERENCE},disableRange:{value:!1,kind:r.API+r.PREFERENCE},disableStream:{value:!1,kind:r.API+r.PREFERENCE},docBaseUrl:{value:"",kind:r.API},enableXfa:{value:!0,kind:r.API+r.PREFERENCE},fontExtraProperties:{value:!1,kind:r.API},isEvalSupported:{value:!0,kind:r.API},maxImageSize:{value:-1,kind:r.API},pdfBug:{value:!1,kind:r.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:r.API},verbosity:{value:1,kind:r.API},workerPort:{value:null,kind:r.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:r.WORKER}};i.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:r.VIEWER},i.disablePreferences={value:!1,kind:r.VIEWER},i.locale={value:navigator.language||"en-US",kind:r.VIEWER},i.renderer={value:"canvas",kind:r.VIEWER+r.PREFERENCE},i.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:r.VIEWER};const s=Object.create(null);t.AppOptions=class{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(e){const t=s[e];if(void 0!==t)return t;const r=i[e];var o;return void 0!==r?null!==(o=n[e])&&void 0!==o?o:r.value:void 0}static getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=Object.create(null);for(const a in i){var o;const l=i[a];if(e){if(!(e&l.kind))continue;if(e===r.PREFERENCE){const e=l.value,n=typeof e;if("boolean"===n||"string"===n||"number"===n&&Number.isInteger(e)){t[a]=e;continue}throw new Error(`Invalid type for preference: ${a}`)}}const c=s[a];t[a]=void 0!==c?c:null!==(o=n[a])&&void 0!==o?o:l.value}return t}static set(e,t){s[e]=t}static setAll(e){for(const t in e)s[t]=e[t]}static remove(e){delete s[e]}static _hasUserOptions(){return Object.keys(s).length>0}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextAccessibilityManager=void 0;var r=n(7);function i(e,t,n){s(e,t),t.set(e,n)}function s(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function a(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}function l(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,h(e,t,"get"))}function c(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,h(e,t,"set"),n),n}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var u=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,g=new WeakSet;class m{constructor(){var e,t;s(e=this,t=g),t.add(e),i(this,u,{writable:!0,value:!1}),i(this,d,{writable:!0,value:null}),i(this,p,{writable:!0,value:new Map}),i(this,f,{writable:!0,value:new Map})}setTextMapping(e){c(this,d,e)}enable(){if(l(this,u))throw new Error("TextAccessibilityManager is already enabled.");if(!l(this,d))throw new Error("Text divs and strings have not been set.");if(c(this,u,!0),c(this,d,l(this,d).slice()),l(this,d).sort(a(m,m,v)),l(this,p).size>0){const e=l(this,d);for(const[t,n]of l(this,p))document.getElementById(t)?o(this,g,b).call(this,t,e[n]):l(this,p).delete(t)}for(const[e,t]of l(this,f))this.addPointerInTextLayer(e,t);l(this,f).clear()}disable(){l(this,u)&&(l(this,f).clear(),c(this,d,null),c(this,u,!1))}removePointerInTextLayer(e){var t;if(!l(this,u))return void l(this,f).delete(e);const n=l(this,d);if(!n||0===n.length)return;const{id:r}=e,i=l(this,p).get(r);if(void 0===i)return;const s=n[i];l(this,p).delete(r);let o=s.getAttribute("aria-owns");null!==(t=o)&&void 0!==t&&t.includes(r)&&(o=o.split(" ").filter((e=>e!==r)).join(" "),o?s.setAttribute("aria-owns",o):(s.removeAttribute("aria-owns"),s.setAttribute("role","presentation")))}addPointerInTextLayer(e,t){const{id:n}=e;if(!n)return;if(!l(this,u))return void l(this,f).set(e,t);t&&this.removePointerInTextLayer(e);const i=l(this,d);if(!i||0===i.length)return;const s=(0,r.binarySearchFirstItem)(i,(t=>a(m,m,v).call(m,e,t)<0)),c=Math.max(0,s-1);o(this,g,b).call(this,n,i[c]),l(this,p).set(n,c)}moveElementInDOM(e,t,n,i){if(this.addPointerInTextLayer(n,i),!e.hasChildNodes())return void e.append(t);const s=Array.from(e.childNodes).filter((e=>e!==t));if(0===s.length)return;const o=n||t,l=(0,r.binarySearchFirstItem)(s,(e=>a(m,m,v).call(m,o,e)<0));0===l?s[0].before(t):s[l-1].after(t)}}function v(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();if(0===n.width&&0===n.height)return 1;if(0===r.width&&0===r.height)return-1;const i=n.y,s=n.y+n.height,o=n.y+n.height/2,a=r.y,l=r.y+r.height,c=r.y+r.height/2;return o<=a&&c>=s?-1:c<=i&&o>=l?1:n.x+n.width/2-(r.x+r.width/2)}function b(e,t){const n=t.getAttribute("aria-owns");null!=n&&n.includes(e)||t.setAttribute("aria-owns",n?`${n} ${e}`:e),t.removeAttribute("role")}t.TextAccessibilityManager=m},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFRenderingQueue=void 0;var r=n(3),i=n(7);t.PDFRenderingQueue=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(e){var t;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.isThumbnailViewEnabled&&null!==(t=this.pdfThumbnailViewer)&&void 0!==t&&t.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}getHighestPriority(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=e.views,s=i.length;if(0===s)return null;for(let e=0;e<s;e++){const t=i[e].view;if(!this.isViewFinished(t))return t}const o=e.first.id,a=e.last.id;if(a-o+1>s){const r=e.ids;for(let e=1,i=a-o;e<i;e++){const i=n?o+e:a-e;if(r.has(i))continue;const s=t[i-1];if(!this.isViewFinished(s))return s}}let l=n?a:o-2,c=t[l];return c&&!this.isViewFinished(c)||r&&(l+=n?1:-1,c=t[l],c&&!this.isViewFinished(c))?c:null}isViewFinished(e){return e.renderingState===i.RenderingStates.FINISHED}renderView(e){switch(e.renderingState){case i.RenderingStates.FINISHED:return!1;case i.RenderingStates.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case i.RenderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case i.RenderingStates.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally((()=>{this.renderHighestPriority()})).catch((e=>{e instanceof r.RenderingCancelledException||console.error(`renderView: "${e}"`)}))}return!0}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextHighlighter=void 0,t.TextHighlighter=class{constructor(e){let{findController:t,eventBus:n,pageIndex:r}=e;this.findController=t,this.matches=[],this.eventBus=n,this.pageIdx=r,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=e=>{e.pageIndex!==this.pageIdx&&-1!==e.pageIndex||this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:n}=this;let r=0,i=0;const s=n.length-1,o=[];for(let a=0,l=e.length;a<l;a++){let l=e[a];for(;r!==s&&l>=i+n[r].length;)i+=n[r].length,r++;r===n.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:r,offset:l-i}};for(l+=t[a];r!==s&&l>i+n[r].length;)i+=n[r].length,r++;c.end={divIdx:r,offset:l-i},o.push(c)}return o}_renderMatches(e){if(0===e.length)return;const{findController:t,pageIdx:n}=this,{textContentItemsStr:r,textDivs:i}=this,s=n===t.selected.pageIdx,o=t.selected.matchIdx;let a=null;const l={divIdx:-1,offset:void 0};function c(e,t){const n=e.divIdx;return i[n].textContent="",h(n,0,e.offset,t)}function h(e,t,n,s){let o=i[e];if(o.nodeType===Node.TEXT_NODE){const t=document.createElement("span");o.before(t),t.append(o),i[e]=t,o=t}const a=r[e].substring(t,n),l=document.createTextNode(a);if(s){const e=document.createElement("span");return e.className=`${s} appended`,e.append(l),o.append(e),s.includes("selected")?e.offsetLeft:0}return o.append(l),0}let u=o,d=u+1;if(t.state.highlightAll)u=0,d=e.length;else if(!s)return;for(let r=u;r<d;r++){const u=e[r],d=u.begin,p=u.end,f=s&&r===o,g=f?" selected":"";let m=0;if(a&&d.divIdx===a.divIdx?h(a.divIdx,a.offset,d.offset):(null!==a&&h(a.divIdx,a.offset,l.offset),c(d)),d.divIdx===p.divIdx)m=h(d.divIdx,d.offset,p.offset,"highlight"+g);else{m=h(d.divIdx,d.offset,l.offset,"highlight begin"+g);for(let e=d.divIdx+1,t=p.divIdx;e<t;e++)i[e].className="highlight middle"+g;c(p,"highlight end"+g)}a=p,f&&t.scrollMatchIntoView({element:i[d.divIdx],selectedLeft:m,pageIndex:n,matchIndex:o})}a&&h(a.divIdx,a.offset,l.offset)}_updateMatches(){if(!this.enabled)return;const{findController:e,matches:t,pageIdx:n}=this,{textContentItemsStr:r,textDivs:i}=this;let s=-1;for(let e=0,n=t.length;e<n;e++){const n=t[e];for(let e=Math.max(s,n.begin.divIdx),t=n.end.divIdx;e<=t;e++){const t=i[e];t.textContent=r[e],t.className=""}s=n.end.divIdx+1}if(null==e||!e.highlightMatches)return;const o=e.pageMatches[n]||null,a=e.pageMatchesLength[n]||null;this.matches=this._convertMatches(o,a),this._renderMatches(this.matches)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var r=n(3);function i(e,t){const n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).append(n),n.click(),n.remove()}t.DownloadManager=class{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(e,t){(0,r.createValidAbsoluteUrl)(e,"http://example.com")?i(e+"#pdfjs.action=download",t):console.error(`downloadUrl - not a valid URL: ${e}`)}downloadData(e,t,n){i(URL.createObjectURL(new Blob([e],{type:n})),t)}openOrDownloadData(e,t,n){const i=(0,r.isPdfFile)(n),s=i?"application/pdf":"";if(i){let r,i=this._openBlobUrls.get(e);i||(i=URL.createObjectURL(new Blob([t],{type:s})),this._openBlobUrls.set(e,i)),r="?file="+encodeURIComponent(i+"#"+n);try{return window.open(r),!0}catch(t){console.error(`openOrDownloadData: ${t}`),URL.revokeObjectURL(i),this._openBlobUrls.delete(e)}}return this.downloadData(t,n,s),!1}download(e,t,n){i(URL.createObjectURL(e),n)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WaitOnType=t.EventBus=t.AutomationEventBus=void 0,t.waitOnEventOrTimeout=function(e){let{target:t,name:i,delay:s=0}=e;return new Promise((function(e,o){if("object"!=typeof t||!i||"string"!=typeof i||!(Number.isInteger(s)&&s>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function a(n){t instanceof r?t._off(i,l):t.removeEventListener(i,l),h&&clearTimeout(h),e(n)}const l=a.bind(null,n.EVENT);t instanceof r?t._on(i,l):t.addEventListener(i,l);const c=a.bind(null,n.TIMEOUT),h=setTimeout(c,s)}))};const n={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=n;class r{constructor(){this._listeners=Object.create(null)}on(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(e,t,{external:!0,once:null==n?void 0:n.once})}off(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._off(e,t,{external:!0,once:null==n?void 0:n.once})}dispatch(e,t){const n=this._listeners[e];if(!n||0===n.length)return;let r;for(const{listener:i,external:s,once:o}of n.slice(0))o&&this._off(e,i),s?(r||(r=[])).push(i):i(t);if(r){for(const e of r)e(t);r=null}}_on(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;((n=this._listeners)[e]||(n[e]=[])).push({listener:t,external:!0===(null==r?void 0:r.external),once:!0===(null==r?void 0:r.once)})}_off(e,t){const n=this._listeners[e];if(n)for(let e=0,r=n.length;e<r;e++)if(n[e].listener===t)return void n.splice(e,1)}}t.EventBus=r,t.AutomationEventBus=class extends r{dispatch(e,t){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0,n(21);var r=n(4);const i=document.webL10n;t.GenericL10n=class{constructor(e){this._lang=e,this._ready=new Promise(((t,n)=>{i.setLanguage((0,r.fixupLangCode)(e),(()=>{t(i)}))}))}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.getL10nFallback)(e,t);return(await this._ready).get(e,t,n)}async translate(e){return(await this._ready).translate(e)}}},()=>{document.webL10n=function(e,t){var n={},r="",i="textContent",s="",o={},a="loading";function l(e,t,n){t=t||function(e){},n=n||function(){};var r=new XMLHttpRequest;r.open("GET",e,!0),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=utf-8"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0===r.status?t(r.responseText):n())},r.onerror=n,r.ontimeout=n;try{r.send(null)}catch(e){n()}}function c(e,t,s,o){var a=e.replace(/[^\/]*$/,"")||"./";function c(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}l(e,(function(e){r+=e,function(e,n){var r={},i=/^\s*|\s*$/,s=/^\s*#|^\s*$/,o=/^\s*\[(.*)\]\s*$/,h=/^\s*@import\s+url\((.*)\)\s*$/i,u=/^([^=\s]*)\s*=\s*(.+)$/;function d(e,n,l){var d=e.replace(i,"").split(/[\r\n]+/),f="*",g=t.split("-",1)[0],m=!1,v="";!function e(){for(;;){if(!d.length)return void l();var i=d.shift();if(!s.test(i)){if(n){if(v=o.exec(i)){f=v[1].toLowerCase(),m="*"!==f&&f!==t&&f!==g;continue}if(m)continue;if(v=h.exec(i))return void p(a+v[1],e)}var b=i.match(u);b&&3==b.length&&(r[b[1]]=c(b[2]))}}}()}function p(e,t){l(e,(function(e){d(e,!1,t)}),(function(){console.warn(e+" not found."),t()}))}d(e,!0,(function(){n(r)}))}(e,(function(e){for(var t in e){var r,o,a=t.lastIndexOf(".");a>0?(r=t.substring(0,a),o=t.substring(a+1)):(r=t,o=i),n[r]||(n[r]={}),n[r][o]=e[t]}s&&s()}))}),o)}function h(e,i){e&&(e=e.toLowerCase()),i=i||function(){},n={},r="",s="",s=e;var o=t.querySelectorAll('link[type="application/l10n"]'),l=o.length;if(0!==l){var h,u,d=0;u=function(){++d>=l&&(i(),a="complete")};for(var p=0;p<l;p++)new v(o[p]).load(e,u)}else{var f=(h=t.querySelector('script[type="application/l10n"]'))?JSON.parse(h.innerHTML):null;if(f&&f.locales&&f.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(n=f.locales[e])){var g=f.default_locale.toLowerCase();for(var m in f.locales){if((m=m.toLowerCase())===e){n=f.locales[e];break}m===g&&(n=f.locales[g])}}i()}else console.log("no resource to load, early way out");a="complete"}function v(e){var t=e.href;this.load=function(e,n){c(t,e,n,(function(){console.warn(t+" not found."),console.warn('"'+e+'" resource not found'),s="",n()}))}}}function u(e,t,r){var i=n[e];if(!i){if(console.warn("#"+e+" is undefined."),!r)return null;i=r}var s={};for(var o in i){var a=i[o];a=p(a=d(a,t,e,o),t,e),s[o]=a}return s}function d(e,t,r,i){var s=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!s||!s.length)return e;var a,l=s[1],c=s[2];return t&&c in t?a=t[c]:c in n&&(a=n[c]),l in o&&(e=(0,o[l])(e,a,r,i)),e}function p(e,t,r){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(e,i){return t&&i in t?t[i]:i in n?n[i]:(console.log("argument {{"+i+"}} for #"+r+" is undefined."),e)}))}function f(e){var n=function(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),r={};if(n)try{r=JSON.parse(n)}catch(e){console.warn("could not parse arguments for #"+t)}return{id:t,args:r}}(e);if(n.id){var r=u(n.id,n.args);if(r){if(r[i]){if(0===function(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}(e))e[i]=r[i];else{for(var s=e.childNodes,o=!1,a=0,l=s.length;a<l;a++)3===s[a].nodeType&&/\S/.test(s[a].nodeValue)&&(o?s[a].nodeValue="":(s[a].nodeValue=r[i],o=!0));if(!o){var c=t.createTextNode(r[i]);e.prepend(c)}}delete r[i]}for(var h in r)e[h]=r[h]}else console.warn("#"+n.id+" is undefined.")}}return o.plural=function(e,t,r,a){var l=parseFloat(t);if(isNaN(l))return e;if(a!=i)return e;o._pluralRules||(o._pluralRules=function(e){function t(e,t){return-1!==t.indexOf(e)}function n(e,t,n){return t<=e&&e<=n}var r={0:function(e){return"other"},1:function(e){return n(e%100,3,10)?"few":0===e?"zero":n(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return n(e,0,1)?"one":"other"},5:function(e){return n(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return n(e,3,6)?"few":n(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&n(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return n(e%10,2,9)&&!n(e%100,11,19)?"few":e%10!=1||n(e%100,11,19)?"other":"one"},11:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":e%10==0||n(e%10,5,9)||n(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return n(e,2,4)?"few":1==e?"one":"other"},13:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":1!=e&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return n(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||n(e%100,2,10)?"few":n(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":n(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return n(e,2,10)?"few":n(e,0,1)?"one":"other"},20:function(e){return!n(e%10,3,4)&&e%10!=9||n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||t(e%100,[12,72,92])?e%10!=1||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return n(e,0,1)||n(e,11,99)?"one":"other"},23:function(e){return n(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return n(e,3,10)||n(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[e.replace(/-.*$/,"")];return i in r?r[i]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}(s));var c="["+o._pluralRules(l)+"]";return 0===l&&r+"[zero]"in n?e=n[r+"[zero]"][a]:1==l&&r+"[one]"in n?e=n[r+"[one]"][a]:2==l&&r+"[two]"in n?e=n[r+"[two]"][a]:r+c in n?e=n[r+c][a]:r+"[other]"in n&&(e=n[r+"[other]"][a]),e},{get:function(e,t,n){var r,s=e.lastIndexOf("."),o=i;s>0&&(o=e.substring(s+1),e=e.substring(0,s)),n&&((r={})[o]=n);var a=u(e,t,r);return a&&o in a?a[o]:"{{"+e+"}}"},getData:function(){return n},getText:function(){return r},getLanguage:function(){return s},setLanguage:function(e,t){h(e,(function(){t&&t()}))},getDirection:function(){var e=s.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function(e){for(var n=function(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}(e=e||t.documentElement),r=n.length,i=0;i<r;i++)f(n[i]);f(e)},getReadyState:function(){return a},ready:function(n){n&&("complete"==a||"interactive"==a?e.setTimeout((function(){n()})):t.addEventListener&&t.addEventListener("localized",(function e(){t.removeEventListener("localized",e),n()})))}}}(window,document)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var r=n(7),i=n(3),s=n(23);function o(e,t){a(e,t),t.add(e)}function a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(e,t,"get");return function(e,t){return t.get?t.get.call(e):t.value}(e,n)}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}const h={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=h;const u={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},d=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),p=[...d.values()].map((e=>String.fromCharCode(e))).join(""),f=/\p{M}+/gu,g=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,m=/([^\p{M}])\p{M}*$/u,v=/^\p{M}*([^\p{M}])/u,b=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,y=new Map;let _=null,w=null;function S(e){const t=[];let n,r;for(;null!==(n=b.exec(e));){let{index:e}=n;for(const r of n[0]){let n=y.get(r);n||(n=r.normalize("NFD").length,y.set(r,n)),t.push([n,e++])}}if(0===t.length&&_)r=_;else if(t.length>0&&w)r=w;else{const e=`([${Object.keys(u).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;r=0===t.length?_=new RegExp(e+"|(\\u0000)","gum"):w=new RegExp(e+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const i=[];for(;null!==(n=f.exec(e));)i.push([n[0].length,n.index]);let s=e.normalize("NFD");const o=[[0,0]];let a=0,l=0,c=0,h=0,d=0,p=!1;return s=s.replace(r,((e,n,r,s,f,g,m)=>{var v;if(m-=h,n){const t=u[e],n=t.length;for(let e=1;e<n;e++)o.push([m-c+e,c-e]);return c-=n-1,t}if(r){var b;const e=r.endsWith("\n"),t=e?r.length-2:r.length;p=!0;let n=t;m+d===(null===(b=i[a])||void 0===b?void 0:b[1])&&(n-=i[a][0],++a);for(let e=1;e<=n;e++)o.push([m-1-c+e,c-e]);return c-=n,h+=n,e?(m+=t-1,o.push([m-c+1,1+c]),c+=1,h+=1,d+=1,r.slice(0,t)):r}if(s)return o.push([m-c+1,1+c]),c+=1,h+=1,d+=1,s.charAt(0);if(f)return o.push([m-c+1,c-1]),c-=1,h+=1,d+=1," ";if(m+d===(null===(v=t[l])||void 0===v?void 0:v[1])){const e=t[l][0]-1;++l;for(let t=1;t<=e;t++)o.push([m-(c-t),c-t]);c-=e,h+=e}return g})),o.push([s.length,c]),[s,o,p]}function A(e,t,n){if(!e)return[t,n];const i=t,s=t+n;let o=(0,r.binarySearchFirstItem)(e,(e=>e[0]>=i));e[o][0]>i&&--o;let a=(0,r.binarySearchFirstItem)(e,(e=>e[0]>=s),o);return e[a][0]>s&&--a,[i+e[o][1],n+e[a][1]-e[o][1]]}var x=new WeakSet,P=new WeakSet,E=new WeakMap,C=new WeakSet,T=new WeakSet,k=new WeakSet,M=new WeakSet,R=new WeakSet,O=new WeakSet,D=new WeakSet,I=new WeakSet,L=new WeakSet,F=new WeakSet,N=new WeakSet,j=new WeakSet,B=new WeakSet,W=new WeakSet,z=new WeakSet,U=new WeakSet,H=new WeakSet;function V(e){if(!e)return;const t=this._pdfDocument,{type:n}=e;(null===this._state||c(this,C,G).call(this,e))&&(this._dirtyMatch=!0),this._state=e,"highlightallchange"!==n&&c(this,H,ce).call(this,h.PENDING),this._firstPageCapability.promise.then((()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;c(this,O,Q).call(this);const e=!this._highlightMatches,r=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),n?this._dirtyMatch?c(this,L,te).call(this):"again"===n?(c(this,L,te).call(this),e&&this._state.highlightAll&&c(this,I,ee).call(this)):"highlightallchange"===n?(r?c(this,L,te).call(this):this._highlightMatches=!0,c(this,I,ee).call(this)):c(this,L,te).call(this):this._findTimeout=setTimeout((()=>{c(this,L,te).call(this),this._findTimeout=null}),250)}))}function q(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,i.createPromiseCapability)()}function $(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=S(this._state.query)),this._normalizedQuery}function G(e){if(e.query!==this._state.query)return!0;switch(e.type){case"again":const e=this._selected.pageIdx+1,t=this._linkService;return e>=1&&e<=t.pagesCount&&e!==t.page&&!t.isPageVisible(e);case"highlightallchange":return!1}return!0}function X(e,t,n){let r=e.slice(0,t).match(m);if(r){const n=e.charCodeAt(t),i=r[1].charCodeAt(0);if((0,s.getCharacterType)(n)===(0,s.getCharacterType)(i))return!1}if(r=e.slice(t+n).match(v),r){const i=e.charCodeAt(t+n-1),o=r[1].charCodeAt(0);if((0,s.getCharacterType)(i)===(0,s.getCharacterType)(o))return!1}return!0}function Y(e,t,n,r){const i=[],s=[],o=this._pageDiffs[n];let a;for(;null!==(a=e.exec(r));){if(t&&!c(this,T,X).call(this,r,a.index,a[0].length))continue;const[e,n]=A(o,a.index,a[0].length);n&&(i.push(e),s.push(n))}this._pageMatches[n]=i,this._pageMatchesLength[n]=s}function K(e,t){const{matchDiacritics:n}=this._state;let r=!1;const i="[ ]*";return(e=e.replace(g,((e,i,s,o,a,l)=>i?`[ ]*\\${i}[ ]*`:s?`[ ]*${s}[ ]*`:o?"[ ]+":n?a||l:a?d.has(a.charCodeAt(0))?a:"":t?(r=!0,`${l}\\p{M}*`):l))).endsWith(i)&&(e=e.slice(0,e.length-4)),n&&t&&(r=!0,e=`${e}(?=[${p}]|[^\\p{M}]|$)`),[r,e]}function Z(e){let t=l(this,E);if(0===t.length)return;const{caseSensitive:n,entireWord:r,phraseSearch:i}=this._state,s=this._pageContents[e],o=this._hasDiacritics[e];let a=!1;if(i)[a,t]=c(this,M,K).call(this,t,o);else{const e=t.match(/\S+/g);e&&(t=e.sort().reverse().map((e=>{const[t,n]=c(this,M,K).call(this,e,o);return a||(a=t),`(${n})`})).join("|"))}t=new RegExp(t,`g${a?"u":""}${n?"":"i"}`),c(this,k,Y).call(this,t,r,e,s),this._state.highlightAll&&c(this,D,J).call(this,e),this._resumePageIdx===e&&(this._resumePageIdx=null,c(this,N,re).call(this));const h=this._pageMatches[e].length;h>0&&(this._matchesCountTotal+=h,c(this,U,le).call(this))}function Q(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve();for(let t=0,n=this._linkService.pagesCount;t<n;t++){const n=(0,i.createPromiseCapability)();this._extractTextPromises[t]=n.promise,e=e.then((()=>this._pdfDocument.getPage(t+1).then((e=>e.getTextContent())).then((e=>{const r=[];for(const t of e.items)r.push(t.str),t.hasEOL&&r.push("\n");[this._pageContents[t],this._pageDiffs[t],this._hasDiacritics[t]]=S(r.join("")),n.resolve()}),(e=>{console.error(`Unable to get text content for page ${t+1}`,e),this._pageContents[t]="",this._pageDiffs[t]=null,this._hasDiacritics[t]=!1,n.resolve()}))))}}function J(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}function ee(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function te(){const e=this._state.findPrevious,t=this._linkService.page-1,n=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,c(this,I,ee).call(this);for(let e=0;e<n;e++)this._pendingFindMatches.has(e)||(this._pendingFindMatches.add(e),this._extractTextPromises[e].then((()=>{this._pendingFindMatches.delete(e),c(this,R,Z).call(this,e)})))}if(""===l(this,E))return void c(this,H,ce).call(this,h.FOUND);if(this._resumePageIdx)return;const r=this._offset;if(this._pagesToSearch=n,null!==r.matchIdx){const t=this._pageMatches[r.pageIdx].length;if(!e&&r.matchIdx+1<t||e&&r.matchIdx>0)return r.matchIdx=e?r.matchIdx-1:r.matchIdx+1,void c(this,B,se).call(this,!0);c(this,j,ie).call(this,e)}c(this,N,re).call(this)}function ne(e){const t=this._offset,n=e.length,r=this._state.findPrevious;return n?(t.matchIdx=r?n-1:0,c(this,B,se).call(this,!0),!0):(c(this,j,ie).call(this,r),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(c(this,B,se).call(this,!1),!0))}function re(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let e=null;do{const t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!c(this,F,ne).call(this,e))}function ie(e){const t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}function se(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h.NOT_FOUND;const n=this._offset.wrapped;if(this._offset.wrapped=!1,e){const e=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?h.WRAPPED:h.FOUND,-1!==e&&e!==this._selected.pageIdx&&c(this,D,J).call(this,e)}c(this,H,ce).call(this,t,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,c(this,D,J).call(this,this._selected.pageIdx))}function oe(e){const t=this._pdfDocument;this._firstPageCapability.promise.then((()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),c(this,H,ce).call(this,h.FOUND),this._highlightMatches=!1,c(this,I,ee).call(this))}))}function ae(){const{pageIdx:e,matchIdx:t}=this._selected;let n=0,r=this._matchesCountTotal;if(-1!==t){for(let t=0;t<e;t++){var i;n+=(null===(i=this._pageMatches[t])||void 0===i?void 0:i.length)||0}n+=t+1}return(n<1||n>r)&&(n=r=0),{current:n,total:r}}function le(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:c(this,z,ae).call(this)})}function ce(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:r,matchesCount:c(this,z,ae).call(this),rawQuery:null!==(t=null===(n=this._state)||void 0===n?void 0:n.query)&&void 0!==t?t:null})}t.PDFFindController=class{constructor(e){let{linkService:t,eventBus:n}=e;var r,i,s;o(this,H),o(this,U),o(this,z),o(this,W),o(this,B),o(this,j),o(this,N),o(this,F),o(this,L),o(this,I),o(this,D),o(this,O),o(this,R),o(this,M),o(this,k),o(this,T),o(this,C),s={get:$,set:void 0},a(r=this,i=E),i.set(r,s),o(this,P),o(this,x),this._linkService=t,this._eventBus=n,c(this,P,q).call(this),n._on("find",c(this,x,V).bind(this)),n._on("findbarclose",c(this,W,oe).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(e){this._pdfDocument&&c(this,P,q).call(this),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}scrollMatchIntoView(e){let{element:t=null,selectedLeft:n=0,pageIndex:i=-1,matchIndex:s=-1}=e;if(!this._scrollMatches||!t)return;if(-1===s||s!==this._selected.matchIdx)return;if(-1===i||i!==this._selected.pageIdx)return;this._scrollMatches=!1;const o={top:-50,left:n+-400};(0,r.scrollIntoView)(t,o,!0)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterType=void 0,t.getCharacterType=function(e){return function(e){return e<11904}(e)?function(e){return!(65408&e)}(e)?function(e){return 32===e||9===e||13===e||10===e}(e)?n.SPACE:function(e){return e>=97&&e<=122||e>=65&&e<=90}(e)||function(e){return e>=48&&e<=57}(e)||95===e?n.ALPHA_LETTER:n.PUNCT:function(e){return 3584==(65408&e)}(e)?n.THAI_LETTER:160===e?n.SPACE:n.ALPHA_LETTER:function(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}(e)?n.HAN_LETTER:function(e){return e>=12448&&e<=12543}(e)?n.KATAKANA_LETTER:function(e){return e>=12352&&e<=12447}(e)?n.HIRAGANA_LETTER:function(e){return e>=65376&&e<=65439}(e)?n.HALFWIDTH_KATAKANA_LETTER:n.ALPHA_LETTER};const n={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFHistory=void 0,t.isDestArraysEqual=a,t.isDestHashesEqual=o;var r=n(7),i=n(19);function s(){return document.location.hash}function o(e,t){return"string"==typeof e&&"string"==typeof t&&(e===t||(0,r.parseQueryString)(e).get("nameddest")===t)}function a(e,t){function n(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"==typeof e&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!n(e[r],t[r]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(let r=0,i=e.length;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}t.PDFHistory=class{constructor(e){let{linkService:t,eventBus:n}=e;this.linkService=t,this.eventBus=n,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",(()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",(e=>{this._isPagesLoaded=!!e.pagesCount}),{once:!0})}))}initialize(e){let{fingerprint:t,resetHistory:n=!1,updateUrl:r=!1}=e;if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const i=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===r,this._initialized=!0,this._bindEvents();const o=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=s(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(o,!0)||n){const{hash:e,page:t,rotation:r}=this._parseCurrentHash(!0);return!e||i||n?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:e,page:t,rotation:r},!0)}const a=o.destination;this._updateInternalState(a,o.uid,!0),void 0!==a.rotation&&(this._initialRotation=a.rotation),a.dest?(this._initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this._initialBookmark=a.hash:a.page&&(this._initialBookmark=`page=${a.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push(e){let{namedDest:t=null,explicitDest:n,pageNumber:r}=e;if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(n))return void console.error(`PDFHistory.push: "${n}" is not a valid explicitDest parameter.`);if(!this._isValidPage(r)&&(null!==r||this._destination))return void console.error(`PDFHistory.push: "${r}" is not a valid pageNumber parameter.`);const i=t||JSON.stringify(n);if(!i)return;let s=!1;if(this._destination&&(o(this._destination.hash,i)||a(this._destination.dest,n))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this._pushOrReplaceState({dest:n,hash:i,page:r,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((()=>{this._popStateInProgress=!1}))))}pushPage(e){var t;this._initialized&&(this._isValidPage(e)?(null===(t=this._destination)||void 0===t?void 0:t.page)!==e&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((()=>{this._popStateInProgress=!1}))))):console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`))}pushCurrentPosition(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this._destination,n={fingerprint:this._fingerprint,uid:t?this._uid:this._uid+1,destination:e};let r;if(this._updateInternalState(e,n.uid),this._updateUrl&&null!=e&&e.hash){const t=document.location.href.split("#")[0];t.startsWith("file://")||(r=`${t}#${e.hash}`)}t?window.history.replaceState(n,"",r):window.history.pushState(n,"",r)}_tryPushCurrentPosition(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination)return void this._pushOrReplaceState(t);if(this._destination.temporary)return void this._pushOrReplaceState(t,!0);if(this._destination.hash===t.hash)return;if(!this._destination.page&&this._numPositionUpdates<=50)return;let n=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(void 0!==this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(t,n)}_isValidPage(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}_isValidState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[t]=performance.getEntriesByType("navigation");if("reload"!==(null==t?void 0:t.type))return!1}}return!(!Number.isInteger(e.uid)||e.uid<0)&&null!==e.destination&&"object"==typeof e.destination}_updateInternalState(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&null!=e&&e.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}_parseCurrentHash(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=unescape(s()).substring(1),n=(0,r.parseQueryString)(t),i=n.get("nameddest")||"";let o=0|n.get("page");return(!this._isValidPage(o)||e&&i.length>0)&&(o=null),{hash:t,page:o,rotation:this.linkService.rotation}}_updateViewarea(e){let{location:t}=e;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout((()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null}),1e3))}_popState(e){let{state:t}=e;const n=s(),o=this._currentHash!==n;if(this._currentHash=n,!t){this._uid++;const{hash:e,page:t,rotation:n}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:e,page:t,rotation:n},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,o&&(this._blockHashChange++,(0,i.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then((()=>{this._blockHashChange--})));const a=t.destination;this._updateInternalState(a,t.uid,!0),(0,r.isValidRotation)(a.rotation)&&(this.linkService.rotation=a.rotation),a.dest?this.linkService.goToDestination(a.dest):a.hash?this.linkService.setHash(a.hash):a.page&&(this.linkService.page=a.page),Promise.resolve().then((()=>{this._popStateInProgress=!1}))}_pageHide(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFScriptingManager=void 0;var r=n(7),i=n(3);t.PDFScriptingManager=class{constructor(e){let{eventBus:t,sandboxBundleSrc:n=null,scriptingFactory:r=null,docPropertiesLookup:i=null}=e;this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=t,this._sandboxBundleSrc=n,this._scriptingFactory=r,this._docPropertiesLookup=i,this._scriptingFactory||window.addEventListener("updatefromsandbox",(e=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:e.detail})}))}setViewer(e){this._pdfViewer=e}async setDocument(e){var t;if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=e,!e)return;const[n,r,i]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(n||i){if(e===this._pdfDocument){try{this._scripting=this._createScripting()}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void await this._destroyScripting()}this._internalEvents.set("updatefromsandbox",(e=>{(null==e?void 0:e.source)===window&&this._updateFromSandbox(e.detail)})),this._internalEvents.set("dispatcheventinsandbox",(e=>{var t;null===(t=this._scripting)||void 0===t||t.dispatchEventInSandbox(e.detail)})),this._internalEvents.set("pagechanging",(e=>{let{pageNumber:t,previous:n}=e;t!==n&&(this._dispatchPageClose(n),this._dispatchPageOpen(t))})),this._internalEvents.set("pagerendered",(e=>{let{pageNumber:t}=e;this._pageOpenPending.has(t)&&t===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(t)})),this._internalEvents.set("pagesdestroy",(async e=>{var t,n;await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await(null===(t=this._scripting)||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"WillClose"})),null===(n=this._closeCapability)||void 0===n||n.resolve()})),this._domEvents.set("mousedown",(e=>{this._mouseState.isDown=!0})),this._domEvents.set("mouseup",(e=>{this._mouseState.isDown=!1}));for(const[e,t]of this._internalEvents)this._eventBus._on(e,t);for(const[e,t]of this._domEvents)window.addEventListener(e,t,!0);try{const t=await this._getDocProperties();if(e!==this._pdfDocument)return;await this._scripting.createSandbox({objects:n,calculationOrder:r,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...t,actions:i}}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(e){return console.error(`PDFScriptingManager.setDocument: "${null==e?void 0:e.message}".`),void await this._destroyScripting()}await(null===(t=this._scripting)||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then((()=>{e===this._pdfDocument&&(this._ready=!0)}))}}else await this._destroyScripting()}async dispatchWillSave(e){var t;return null===(t=this._scripting)||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(e){var t;return null===(t=this._scripting)||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(e){var t;return null===(t=this._scripting)||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(e){var t;return null===(t=this._scripting)||void 0===t?void 0:t.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get mouseState(){return this._mouseState}get destroyPromise(){var e;return(null===(e=this._destroyCapability)||void 0===e?void 0:e.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,i.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,i.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,i.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,i.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(e){const t=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:n,siblings:i,command:s,value:o}=e;if(!n){switch(s){case"clear":console.clear();break;case"error":console.error(o);break;case"layout":if(t)return;const e=(0,r.apiPageLayoutToViewerModes)(o);this._pdfViewer.spreadMode=e.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=o+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(o);break;case"zoom":if(t)return;this._pdfViewer.currentScaleValue=o;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(t)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(t)return;this._pdfViewer.decreaseScale()}return}if(t&&e.focus)return;delete e.id,delete e.siblings;const a=i?[n,...i]:[n];for(const t of a){const n=document.querySelector(`[data-element-id="${t}"]`);var l;n?n.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):null===(l=this._pdfDocument)||void 0===l||l.annotationStorage.setValue(t,e)}}async _dispatchPageOpen(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._pdfDocument,s=this._visitedPages;if(t&&(this._closeCapability=(0,i.createPromiseCapability)()),!this._closeCapability)return;const o=this._pdfViewer.getPageView(e-1);if((null==o?void 0:o.renderingState)!==r.RenderingStates.FINISHED)return void this._pageOpenPending.add(e);this._pageOpenPending.delete(e);const a=(async()=>{var t,r;const i=await(s.has(e)?null:null===(t=o.pdfPage)||void 0===t?void 0:t.getJSActions());n===this._pdfDocument&&await(null===(r=this._scripting)||void 0===r?void 0:r.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:i}))})();s.set(e,a)}async _dispatchPageClose(e){var t;const n=this._pdfDocument,r=this._visitedPages;if(!this._closeCapability)return;if(this._pageOpenPending.has(e))return;const i=r.get(e);i&&(r.set(e,null),await i,n===this._pdfDocument&&await(null===(t=this._scripting)||void 0===t?void 0:t.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:e}=n(26);return e(this._pdfDocument)}_createScripting(){if(this._destroyCapability=(0,i.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:e}=n(26);return new e(this._sandboxBundleSrc)}async _destroyScripting(){var e,t;if(!this._scripting)return this._pdfDocument=null,void(null===(t=this._destroyCapability)||void 0===t||t.resolve());this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise((e=>{setTimeout(e,1e3)}))]).catch((e=>{})),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch(e){}for(const[e,t]of this._internalEvents)this._eventBus._off(e,t);this._internalEvents.clear();for(const[e,t]of this._domEvents)window.removeEventListener(e,t,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,null===(e=this._destroyCapability)||void 0===e||e.resolve()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericScripting=void 0,t.docPropertiesLookup=async function(e){const t="".split("#")[0];let{info:n,metadata:i,contentDispositionFilename:s,contentLength:o}=await e.getMetadata();if(!o){const{length:t}=await e.getDownloadInfo();o=t}return{...n,baseURL:t,filesize:o,filename:s||(0,r.getPdfFilenameFromUrl)(""),metadata:null==i?void 0:i.getRaw(),authors:null==i?void 0:i.get("dc:creator"),numPages:e.numPages,URL:""}};var r=n(3);t.GenericScripting=class{constructor(e){this._ready=(0,r.loadScript)(e,!0).then((()=>window.pdfjsSandbox.QuickJSSandbox()))}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const t=await this._ready;setTimeout((()=>t.dispatchEvent(e)),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}}],t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}var i={};return(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return a.AnnotationLayerBuilder}}),Object.defineProperty(e,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return t.DefaultAnnotationLayerFactory}}),Object.defineProperty(e,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return t.DefaultStructTreeLayerFactory}}),Object.defineProperty(e,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return t.DefaultTextLayerFactory}}),Object.defineProperty(e,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return t.DefaultXfaLayerFactory}}),Object.defineProperty(e,"DownloadManager",{enumerable:!0,get:function(){return l.DownloadManager}}),Object.defineProperty(e,"EventBus",{enumerable:!0,get:function(){return c.EventBus}}),Object.defineProperty(e,"GenericL10n",{enumerable:!0,get:function(){return h.GenericL10n}}),Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return n.LinkTarget}}),Object.defineProperty(e,"NullL10n",{enumerable:!0,get:function(){return u.NullL10n}}),Object.defineProperty(e,"PDFFindController",{enumerable:!0,get:function(){return d.PDFFindController}}),Object.defineProperty(e,"PDFHistory",{enumerable:!0,get:function(){return p.PDFHistory}}),Object.defineProperty(e,"PDFLinkService",{enumerable:!0,get:function(){return n.PDFLinkService}}),Object.defineProperty(e,"PDFPageView",{enumerable:!0,get:function(){return f.PDFPageView}}),Object.defineProperty(e,"PDFScriptingManager",{enumerable:!0,get:function(){return g.PDFScriptingManager}}),Object.defineProperty(e,"PDFSinglePageViewer",{enumerable:!0,get:function(){return o.PDFSinglePageViewer}}),Object.defineProperty(e,"PDFViewer",{enumerable:!0,get:function(){return o.PDFViewer}}),Object.defineProperty(e,"ProgressBar",{enumerable:!0,get:function(){return s.ProgressBar}}),Object.defineProperty(e,"RenderingStates",{enumerable:!0,get:function(){return s.RenderingStates}}),Object.defineProperty(e,"ScrollMode",{enumerable:!0,get:function(){return s.ScrollMode}}),Object.defineProperty(e,"SimpleLinkService",{enumerable:!0,get:function(){return n.SimpleLinkService}}),Object.defineProperty(e,"SpreadMode",{enumerable:!0,get:function(){return s.SpreadMode}}),Object.defineProperty(e,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return m.StructTreeLayerBuilder}}),Object.defineProperty(e,"TextLayerBuilder",{enumerable:!0,get:function(){return v.TextLayerBuilder}}),Object.defineProperty(e,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(e,"parseQueryString",{enumerable:!0,get:function(){return s.parseQueryString}});var t=r(1),n=r(6),s=r(7),o=r(11),a=r(5),l=r(18),c=r(19),h=r(20),u=r(4),d=r(22),p=r(24),f=r(13),g=r(25),m=r(8),v=r(9),b=r(10)})(),i})(),e.exports=r()},75668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(67294)),i=d(n(45697)),s=d(n(73935)),o=d(n(18946)),a=n(81825),l=n(2849),c=n(9280),h=d(n(80783)),u=d(n(55904));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),g(this,"onDragStart",((e,t)=>{(0,u.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})})),g(this,"onDrag",((e,t)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[i,s]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=i,r.y=s,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)})),g(this,"onDragStop",((e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,u.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)})),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:s.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:i,defaultClassName:s,defaultClassNameDragging:c,defaultClassNameDragged:u,position:d,positionOffset:p,scale:g,...m}=this.props;let v={},b=null;const y=!Boolean(d)||this.state.dragging,_=d||i,w={x:(0,l.canDragX)(this)&&y?this.state.x:_.x,y:(0,l.canDragY)(this)&&y?this.state.y:_.y};this.state.isElementSVG?b=(0,a.createSVGTransform)(w,p):v=(0,a.createCSSTransform)(w,p);const S=(0,o.default)(n.props.className||"",s,{[c]:this.state.dragging,[u]:this.state.dragged});return r.createElement(h.default,f({},m,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:S,style:{...n.props.style,...v},transform:b}))}}t.default=m,g(m,"displayName","Draggable"),g(m,"propTypes",{...h.default.propTypes,axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),g(m,"defaultProps",{...h.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},80783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(67294)),i=h(n(45697)),s=h(n(73935)),o=n(81825),a=n(2849),l=n(9280),c=h(n(55904));function h(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={start:"touchstart",move:"touchmove",stop:"touchend"},f={start:"mousedown",move:"mousemove",stop:"mouseup"};let g=f;class m extends r.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",(e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,o.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,o.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();const r=(0,o.getTouchIdentifier)(e);this.touchIdentifier=r;const i=(0,a.getControlPosition)(e,r,this);if(null==i)return;const{x:s,y:l}=i,h=(0,a.createCoreData)(this,s,l);(0,c.default)("DraggableCore: handleDragStart: %j",h),(0,c.default)("calling",this.props.onStart);!1!==this.props.onStart(e,h)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(n),this.dragging=!0,this.lastX=s,this.lastY=l,(0,o.addEvent)(n,g.move,this.handleDrag),(0,o.addEvent)(n,g.stop,this.handleDragStop))})),d(this,"handleDrag",(e=>{const t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,a.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const i=(0,a.createCoreData)(this,n,r);(0,c.default)("DraggableCore: handleDrag: %j",i);if(!1!==this.props.onDrag(e,i)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(e){const t=document.createEvent("MouseEvents");t.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(t)}})),d(this,"handleDragStop",(e=>{if(!this.dragging)return;const t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,a.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const i=(0,a.createCoreData)(this,n,r);if(!1===this.props.onStop(e,i)||!1===this.mounted)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(s.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,c.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(s.ownerDocument,g.move,this.handleDrag),(0,o.removeEvent)(s.ownerDocument,g.stop,this.handleDragStop))})),d(this,"onMouseDown",(e=>(g=f,this.handleDragStart(e)))),d(this,"onMouseUp",(e=>(g=f,this.handleDragStop(e)))),d(this,"onTouchStart",(e=>(g=p,this.handleDragStart(e)))),d(this,"onTouchEnd",(e=>(g=p,this.handleDragStop(e))))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,o.addEvent)(e,p.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,o.removeEvent)(t,f.move,this.handleDrag),(0,o.removeEvent)(t,p.move,this.handleDrag),(0,o.removeEvent)(t,f.stop,this.handleDragStop),(0,o.removeEvent)(t,p.stop,this.handleDragStop),(0,o.removeEvent)(e,p.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:s.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=m,d(m,"displayName","DraggableCore"),d(m,"propTypes",{allowAnyClick:i.default.bool,children:i.default.node.isRequired,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),d(m,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},61193:function(e,t,n){"use strict";const{default:r,DraggableCore:i}=n(75668);e.exports=r,e.exports.default=r,e.exports.DraggableCore=i},81825:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=c,t.addEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&c(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=l(e,t,"px");return{[(0,i.browserPrefixToKey)("transform",i.default)]:n}},t.createSVGTransform=function(e,t){return l(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,(e=>t===e.identifier))||e.changedTouches&&(0,r.findInArray)(e.changedTouches,(e=>t===e.identifier))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=l,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=a,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(a(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,s=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:s}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=h,t.removeEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var r=n(9280),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(38650));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}let o="";function a(e,t){return o||(o=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,r.isFunction)(e[t])}))),!!(0,r.isFunction)(e[o])&&e[o](t)}function l(e,t,n){let{x:r,y:i}=e,s="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const e="".concat("string"==typeof t.x?t.x:t.x+n),r="".concat("string"==typeof t.y?t.y:t.y+n);s="translate(".concat(e,", ").concat(r,")")+s}return s}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},38650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";const r=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!r)return"";if(t in r)return"";for(let e=0;e<n.length;e++)if(i(t,n[e])in r)return n[e];return""}function i(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}t.default=r()},55904:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},2849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const i=!(0,r.isNum)(e.lastX),o=s(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:o}=e.props;o="string"==typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);const a=s(e);if("string"==typeof o){const{ownerDocument:e}=a,t=e.defaultView;let n;if(n="parent"===o?a.parentNode:e.querySelector(o),!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const s=n,l=t.getComputedStyle(a),c=t.getComputedStyle(s);o={left:-a.offsetLeft+(0,r.int)(c.paddingLeft)+(0,r.int)(l.marginLeft),top:-a.offsetTop+(0,r.int)(c.paddingTop)+(0,r.int)(l.marginTop),right:(0,i.innerWidth)(s)-(0,i.outerWidth)(a)-a.offsetLeft+(0,r.int)(c.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,i.innerHeight)(s)-(0,i.outerHeight)(a)-a.offsetTop+(0,r.int)(c.paddingBottom)-(0,r.int)(l.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"==typeof t?(0,i.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;const o=s(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,a,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]};var r=n(9280),i=n(81825);function s(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},9280:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)}},18946:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:function(){return i}}),t.default=i},91492:function(e,t,n){"use strict";n.d(t,{PD:function(){return he},y$:function(){return R},Nb:function(){return M},Hz:function(){return de},GI:function(){return L}});var r=n(23102),i=n(67294);const s=e=>(e||{}).ownerDocument||document,o=e=>(s(e)||{}).defaultView||window,a=e=>e instanceof HTMLElement||e instanceof o(e).HTMLElement,l=e=>{const t=e.closest(".page");if(!t||!a(t))return null;return{node:t,number:Number(t.dataset.pageNumber)}},c=(e,{width:t,height:n})=>({x1:e.left,y1:e.top,x2:e.left+e.width,y2:e.top+e.height,width:t,height:n,pageNumber:e.pageNumber}),h=(e,t,n=!1)=>{const{width:r,height:i}=t;if(n)return((e,t)=>{const[n,r,i,s]=t.convertToViewportRectangle([e.x1,e.y1,e.x2,e.y2]);return{left:Math.min(n,i),top:Math.min(r,s),width:Math.abs(i-n),height:Math.abs(r-s),pageNumber:e.pageNumber}})(e,t);if(void 0===e.x1)throw new Error("You are using old position format, please update");const s=r*e.x1/e.width,o=i*e.y1/e.height;return{left:s,top:o,width:r*e.x2/e.width-s,height:i*e.y2/e.height-o,pageNumber:e.pageNumber}};class u extends i.Component{constructor(){super(...arguments),this.state={locked:!1,start:null,end:null},this.reset=()=>{const{onDragEnd:e}=this.props;e(),this.setState({start:null,end:null,locked:!1})}}getBoundingRect(e,t){return{left:Math.min(t.x,e.x),top:Math.min(t.y,e.y),width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}}componentDidUpdate(){const{onChange:e}=this.props,{start:t,end:n}=this.state;e(Boolean(t&&n))}componentDidMount(){if(!this.root)return;const e=this,{onSelection:t,onDragStart:n,onDragEnd:r,shouldStart:i}=this.props,s=this.root.parentElement;if(!a(s))return;let o=null;const l=(e,t)=>(o||(o=s.getBoundingClientRect()),{x:e-o.left+s.scrollLeft,y:t-o.top+s.scrollTop-window.scrollY});s.addEventListener("mousemove",(t=>{const{start:n,locked:r}=this.state;n&&!r&&e.setState(Object.assign(Object.assign({},this.state),{end:l(t.pageX,t.pageY)}))})),s.addEventListener("mousedown",(o=>{if(!i(o))return void this.reset();const c=o.target;if(!a(c))return;n(),this.setState({start:l(o.pageX,o.pageY),end:null,locked:!1});const h=n=>{var i;null===(i=n.currentTarget)||void 0===i||i.removeEventListener("mouseup",h);const{start:o}=this.state;if(!o)return;const u=l(n.pageX,n.pageY),d=e.getBoundingRect(o,u);a(n.target)&&s.contains(n.target)&&e.shouldRender(d)?e.setState({end:u,locked:!0},(()=>{const{start:i,end:s}=e.state;i&&s&&a(n.target)&&(t(c,d,e.reset),r())})):e.reset()},{ownerDocument:u}=s;u.body&&u.body.addEventListener("mouseup",h)}))}shouldRender(e){return e.width>=1&&e.height>=1}render(){const{start:e,end:t}=this.state;return i.createElement("div",{className:"MouseSelection-container",ref:e=>{e&&(this.root=e)}},e&&t?i.createElement("div",{className:"MouseSelection",style:this.getBoundingRect(e,t)}):null)}}var d=u;class p extends i.Component{constructor(){super(...arguments),this.state={height:0,width:0},this.node=null,this.updatePosition=()=>{if(!this.node)return;const{offsetHeight:e,offsetWidth:t}=this.node;this.setState({height:e,width:t})}}componentDidUpdate(e){this.props.children!==e.children&&this.updatePosition()}componentDidMount(){setTimeout(this.updatePosition,0)}render(){const{children:e,style:t,scrollTop:n,pageBoundingRect:r}=this.props,{height:s,width:o}=this.state,a=0===o&&0===s,l=t.top-s-5<n,c=l?t.bottom+5:t.top-s-5,h=((e,t,n)=>Math.min(Math.max(e,t),n))(t.left-o/2,0,r.width-o),u=i.Children.map(e,(e=>i.cloneElement(e,{onUpdate:()=>{this.setState({width:0,height:0},(()=>{setTimeout(this.updatePosition,0)}))},popup:{position:l?"below":"above"}})));return i.createElement("div",{className:"PdfHighlighter__tip-container",style:{visibility:a?"hidden":"visible",top:c,left:h},ref:e=>{this.node=e}},u)}}var f=p,g=n(20745),m=n(91296),v=n.n(m);var b=(e,t)=>{const{left:n,top:r,width:i,height:s}=t,a=e?e.ownerDocument:null,l=a&&a.createElement("canvas");if(!(l&&(c=l,c instanceof HTMLCanvasElement||c instanceof o(c).HTMLCanvasElement)))return"";var c;l.width=i,l.height=s;const h=l.getContext("2d");if(!h||!e)return"";const u=window.devicePixelRatio;return h.drawImage(e,n*u,r*u,i*u,s*u,0,0,i,s),l.toDataURL("image/png")};var y=e=>{const t=Array.from(e).map((e=>{const{left:t,top:n,width:r,height:i,pageNumber:s}=e;return{X0:t,X1:t+r,Y0:n,Y1:n+i,pageNumber:s}}));let n=Number.MAX_SAFE_INTEGER;t.forEach((e=>{var t;n=Math.min(n,null!==(t=e.pageNumber)&&void 0!==t?t:n)}));const r=t.filter((e=>(e.X0>0||e.X1>0||e.Y0>0||e.Y1>0)&&e.pageNumber===n)),i=r.reduce(((e,t)=>({X0:Math.min(e.X0,t.X0),X1:Math.max(e.X1,t.X1),Y0:Math.min(e.Y0,t.Y0),Y1:Math.max(e.Y1,t.Y1),pageNumber:n})),r[0]),{X0:s,X1:o,Y0:a,Y1:l,pageNumber:c}=i;return{left:s,top:a,width:o-s,height:l-a,pageNumber:c}};const _=(e,t)=>e.pageNumber===t.pageNumber&&e.left<=t.left&&t.left<=e.left+e.width,w=(e,t,n=5)=>e.pageNumber===t.pageNumber&&Math.abs(e.top-t.top)<n&&Math.abs(e.height-t.height)<n,S=(e,t,n=10)=>{const r=e.left+e.width,i=t.left+t.width;return e.pageNumber===t.pageNumber&&e.left<=t.left&&r<=i&&t.left-r<=n},A=(e,t)=>{e.width=Math.max(t.width-e.left+t.left,e.width)};var x=e=>{const t=(e=>e.sort(((e,t)=>{const n=(e.pageNumber||0)*e.top-(t.pageNumber||0)*t.top;return 0===n?e.left-t.left:n})))(e),n=new Set,r=t.filter((e=>t.every((t=>{return r=t,!((n=e).pageNumber===r.pageNumber&&n.top>r.top&&n.left>r.left&&n.top+n.height<r.top+r.height&&n.left+n.width<r.left+r.width);var n,r}))));let i=0;for(;i<=2;)r.forEach((e=>{r.forEach((t=>{e===t||n.has(e)||n.has(t)||w(e,t)&&(_(e,t)&&(A(e,t),e.height=Math.max(e.height,t.height),n.add(t)),S(e,t)&&(A(e,t),n.add(t)))}))})),i+=1;return r.filter((e=>!n.has(e)))};const P=(e,t)=>!(e.top<t.top)&&(!(e.bottom>t.bottom)&&(!(e.right>t.right)&&!(e.left<t.left)));var E=(e,t,n=!0)=>{const r=Array.from(e.getClientRects()),i=[];for(const e of r)for(const n of t){const t=n.node.getBoundingClientRect();if(P(e,t)&&e.width>0&&e.height>0&&e.width<t.width&&e.height<t.height){const r={top:e.top+n.node.scrollTop-t.top,left:e.left+n.node.scrollLeft-t.left,width:e.width,height:e.height,pageNumber:n.number};i.push(r)}}return n?x(i):i},C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function T({highlightsByPage:e,scaledPositionToViewport:t,pageNumber:n,scrolledToHighlightId:r,highlightTransform:s,tip:o,hideTipAndSelection:a,viewer:l,screenshot:h,showTip:u,setState:d}){const p=e[String(n)]||[];return i.createElement("div",null,p.map(((e,i)=>{var{position:p,id:f}=e,g=C(e,["position","id"]);const m=Object.assign({id:f,position:t(p)},g);o&&o.highlight.id===String(f)&&u(o.highlight,o.callback(m));const v=Boolean(r===f);return s(m,i,((e,t)=>{d({tip:{highlight:e,callback:t}}),u(e,t(e))}),a,(e=>{const t=l.getPageView((e.pageNumber||parseInt(n))-1).viewport;return c(e,t)}),(e=>h(e,parseInt(n))),v)})))}const k="empty-id";class M extends i.PureComponent{constructor(e){super(e),this.state={ghostHighlight:null,isCollapsed:!0,range:null,scrolledToHighlightId:k,isAreaSelectionInProgress:!1,tip:null,tipPosition:null,tipChildren:null},this.eventBus=new r.EventBus,this.linkService=new r.PDFLinkService({eventBus:this.eventBus,externalLinkTarget:2}),this.resizeObserver=null,this.containerNode=null,this.highlightRoots={},this.unsubscribe=()=>{},this.attachRef=()=>{var e;const{eventBus:t,resizeObserver:n}=this,r=this.containerNode=this.containerNodeRef.current;if(this.unsubscribe(),r){const{ownerDocument:i}=r;t.on("textlayerrendered",this.onTextLayerRendered),t.on("pagesinit",this.onDocumentReady),i.addEventListener("selectionchange",this.onSelectionChange),i.addEventListener("keydown",this.handleKeyDown),null===(e=i.defaultView)||void 0===e||e.addEventListener("resize",this.debouncedScaleValue),n&&n.observe(r),this.unsubscribe=()=>{var e;t.off("pagesinit",this.onDocumentReady),t.off("textlayerrendered",this.onTextLayerRendered),i.removeEventListener("selectionchange",this.onSelectionChange),i.removeEventListener("keydown",this.handleKeyDown),null===(e=i.defaultView)||void 0===e||e.removeEventListener("resize",this.debouncedScaleValue),n&&n.disconnect()}}},this.hideTipAndSelection=()=>{this.setState({tipPosition:null,tipChildren:null}),this.setState({ghostHighlight:null,tip:null},(()=>this.renderHighlightLayers()))},this.renderTip=()=>{const{tipPosition:e,tipChildren:t}=this.state;if(!e)return null;const{boundingRect:n,pageNumber:r}=e,s={node:this.viewer.getPageView((n.pageNumber||r)-1).div,pageNumber:n.pageNumber||r},o=s.node.getBoundingClientRect(),a={bottom:o.bottom,height:o.height,left:o.left,right:o.right,top:o.top,width:o.width,x:o.x,y:o.y,pageNumber:s.pageNumber};return i.createElement(f,{scrollTop:this.viewer.container.scrollTop,pageBoundingRect:a,style:{left:s.node.offsetLeft+n.left+n.width/2,top:n.top+s.node.offsetTop,bottom:n.top+s.node.offsetTop+n.height}},t)},this.onTextLayerRendered=()=>{this.renderHighlightLayers()},this.scrollTo=e=>{const{pageNumber:t,boundingRect:n,usePdfCoordinates:r}=e.position;this.viewer.container.removeEventListener("scroll",this.onScroll);const i=this.viewer.getPageView(t-1).viewport;this.viewer.scrollPageIntoView({pageNumber:t,destArray:[null,{name:"XYZ"},...i.convertToPdfPoint(0,h(n,i,r).top-10),0]}),this.setState({scrolledToHighlightId:e.id},(()=>this.renderHighlightLayers())),setTimeout((()=>{this.viewer.container.addEventListener("scroll",this.onScroll)}),100)},this.onDocumentReady=()=>{const{scrollRef:e}=this.props;this.handleScaleValue(),e(this.scrollTo)},this.onSelectionChange=()=>{const e=this.containerNode,t=o(e).getSelection();if(!t)return;const n=t.rangeCount>0?t.getRangeAt(0):null;t.isCollapsed?this.setState({isCollapsed:!0}):n&&e&&e.contains(n.commonAncestorContainer)&&(this.setState({isCollapsed:!1,range:n}),this.debouncedAfterSelection())},this.onScroll=()=>{const{onScrollChange:e}=this.props;e(),this.setState({scrolledToHighlightId:k},(()=>this.renderHighlightLayers())),this.viewer.container.removeEventListener("scroll",this.onScroll)},this.onMouseDown=e=>{a(e.target)&&(e.target.closest(".PdfHighlighter__tip-container")||this.hideTipAndSelection())},this.handleKeyDown=e=>{"Escape"===e.code&&this.hideTipAndSelection()},this.afterSelection=()=>{const{onSelectionFinished:e}=this.props,{isCollapsed:t,range:n}=this.state;if(!n||t)return;const r=(e=>{const t=e.startContainer.parentElement,n=e.endContainer.parentElement;if(!a(t)||!a(n))return[];const r=l(t),i=l(n);if(!(null==r?void 0:r.number)||!(null==i?void 0:i.number))return[];if(r.number===i.number)return[r];if(r.number===i.number-1)return[r,i];const s=[];let o=r.number;const c=r.node.ownerDocument;for(;o<=i.number;){const e=l(c.querySelector(`[data-page-number='${o}'`));e&&s.push(e),o++}return s})(n);if(!r||0===r.length)return;const i=E(n,r);if(0===i.length)return;const s={boundingRect:y(i),rects:i,pageNumber:r[0].number},o={text:n.toString()},c=this.viewportPositionToScaled(s);this.setTip(s,e(c,o,(()=>this.hideTipAndSelection()),(()=>this.setState({ghostHighlight:{position:c}},(()=>this.renderHighlightLayers())))))},this.debouncedAfterSelection=v()(this.afterSelection,500),this.handleScaleValue=()=>{this.viewer&&(this.viewer.currentScaleValue=this.props.pdfScaleValue)},this.debouncedScaleValue=v()(this.handleScaleValue,500),"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.debouncedScaleValue)),this.containerNodeRef=i.createRef()}componentDidMount(){this.init()}componentDidUpdate(e){e.pdfDocument===this.props.pdfDocument?e.highlights!==this.props.highlights&&this.renderHighlightLayers():this.init()}init(){const{pdfDocument:e}=this.props;this.attachRef(),this.viewer=this.viewer||new r.PDFViewer({container:this.containerNodeRef.current,eventBus:this.eventBus,textLayerMode:2,removePageBorders:!0,linkService:this.linkService,l10n:r.NullL10n}),this.linkService.setDocument(e),this.linkService.setViewer(this.viewer),this.viewer.setDocument(e),window.PdfViewer=this}componentWillUnmount(){this.unsubscribe()}findOrCreateHighlightLayer(e){const{textLayer:t}=this.viewer.getPageView(e-1)||{};return t?((e,t)=>{const n=s(e);let r=e.querySelector(`.${t}`);return r||(r=n.createElement("div"),r.className=t,e.appendChild(r)),r})(t.textLayerDiv,"PdfHighlighter__highlight-layer"):null}groupHighlightsByPage(e){const{ghostHighlight:t}=this.state,n=[...e,t].filter(Boolean),r=new Set;for(const e of n){r.add(e.position.pageNumber);for(const t of e.position.rects)t.pageNumber&&r.add(t.pageNumber)}const i={};for(const e of r){i[e]=i[e]||[];for(const t of n){const n=Object.assign(Object.assign({},t),{position:{pageNumber:e,boundingRect:t.position.boundingRect,rects:[],usePdfCoordinates:t.position.usePdfCoordinates}});let r=!1;for(const i of t.position.rects)e===(i.pageNumber||t.position.pageNumber)&&(n.position.rects.push(i),r=!0);(r||e===t.position.pageNumber)&&i[e].push(n)}}return i}showTip(e,t){const{isCollapsed:n,ghostHighlight:r,isAreaSelectionInProgress:i}=this.state;!n||r||i||this.setTip(e.position,t)}scaledPositionToViewport({pageNumber:e,boundingRect:t,rects:n,usePdfCoordinates:r}){const i=this.viewer.getPageView(e-1).viewport;return{boundingRect:h(t,i,r),rects:(n||[]).map((e=>h(e,i,r))),pageNumber:e}}viewportPositionToScaled({pageNumber:e,boundingRect:t,rects:n}){const r=this.viewer.getPageView(e-1).viewport;return{boundingRect:c(t,r),rects:(n||[]).map((e=>c(e,r))),pageNumber:e}}screenshot(e,t){const n=this.viewer.getPageView(t-1).canvas;return b(n,e)}setTip(e,t){this.setState({tipPosition:e,tipChildren:t})}toggleTextSelection(e){this.viewer.viewer.classList.toggle("PdfHighlighter--disable-selection",e)}render(){const{onSelectionFinished:e,enableAreaSelection:t}=this.props;return i.createElement("div",{onPointerDown:this.onMouseDown},i.createElement("div",{ref:this.containerNodeRef,className:"PdfHighlighter",onContextMenu:e=>e.preventDefault()},i.createElement("div",{className:"pdfViewer"}),this.renderTip(),"function"==typeof t?i.createElement(d,{onDragStart:()=>this.toggleTextSelection(!0),onDragEnd:()=>this.toggleTextSelection(!1),onChange:e=>this.setState({isAreaSelectionInProgress:e}),shouldStart:e=>t(e)&&a(e.target)&&Boolean(e.target.closest(".page")),onSelection:(t,n,r)=>{const i=l(t);if(!i)return;const s=Object.assign(Object.assign({},n),{top:n.top-i.node.offsetTop,left:n.left-i.node.offsetLeft,pageNumber:i.number}),o={boundingRect:s,rects:[],pageNumber:i.number},a=this.viewportPositionToScaled(o),c=this.screenshot(s,s.pageNumber);this.setTip(o,e(a,{image:c},(()=>this.hideTipAndSelection()),(()=>{console.log("setting ghost highlight",a),this.setState({ghostHighlight:{position:a,content:{image:c}}},(()=>{r(),this.renderHighlightLayers()}))})))}}):null))}renderHighlightLayers(){const{pdfDocument:e}=this.props;for(let t=1;t<=e.numPages;t++){const e=this.highlightRoots[t];if(e&&e.container.isConnected)this.renderHighlightLayer(e.reactRoot,t);else{const e=this.findOrCreateHighlightLayer(t);if(e){const n=(0,g.createRoot)(e);this.highlightRoots[t]={reactRoot:n,container:e},this.renderHighlightLayer(n,t)}}}}renderHighlightLayer(e,t){const{highlightTransform:n,highlights:r}=this.props,{tip:s,scrolledToHighlightId:o}=this.state;e.render(i.createElement(T,{highlightsByPage:this.groupHighlightsByPage(r),pageNumber:t.toString(),scrolledToHighlightId:o,highlightTransform:n,tip:s,scaledPositionToViewport:this.scaledPositionToViewport.bind(this),hideTipAndSelection:this.hideTipAndSelection.bind(this),viewer:this.viewer,screenshot:this.screenshot.bind(this),showTip:this.showTip.bind(this),setState:this.setState.bind(this)}))}}M.defaultProps={pdfScaleValue:"auto"};class R extends i.Component{render(){const{position:e,onClick:t,onMouseOver:n,onMouseOut:r,comment:s,isScrolledTo:o}=this.props,{rects:a,boundingRect:l}=e;return i.createElement("div",{className:"Highlight "+(o?"Highlight--scrolledTo":"")},s?i.createElement("div",{className:"Highlight__emoji",style:{left:20,top:l.top}},s.emoji):null,i.createElement("div",{className:"Highlight__parts"},a.map(((e,s)=>i.createElement("div",{onMouseOver:n,onMouseOut:r,onClick:t,key:s,style:e,className:"Highlight__part"})))))}}var O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class D extends i.Component{constructor(){super(...arguments),this.container=null,this.unsubscribe=()=>{},this.onMouseMove=e=>{if(!this.container)return;const{onMoveAway:t,paddingX:n,paddingY:r}=this.props,{clientX:i,clientY:s}=e,{left:o,top:a,width:l,height:c}=this.container.getBoundingClientRect();i>o-n&&i<o+l+n&&(s>a-r&&s<a+c+r)||t()},this.attachRef=e=>{if(this.container=e,this.unsubscribe(),e){const{ownerDocument:t}=e;t.addEventListener("mousemove",this.onMouseMove),this.unsubscribe=()=>{t.removeEventListener("mousemove",this.onMouseMove)}}}}render(){const e=this.props,{onMoveAway:t,paddingX:n,paddingY:r,children:s}=e,o=O(e,["onMoveAway","paddingX","paddingY","children"]);return i.createElement("div",{ref:this.attachRef},i.cloneElement(s,o))}}var I=D;class L extends i.Component{constructor(){super(...arguments),this.state={mouseIn:!1}}render(){const{onMouseOver:e,popupContent:t,onMouseOut:n}=this.props;return i.createElement("div",{onMouseOver:()=>{this.setState({mouseIn:!0}),e(i.createElement(I,{onMoveAway:()=>{this.state.mouseIn||n()},paddingX:60,paddingY:30,children:t}))},onMouseOut:()=>{this.setState({mouseIn:!1})}},this.props.children)}}var F=n(61193),N=n.n(F),j=n(85893),B=n(73935),W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},W.apply(this,arguments)},z={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},U={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},H={width:"20px",height:"20px",position:"absolute",zIndex:1},V={top:W(W({},z),{top:"-5px"}),right:W(W({},U),{left:void 0,right:"-5px"}),bottom:W(W({},z),{top:void 0,bottom:"-5px"}),left:W(W({},U),{left:"-5px"}),topRight:W(W({},H),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:W(W({},H),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:W(W({},H),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:W(W({},H),{left:"-10px",top:"-10px",cursor:"nw-resize"})},q=(0,i.memo)((function(e){var t=e.onResizeStart,n=e.direction,r=e.children,s=e.replaceStyles,o=e.className,a=(0,i.useCallback)((function(e){t(e,n)}),[t,n]),l=(0,i.useCallback)((function(e){t(e,n)}),[t,n]),c=(0,i.useMemo)((function(){return W(W({position:"absolute",userSelect:"none"},V[n]),null!=s?s:{})}),[s,n]);return(0,j.jsx)("div",{className:o||void 0,style:c,onMouseDown:a,onTouchStart:l,children:r})})),$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(){return G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)},X={width:"auto",height:"auto"},Y=function(e,t,n){return Math.max(Math.min(e,n),t)},K=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},Z=function(e,t){return new RegExp(e,"i").test(t)},Q=function(e){return Boolean(e.touches&&e.touches.length)},J=function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e},ee=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:"".concat(e,"px")},te=function(e,t,n,r){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return n*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return r*(Number(e.replace("vh",""))/100)}return e},ne=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],re="__resizable_base__",ie=function(e){function t(t){var n,r,i,s,o=e.call(this,t)||this;return o.ratio=1,o.resizable=null,o.parentLeft=0,o.parentTop=0,o.resizableLeft=0,o.resizableRight=0,o.resizableTop=0,o.resizableBottom=0,o.targetLeft=0,o.targetTop=0,o.delta={width:0,height:0},o.appendBase=function(){if(!o.resizable||!o.window)return null;var e=o.parentNode;if(!e)return null;var t=o.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(re):t.className+=re,e.appendChild(t),t},o.removeBase=function(e){var t=o.parentNode;t&&t.removeChild(e)},o.state={isResizing:!1,width:null!==(r=null===(n=o.propsSize)||void 0===n?void 0:n.width)&&void 0!==r?r:"auto",height:null!==(s=null===(i=o.propsSize)||void 0===i?void 0:i.height)&&void 0!==s?s:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},o.onResizeStart=o.onResizeStart.bind(o),o.onMouseMove=o.onMouseMove.bind(o),o.onMouseUp=o.onMouseUp.bind(o),o}return $(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||X},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){var n;if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&(null===(n=e.propsSize[t])||void 0===n?void 0:n.toString().endsWith("%"))){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var r=e.getParentSize(),i=Number(e.state[t].toString().replace("px",""))/r[t]*100;return"".concat(i,"%")}return ee(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?ee(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?ee(t.height):n("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,i=this.props.boundsByDirection,s=this.state.direction,o=i&&Z("left",s),a=i&&Z("top",s);if("parent"===this.props.bounds){var l=this.parentNode;l&&(n=o?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),r=a?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=o?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=o?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n,r=this.props.scale||1,i=(n=this.props.resizeRatio||1,Array.isArray(n)?n:[n,n]),s=i[0],o=i[1],a=this.state,l=a.direction,c=a.original,h=this.props,u=h.lockAspectRatio,d=h.lockAspectRatioExtraHeight,p=h.lockAspectRatioExtraWidth,f=c.width,g=c.height,m=d||0,v=p||0;return Z("right",l)&&(f=c.width+(e-c.x)*s/r,u&&(g=(f-v)/this.ratio+m)),Z("left",l)&&(f=c.width-(e-c.x)*s/r,u&&(g=(f-v)/this.ratio+m)),Z("bottom",l)&&(g=c.height+(t-c.y)*o/r,u&&(f=(g-m)*this.ratio+v)),Z("top",l)&&(g=c.height-(t-c.y)*o/r,u&&(f=(g-m)*this.ratio+v)),{newWidth:f,newHeight:g}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,s=i.lockAspectRatio,o=i.lockAspectRatioExtraHeight,a=i.lockAspectRatioExtraWidth,l=void 0===r.width?10:r.width,c=void 0===n.width||n.width<0?e:n.width,h=void 0===r.height?10:r.height,u=void 0===n.height||n.height<0?t:n.height,d=o||0,p=a||0;if(s){var f=(h-d)*this.ratio+p,g=(u-d)*this.ratio+p,m=(l-p)/this.ratio+d,v=(c-p)/this.ratio+d,b=Math.max(l,f),y=Math.min(c,g),_=Math.max(h,m),w=Math.min(u,v);e=Y(e,b,y),t=Y(t,_,w)}else e=Y(e,l,c),t=Y(t,h,u);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if("parent"===this.props.bounds){var t=this.parentNode;if(t){var n=t.getBoundingClientRect();this.parentLeft=n.left*e,this.parentTop=n.top*e}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var r=this.props.bounds.getBoundingClientRect();this.targetLeft=r.left*e,this.targetTop=r.top*e}if(this.resizable){var i=this.resizable.getBoundingClientRect(),s=i.left,o=i.top,a=i.right,l=i.bottom;this.resizableLeft=s*e,this.resizableRight=a*e,this.resizableTop=o*e,this.resizableBottom=l*e}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,r=0,i=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(r=e.nativeEvent.clientX,i=e.nativeEvent.clientY):e.nativeEvent&&Q(e.nativeEvent)&&(r=e.nativeEvent.touches[0].clientX,i=e.nativeEvent.touches[0].clientY),this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var s=this.window.getComputedStyle(this.resizable);if("auto"!==s.flexBasis){var o=this.parentNode;if(o){var a=this.window.getComputedStyle(o).flexDirection;this.flexDir=a.startsWith("row")?"row":"column",n=s.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:r,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:G(G({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},t.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&Q(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var n=this.props,r=n.maxWidth,i=n.maxHeight,s=n.minWidth,o=n.minHeight,a=Q(e)?e.touches[0].clientX:e.clientX,l=Q(e)?e.touches[0].clientY:e.clientY,c=this.state,h=c.direction,u=c.original,d=c.width,p=c.height,f=this.getParentSize(),g=function(e,t,n,r,i,s,o){return r=te(r,e.width,t,n),i=te(i,e.height,t,n),s=te(s,e.width,t,n),o=te(o,e.height,t,n),{maxWidth:void 0===r?void 0:Number(r),maxHeight:void 0===i?void 0:Number(i),minWidth:void 0===s?void 0:Number(s),minHeight:void 0===o?void 0:Number(o)}}(f,this.window.innerWidth,this.window.innerHeight,r,i,s,o);r=g.maxWidth,i=g.maxHeight,s=g.minWidth,o=g.minHeight;var m=this.calculateNewSizeFromDirection(a,l),v=m.newHeight,b=m.newWidth,y=this.calculateNewMaxFromBoundary(r,i);this.props.snap&&this.props.snap.x&&(b=J(b,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(v=J(v,this.props.snap.y,this.props.snapGap));var _=this.calculateNewSizeFromAspectRatio(b,v,{width:y.maxWidth,height:y.maxHeight},{width:s,height:o});if(b=_.newWidth,v=_.newHeight,this.props.grid){var w=K(b,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),S=K(v,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),A=this.props.snapGap||0;b=0===A||Math.abs(w-b)<=A?w:b,v=0===A||Math.abs(S-v)<=A?S:v}var x={width:b-u.width,height:v-u.height};if(this.delta=x,d&&"string"==typeof d)if(d.endsWith("%")){var P=b/f.width*100;b="".concat(P,"%")}else if(d.endsWith("vw")){var E=b/this.window.innerWidth*100;b="".concat(E,"vw")}else if(d.endsWith("vh")){var C=b/this.window.innerHeight*100;b="".concat(C,"vh")}if(p&&"string"==typeof p)if(p.endsWith("%")){P=v/f.height*100;v="".concat(P,"%")}else if(p.endsWith("vw")){E=v/this.window.innerWidth*100;v="".concat(E,"vw")}else if(p.endsWith("vh")){C=v/this.window.innerHeight*100;v="".concat(C,"vh")}var T={width:this.createSizeForCssProperty(b,"width"),height:this.createSizeForCssProperty(v,"height")};"row"===this.flexDir?T.flexBasis=T.width:"column"===this.flexDir&&(T.flexBasis=T.height);var k=this.state.width!==T.width,M=this.state.height!==T.height,R=this.state.flexBasis!==T.flexBasis,O=k||M||R;O&&(0,B.flushSync)((function(){t.setState(T)})),this.props.onResize&&O&&this.props.onResize(e,h,this.resizable,x)}},t.prototype.onMouseUp=function(e){var t,n,r=this.state,i=r.isResizing,s=r.direction;r.original;i&&this.resizable&&(this.props.onResizeStop&&this.props.onResizeStop(e,s,this.resizable,this.delta),this.props.size&&this.setState({width:null!==(t=this.props.size.width)&&void 0!==t?t:"auto",height:null!==(n=this.props.size.height)&&void 0!==n?n:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:G(G({},this.state.backgroundStyle),{cursor:"auto"})}))},t.prototype.updateSize=function(e){var t,n;this.setState({width:null!==(t=e.width)&&void 0!==t?t:"auto",height:null!==(n=e.height)&&void 0!==n?n:"auto"})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,i=t.handleClasses,s=t.handleWrapperStyle,o=t.handleWrapperClass,a=t.handleComponent;if(!n)return null;var l=Object.keys(n).map((function(t){return!1!==n[t]?(0,j.jsx)(q,{direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:i&&i[t],children:a&&a[t]?a[t]:null},t):null}));return(0,j.jsx)("div",{className:o,style:s,children:l})},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==ne.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=G(G(G({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var r=this.props.as||"div";return(0,j.jsxs)(r,G({style:n,className:this.props.className},t,{ref:function(t){t&&(e.resizable=t)},children:[this.state.isResizing&&(0,j.jsx)("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(i.PureComponent),se=function(e,t){return se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},se(e,t)};var oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oe.apply(this,arguments)};var ae={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},le=function(e){function t(t){var n=e.call(this,t)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,r=this.getDraggablePosition(),i=r.x,s=r.y;this.draggable.setState({x:i-t,y:s-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var n=this.getDraggablePosition();if(this.originalPosition=n,this.props.bounds){var r,i=this.getParent(),s=this.props.scale;if("parent"===this.props.bounds)r=i;else{if("body"===this.props.bounds){var o=i.getBoundingClientRect(),a=o.left,l=o.top,c=document.body.getBoundingClientRect(),h=-(a-i.offsetLeft*s-c.left)/s,u=-(l-i.offsetTop*s-c.top)/s,d=(document.body.offsetWidth-this.resizable.size.width*s)/s+h,p=(document.body.offsetHeight-this.resizable.size.height*s)/s+u;return this.setState({bounds:{top:u,right:d,bottom:p,left:h}})}if("window"===this.props.bounds){if(!this.resizable)return;var f=i.getBoundingClientRect(),g=f.left,m=f.top,v=-(g-i.offsetLeft*s)/s,b=-(m-i.offsetTop*s)/s;d=(window.innerWidth-this.resizable.size.width*s)/s+v,p=(window.innerHeight-this.resizable.size.height*s)/s+b;return this.setState({bounds:{top:b,right:d,bottom:p,left:v}})}"string"==typeof this.props.bounds?r=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(r=this.props.bounds)}if(r instanceof HTMLElement&&i instanceof HTMLElement){var y=r.getBoundingClientRect(),_=y.left,w=y.top,S=i.getBoundingClientRect(),A=(_-S.left)/s,x=w-S.top;if(this.resizable){this.updateOffsetFromParent();var P=this.offsetFromParent;this.setState({bounds:{top:x-P.top,right:A+(r.offsetWidth-this.resizable.size.width)-P.left/s,bottom:x+(r.offsetHeight-this.resizable.size.height)-P.top,left:A-P.left/s}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(e,oe(oe({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(e,oe(oe({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDrag(e,oe(oe({},t),{x:t.x+r,y:t.y+i}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,r=n.left,i=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(e,oe(oe({},t),{x:t.x+r,y:this.originalPosition.y+i,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(e,oe(oe({},t),{x:this.originalPosition.x+r,y:t.y+i,deltaX:0})):void 0:this.props.onDragStop(e,oe(oe({},t),{x:t.x+r,y:t.y+i}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var r=this.props.scale,i=this.offsetFromParent,s=this.getDraggablePosition();if(this.resizingPosition={x:s.x+i.left,y:s.y+i.top},this.originalPosition=s,this.props.bounds){var o=this.getParent(),a=void 0;"parent"===this.props.bounds?a=o:"body"===this.props.bounds?a=document.body:"window"===this.props.bounds?a=window:"string"==typeof this.props.bounds?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);var l=this.getSelfElement();if(l instanceof Element&&(a instanceof HTMLElement||a===window)&&o instanceof HTMLElement){var c=this.getMaxSizesFromProps(),h=c.maxWidth,u=c.maxHeight,d=this.getParentSize();if(h&&"string"==typeof h)if(h.endsWith("%")){var p=Number(h.replace("%",""))/100;h=d.width*p}else h.endsWith("px")&&(h=Number(h.replace("px","")));if(u&&"string"==typeof u)if(u.endsWith("%")){p=Number(u.replace("%",""))/100;u=d.height*p}else u.endsWith("px")&&(u=Number(u.replace("px","")));var f=l.getBoundingClientRect(),g=f.left,m=f.top,v="window"===this.props.bounds?{left:0,top:0}:a.getBoundingClientRect(),b=v.left,y=v.top,_=this.getOffsetWidth(a),w=this.getOffsetHeight(a),S=t.toLowerCase().endsWith("left"),A=t.toLowerCase().endsWith("right"),x=t.startsWith("top"),P=t.startsWith("bottom");if((S||x)&&this.resizable){var E=(g-b)/r+this.resizable.size.width;this.setState({maxWidth:E>Number(h)?h:E})}if(A||this.props.lockAspectRatio&&!S&&!x){E=_+(b-g)/r;this.setState({maxWidth:E>Number(h)?h:E})}if((x||S)&&this.resizable){E=(m-y)/r+this.resizable.size.height;this.setState({maxHeight:E>Number(u)?u:E})}if(P||this.props.lockAspectRatio&&!x&&!S){E=w+(y-m)/r;this.setState({maxHeight:E>Number(u)?u:E})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,r){var i=this,s={x:this.originalPosition.x,y:this.originalPosition.y},o=-r.width,a=-r.height;["top","left","topLeft","bottomLeft","topRight"].includes(t)&&("bottomLeft"===t?s.x+=o:("topRight"===t||(s.x+=o),s.y+=a));var l=this.draggable.state;s.x===l.x&&s.y===l.y||(0,B.flushSync)((function(){i.draggable.setState(s)})),this.updateOffsetFromParent();var c=this.offsetFromParent,h=this.getDraggablePosition().x+c.left,u=this.getDraggablePosition().y+c.top;this.resizingPosition={x:h,y:u},this.props.onResize&&this.props.onResize(e,t,n,r,{x:h,y:u})},t.prototype.onResizeStop=function(e,t,n,r){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),s=i.maxWidth,o=i.maxHeight;this.setState({maxWidth:s,maxHeight:o}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var r=t.getBoundingClientRect(),i=r.left,s=r.top,o=n.getBoundingClientRect(),a=this.getDraggablePosition(),l=t.scrollLeft,c=t.scrollTop;this.offsetFromParent={left:o.left-i+l-a.x*e,top:o.top-s+c-a.y*e}},t.prototype.render=function(){var e=this,t=this.props,n=t.disableDragging,r=t.style,s=t.dragHandleClassName,o=t.position,a=t.onMouseDown,l=t.onMouseUp,c=t.dragAxis,h=t.dragGrid,u=t.bounds,d=t.enableUserSelectHack,p=t.cancel,f=t.children,g=(t.onResizeStart,t.onResize,t.onResizeStop,t.onDragStart,t.onDrag,t.onDragStop,t.resizeHandleStyles),m=t.resizeHandleClasses,v=t.resizeHandleComponent,b=t.enableResizing,y=t.resizeGrid,_=t.resizeHandleWrapperClass,w=t.resizeHandleWrapperStyle,S=t.scale,A=t.allowAnyClick,x=t.dragPositionOffset,P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),E=this.props.default?oe({},this.props.default):void 0;delete P.default;var C,T=n||s?{cursor:"auto"}:{cursor:"move"},k=oe(oe(oe({},ae),T),r),M=this.offsetFromParent,R=M.left,O=M.top;o&&(C={x:o.x-R,y:o.y-O});var D,I=this.state.resizing?void 0:C,L=this.state.resizing?"both":c;return(0,i.createElement)(N(),{ref:function(t){t&&(e.draggable=t)},handle:s?".".concat(s):void 0,defaultPosition:E,onMouseDown:a,onMouseUp:l,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:L,disabled:n,grid:h,bounds:u?this.state.bounds:void 0,position:I,enableUserSelectHack:d,cancel:p,scale:S,allowAnyClick:A,nodeRef:this.resizableElement,positionOffset:x},(0,i.createElement)(ie,oe({},P,{ref:function(t){t&&(e.resizable=t,e.resizableElement.current=t.resizable)},defaultSize:E,size:this.props.size,enable:"boolean"==typeof b?(D=b,{bottom:D,bottomLeft:D,bottomRight:D,left:D,right:D,top:D,topLeft:D,topRight:D}):b,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:k,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:y,handleWrapperClass:_,handleWrapperStyle:w,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:g,handleClasses:m,handleComponent:v,scale:this.props.scale}),f))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(i.PureComponent),ce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class he extends i.Component{render(){const e=this.props,{highlight:t,onChange:n,isScrolledTo:r}=e,s=ce(e,["highlight","onChange","isScrolledTo"]);return i.createElement("div",{className:"AreaHighlight "+(r?"AreaHighlight--scrolledTo":"")},i.createElement(le,Object.assign({className:"AreaHighlight__part",onDragStop:(e,r)=>{const i=Object.assign(Object.assign({},t.position.boundingRect),{top:r.y,left:r.x});n(i)},onResizeStop:(e,t,r,i,s)=>{var o;const a={top:s.y,left:s.x,width:r.offsetWidth,height:r.offsetHeight,pageNumber:(null===(o=l(r))||void 0===o?void 0:o.number)||-1};n(a)},position:{x:t.position.boundingRect.left,y:t.position.boundingRect.top},size:{width:t.position.boundingRect.width,height:t.position.boundingRect.height},onClick:e=>{e.stopPropagation(),e.preventDefault()}},s)))}}var ue=n(78783);class de extends i.Component{constructor(){super(...arguments),this.state={pdfDocument:null,error:null},this.documentRef=i.createRef()}componentDidMount(){this.load()}componentWillUnmount(){const{pdfDocument:e}=this.state;e&&e.destroy()}componentDidUpdate({url:e}){this.props.url!==e&&this.load()}componentDidCatch(e,t){const{onError:n}=this.props;n&&n(e),this.setState({pdfDocument:null,error:e})}load(){const{ownerDocument:e=document}=this.documentRef.current||{},{url:t,cMapUrl:n,cMapPacked:r,workerSrc:i}=this.props,{pdfDocument:s}=this.state;this.setState({pdfDocument:null,error:null}),"string"==typeof i&&(ue.GlobalWorkerOptions.workerSrc=i),Promise.resolve().then((()=>s&&s.destroy())).then((()=>{if(t)return(0,ue.getDocument)(Object.assign(Object.assign({},this.props),{ownerDocument:e,cMapUrl:n,cMapPacked:r})).promise.then((e=>{this.setState({pdfDocument:e})}))})).catch((e=>this.componentDidCatch(e)))}render(){const{children:e,beforeLoad:t}=this.props,{pdfDocument:n,error:r}=this.state;return i.createElement(i.Fragment,null,i.createElement("span",{ref:this.documentRef}),r?this.renderError():n&&e?e(n):t)}renderError(){const{errorMessage:e}=this.props;return e?i.cloneElement(e,{error:this.state.error}):null}}de.defaultProps={workerSrc:"https://unpkg.com/pdfjs-dist@2.16.105/build/pdf.worker.min.js"}},23800:function(e,t,n){!function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol(".concat(e,")")};function r(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e){return this instanceof s?(this.v=e,this):new s(e)}function o(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||l(e,t)}))})}function l(e,t){try{c(i[e](t))}catch(e){d(o[0][3],e)}}function c(e){e.value instanceof s?Promise.resolve(e.value.v).then(h,u):d(o[0][2],e)}function h(e){l("next",e)}function u(e){l("throw",e)}function d(e,t){e(t),o.shift(),o.length&&l(o[0][0],o[0][1])}}function a(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:s(e[r](t)),done:!1}:i?i(t):t}:i}}function l(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof i?i(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){s(r,i,(t=e[n](t)).done,t.value)}))}}function s(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function c(){}function h(e){return"object"==typeof e&&null!==e||"function"==typeof e}"function"==typeof SuppressedError&&SuppressedError;var u=c;function d(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}var p=Promise,f=Promise.prototype.then,g=Promise.reject.bind(p);function m(e){return new p(e)}function v(e){return m((function(t){return t(e)}))}function b(e){return g(e)}function y(e,t,n){return f.call(e,t,n)}function _(e,t,n){y(y(e,t,n),void 0,u)}function w(e,t){_(e,t)}function S(e,t){_(e,void 0,t)}function A(e,t,n){return y(e,t,n)}function x(e){y(e,void 0,u)}var P=function(e){if("function"==typeof queueMicrotask)P=queueMicrotask;else{var t=v(void 0);P=function(e){return y(t,e)}}return P(e)};function E(e,t,n){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function C(e,t,n){try{return v(E(e,t,n))}catch(e){return b(e)}}var T=16384,k=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(e){var t=this._back,n=t;t._elements.length===T-1&&(n={_elements:[],_next:void 0}),t._elements.push(e),n!==t&&(this._back=n,t._next=n),++this._size},e.prototype.shift=function(){var e=this._front,t=e,n=this._cursor,r=n+1,i=e._elements,s=i[n];return r===T&&(t=e._next,r=0),--this._size,this._cursor=r,e!==t&&(this._front=t),i[n]=void 0,s},e.prototype.forEach=function(e){for(var t=this._cursor,n=this._front,r=n._elements;!(t===r.length&&void 0===n._next||t===r.length&&(t=0,0===(r=(n=n._next)._elements).length));)e(r[t]),++t},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}(),M=t("[[AbortSteps]]"),R=t("[[ErrorSteps]]"),O=t("[[CancelSteps]]"),D=t("[[PullSteps]]"),I=t("[[ReleaseSteps]]");function L(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?B(e):"closed"===t._state?z(e):W(e,t._storedError)}function F(e,t){return si(e._ownerReadableStream,t)}function N(e){var t=e._ownerReadableStream;"readable"===t._state?U(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):H(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._readableStreamController[I](),t._reader=void 0,e._ownerReadableStream=void 0}function j(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function B(e){e._closedPromise=m((function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n}))}function W(e,t){B(e),U(e,t)}function z(e){B(e),V(e)}function U(e,t){void 0!==e._closedPromise_reject&&(x(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function H(e,t){W(e,t)}function V(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var q=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},$=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function G(e){return"object"==typeof e||"function"==typeof e}function X(e,t){if(void 0!==e&&!G(e))throw new TypeError("".concat(t," is not an object."))}function Y(e,t){if("function"!=typeof e)throw new TypeError("".concat(t," is not a function."))}function K(e){return"object"==typeof e&&null!==e||"function"==typeof e}function Z(e,t){if(!K(e))throw new TypeError("".concat(t," is not an object."))}function Q(e,t,n){if(void 0===e)throw new TypeError("Parameter ".concat(t," is required in '").concat(n,"'."))}function J(e,t,n){if(void 0===e)throw new TypeError("".concat(t," is required in '").concat(n,"'."))}function ee(e){return Number(e)}function te(e){return 0===e?0:e}function ne(e){return te($(e))}function re(e,t){var n=0,r=Number.MAX_SAFE_INTEGER,i=Number(e);if(i=te(i),!q(i))throw new TypeError("".concat(t," is not a finite number"));if((i=ne(i))<n||i>r)throw new TypeError("".concat(t," is outside the accepted range of ").concat(n," to ").concat(r,", inclusive"));return q(i)&&0!==i?i:0}function ie(e,t){if(!ri(e))throw new TypeError("".concat(t," is not a ReadableStream."))}function se(e){return new pe(e)}function oe(e,t){e._reader._readRequests.push(t)}function ae(e,t,n){var r=e._reader._readRequests.shift();n?r._closeSteps():r._chunkSteps(t)}function le(e){return e._reader._readRequests.length}function ce(e){var t=e._reader;return void 0!==t&&!!fe(t)}var he,ue,de,pe=function(){function e(e){if(Q(e,1,"ReadableStreamDefaultReader"),ie(e,"First parameter"),ii(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");L(this,e),this._readRequests=new k}return Object.defineProperty(e.prototype,"closed",{get:function(){return fe(this)?this._closedPromise:b(be("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),fe(this)?void 0===this._ownerReadableStream?b(j("cancel")):F(this,e):b(be("cancel"))},e.prototype.read=function(){if(!fe(this))return b(be("read"));if(void 0===this._ownerReadableStream)return b(j("read from"));var e,t,n=m((function(n,r){e=n,t=r}));return ge(this,{_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(){return e({value:void 0,done:!0})},_errorSteps:function(e){return t(e)}}),n},e.prototype.releaseLock=function(){if(!fe(this))throw be("releaseLock");void 0!==this._ownerReadableStream&&me(this)},e}();function fe(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof pe}function ge(e,t){var n=e._ownerReadableStream;n._disturbed=!0,"closed"===n._state?t._closeSteps():"errored"===n._state?t._errorSteps(n._storedError):n._readableStreamController[D](t)}function me(e){N(e),ve(e,new TypeError("Reader was released"))}function ve(e,t){var n=e._readRequests;e._readRequests=new k,n.forEach((function(e){e._errorSteps(t)}))}function be(e){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(e," can only be used on a ReadableStreamDefaultReader"))}function ye(e){return e.slice()}function _e(e,t,n,r,i){new Uint8Array(e).set(new Uint8Array(n,r,i),t)}Object.defineProperties(pe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),d(pe.prototype.cancel,"cancel"),d(pe.prototype.read,"read"),d(pe.prototype.releaseLock,"releaseLock"),"symbol"==typeof t.toStringTag&&Object.defineProperty(pe.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var we=function(e){return(we="function"==typeof e.transfer?function(e){return e.transfer()}:"function"==typeof structuredClone?function(e){return structuredClone(e,{transfer:[e]})}:function(e){return e})(e)},Se=function(e){return(Se="boolean"==typeof e.detached?function(e){return e.detached}:function(e){return 0===e.byteLength})(e)};function Ae(e,t,n){if(e.slice)return e.slice(t,n);var r=n-t,i=new ArrayBuffer(r);return _e(i,0,e,t,r),i}function xe(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError("".concat(String(t)," is not a function"));return n}}function Pe(e){var n,c=((n={})[t.iterator]=function(){return e.iterator},n),h=function(){return o(this,arguments,(function(){return r(this,(function(e){switch(e.label){case 0:return[5,i(a(l(c)))];case 1:case 2:return[4,s.apply(void 0,[e.sent()])];case 3:return[2,e.sent()]}}))}))}();return{iterator:h,nextMethod:h.next,done:!1}}var Ee,Ce=null!==(de=null!==(he=t.asyncIterator)&&void 0!==he?he:null===(ue=t.for)||void 0===ue?void 0:ue.call(t,"Symbol.asyncIterator"))&&void 0!==de?de:"@@asyncIterator";function Te(e,n,r){if(void 0===n&&(n="sync"),void 0===r)if("async"===n){if(void 0===(r=xe(e,Ce)))return Pe(Te(e,"sync",xe(e,t.iterator)))}else r=xe(e,t.iterator);if(void 0===r)throw new TypeError("The object is not iterable");var i=E(r,e,[]);if(!h(i))throw new TypeError("The iterator method must return an object");return{iterator:i,nextMethod:i.next,done:!1}}function ke(e){var t=E(e.nextMethod,e.iterator,[]);if(!h(t))throw new TypeError("The iterator.next() method must return an object");return t}function Me(e){return Boolean(e.done)}function Re(e){return e.value}var Oe=((Ee={})[Ce]=function(){return this},Ee);Object.defineProperty(Oe,Ce,{enumerable:!1});var De=function(){function e(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}return e.prototype.next=function(){var e=this,t=function(){return e._nextSteps()};return this._ongoingPromise=this._ongoingPromise?A(this._ongoingPromise,t,t):t(),this._ongoingPromise},e.prototype.return=function(e){var t=this,n=function(){return t._returnSteps(e)};return this._ongoingPromise?A(this._ongoingPromise,n,n):n()},e.prototype._nextSteps=function(){var e=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var t,n,r=this._reader,i=m((function(e,r){t=e,n=r}));return ge(r,{_chunkSteps:function(n){e._ongoingPromise=void 0,P((function(){return t({value:n,done:!1})}))},_closeSteps:function(){e._ongoingPromise=void 0,e._isFinished=!0,N(r),t({value:void 0,done:!0})},_errorSteps:function(t){e._ongoingPromise=void 0,e._isFinished=!0,N(r),n(t)}}),i},e.prototype._returnSteps=function(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;var t=this._reader;if(!this._preventCancel){var n=F(t,e);return N(t),A(n,(function(){return{value:e,done:!0}}))}return N(t),v({value:e,done:!0})},e}(),Ie={next:function(){return Fe(this)?this._asyncIteratorImpl.next():b(Ne("next"))},return:function(e){return Fe(this)?this._asyncIteratorImpl.return(e):b(Ne("return"))}};function Le(e,t){var n=se(e),r=new De(n,t),i=Object.create(Ie);return i._asyncIteratorImpl=r,i}function Fe(e){if(!h(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof De}catch(e){return!1}}function Ne(e){return new TypeError("ReadableStreamAsyncIterator.".concat(e," can only be used on a ReadableSteamAsyncIterator"))}Object.setPrototypeOf(Ie,Oe);var je=Number.isNaN||function(e){return e!=e};function Be(e){return!("number"!=typeof e||je(e)||e<0)}function We(e){var t=Ae(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function ze(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Ue(e,t,n){if(!Be(n)||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function He(e){return e._queue.peek().value}function Ve(e){e._queue=new k,e._queueTotalSize=0}function qe(e){return e===DataView}function $e(e){return qe(e.constructor)}function Ge(e){return qe(e)?1:e.BYTES_PER_ELEMENT}var Xe=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!Ze(this))throw kt("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(e){if(!Ze(this))throw kt("respond");if(Q(e,1,"respond"),e=re(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(Se(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");xt(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!Ze(this))throw kt("respondWithNewView");if(Q(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(Se(e.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Pt(this._associatedReadableByteStreamController,e)},e}();Object.defineProperties(Xe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),d(Xe.prototype.respond,"respond"),d(Xe.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Xe.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Ye=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!Ke(this))throw Mt("byobRequest");return St(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Ke(this))throw Mt("desiredSize");return At(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!Ke(this))throw Mt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in ".concat(e," state) is not in the readable state and cannot be closed"));bt(this)},e.prototype.enqueue=function(e){if(!Ke(this))throw Mt("enqueue");if(Q(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in ".concat(t," state) is not in the readable state and cannot be enqueued to"));yt(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Ke(this))throw Mt("error");_t(this,e)},e.prototype[O]=function(e){Je(this),Ve(this);var t=this._cancelAlgorithm(e);return vt(this),t},e.prototype[D]=function(e){var t=this._controlledReadableByteStream;if(this._queueTotalSize>0)wt(this,e);else{var n=this._autoAllocateChunkSize;if(void 0!==n){var r=void 0;try{r=new ArrayBuffer(n)}catch(t){return void e._errorSteps(t)}var i={buffer:r,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}oe(t,e),Qe(this)}},e.prototype[I]=function(){if(this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new k,this._pendingPullIntos.push(e)}},e}();function Ke(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof Ye}function Ze(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof Xe}function Qe(e){mt(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,_(e._pullAlgorithm(),(function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Qe(e)),null}),(function(t){return _t(e,t),null}))))}function Je(e){lt(e),e._pendingPullIntos=new k}function et(e,t){var n=!1;"closed"===e._state&&(n=!0);var r=tt(t);"default"===t.readerType?ae(e,r,n):Ft(e,r,n)}function tt(e){var t=e.bytesFilled,n=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/n)}function nt(e,t,n,r){e._queue.push({buffer:t,byteOffset:n,byteLength:r}),e._queueTotalSize+=r}function rt(e,t,n,r){var i;try{i=Ae(t,n,n+r)}catch(t){throw _t(e,t),t}nt(e,i,0,r)}function it(e,t){t.bytesFilled>0&&rt(e,t.buffer,t.byteOffset,t.bytesFilled),gt(e)}function st(e,t){var n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),r=t.bytesFilled+n,i=n,s=!1,o=r-r%t.elementSize;o>=t.minimumFill&&(i=o-t.bytesFilled,s=!0);for(var a=e._queue;i>0;){var l=a.peek(),c=Math.min(i,l.byteLength),h=t.byteOffset+t.bytesFilled;_e(t.buffer,h,l.buffer,l.byteOffset,c),l.byteLength===c?a.shift():(l.byteOffset+=c,l.byteLength-=c),e._queueTotalSize-=c,ot(e,c,t),i-=c}return s}function ot(e,t,n){n.bytesFilled+=t}function at(e){0===e._queueTotalSize&&e._closeRequested?(vt(e),oi(e._controlledReadableByteStream)):Qe(e)}function lt(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function ct(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();st(e,t)&&(gt(e),et(e._controlledReadableByteStream,t))}}function ht(e){for(var t=e._controlledReadableByteStream._reader;t._readRequests.length>0;){if(0===e._queueTotalSize)return;wt(e,t._readRequests.shift())}}function ut(e,t,n,r){var i,s=e._controlledReadableByteStream,o=t.constructor,a=Ge(o),l=t.byteOffset,c=t.byteLength,h=n*a;try{i=we(t.buffer)}catch(p){return void r._errorSteps(p)}var u={buffer:i,bufferByteLength:i.byteLength,byteOffset:l,byteLength:c,bytesFilled:0,minimumFill:h,elementSize:a,viewConstructor:o,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(u),void Lt(s,r);if("closed"!==s._state){if(e._queueTotalSize>0){if(st(e,u)){var d=tt(u);return at(e),void r._chunkSteps(d)}if(e._closeRequested){var p=new TypeError("Insufficient bytes to fill elements in the given buffer");return _t(e,p),void r._errorSteps(p)}}e._pendingPullIntos.push(u),Lt(s,r),Qe(e)}else{var f=new o(u.buffer,u.byteOffset,0);r._closeSteps(f)}}function dt(e,t){"none"===t.readerType&&gt(e);var n=e._controlledReadableByteStream;if(jt(n))for(;Nt(n)>0;)et(n,gt(e))}function pt(e,t,n){if(ot(e,t,n),"none"===n.readerType)return it(e,n),void ct(e);if(!(n.bytesFilled<n.minimumFill)){gt(e);var r=n.bytesFilled%n.elementSize;if(r>0){var i=n.byteOffset+n.bytesFilled;rt(e,n.buffer,i-r,r)}n.bytesFilled-=r,et(e._controlledReadableByteStream,n),ct(e)}}function ft(e,t){var n=e._pendingPullIntos.peek();lt(e),"closed"===e._controlledReadableByteStream._state?dt(e,n):pt(e,t,n),Qe(e)}function gt(e){return e._pendingPullIntos.shift()}function mt(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(ce(t)&&le(t)>0)||!!(jt(t)&&Nt(t)>0)||At(e)>0)}function vt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function bt(e){var t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){var n=e._pendingPullIntos.peek();if(n.bytesFilled%n.elementSize!=0){var r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw _t(e,r),r}}vt(e),oi(t)}}function yt(e,t){var n=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===n._state){var r=t.buffer,i=t.byteOffset,s=t.byteLength;if(Se(r))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var o=we(r);if(e._pendingPullIntos.length>0){var a=e._pendingPullIntos.peek();if(Se(a.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");lt(e),a.buffer=we(a.buffer),"none"===a.readerType&&it(e,a)}ce(n)?(ht(e),0===le(n)?nt(e,o,i,s):(e._pendingPullIntos.length>0&&gt(e),ae(n,new Uint8Array(o,i,s),!1))):jt(n)?(nt(e,o,i,s),ct(e)):nt(e,o,i,s),Qe(e)}}function _t(e,t){var n=e._controlledReadableByteStream;"readable"===n._state&&(Je(e),Ve(e),vt(e),ai(n,t))}function wt(e,t){var n=e._queue.shift();e._queueTotalSize-=n.byteLength,at(e);var r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);t._chunkSteps(r)}function St(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek(),n=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=Object.create(Xe.prototype);Tt(r,e,n),e._byobRequest=r}return e._byobRequest}function At(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function xt(e,t){var n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=we(n.buffer),ft(e,t)}function Pt(e,t){var n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+t.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var r=t.byteLength;n.buffer=we(t.buffer),ft(e,r)}function Et(e,t,n,r,i,s,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Ve(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=s,t._pullAlgorithm=r,t._cancelAlgorithm=i,t._autoAllocateChunkSize=o,t._pendingPullIntos=new k,e._readableStreamController=t,_(v(n()),(function(){return t._started=!0,Qe(t),null}),(function(e){return _t(t,e),null}))}function Ct(e,t,n){var r,i,s,o=Object.create(Ye.prototype);r=void 0!==t.start?function(){return t.start(o)}:function(){},i=void 0!==t.pull?function(){return t.pull(o)}:function(){return v(void 0)},s=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return v(void 0)};var a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Et(e,o,r,i,s,n,a)}function Tt(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}function kt(e){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(e," can only be used on a ReadableStreamBYOBRequest"))}function Mt(e){return new TypeError("ReadableByteStreamController.prototype.".concat(e," can only be used on a ReadableByteStreamController"))}function Rt(e,t){X(e,t);var n=null==e?void 0:e.mode;return{mode:void 0===n?void 0:Ot(n,"".concat(t," has member 'mode' that"))}}function Ot(e,t){if("byob"!==(e="".concat(e)))throw new TypeError("".concat(t," '").concat(e,"' is not a valid enumeration value for ReadableStreamReaderMode"));return e}function Dt(e,t){var n;return X(e,t),{min:re(null!==(n=null==e?void 0:e.min)&&void 0!==n?n:1,"".concat(t," has member 'min' that"))}}function It(e){return new Bt(e)}function Lt(e,t){e._reader._readIntoRequests.push(t)}function Ft(e,t,n){var r=e._reader._readIntoRequests.shift();n?r._closeSteps(t):r._chunkSteps(t)}function Nt(e){return e._reader._readIntoRequests.length}function jt(e){var t=e._reader;return void 0!==t&&!!Wt(t)}Object.defineProperties(Ye.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),d(Ye.prototype.close,"close"),d(Ye.prototype.enqueue,"enqueue"),d(Ye.prototype.error,"error"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ye.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Bt=function(){function e(e){if(Q(e,1,"ReadableStreamBYOBReader"),ie(e,"First parameter"),ii(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ke(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");L(this,e),this._readIntoRequests=new k}return Object.defineProperty(e.prototype,"closed",{get:function(){return Wt(this)?this._closedPromise:b(Vt("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),Wt(this)?void 0===this._ownerReadableStream?b(j("cancel")):F(this,e):b(Vt("cancel"))},e.prototype.read=function(e,t){if(void 0===t&&(t={}),!Wt(this))return b(Vt("read"));if(!ArrayBuffer.isView(e))return b(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return b(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return b(new TypeError("view's buffer must have non-zero byteLength"));if(Se(e.buffer))return b(new TypeError("view's buffer has been detached"));var n;try{n=Dt(t,"options")}catch(e){return b(e)}var r,i,s=n.min;if(0===s)return b(new TypeError("options.min must be greater than 0"));if($e(e)){if(s>e.byteLength)return b(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(s>e.length)return b(new RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return b(j("read from"));var o=m((function(e,t){r=e,i=t}));return zt(this,e,s,{_chunkSteps:function(e){return r({value:e,done:!1})},_closeSteps:function(e){return r({value:e,done:!0})},_errorSteps:function(e){return i(e)}}),o},e.prototype.releaseLock=function(){if(!Wt(this))throw Vt("releaseLock");void 0!==this._ownerReadableStream&&Ut(this)},e}();function Wt(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof Bt}function zt(e,t,n,r){var i=e._ownerReadableStream;i._disturbed=!0,"errored"===i._state?r._errorSteps(i._storedError):ut(i._readableStreamController,t,n,r)}function Ut(e){N(e),Ht(e,new TypeError("Reader was released"))}function Ht(e,t){var n=e._readIntoRequests;e._readIntoRequests=new k,n.forEach((function(e){e._errorSteps(t)}))}function Vt(e){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(e," can only be used on a ReadableStreamBYOBReader"))}function qt(e,t){var n=e.highWaterMark;if(void 0===n)return t;if(je(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function $t(e){var t=e.size;return t||function(){return 1}}function Gt(e,t){X(e,t);var n=null==e?void 0:e.highWaterMark,r=null==e?void 0:e.size;return{highWaterMark:void 0===n?void 0:ee(n),size:void 0===r?void 0:Xt(r,"".concat(t," has member 'size' that"))}}function Xt(e,t){return Y(e,t),function(t){return ee(e(t))}}function Yt(e,t){X(e,t);var n=null==e?void 0:e.abort,r=null==e?void 0:e.close,i=null==e?void 0:e.start,s=null==e?void 0:e.type,o=null==e?void 0:e.write;return{abort:void 0===n?void 0:Kt(n,e,"".concat(t," has member 'abort' that")),close:void 0===r?void 0:Zt(r,e,"".concat(t," has member 'close' that")),start:void 0===i?void 0:Qt(i,e,"".concat(t," has member 'start' that")),write:void 0===o?void 0:Jt(o,e,"".concat(t," has member 'write' that")),type:s}}function Kt(e,t,n){return Y(e,n),function(n){return C(e,t,[n])}}function Zt(e,t,n){return Y(e,n),function(){return C(e,t,[])}}function Qt(e,t,n){return Y(e,n),function(n){return E(e,t,[n])}}function Jt(e,t,n){return Y(e,n),function(n,r){return C(e,t,[n,r])}}function en(e,t){if(!cn(e))throw new TypeError("".concat(t," is not a WritableStream."))}function tn(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}Object.defineProperties(Bt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),d(Bt.prototype.cancel,"cancel"),d(Bt.prototype.read,"read"),d(Bt.prototype.releaseLock,"releaseLock"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Bt.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var nn="function"==typeof AbortController;function rn(){if(nn)return new AbortController}var sn=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:Z(e,"First parameter");var n=Gt(t,"Second parameter"),r=Yt(e,"First parameter");if(ln(this),void 0!==r.type)throw new RangeError("Invalid type is specified");var i=$t(n);zn(this,r,qt(n,1),i)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!cn(this))throw Jn("locked");return hn(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),cn(this)?hn(this)?b(new TypeError("Cannot abort a stream that already has a writer")):un(this,e):b(Jn("abort"))},e.prototype.close=function(){return cn(this)?hn(this)?b(new TypeError("Cannot close a stream that already has a writer")):wn(this)?b(new TypeError("Cannot close an already-closing stream")):dn(this):b(Jn("close"))},e.prototype.getWriter=function(){if(!cn(this))throw Jn("getWriter");return on(this)},e}();function on(e){return new Cn(e)}function an(e,t,n,r,i,s){void 0===i&&(i=1),void 0===s&&(s=function(){return 1});var o=Object.create(sn.prototype);return ln(o),Wn(o,Object.create(jn.prototype),e,t,n,r,i,s),o}function ln(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new k,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function cn(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof sn}function hn(e){return void 0!==e._writer}function un(e,t){var n;if("closed"===e._state||"errored"===e._state)return v(void 0);e._writableStreamController._abortReason=t,null===(n=e._writableStreamController._abortController)||void 0===n||n.abort(t);var r=e._state;if("closed"===r||"errored"===r)return v(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var i=!1;"erroring"===r&&(i=!0,t=void 0);var s=m((function(n,r){e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:r,_reason:t,_wasAlreadyErroring:i}}));return e._pendingAbortRequest._promise=s,i||gn(e,t),s}function dn(e){var t=e._state;if("closed"===t||"errored"===t)return b(new TypeError("The stream (in ".concat(t," state) is not in the writable state and cannot be closed")));var n=m((function(t,n){var r={_resolve:t,_reject:n};e._closeRequest=r})),r=e._writer;return void 0!==r&&e._backpressure&&"writable"===t&&gr(r),Hn(e._writableStreamController),n}function pn(e){return m((function(t,n){var r={_resolve:t,_reject:n};e._writeRequests.push(r)}))}function fn(e,t){"writable"!==e._state?mn(e):gn(e,t)}function gn(e,t){var n=e._writableStreamController;e._state="erroring",e._storedError=t;var r=e._writer;void 0!==r&&Dn(r,t),!Sn(e)&&n._started&&mn(e)}function mn(e){e._state="errored",e._writableStreamController[R]();var t=e._storedError;if(e._writeRequests.forEach((function(e){e._reject(t)})),e._writeRequests=new k,void 0!==e._pendingAbortRequest){var n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,n._wasAlreadyErroring)return n._reject(t),void Pn(e);_(e._writableStreamController[M](n._reason),(function(){return n._resolve(),Pn(e),null}),(function(t){return n._reject(t),Pn(e),null}))}else Pn(e)}function vn(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function bn(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,fn(e,t)}function yn(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&lr(t)}function _n(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),fn(e,t)}function wn(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function Sn(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function An(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function xn(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Pn(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&or(t,e._storedError)}function En(e,t){var n=e._writer;void 0!==n&&t!==e._backpressure&&(t?pr(n):gr(n)),e._backpressure=t}Object.defineProperties(sn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),d(sn.prototype.abort,"abort"),d(sn.prototype.close,"close"),d(sn.prototype.getWriter,"getWriter"),"symbol"==typeof t.toStringTag&&Object.defineProperty(sn.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});var Cn=function(){function e(e){if(Q(e,1,"WritableStreamDefaultWriter"),en(e,"First parameter"),hn(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state;if("writable"===t)!wn(e)&&e._backpressure?cr(this):ur(this),rr(this);else if("erroring"===t)hr(this,e._storedError),rr(this);else if("closed"===t)ur(this),sr(this);else{var n=e._storedError;hr(this,n),ir(this,n)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return Tn(this)?this._closedPromise:b(tr("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Tn(this))throw tr("desiredSize");if(void 0===this._ownerWritableStream)throw nr("desiredSize");return In(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return Tn(this)?this._readyPromise:b(tr("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),Tn(this)?void 0===this._ownerWritableStream?b(nr("abort")):kn(this,e):b(tr("abort"))},e.prototype.close=function(){if(!Tn(this))return b(tr("close"));var e=this._ownerWritableStream;return void 0===e?b(nr("close")):wn(e)?b(new TypeError("Cannot close an already-closing stream")):Mn(this)},e.prototype.releaseLock=function(){if(!Tn(this))throw tr("releaseLock");void 0!==this._ownerWritableStream&&Ln(this)},e.prototype.write=function(e){return void 0===e&&(e=void 0),Tn(this)?void 0===this._ownerWritableStream?b(nr("write to")):Fn(this,e):b(tr("write"))},e}();function Tn(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof Cn}function kn(e,t){return un(e._ownerWritableStream,t)}function Mn(e){return dn(e._ownerWritableStream)}function Rn(e){var t=e._ownerWritableStream,n=t._state;return wn(t)||"closed"===n?v(void 0):"errored"===n?b(t._storedError):Mn(e)}function On(e,t){"pending"===e._closedPromiseState?or(e,t):ar(e,t)}function Dn(e,t){"pending"===e._readyPromiseState?dr(e,t):fr(e,t)}function In(e){var t=e._ownerWritableStream,n=t._state;return"errored"===n||"erroring"===n?null:"closed"===n?0:qn(t._writableStreamController)}function Ln(e){var t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Dn(e,n),On(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function Fn(e,t){var n=e._ownerWritableStream,r=n._writableStreamController,i=Vn(r,t);if(n!==e._ownerWritableStream)return b(nr("write to"));var s=n._state;if("errored"===s)return b(n._storedError);if(wn(n)||"closed"===s)return b(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===s)return b(n._storedError);var o=pn(n);return $n(r,t,i),o}Object.defineProperties(Cn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),d(Cn.prototype.abort,"abort"),d(Cn.prototype.close,"close"),d(Cn.prototype.releaseLock,"releaseLock"),d(Cn.prototype.write,"write"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Cn.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Nn={},jn=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!Bn(this))throw er("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!Bn(this))throw er("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Bn(this))throw er("error");"writable"===this._controlledWritableStream._state&&Qn(this,e)},e.prototype[M]=function(e){var t=this._abortAlgorithm(e);return Un(this),t},e.prototype[R]=function(){Ve(this)},e}();function Bn(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof jn}function Wn(e,t,n,r,i,s,o,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ve(t),t._abortReason=void 0,t._abortController=rn(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=o,t._writeAlgorithm=r,t._closeAlgorithm=i,t._abortAlgorithm=s;var l=Zn(t);En(e,l),_(v(n()),(function(){return t._started=!0,Gn(t),null}),(function(n){return t._started=!0,fn(e,n),null}))}function zn(e,t,n,r){var i,s,o,a,l=Object.create(jn.prototype);i=void 0!==t.start?function(){return t.start(l)}:function(){},s=void 0!==t.write?function(e){return t.write(e,l)}:function(){return v(void 0)},o=void 0!==t.close?function(){return t.close()}:function(){return v(void 0)},a=void 0!==t.abort?function(e){return t.abort(e)}:function(){return v(void 0)},Wn(e,l,i,s,o,a,n,r)}function Un(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Hn(e){Ue(e,Nn,0),Gn(e)}function Vn(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Xn(e,t),1}}function qn(e){return e._strategyHWM-e._queueTotalSize}function $n(e,t,n){try{Ue(e,t,n)}catch(t){return void Xn(e,t)}var r=e._controlledWritableStream;wn(r)||"writable"!==r._state||En(r,Zn(e)),Gn(e)}function Gn(e){var t=e._controlledWritableStream;if(e._started&&void 0===t._inFlightWriteRequest)if("erroring"!==t._state){if(0!==e._queue.length){var n=He(e);n===Nn?Yn(e):Kn(e,n)}}else mn(t)}function Xn(e,t){"writable"===e._controlledWritableStream._state&&Qn(e,t)}function Yn(e){var t=e._controlledWritableStream;An(t),ze(e);var n=e._closeAlgorithm();Un(e),_(n,(function(){return yn(t),null}),(function(e){return _n(t,e),null}))}function Kn(e,t){var n=e._controlledWritableStream;xn(n),_(e._writeAlgorithm(t),(function(){vn(n);var t=n._state;if(ze(e),!wn(n)&&"writable"===t){var r=Zn(e);En(n,r)}return Gn(e),null}),(function(t){return"writable"===n._state&&Un(e),bn(n,t),null}))}function Zn(e){return qn(e)<=0}function Qn(e,t){var n=e._controlledWritableStream;Un(e),gn(n,t)}function Jn(e){return new TypeError("WritableStream.prototype.".concat(e," can only be used on a WritableStream"))}function er(e){return new TypeError("WritableStreamDefaultController.prototype.".concat(e," can only be used on a WritableStreamDefaultController"))}function tr(e){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(e," can only be used on a WritableStreamDefaultWriter"))}function nr(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function rr(e){e._closedPromise=m((function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"}))}function ir(e,t){rr(e),or(e,t)}function sr(e){rr(e),lr(e)}function or(e,t){void 0!==e._closedPromise_reject&&(x(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function ar(e,t){ir(e,t)}function lr(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function cr(e){e._readyPromise=m((function(t,n){e._readyPromise_resolve=t,e._readyPromise_reject=n})),e._readyPromiseState="pending"}function hr(e,t){cr(e),dr(e,t)}function ur(e){cr(e),gr(e)}function dr(e,t){void 0!==e._readyPromise_reject&&(x(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function pr(e){cr(e)}function fr(e,t){hr(e,t)}function gr(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}function mr(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==n.g?n.g:void 0}Object.defineProperties(jn.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(jn.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var vr=mr();function br(e){if("function"!=typeof e&&"object"!=typeof e)return!1;if("DOMException"!==e.name)return!1;try{return new e,!0}catch(e){return!1}}function yr(){var e=null==vr?void 0:vr.DOMException;return br(e)?e:void 0}function _r(){var e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return d(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}var wr=yr()||_r();function Sr(e,t,n,r,i,s){var o=se(e),a=on(t);e._disturbed=!0;var l=!1,h=v(void 0);return m((function(u,d){var p;if(void 0!==s){if(p=function(){var n=void 0!==s.reason?s.reason:new wr("Aborted","AbortError"),o=[];r||o.push((function(){return"writable"===t._state?un(t,n):v(void 0)})),i||o.push((function(){return"readable"===e._state?si(e,n):v(void 0)})),C((function(){return Promise.all(o.map((function(e){return e()})))}),!0,n)},s.aborted)return void p();s.addEventListener("abort",p)}function f(){return m((function(e,t){function n(r){r?e():y(g(),n,t)}n(!1)}))}function g(){return l?v(!0):y(a._readyPromise,(function(){return m((function(e,t){ge(o,{_chunkSteps:function(t){h=y(Fn(a,t),void 0,c),e(!1)},_closeSteps:function(){return e(!0)},_errorSteps:t})}))}))}if(P(e,o._closedPromise,(function(e){return r?T(!0,e):C((function(){return un(t,e)}),!0,e),null})),P(t,a._closedPromise,(function(t){return i?T(!0,t):C((function(){return si(e,t)}),!0,t),null})),E(e,o._closedPromise,(function(){return n?T():C((function(){return Rn(a)})),null})),wn(t)||"closed"===t._state){var b=new TypeError("the destination writable stream closed before all data could be piped to it");i?T(!0,b):C((function(){return si(e,b)}),!0,b)}function A(){var e=h;return y(h,(function(){return e!==h?A():void 0}))}function P(e,t,n){"errored"===e._state?n(e._storedError):S(t,n)}function E(e,t,n){"closed"===e._state?n():w(t,n)}function C(e,n,r){function i(){return _(e(),(function(){return k(n,r)}),(function(e){return k(!0,e)})),null}l||(l=!0,"writable"!==t._state||wn(t)?i():w(A(),i))}function T(e,n){l||(l=!0,"writable"!==t._state||wn(t)?k(e,n):w(A(),(function(){return k(e,n)})))}function k(e,t){return Ln(a),N(o),void 0!==s&&s.removeEventListener("abort",p),e?d(t):u(void 0),null}x(f())}))}var Ar=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!xr(this))throw Fr("desiredSize");return Rr(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!xr(this))throw Fr("close");if(!Dr(this))throw new TypeError("The stream is not in a state that permits close");Tr(this)},e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!xr(this))throw Fr("enqueue");if(!Dr(this))throw new TypeError("The stream is not in a state that permits enqueue");return kr(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!xr(this))throw Fr("error");Mr(this,e)},e.prototype[O]=function(e){Ve(this);var t=this._cancelAlgorithm(e);return Cr(this),t},e.prototype[D]=function(e){var t=this._controlledReadableStream;if(this._queue.length>0){var n=ze(this);this._closeRequested&&0===this._queue.length?(Cr(this),oi(t)):Pr(this),e._chunkSteps(n)}else oe(t,e),Pr(this)},e.prototype[I]=function(){},e}();function xr(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Ar}function Pr(e){Er(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,_(e._pullAlgorithm(),(function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Pr(e)),null}),(function(t){return Mr(e,t),null}))))}function Er(e){var t=e._controlledReadableStream;return!!Dr(e)&&!!e._started&&(!!(ii(t)&&le(t)>0)||Rr(e)>0)}function Cr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Tr(e){if(Dr(e)){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Cr(e),oi(t))}}function kr(e,t){if(Dr(e)){var n=e._controlledReadableStream;if(ii(n)&&le(n)>0)ae(n,t,!1);else{var r=void 0;try{r=e._strategySizeAlgorithm(t)}catch(t){throw Mr(e,t),t}try{Ue(e,t,r)}catch(t){throw Mr(e,t),t}}Pr(e)}}function Mr(e,t){var n=e._controlledReadableStream;"readable"===n._state&&(Ve(e),Cr(e),ai(n,t))}function Rr(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Or(e){return!Er(e)}function Dr(e){var t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function Ir(e,t,n,r,i,s,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ve(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=s,t._pullAlgorithm=r,t._cancelAlgorithm=i,e._readableStreamController=t,_(v(n()),(function(){return t._started=!0,Pr(t),null}),(function(e){return Mr(t,e),null}))}function Lr(e,t,n,r){var i,s,o,a=Object.create(Ar.prototype);i=void 0!==t.start?function(){return t.start(a)}:function(){},s=void 0!==t.pull?function(){return t.pull(a)}:function(){return v(void 0)},o=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return v(void 0)},Ir(e,a,i,s,o,n,r)}function Fr(e){return new TypeError("ReadableStreamDefaultController.prototype.".concat(e," can only be used on a ReadableStreamDefaultController"))}function Nr(e,t){return Ke(e._readableStreamController)?Br(e):jr(e)}function jr(e,t){var n,r,i,s,o,a=se(e),l=!1,c=!1,h=!1,u=!1,d=m((function(e){o=e}));function p(){return l?(c=!0,v(void 0)):(l=!0,ge(a,{_chunkSteps:function(e){P((function(){c=!1;var t=e,n=e;h||kr(i._readableStreamController,t),u||kr(s._readableStreamController,n),l=!1,c&&p()}))},_closeSteps:function(){l=!1,h||Tr(i._readableStreamController),u||Tr(s._readableStreamController),h&&u||o(void 0)},_errorSteps:function(){l=!1}}),v(void 0))}function f(t){if(h=!0,n=t,u){var i=ye([n,r]),s=si(e,i);o(s)}return d}function g(t){if(u=!0,r=t,h){var i=ye([n,r]),s=si(e,i);o(s)}return d}function b(){}return i=ei(b,p,f),s=ei(b,p,g),S(a._closedPromise,(function(e){return Mr(i._readableStreamController,e),Mr(s._readableStreamController,e),h&&u||o(void 0),null})),[i,s]}function Br(e){var t,n,r,i,s,o=se(e),a=!1,l=!1,c=!1,h=!1,u=!1,d=m((function(e){s=e}));function p(e){S(e._closedPromise,(function(t){return e!==o||(_t(r._readableStreamController,t),_t(i._readableStreamController,t),h&&u||s(void 0)),null}))}function f(){Wt(o)&&(N(o),p(o=se(e))),ge(o,{_chunkSteps:function(t){P((function(){l=!1,c=!1;var n=t,o=t;if(!h&&!u)try{o=We(t)}catch(t){return _t(r._readableStreamController,t),_t(i._readableStreamController,t),void s(si(e,t))}h||yt(r._readableStreamController,n),u||yt(i._readableStreamController,o),a=!1,l?b():c&&y()}))},_closeSteps:function(){a=!1,h||bt(r._readableStreamController),u||bt(i._readableStreamController),r._readableStreamController._pendingPullIntos.length>0&&xt(r._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&xt(i._readableStreamController,0),h&&u||s(void 0)},_errorSteps:function(){a=!1}})}function g(t,n){fe(o)&&(N(o),p(o=It(e)));var d=n?i:r,f=n?r:i;zt(o,t,1,{_chunkSteps:function(t){P((function(){l=!1,c=!1;var r=n?u:h;if(n?h:u)r||Pt(d._readableStreamController,t);else{var i=void 0;try{i=We(t)}catch(t){return _t(d._readableStreamController,t),_t(f._readableStreamController,t),void s(si(e,t))}r||Pt(d._readableStreamController,t),yt(f._readableStreamController,i)}a=!1,l?b():c&&y()}))},_closeSteps:function(e){a=!1;var t=n?u:h,r=n?h:u;t||bt(d._readableStreamController),r||bt(f._readableStreamController),void 0!==e&&(t||Pt(d._readableStreamController,e),!r&&f._readableStreamController._pendingPullIntos.length>0&&xt(f._readableStreamController,0)),t&&r||s(void 0)},_errorSteps:function(){a=!1}})}function b(){if(a)return l=!0,v(void 0);a=!0;var e=St(r._readableStreamController);return null===e?f():g(e._view,!1),v(void 0)}function y(){if(a)return c=!0,v(void 0);a=!0;var e=St(i._readableStreamController);return null===e?f():g(e._view,!0),v(void 0)}function _(r){if(h=!0,t=r,u){var i=ye([t,n]),o=si(e,i);s(o)}return d}function w(r){if(u=!0,n=r,h){var i=ye([t,n]),o=si(e,i);s(o)}return d}function A(){}return r=ti(A,b,_),i=ti(A,y,w),p(o),[r,i]}function Wr(e){return h(e)&&void 0!==e.getReader}function zr(e){return Wr(e)?Hr(e.getReader()):Ur(e)}function Ur(e){var t,n=Te(e,"async");function r(){var e;try{e=ke(n)}catch(e){return b(e)}return A(v(e),(function(e){if(!h(e))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(Me(e))Tr(t._readableStreamController);else{var n=Re(e);kr(t._readableStreamController,n)}}))}function i(e){var t,r,i=n.iterator;try{t=xe(i,"return")}catch(e){return b(e)}if(void 0===t)return v(void 0);try{r=E(t,i,[e])}catch(e){return b(e)}return A(v(r),(function(e){if(!h(e))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")}))}return t=ei(c,r,i,0)}function Hr(e){var t;function n(){var n;try{n=e.read()}catch(e){return b(e)}return A(n,(function(e){if(!h(e))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(e.done)Tr(t._readableStreamController);else{var n=e.value;kr(t._readableStreamController,n)}}))}function r(t){try{return v(e.cancel(t))}catch(e){return b(e)}}return t=ei(c,n,r,0)}function Vr(e,t){X(e,t);var n=e,r=null==n?void 0:n.autoAllocateChunkSize,i=null==n?void 0:n.cancel,s=null==n?void 0:n.pull,o=null==n?void 0:n.start,a=null==n?void 0:n.type;return{autoAllocateChunkSize:void 0===r?void 0:re(r,"".concat(t," has member 'autoAllocateChunkSize' that")),cancel:void 0===i?void 0:qr(i,n,"".concat(t," has member 'cancel' that")),pull:void 0===s?void 0:$r(s,n,"".concat(t," has member 'pull' that")),start:void 0===o?void 0:Gr(o,n,"".concat(t," has member 'start' that")),type:void 0===a?void 0:Xr(a,"".concat(t," has member 'type' that"))}}function qr(e,t,n){return Y(e,n),function(n){return C(e,t,[n])}}function $r(e,t,n){return Y(e,n),function(n){return C(e,t,[n])}}function Gr(e,t,n){return Y(e,n),function(n){return E(e,t,[n])}}function Xr(e,t){if("bytes"!==(e="".concat(e)))throw new TypeError("".concat(t," '").concat(e,"' is not a valid enumeration value for ReadableStreamType"));return e}function Yr(e,t){X(e,t);var n=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(n)}}function Kr(e,t){X(e,t);var n=null==e?void 0:e.preventAbort,r=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,s=null==e?void 0:e.signal;return void 0!==s&&Zr(s,"".concat(t," has member 'signal' that")),{preventAbort:Boolean(n),preventCancel:Boolean(r),preventClose:Boolean(i),signal:s}}function Zr(e,t){if(!tn(e))throw new TypeError("".concat(t," is not an AbortSignal."))}function Qr(e,t){X(e,t);var n=null==e?void 0:e.readable;J(n,"readable","ReadableWritablePair"),ie(n,"".concat(t," has member 'readable' that"));var r=null==e?void 0:e.writable;return J(r,"writable","ReadableWritablePair"),en(r,"".concat(t," has member 'writable' that")),{readable:n,writable:r}}Object.defineProperties(Ar.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),d(Ar.prototype.close,"close"),d(Ar.prototype.enqueue,"enqueue"),d(Ar.prototype.error,"error"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ar.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Jr=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:Z(e,"First parameter");var n=Gt(t,"Second parameter"),r=Vr(e,"First parameter");if(ni(this),"bytes"===r.type){if(void 0!==n.size)throw new RangeError("The strategy for a byte stream cannot have a size function");Ct(this,r,qt(n,0))}else{var i=$t(n);Lr(this,r,qt(n,1),i)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!ri(this))throw li("locked");return ii(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),ri(this)?ii(this)?b(new TypeError("Cannot cancel a stream that already has a reader")):si(this,e):b(li("cancel"))},e.prototype.getReader=function(e){if(void 0===e&&(e=void 0),!ri(this))throw li("getReader");return void 0===Rt(e,"First parameter").mode?se(this):It(this)},e.prototype.pipeThrough=function(e,t){if(void 0===t&&(t={}),!ri(this))throw li("pipeThrough");Q(e,1,"pipeThrough");var n=Qr(e,"First parameter"),r=Kr(t,"Second parameter");if(ii(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(hn(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return x(Sr(this,n.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),n.readable},e.prototype.pipeTo=function(e,t){if(void 0===t&&(t={}),!ri(this))return b(li("pipeTo"));if(void 0===e)return b("Parameter 1 is required in 'pipeTo'.");if(!cn(e))return b(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var n;try{n=Kr(t,"Second parameter")}catch(e){return b(e)}return ii(this)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):hn(e)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Sr(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)},e.prototype.tee=function(){if(!ri(this))throw li("tee");return ye(Nr(this))},e.prototype.values=function(e){if(void 0===e&&(e=void 0),!ri(this))throw li("values");return Le(this,Yr(e,"First parameter").preventCancel)},e.prototype[Ce]=function(e){return this.values(e)},e.from=function(e){return zr(e)},e}();function ei(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=function(){return 1});var s=Object.create(Jr.prototype);return ni(s),Ir(s,Object.create(Ar.prototype),e,t,n,r,i),s}function ti(e,t,n){var r=Object.create(Jr.prototype);return ni(r),Et(r,Object.create(Ye.prototype),e,t,n,0,void 0),r}function ni(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ri(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof Jr}function ii(e){return void 0!==e._reader}function si(e,t){if(e._disturbed=!0,"closed"===e._state)return v(void 0);if("errored"===e._state)return b(e._storedError);oi(e);var n=e._reader;if(void 0!==n&&Wt(n)){var r=n._readIntoRequests;n._readIntoRequests=new k,r.forEach((function(e){e._closeSteps(void 0)}))}return A(e._readableStreamController[O](t),c)}function oi(e){e._state="closed";var t=e._reader;if(void 0!==t&&(V(t),fe(t))){var n=t._readRequests;t._readRequests=new k,n.forEach((function(e){e._closeSteps()}))}}function ai(e,t){e._state="errored",e._storedError=t;var n=e._reader;void 0!==n&&(U(n,t),fe(n)?ve(n,t):Ht(n,t))}function li(e){return new TypeError("ReadableStream.prototype.".concat(e," can only be used on a ReadableStream"))}function ci(e,t){X(e,t);var n=null==e?void 0:e.highWaterMark;return J(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ee(n)}}Object.defineProperties(Jr,{from:{enumerable:!0}}),Object.defineProperties(Jr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),d(Jr.from,"from"),d(Jr.prototype.cancel,"cancel"),d(Jr.prototype.getReader,"getReader"),d(Jr.prototype.pipeThrough,"pipeThrough"),d(Jr.prototype.pipeTo,"pipeTo"),d(Jr.prototype.tee,"tee"),d(Jr.prototype.values,"values"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Jr.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Jr.prototype,Ce,{value:Jr.prototype.values,writable:!0,configurable:!0});var hi=function(e){return e.byteLength};d(hi,"size");var ui=function(){function e(e){Q(e,1,"ByteLengthQueuingStrategy"),e=ci(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!pi(this))throw di("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!pi(this))throw di("size");return hi},enumerable:!1,configurable:!0}),e}();function di(e){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(e," can only be used on a ByteLengthQueuingStrategy"))}function pi(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof ui}Object.defineProperties(ui.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ui.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var fi=function(){return 1};d(fi,"size");var gi=function(){function e(e){Q(e,1,"CountQueuingStrategy"),e=ci(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!vi(this))throw mi("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!vi(this))throw mi("size");return fi},enumerable:!1,configurable:!0}),e}();function mi(e){return new TypeError("CountQueuingStrategy.prototype.".concat(e," can only be used on a CountQueuingStrategy"))}function vi(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof gi}function bi(e,t){X(e,t);var n=null==e?void 0:e.cancel,r=null==e?void 0:e.flush,i=null==e?void 0:e.readableType,s=null==e?void 0:e.start,o=null==e?void 0:e.transform,a=null==e?void 0:e.writableType;return{cancel:void 0===n?void 0:Si(n,e,"".concat(t," has member 'cancel' that")),flush:void 0===r?void 0:yi(r,e,"".concat(t," has member 'flush' that")),readableType:i,start:void 0===s?void 0:_i(s,e,"".concat(t," has member 'start' that")),transform:void 0===o?void 0:wi(o,e,"".concat(t," has member 'transform' that")),writableType:a}}function yi(e,t,n){return Y(e,n),function(n){return C(e,t,[n])}}function _i(e,t,n){return Y(e,n),function(n){return E(e,t,[n])}}function wi(e,t,n){return Y(e,n),function(n,r){return C(e,t,[n,r])}}function Si(e,t,n){return Y(e,n),function(n){return C(e,t,[n])}}Object.defineProperties(gi.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(gi.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Ai=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={}),void 0===e&&(e=null);var r=Gt(t,"Second parameter"),i=Gt(n,"Third parameter"),s=bi(e,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var o,a=qt(i,0),l=$t(i),c=qt(r,1),h=$t(r);xi(this,m((function(e){o=e})),c,h,a,l),Di(this,s),void 0!==s.start?o(s.start(this._transformStreamController)):o(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!Pi(this))throw Gi("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!Pi(this))throw Gi("writable");return this._writable},enumerable:!1,configurable:!0}),e}();function xi(e,t,n,r,i,s){function o(){return t}function a(t){return Bi(e,t)}function l(t){return Wi(e,t)}function c(){return zi(e)}function h(){return Ui(e)}function u(t){return Hi(e,t)}e._writable=an(o,a,c,l,n,r),e._readable=ei(o,h,u,i,s),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,ki(e,!0),e._transformStreamController=void 0}function Pi(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Ai}function Ei(e,t){Mr(e._readable._readableStreamController,t),Ci(e,t)}function Ci(e,t){Ii(e._transformStreamController),Xn(e._writable._writableStreamController,t),Ti(e)}function Ti(e){e._backpressure&&ki(e,!1)}function ki(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=m((function(t){e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Ai.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ai.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});var Mi=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Ri(this))throw Vi("desiredSize");return Rr(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!Ri(this))throw Vi("enqueue");Li(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Ri(this))throw Vi("error");Fi(this,e)},e.prototype.terminate=function(){if(!Ri(this))throw Vi("terminate");ji(this)},e}();function Ri(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Mi}function Oi(e,t,n,r,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=r,t._cancelAlgorithm=i,t._finishPromise=void 0,t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0}function Di(e,t){var n,r,i,s=Object.create(Mi.prototype);n=void 0!==t.transform?function(e){return t.transform(e,s)}:function(e){try{return Li(s,e),v(void 0)}catch(e){return b(e)}},r=void 0!==t.flush?function(){return t.flush(s)}:function(){return v(void 0)},i=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return v(void 0)},Oi(e,s,n,r,i)}function Ii(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function Li(e,t){var n=e._controlledTransformStream,r=n._readable._readableStreamController;if(!Dr(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{kr(r,t)}catch(e){throw Ci(n,e),n._readable._storedError}Or(r)!==n._backpressure&&ki(n,!0)}function Fi(e,t){Ei(e._controlledTransformStream,t)}function Ni(e,t){return A(e._transformAlgorithm(t),void 0,(function(t){throw Ei(e._controlledTransformStream,t),t}))}function ji(e){var t=e._controlledTransformStream;Tr(t._readable._readableStreamController),Ci(t,new TypeError("TransformStream terminated"))}function Bi(e,t){var n=e._transformStreamController;return e._backpressure?A(e._backpressureChangePromise,(function(){var r=e._writable;if("erroring"===r._state)throw r._storedError;return Ni(n,t)})):Ni(n,t)}function Wi(e,t){var n=e._transformStreamController;if(void 0!==n._finishPromise)return n._finishPromise;var r=e._readable;n._finishPromise=m((function(e,t){n._finishPromise_resolve=e,n._finishPromise_reject=t}));var i=n._cancelAlgorithm(t);return Ii(n),_(i,(function(){return"errored"===r._state?$i(n,r._storedError):(Mr(r._readableStreamController,t),qi(n)),null}),(function(e){return Mr(r._readableStreamController,e),$i(n,e),null})),n._finishPromise}function zi(e){var t=e._transformStreamController;if(void 0!==t._finishPromise)return t._finishPromise;var n=e._readable;t._finishPromise=m((function(e,n){t._finishPromise_resolve=e,t._finishPromise_reject=n}));var r=t._flushAlgorithm();return Ii(t),_(r,(function(){return"errored"===n._state?$i(t,n._storedError):(Tr(n._readableStreamController),qi(t)),null}),(function(e){return Mr(n._readableStreamController,e),$i(t,e),null})),t._finishPromise}function Ui(e){return ki(e,!1),e._backpressureChangePromise}function Hi(e,t){var n=e._transformStreamController;if(void 0!==n._finishPromise)return n._finishPromise;var r=e._writable;n._finishPromise=m((function(e,t){n._finishPromise_resolve=e,n._finishPromise_reject=t}));var i=n._cancelAlgorithm(t);return Ii(n),_(i,(function(){return"errored"===r._state?$i(n,r._storedError):(Xn(r._writableStreamController,t),Ti(e),qi(n)),null}),(function(t){return Xn(r._writableStreamController,t),Ti(e),$i(n,t),null})),n._finishPromise}function Vi(e){return new TypeError("TransformStreamDefaultController.prototype.".concat(e," can only be used on a TransformStreamDefaultController"))}function qi(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function $i(e,t){void 0!==e._finishPromise_reject&&(x(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function Gi(e){return new TypeError("TransformStream.prototype.".concat(e," can only be used on a TransformStream"))}Object.defineProperties(Mi.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),d(Mi.prototype.enqueue,"enqueue"),d(Mi.prototype.error,"error"),d(Mi.prototype.terminate,"terminate"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Mi.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=ui,e.CountQueuingStrategy=gi,e.ReadableByteStreamController=Ye,e.ReadableStream=Jr,e.ReadableStreamBYOBReader=Bt,e.ReadableStreamBYOBRequest=Xe,e.ReadableStreamDefaultController=Ar,e.ReadableStreamDefaultReader=pe,e.TransformStream=Ai,e.TransformStreamDefaultController=Mi,e.WritableStream=sn,e.WritableStreamDefaultController=jn,e.WritableStreamDefaultWriter=Cn}(t)},53640:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(61120),i=n(78814),s=n(82963);function o(e,t,n){return t=(0,r.Z)(t),(0,s.Z)(e,(0,i.Z)()?Reflect.construct(t,n||[],(0,r.Z)(e).constructor):t.apply(e,n))}},99346:function(e,t,n){"use strict";n.d(t,{B:function(){return a},S:function(){return c}});var r=n(67294),i=n(24139),s=n(27037),o=n(30202);function a(e,t){return c({filters:{...e,status:"pending"}},(0,o.NL)(t)).length}function l(e,t){return e.findAll(t.filters).map((e=>t.select?t.select(e):e.state))}function c(e={},t){const n=(0,o.NL)(t).getMutationCache(),a=r.useRef(e),c=r.useRef(null);return c.current||(c.current=l(n,e)),r.useEffect((()=>{a.current=e})),r.useSyncExternalStore(r.useCallback((e=>n.subscribe((()=>{const t=(0,i.Q$)(c.current,l(n,a.current));c.current!==t&&(c.current=t,s.Vr.schedule(e))}))),[n]),(()=>c.current),(()=>c.current))}}}]);
//# sourceMappingURL=4707.9404c2ef.async.js.map