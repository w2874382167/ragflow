{"version":3,"file":"p__add-knowledge__components__knowledge-file__index.2af1a3d5.async.js","mappings":"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","sources":["webpack://web/./src/components/file-upload-modal/index.less?4e00","webpack://web/./src/components/file-upload-modal/index.tsx","webpack://web/./src/constants/knowledge.ts","webpack://web/./src/hooks/document-hooks.ts","webpack://web/./src/hooks/logic-hooks.ts","webpack://web/./src/hooks/route-hook.ts","webpack://web/./src/components/chunk-method-modal/hooks.ts","webpack://web/./src/components/chunk-method-modal/index.less?91a6","webpack://web/./src/components/chunk-method-modal/index.tsx","webpack://web/./src/pages/add-knowledge/components/knowledge-file/create-file-modal.tsx","webpack://web/./src/assets/svg/cancel.svg","webpack://web/./src/assets/svg/delete.svg","webpack://web/./src/assets/svg/disable.svg","webpack://web/./src/assets/svg/enable.svg","webpack://web/./src/assets/svg/run.svg","webpack://web/./src/pages/add-knowledge/components/knowledge-file/index.less?4526","webpack://web/./src/pages/add-knowledge/components/knowledge-file/document-toolbar.tsx","webpack://web/./src/pages/add-knowledge/components/knowledge-file/constant.ts","webpack://web/./src/pages/add-knowledge/components/knowledge-file/utils.ts","webpack://web/./src/pages/add-knowledge/components/knowledge-file/parsing-action-cell/index.less?abf7","webpack://web/./src/pages/add-knowledge/components/knowledge-file/parsing-action-cell/index.tsx","webpack://web/./src/assets/svg/refresh.svg","webpack://web/./src/pages/add-knowledge/components/knowledge-file/parsing-status-cell/index.less?28f2","webpack://web/./src/pages/add-knowledge/components/knowledge-file/parsing-status-cell/index.tsx","webpack://web/./src/pages/add-knowledge/components/knowledge-file/hooks.ts","webpack://web/./src/pages/add-knowledge/components/knowledge-file/rename-modal/index.tsx","webpack://web/./src/pages/add-knowledge/components/knowledge-file/web-crawl-modal.tsx","webpack://web/./src/pages/add-knowledge/components/knowledge-file/set-meta-modal/index.tsx","webpack://web/./src/pages/add-knowledge/components/knowledge-file/index.tsx","webpack://web/./src/services/chat-service.ts","webpack://web/./src/services/knowledge-service.ts","webpack://web/./src/utils/chat.ts","webpack://web/./src/utils/date.ts","webpack://web/./src/utils/document-util.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"uploader\":\"uploader___ezBcw\",\"uploadLimit\":\"uploadLimit___bpygu\"};","import { useTranslate } from '@/hooks/common-hooks';\nimport { IModalProps } from '@/interfaces/common';\nimport { InboxOutlined } from '@ant-design/icons';\nimport {\n  Checkbox,\n  Flex,\n  Modal,\n  Progress,\n  Segmented,\n  Tabs,\n  TabsProps,\n  Upload,\n  UploadFile,\n  UploadProps,\n} from 'antd';\nimport { Dispatch, SetStateAction, useState } from 'react';\n\nimport styles from './index.less';\n\nconst { Dragger } = Upload;\n\nconst FileUpload = ({\n  directory,\n  fileList,\n  setFileList,\n  uploadProgress,\n}: {\n  directory: boolean;\n  fileList: UploadFile[];\n  setFileList: Dispatch<SetStateAction<UploadFile[]>>;\n  uploadProgress?: number;\n}) => {\n  const { t } = useTranslate('fileManager');\n  const props: UploadProps = {\n    multiple: true,\n    onRemove: (file) => {\n      const index = fileList.indexOf(file);\n      const newFileList = fileList.slice();\n      newFileList.splice(index, 1);\n      setFileList(newFileList);\n    },\n    beforeUpload: (file: UploadFile) => {\n      setFileList((pre) => {\n        return [...pre, file];\n      });\n\n      return false;\n    },\n    directory,\n    fileList,\n    progress: {\n      strokeWidth: 2,\n    },\n  };\n\n  return (\n    <>\n      <Progress percent={uploadProgress} showInfo={false} />\n      <Dragger {...props} className={styles.uploader}>\n        <p className=\"ant-upload-drag-icon\">\n          <InboxOutlined />\n        </p>\n        <p className=\"ant-upload-text\">{t('uploadTitle')}</p>\n        <p className=\"ant-upload-hint\">{t('uploadDescription')}</p>\n        {false && <p className={styles.uploadLimit}>{t('uploadLimit')}</p>}\n      </Dragger>\n    </>\n  );\n};\n\ninterface IFileUploadModalProps\n  extends IModalProps<\n    { parseOnCreation: boolean; directoryFileList: UploadFile[] } | UploadFile[]\n  > {\n  uploadFileList?: UploadFile[];\n  setUploadFileList?: Dispatch<SetStateAction<UploadFile[]>>;\n  uploadProgress?: number;\n  setUploadProgress?: Dispatch<SetStateAction<number>>;\n}\n\nconst FileUploadModal = ({\n  visible,\n  hideModal,\n  loading,\n  onOk: onFileUploadOk,\n  uploadFileList: fileList,\n  setUploadFileList: setFileList,\n  uploadProgress,\n  setUploadProgress,\n}: IFileUploadModalProps) => {\n  const { t } = useTranslate('fileManager');\n  const [value, setValue] = useState<string | number>('local');\n  const [parseOnCreation, setParseOnCreation] = useState(false);\n  const [currentFileList, setCurrentFileList] = useState<UploadFile[]>([]);\n  const [directoryFileList, setDirectoryFileList] = useState<UploadFile[]>([]);\n\n  const clearFileList = () => {\n    if (setFileList) {\n      setFileList([]);\n      setUploadProgress?.(0);\n    } else {\n      setCurrentFileList([]);\n    }\n    setDirectoryFileList([]);\n  };\n\n  const onOk = async () => {\n    if (uploadProgress === 100) {\n      hideModal?.();\n      return;\n    }\n\n    const ret = await onFileUploadOk?.(\n      fileList\n        ? { parseOnCreation, directoryFileList }\n        : [...currentFileList, ...directoryFileList],\n    );\n    return ret;\n  };\n\n  const afterClose = () => {\n    clearFileList();\n  };\n\n  const items: TabsProps['items'] = [\n    {\n      key: '1',\n      label: t('file'),\n      children: (\n        <FileUpload\n          directory={false}\n          fileList={fileList ? fileList : currentFileList}\n          setFileList={setFileList ? setFileList : setCurrentFileList}\n          uploadProgress={uploadProgress}\n        ></FileUpload>\n      ),\n    },\n    {\n      key: '2',\n      label: t('directory'),\n      children: (\n        <FileUpload\n          directory\n          fileList={directoryFileList}\n          setFileList={setDirectoryFileList}\n          uploadProgress={uploadProgress}\n        ></FileUpload>\n      ),\n    },\n  ];\n\n  return (\n    <>\n      <Modal\n        title={t('uploadFile')}\n        open={visible}\n        onOk={onOk}\n        onCancel={hideModal}\n        confirmLoading={loading}\n        afterClose={afterClose}\n      >\n        <Flex gap={'large'} vertical>\n          <Segmented\n            options={[\n              { label: t('local'), value: 'local' },\n              { label: t('s3'), value: 's3' },\n            ]}\n            block\n            value={value}\n            onChange={setValue}\n          />\n          {value === 'local' ? (\n            <>\n              <Checkbox\n                checked={parseOnCreation}\n                onChange={(e) => setParseOnCreation(e.target.checked)}\n              >\n                {t('parseOnCreation')}\n              </Checkbox>\n              <Tabs defaultActiveKey=\"1\" items={items} />\n            </>\n          ) : (\n            t('comingSoon', { keyPrefix: 'common' })\n          )}\n        </Flex>\n      </Modal>\n    </>\n  );\n};\n\nexport default FileUploadModal;\n","export enum KnowledgeRouteKey {\n  Dataset = 'dataset',\n  Testing = 'testing',\n  Configuration = 'configuration',\n  KnowledgeGraph = 'knowledgeGraph',\n}\n\nexport const DatasetBaseKey = 'dataset';\n\nexport enum RunningStatus {\n  UNSTART = '0', // need to run\n  RUNNING = '1', // need to cancel\n  CANCEL = '2', // need to refresh\n  DONE = '3', // need to refresh\n  FAIL = '4', // need to refresh\n}\n\nexport enum ModelVariableType {\n  Improvise = 'Improvise',\n  Precise = 'Precise',\n  Balance = 'Balance',\n}\n\nexport const settledModelVariableMap = {\n  [ModelVariableType.Improvise]: {\n    temperature: 0.9,\n    top_p: 0.9,\n    frequency_penalty: 0.2,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Precise]: {\n    temperature: 0.1,\n    top_p: 0.3,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Balance]: {\n    temperature: 0.5,\n    top_p: 0.5,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n};\n\nexport enum LlmModelType {\n  Embedding = 'embedding',\n  Chat = 'chat',\n  Image2text = 'image2text',\n  Speech2text = 'speech2text',\n  Rerank = 'rerank',\n  TTS = 'tts',\n}\n\nexport enum KnowledgeSearchParams {\n  DocumentId = 'doc_id',\n  KnowledgeId = 'id',\n}\n\nexport enum DocumentType {\n  Virtual = 'virtual',\n  Visual = 'visual',\n}\n\nexport enum DocumentParserType {\n  Naive = 'naive',\n  Qa = 'qa',\n  Resume = 'resume',\n  Manual = 'manual',\n  Table = 'table',\n  Paper = 'paper',\n  Book = 'book',\n  Laws = 'laws',\n  Presentation = 'presentation',\n  Picture = 'picture',\n  One = 'one',\n  Audio = 'audio',\n  Email = 'email',\n  Tag = 'tag',\n  KnowledgeGraph = 'knowledge_graph',\n}\n","import { IReferenceChunk } from '@/interfaces/database/chat';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport {\n  IChangeParserConfigRequestBody,\n  IDocumentMetaRequestBody,\n} from '@/interfaces/request/document';\nimport i18n from '@/locales/config';\nimport chatService from '@/services/chat-service';\nimport kbService from '@/services/knowledge-service';\nimport api, { api_host } from '@/utils/api';\nimport { buildChunkHighlights } from '@/utils/document-util';\nimport { post } from '@/utils/request';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { UploadFile, message } from 'antd';\nimport { get } from 'lodash';\nimport { useCallback, useMemo, useState } from 'react';\nimport { IHighlight } from 'react-pdf-highlighter';\nimport { useParams } from 'umi';\nimport {\n  useGetPaginationWithRouter,\n  useHandleSearchChange,\n} from './logic-hooks';\nimport {\n  useGetKnowledgeSearchParams,\n  useSetPaginationParams,\n} from './route-hook';\n\nexport const useGetDocumentUrl = (documentId?: string) => {\n  const getDocumentUrl = useCallback(\n    (id?: string) => {\n      return `${api_host}/document/get/${documentId || id}`;\n    },\n    [documentId],\n  );\n\n  return getDocumentUrl;\n};\n\nexport const useGetChunkHighlights = (\n  selectedChunk: IChunk | IReferenceChunk,\n) => {\n  const [size, setSize] = useState({ width: 849, height: 1200 });\n\n  const highlights: IHighlight[] = useMemo(() => {\n    return buildChunkHighlights(selectedChunk, size);\n  }, [selectedChunk, size]);\n\n  const setWidthAndHeight = (width: number, height: number) => {\n    setSize((pre) => {\n      if (pre.height !== height || pre.width !== width) {\n        return { height, width };\n      }\n      return pre;\n    });\n  };\n\n  return { highlights, setWidthAndHeight };\n};\n\nexport const useFetchNextDocumentList = () => {\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n  const { searchString, handleInputChange } = useHandleSearchChange();\n  const { pagination, setPagination } = useGetPaginationWithRouter();\n  const { id } = useParams();\n\n  const { data, isFetching: loading } = useQuery<{\n    docs: IDocumentInfo[];\n    total: number;\n  }>({\n    queryKey: ['fetchDocumentList', searchString, pagination],\n    initialData: { docs: [], total: 0 },\n    refetchInterval: 15000,\n    enabled: !!knowledgeId || !!id,\n    queryFn: async () => {\n      const ret = await kbService.get_document_list({\n        kb_id: knowledgeId || id,\n        keywords: searchString,\n        page_size: pagination.pageSize,\n        page: pagination.current,\n      });\n      if (ret.data.code === 0) {\n        return ret.data.data;\n      }\n\n      return {\n        docs: [],\n        total: 0,\n      };\n    },\n  });\n\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = useCallback(\n    (e) => {\n      setPagination({ page: 1 });\n      handleInputChange(e);\n    },\n    [handleInputChange, setPagination],\n  );\n\n  return {\n    loading,\n    searchString,\n    documents: data.docs,\n    pagination: { ...pagination, total: data?.total },\n    handleInputChange: onInputChange,\n    setPagination,\n  };\n};\n\nexport const useSetNextDocumentStatus = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['updateDocumentStatus'],\n    mutationFn: async ({\n      status,\n      documentId,\n    }: {\n      status: boolean;\n      documentId: string;\n    }) => {\n      const { data } = await kbService.document_change_status({\n        doc_id: documentId,\n        status: Number(status),\n      });\n      if (data.code === 0) {\n        message.success(i18n.t('message.modified'));\n        queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n      }\n      return data;\n    },\n  });\n\n  return { setDocumentStatus: mutateAsync, data, loading };\n};\n\nexport const useSaveNextDocumentName = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['saveDocumentName'],\n    mutationFn: async ({\n      name,\n      documentId,\n    }: {\n      name: string;\n      documentId: string;\n    }) => {\n      const { data } = await kbService.document_rename({\n        doc_id: documentId,\n        name: name,\n      });\n      if (data.code === 0) {\n        message.success(i18n.t('message.renamed'));\n        queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { loading, saveName: mutateAsync, data };\n};\n\nexport const useCreateNextDocument = () => {\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n  const { setPaginationParams, page } = useSetPaginationParams();\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['createDocument'],\n    mutationFn: async (name: string) => {\n      const { data } = await kbService.document_create({\n        name,\n        kb_id: knowledgeId,\n      });\n      if (data.code === 0) {\n        if (page === 1) {\n          queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n        } else {\n          setPaginationParams(); // fetch document list\n        }\n\n        message.success(i18n.t('message.created'));\n      }\n      return data.code;\n    },\n  });\n\n  return { createDocument: mutateAsync, loading, data };\n};\n\nexport const useSetNextDocumentParser = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['setDocumentParser'],\n    mutationFn: async ({\n      parserId,\n      documentId,\n      parserConfig,\n    }: {\n      parserId: string;\n      documentId: string;\n      parserConfig: IChangeParserConfigRequestBody;\n    }) => {\n      const { data } = await kbService.document_change_parser({\n        parser_id: parserId,\n        doc_id: documentId,\n        parser_config: parserConfig,\n      });\n      if (data.code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n\n        message.success(i18n.t('message.modified'));\n      }\n      return data.code;\n    },\n  });\n\n  return { setDocumentParser: mutateAsync, data, loading };\n};\n\nexport const useUploadNextDocument = () => {\n  const queryClient = useQueryClient();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['uploadDocument'],\n    mutationFn: async (fileList: UploadFile[]) => {\n      const formData = new FormData();\n      formData.append('kb_id', knowledgeId);\n      fileList.forEach((file: any) => {\n        formData.append('file', file);\n      });\n\n      try {\n        const ret = await kbService.document_upload(formData);\n        const code = get(ret, 'data.code');\n\n        if (code === 0 || code === 500) {\n          queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n        }\n        return ret?.data;\n      } catch (error) {\n        console.warn(error);\n        return {\n          code: 500,\n          message: error + '',\n        };\n      }\n    },\n  });\n\n  return { uploadDocument: mutateAsync, loading, data };\n};\n\nexport const useNextWebCrawl = () => {\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['webCrawl'],\n    mutationFn: async ({ name, url }: { name: string; url: string }) => {\n      const formData = new FormData();\n      formData.append('name', name);\n      formData.append('url', url);\n      formData.append('kb_id', knowledgeId);\n\n      const ret = await kbService.web_crawl(formData);\n      const code = get(ret, 'data.code');\n      if (code === 0) {\n        message.success(i18n.t('message.uploaded'));\n      }\n\n      return code;\n    },\n  });\n\n  return {\n    data,\n    loading,\n    webCrawl: mutateAsync,\n  };\n};\n\nexport const useRunNextDocument = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['runDocumentByIds'],\n    mutationFn: async ({\n      documentIds,\n      run,\n      shouldDelete,\n    }: {\n      documentIds: string[];\n      run: number;\n      shouldDelete: boolean;\n    }) => {\n      const ret = await kbService.document_run({\n        doc_ids: documentIds,\n        run,\n        delete: shouldDelete,\n      });\n      const code = get(ret, 'data.code');\n      if (code === 0) {\n        queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n        message.success(i18n.t('message.operated'));\n      }\n\n      return code;\n    },\n  });\n\n  return { runDocumentByIds: mutateAsync, loading, data };\n};\n\nexport const useFetchDocumentInfosByIds = () => {\n  const [ids, setDocumentIds] = useState<string[]>([]);\n  const { data } = useQuery<IDocumentInfo[]>({\n    queryKey: ['fetchDocumentInfos', ids],\n    enabled: ids.length > 0,\n    initialData: [],\n    queryFn: async () => {\n      const { data } = await kbService.document_infos({ doc_ids: ids });\n      if (data.code === 0) {\n        return data.data;\n      }\n\n      return [];\n    },\n  });\n\n  return { data, setDocumentIds };\n};\n\nexport const useFetchDocumentThumbnailsByIds = () => {\n  const [ids, setDocumentIds] = useState<string[]>([]);\n  const { data } = useQuery<Record<string, string>>({\n    queryKey: ['fetchDocumentThumbnails', ids],\n    enabled: ids.length > 0,\n    initialData: {},\n    queryFn: async () => {\n      const { data } = await kbService.document_thumbnails({ doc_ids: ids });\n      if (data.code === 0) {\n        return data.data;\n      }\n      return {};\n    },\n  });\n\n  return { data, setDocumentIds };\n};\n\nexport const useRemoveNextDocument = () => {\n  const queryClient = useQueryClient();\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['removeDocument'],\n    mutationFn: async (documentIds: string | string[]) => {\n      const { data } = await kbService.document_rm({ doc_id: documentIds });\n      if (data.code === 0) {\n        message.success(i18n.t('message.deleted'));\n        queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n      }\n      return data.code;\n    },\n  });\n\n  return { data, loading, removeDocument: mutateAsync };\n};\n\nexport const useDeleteDocument = () => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['deleteDocument'],\n    mutationFn: async (documentIds: string[]) => {\n      const data = await kbService.document_delete({ doc_ids: documentIds });\n\n      return data;\n    },\n  });\n\n  return { data, loading, deleteDocument: mutateAsync };\n};\n\nexport const useUploadAndParseDocument = (uploadMethod: string) => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['uploadAndParseDocument'],\n    mutationFn: async ({\n      conversationId,\n      fileList,\n    }: {\n      conversationId: string;\n      fileList: UploadFile[];\n    }) => {\n      try {\n        const formData = new FormData();\n        formData.append('conversation_id', conversationId);\n        fileList.forEach((file: UploadFile) => {\n          formData.append('file', file as any);\n        });\n        if (uploadMethod === 'upload_and_parse') {\n          const data = await kbService.upload_and_parse(formData);\n          return data?.data;\n        }\n        const data = await chatService.uploadAndParseExternal(formData);\n        return data?.data;\n      } catch (error) {}\n    },\n  });\n\n  return { data, loading, uploadAndParseDocument: mutateAsync };\n};\n\nexport const useParseDocument = () => {\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['parseDocument'],\n    mutationFn: async (url: string) => {\n      try {\n        const data = await post(api.parse, { url });\n        if (data?.code === 0) {\n          message.success(i18n.t('message.uploaded'));\n        }\n        return data;\n      } catch (error) {\n        message.error('error');\n      }\n    },\n  });\n\n  return { parseDocument: mutateAsync, data, loading };\n};\n\nexport const useSetDocumentMeta = () => {\n  const queryClient = useQueryClient();\n\n  const {\n    data,\n    isPending: loading,\n    mutateAsync,\n  } = useMutation({\n    mutationKey: ['setDocumentMeta'],\n    mutationFn: async (params: IDocumentMetaRequestBody) => {\n      try {\n        const { data } = await kbService.setMeta({\n          meta: params.meta,\n          doc_id: params.documentId,\n        });\n\n        if (data?.code === 0) {\n          queryClient.invalidateQueries({ queryKey: ['fetchDocumentList'] });\n\n          message.success(i18n.t('message.modified'));\n        }\n        return data?.code;\n      } catch (error) {\n        message.error('error');\n      }\n    },\n  });\n\n  return { setDocumentMeta: mutateAsync, data, loading };\n};\n","import { Authorization } from '@/constants/authorization';\nimport { MessageType } from '@/constants/chat';\nimport { LanguageTranslationMap } from '@/constants/common';\nimport { ResponseType } from '@/interfaces/database/base';\nimport { IAnswer, Message } from '@/interfaces/database/chat';\nimport { IKnowledgeFile } from '@/interfaces/database/knowledge';\nimport { IClientConversation, IMessage } from '@/pages/chat/interface';\nimport api from '@/utils/api';\nimport { getAuthorization } from '@/utils/authorization-util';\nimport { buildMessageUuid } from '@/utils/chat';\nimport { PaginationProps, message } from 'antd';\nimport { FormInstance } from 'antd/lib';\nimport axios from 'axios';\nimport { EventSourceParserStream } from 'eventsource-parser/stream';\nimport { omit } from 'lodash';\nimport {\n  ChangeEventHandler,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { v4 as uuid } from 'uuid';\nimport { useTranslate } from './common-hooks';\nimport { useSetPaginationParams } from './route-hook';\nimport { useFetchTenantInfo, useSaveSetting } from './user-setting-hooks';\n\nexport const useSetSelectedRecord = <T = IKnowledgeFile>() => {\n  const [currentRecord, setCurrentRecord] = useState<T>({} as T);\n\n  const setRecord = (record: T) => {\n    setCurrentRecord(record);\n  };\n\n  return { currentRecord, setRecord };\n};\n\nexport const useHandleSearchChange = () => {\n  const [searchString, setSearchString] = useState('');\n\n  const handleInputChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      const value = e.target.value;\n      setSearchString(value);\n    },\n    [],\n  );\n\n  return { handleInputChange, searchString };\n};\n\nexport const useChangeLanguage = () => {\n  const { i18n } = useTranslation();\n  const { saveSetting } = useSaveSetting();\n\n  const changeLanguage = (lng: string) => {\n    i18n.changeLanguage(\n      LanguageTranslationMap[lng as keyof typeof LanguageTranslationMap],\n    );\n    saveSetting({ language: lng });\n  };\n\n  return changeLanguage;\n};\n\nexport const useGetPaginationWithRouter = () => {\n  const { t } = useTranslate('common');\n  const {\n    setPaginationParams,\n    page,\n    size: pageSize,\n  } = useSetPaginationParams();\n\n  const onPageChange: PaginationProps['onChange'] = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      setPaginationParams(pageNumber, pageSize);\n    },\n    [setPaginationParams],\n  );\n\n  const setCurrentPagination = useCallback(\n    (pagination: { page: number; pageSize?: number }) => {\n      setPaginationParams(pagination.page, pagination.pageSize);\n    },\n    [setPaginationParams],\n  );\n\n  const pagination: PaginationProps = useMemo(() => {\n    return {\n      showQuickJumper: true,\n      total: 0,\n      showSizeChanger: true,\n      current: page,\n      pageSize: pageSize,\n      pageSizeOptions: [1, 2, 10, 20, 50, 100],\n      onChange: onPageChange,\n      showTotal: (total) => `${t('total')} ${total}`,\n    };\n  }, [t, onPageChange, page, pageSize]);\n\n  return {\n    pagination,\n    setPagination: setCurrentPagination,\n  };\n};\n\nexport const useGetPagination = () => {\n  const [pagination, setPagination] = useState({ page: 1, pageSize: 10 });\n  const { t } = useTranslate('common');\n\n  const onPageChange: PaginationProps['onChange'] = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      setPagination({ page: pageNumber, pageSize });\n    },\n    [],\n  );\n\n  const currentPagination: PaginationProps = useMemo(() => {\n    return {\n      showQuickJumper: true,\n      total: 0,\n      showSizeChanger: true,\n      current: pagination.page,\n      pageSize: pagination.pageSize,\n      pageSizeOptions: [1, 2, 10, 20, 50, 100],\n      onChange: onPageChange,\n      showTotal: (total) => `${t('total')} ${total}`,\n    };\n  }, [t, onPageChange, pagination]);\n\n  return {\n    pagination: currentPagination,\n  };\n};\n\nexport interface AppConf {\n  appName: string;\n}\n\nexport const useFetchAppConf = () => {\n  const [appConf, setAppConf] = useState<AppConf>({} as AppConf);\n  const fetchAppConf = useCallback(async () => {\n    const ret = await axios.get('/conf.json');\n\n    setAppConf(ret.data);\n  }, []);\n\n  useEffect(() => {\n    fetchAppConf();\n  }, [fetchAppConf]);\n\n  return appConf;\n};\n\nexport const useSendMessageWithSse = (\n  url: string = api.completeConversation,\n) => {\n  const [answer, setAnswer] = useState<IAnswer>({} as IAnswer);\n  const [done, setDone] = useState(true);\n  const timer = useRef<any>();\n\n  const resetAnswer = useCallback(() => {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n    timer.current = setTimeout(() => {\n      setAnswer({} as IAnswer);\n      clearTimeout(timer.current);\n    }, 1000);\n  }, []);\n\n  const send = useCallback(\n    async (\n      body: any,\n      controller?: AbortController,\n    ): Promise<{ response: Response; data: ResponseType } | undefined> => {\n      try {\n        setDone(false);\n        const response = await fetch(url, {\n          method: 'POST',\n          headers: {\n            [Authorization]: getAuthorization(),\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(body),\n          signal: controller?.signal,\n        });\n\n        const res = response.clone().json();\n        const reader = response?.body\n          ?.pipeThrough(new TextDecoderStream())\n          .pipeThrough(new EventSourceParserStream())\n          .getReader();\n\n        while (true) {\n          const x = await reader?.read();\n          if (x) {\n            const { done, value } = x;\n            if (done) {\n              console.info('done');\n              resetAnswer();\n              break;\n            }\n            try {\n              const val = JSON.parse(value?.data || '');\n              const d = val?.data;\n              if (typeof d !== 'boolean') {\n                console.info('data:', d);\n                setAnswer({\n                  ...d,\n                  conversationId: body?.conversation_id,\n                });\n              }\n            } catch (e) {\n              console.warn(e);\n            }\n          }\n        }\n        console.info('done?');\n        setDone(true);\n        resetAnswer();\n        return { data: await res, response };\n      } catch (e) {\n        setDone(true);\n        resetAnswer();\n\n        console.warn(e);\n      }\n    },\n    [url, resetAnswer],\n  );\n\n  return { send, answer, done, setDone, resetAnswer };\n};\n\nexport const useSpeechWithSse = (url: string = api.tts) => {\n  const read = useCallback(\n    async (body: any) => {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          [Authorization]: getAuthorization(),\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      });\n      try {\n        const res = await response.clone().json();\n        if (res?.code !== 0) {\n          message.error(res?.message);\n        }\n      } catch (error) {\n        console.warn(' ~ error:', error);\n      }\n      return response;\n    },\n    [url],\n  );\n\n  return { read };\n};\n\n//#region chat hooks\n\nexport const useScrollToBottom = (messages?: unknown) => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = useCallback(() => {\n    if (messages) {\n      ref.current?.scrollIntoView({ behavior: 'instant' });\n    }\n  }, [messages]); // If the message changes, scroll to the bottom\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [scrollToBottom]);\n\n  return ref;\n};\n\nexport const useHandleMessageInputChange = () => {\n  const [value, setValue] = useState('');\n\n  const handleInputChange: ChangeEventHandler<HTMLTextAreaElement> = (e) => {\n    const value = e.target.value;\n    const nextValue = value.replaceAll('\\\\n', '\\n').replaceAll('\\\\t', '\\t');\n    setValue(nextValue);\n  };\n\n  return {\n    handleInputChange,\n    value,\n    setValue,\n  };\n};\n\nexport const useSelectDerivedMessages = () => {\n  const [derivedMessages, setDerivedMessages] = useState<IMessage[]>([]);\n\n  const ref = useScrollToBottom(derivedMessages);\n\n  const addNewestQuestion = useCallback(\n    (message: Message, answer: string = '') => {\n      setDerivedMessages((pre) => {\n        return [\n          ...pre,\n          {\n            ...message,\n            id: buildMessageUuid(message), // The message id is generated on the front end,\n            // and the message id returned by the back end is the same as the question id,\n            //  so that the pair of messages can be deleted together when deleting the message\n          },\n          {\n            role: MessageType.Assistant,\n            content: answer,\n            id: buildMessageUuid({ ...message, role: MessageType.Assistant }),\n          },\n        ];\n      });\n    },\n    [],\n  );\n\n  // Add the streaming message to the last item in the message list\n  const addNewestAnswer = useCallback((answer: IAnswer) => {\n    setDerivedMessages((pre) => {\n      return [\n        ...(pre?.slice(0, -1) ?? []),\n        {\n          role: MessageType.Assistant,\n          content: answer.answer,\n          reference: answer.reference,\n          id: buildMessageUuid({\n            id: answer.id,\n            role: MessageType.Assistant,\n          }),\n          prompt: answer.prompt,\n          audio_binary: answer.audio_binary,\n          ...omit(answer, 'reference'),\n        },\n      ];\n    });\n  }, []);\n\n  const removeLatestMessage = useCallback(() => {\n    setDerivedMessages((pre) => {\n      const nextMessages = pre?.slice(0, -2) ?? [];\n      return nextMessages;\n    });\n  }, []);\n\n  const removeMessageById = useCallback(\n    (messageId: string) => {\n      setDerivedMessages((pre) => {\n        const nextMessages = pre?.filter((x) => x.id !== messageId) ?? [];\n        return nextMessages;\n      });\n    },\n    [setDerivedMessages],\n  );\n\n  const removeMessagesAfterCurrentMessage = useCallback(\n    (messageId: string) => {\n      setDerivedMessages((pre) => {\n        const index = pre.findIndex((x) => x.id === messageId);\n        if (index !== -1) {\n          let nextMessages = pre.slice(0, index + 2) ?? [];\n          const latestMessage = nextMessages.at(-1);\n          nextMessages = latestMessage\n            ? [\n                ...nextMessages.slice(0, -1),\n                {\n                  ...latestMessage,\n                  content: '',\n                  reference: undefined,\n                  prompt: undefined,\n                },\n              ]\n            : nextMessages;\n          return nextMessages;\n        }\n        return pre;\n      });\n    },\n    [setDerivedMessages],\n  );\n\n  return {\n    ref,\n    derivedMessages,\n    setDerivedMessages,\n    addNewestQuestion,\n    addNewestAnswer,\n    removeLatestMessage,\n    removeMessageById,\n    removeMessagesAfterCurrentMessage,\n  };\n};\n\nexport interface IRemoveMessageById {\n  removeMessageById(messageId: string): void;\n}\n\nexport const useRemoveMessagesAfterCurrentMessage = (\n  setCurrentConversation: (\n    callback: (state: IClientConversation) => IClientConversation,\n  ) => void,\n) => {\n  const removeMessagesAfterCurrentMessage = useCallback(\n    (messageId: string) => {\n      setCurrentConversation((pre) => {\n        const index = pre.message?.findIndex((x) => x.id === messageId);\n        if (index !== -1) {\n          let nextMessages = pre.message?.slice(0, index + 2) ?? [];\n          const latestMessage = nextMessages.at(-1);\n          nextMessages = latestMessage\n            ? [\n                ...nextMessages.slice(0, -1),\n                {\n                  ...latestMessage,\n                  content: '',\n                  reference: undefined,\n                  prompt: undefined,\n                },\n              ]\n            : nextMessages;\n          return {\n            ...pre,\n            message: nextMessages,\n          };\n        }\n        return pre;\n      });\n    },\n    [setCurrentConversation],\n  );\n\n  return { removeMessagesAfterCurrentMessage };\n};\n\nexport interface IRegenerateMessage {\n  regenerateMessage?: (message: Message) => void;\n}\n\nexport const useRegenerateMessage = ({\n  removeMessagesAfterCurrentMessage,\n  sendMessage,\n  messages,\n}: {\n  removeMessagesAfterCurrentMessage(messageId: string): void;\n  sendMessage({\n    message,\n  }: {\n    message: Message;\n    messages?: Message[];\n  }): void | Promise<any>;\n  messages: Message[];\n}) => {\n  const regenerateMessage = useCallback(\n    async (message: Message) => {\n      if (message.id) {\n        removeMessagesAfterCurrentMessage(message.id);\n        const index = messages.findIndex((x) => x.id === message.id);\n        let nextMessages;\n        if (index !== -1) {\n          nextMessages = messages.slice(0, index);\n        }\n        sendMessage({\n          message: { ...message, id: uuid() },\n          messages: nextMessages,\n        });\n      }\n    },\n    [removeMessagesAfterCurrentMessage, sendMessage, messages],\n  );\n\n  return { regenerateMessage };\n};\n\n// #endregion\n\n/**\n *\n * @param defaultId\n * used to switch between different items, similar to radio\n * @returns\n */\nexport const useSelectItem = (defaultId?: string) => {\n  const [selectedId, setSelectedId] = useState('');\n\n  const handleItemClick = useCallback(\n    (id: string) => () => {\n      setSelectedId(id);\n    },\n    [],\n  );\n\n  useEffect(() => {\n    if (defaultId) {\n      setSelectedId(defaultId);\n    }\n  }, [defaultId]);\n\n  return { selectedId, handleItemClick };\n};\n\nexport const useFetchModelId = () => {\n  const { data: tenantInfo } = useFetchTenantInfo(true);\n\n  return tenantInfo?.llm_id ?? '';\n};\n\nconst ChunkTokenNumMap = {\n  naive: 128,\n  knowledge_graph: 8192,\n};\n\nexport const useHandleChunkMethodSelectChange = (form: FormInstance) => {\n  // const form = Form.useFormInstance();\n  const handleChange = useCallback(\n    (value: string) => {\n      if (value in ChunkTokenNumMap) {\n        form.setFieldValue(\n          ['parser_config', 'chunk_token_num'],\n          ChunkTokenNumMap[value as keyof typeof ChunkTokenNumMap],\n        );\n      }\n    },\n    [form],\n  );\n\n  return handleChange;\n};\n\n// reset form fields when modal is form, closed\nexport const useResetFormOnCloseModal = ({\n  form,\n  visible,\n}: {\n  form: FormInstance;\n  visible?: boolean;\n}) => {\n  const prevOpenRef = useRef<boolean>();\n  useEffect(() => {\n    prevOpenRef.current = visible;\n  }, [visible]);\n  const prevOpen = prevOpenRef.current;\n\n  useEffect(() => {\n    if (!visible && prevOpen) {\n      form.resetFields();\n    }\n  }, [form, prevOpen, visible]);\n};\n","import {\n  KnowledgeRouteKey,\n  KnowledgeSearchParams,\n} from '@/constants/knowledge';\nimport { useCallback } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'umi';\n\nexport enum SegmentIndex {\n  Second = '2',\n  Third = '3',\n}\n\nexport const useSegmentedPathName = (index: SegmentIndex) => {\n  const { pathname } = useLocation();\n\n  const pathArray = pathname.split('/');\n  return pathArray[index] || '';\n};\n\nexport const useSecondPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Second);\n};\n\nexport const useThirdPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Third);\n};\n\nexport const useGetKnowledgeSearchParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    documentId:\n      currentQueryParameters.get(KnowledgeSearchParams.DocumentId) || '',\n    knowledgeId:\n      currentQueryParameters.get(KnowledgeSearchParams.KnowledgeId) || '',\n  };\n};\n\nexport const useNavigateWithFromState = () => {\n  const navigate = useNavigate();\n  return useCallback(\n    (path: string) => {\n      navigate(path, { state: { from: path } });\n    },\n    [navigate],\n  );\n};\n\nexport const useNavigateToDataset = () => {\n  const navigate = useNavigate();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  return useCallback(() => {\n    navigate(`/knowledge/${KnowledgeRouteKey.Dataset}?id=${knowledgeId}`);\n  }, [knowledgeId, navigate]);\n};\n\nexport const useGetPaginationParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    page: currentQueryParameters.get('page') || 1,\n    size: currentQueryParameters.get('size') || 10,\n  };\n};\n\nexport const useSetPaginationParams = () => {\n  const [queryParameters, setSearchParams] = useSearchParams();\n  // const newQueryParameters: URLSearchParams = useMemo(\n  //   () => new URLSearchParams(queryParameters.toString()),\n  //   [queryParameters],\n  // );\n\n  const setPaginationParams = useCallback(\n    (page: number = 1, pageSize?: number) => {\n      queryParameters.set('page', page.toString());\n      if (pageSize) {\n        queryParameters.set('size', pageSize.toString());\n      }\n      setSearchParams(queryParameters);\n    },\n    [setSearchParams, queryParameters],\n  );\n\n  return {\n    setPaginationParams,\n    page: Number(queryParameters.get('page')) || 1,\n    size: Number(queryParameters.get('size')) || 10,\n  };\n};\n","import { DocumentParserType } from '@/constants/knowledge';\nimport { useHandleChunkMethodSelectChange } from '@/hooks/logic-hooks';\nimport { useSelectParserList } from '@/hooks/user-setting-hooks';\nimport { FormInstance } from 'antd';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\n\nconst ParserListMap = new Map([\n  [\n    ['pdf'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Resume,\n      DocumentParserType.Manual,\n      DocumentParserType.Paper,\n      DocumentParserType.Book,\n      DocumentParserType.Laws,\n      DocumentParserType.Presentation,\n      DocumentParserType.One,\n      DocumentParserType.Qa,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [\n    ['doc', 'docx'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Resume,\n      DocumentParserType.Book,\n      DocumentParserType.Laws,\n      DocumentParserType.One,\n      DocumentParserType.Qa,\n      DocumentParserType.Manual,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [\n    ['xlsx', 'xls'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Qa,\n      DocumentParserType.Table,\n      DocumentParserType.One,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [['ppt', 'pptx'], [DocumentParserType.Presentation]],\n  [\n    ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'tif', 'tiff', 'webp', 'svg', 'ico'],\n    [DocumentParserType.Picture],\n  ],\n  [\n    ['txt'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Resume,\n      DocumentParserType.Book,\n      DocumentParserType.Laws,\n      DocumentParserType.One,\n      DocumentParserType.Qa,\n      DocumentParserType.Table,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [\n    ['csv'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Resume,\n      DocumentParserType.Book,\n      DocumentParserType.Laws,\n      DocumentParserType.One,\n      DocumentParserType.Qa,\n      DocumentParserType.Table,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [\n    ['md'],\n    [\n      DocumentParserType.Naive,\n      DocumentParserType.Qa,\n      DocumentParserType.KnowledgeGraph,\n    ],\n  ],\n  [['json'], [DocumentParserType.Naive, DocumentParserType.KnowledgeGraph]],\n  [['eml'], [DocumentParserType.Email]],\n]);\n\nconst getParserList = (\n  values: string[],\n  parserList: Array<{\n    value: string;\n    label: string;\n  }>,\n) => {\n  return parserList.filter((x) => values?.some((y) => y === x.value));\n};\n\nexport const useFetchParserListOnMount = (\n  documentId: string,\n  parserId: DocumentParserType,\n  documentExtension: string,\n  form: FormInstance,\n) => {\n  const [selectedTag, setSelectedTag] = useState<DocumentParserType>();\n  const parserList = useSelectParserList();\n  const handleChunkMethodSelectChange = useHandleChunkMethodSelectChange(form);\n\n  const nextParserList = useMemo(() => {\n    const key = [...ParserListMap.keys()].find((x) =>\n      x.some((y) => y === documentExtension),\n    );\n    if (key) {\n      const values = ParserListMap.get(key);\n      return getParserList(values ?? [], parserList);\n    }\n\n    return getParserList(\n      [\n        DocumentParserType.Naive,\n        DocumentParserType.Resume,\n        DocumentParserType.Book,\n        DocumentParserType.Laws,\n        DocumentParserType.One,\n        DocumentParserType.Qa,\n        DocumentParserType.Table,\n      ],\n      parserList,\n    );\n  }, [parserList, documentExtension]);\n\n  useEffect(() => {\n    setSelectedTag(parserId);\n  }, [parserId, documentId]);\n\n  const handleChange = (tag: string) => {\n    handleChunkMethodSelectChange(tag);\n    setSelectedTag(tag as DocumentParserType);\n  };\n\n  return { parserList: nextParserList, handleChange, selectedTag };\n};\n\nconst hideAutoKeywords = [\n  DocumentParserType.Qa,\n  DocumentParserType.Table,\n  DocumentParserType.Resume,\n  DocumentParserType.KnowledgeGraph,\n  DocumentParserType.Tag,\n];\n\nexport const useShowAutoKeywords = () => {\n  const showAutoKeywords = useCallback(\n    (selectedTag: DocumentParserType | undefined) => {\n      return hideAutoKeywords.every((x) => selectedTag !== x);\n    },\n    [],\n  );\n\n  return showAutoKeywords;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"pageInputNumber\":\"pageInputNumber___qm78X\",\"questionIcon\":\"questionIcon___d34w8\",\"chunkMethod\":\"chunkMethod___tcugG\"};","import MaxTokenNumber from '@/components/max-token-number';\nimport { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport {\n  MinusCircleOutlined,\n  PlusOutlined,\n  QuestionCircleOutlined,\n} from '@ant-design/icons';\nimport {\n  Button,\n  Divider,\n  Form,\n  InputNumber,\n  Modal,\n  Select,\n  Space,\n  Tooltip,\n} from 'antd';\nimport omit from 'lodash/omit';\nimport React, { useEffect, useMemo } from 'react';\nimport { useFetchParserListOnMount, useShowAutoKeywords } from './hooks';\n\nimport { DocumentParserType } from '@/constants/knowledge';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { IParserConfig } from '@/interfaces/database/document';\nimport { IChangeParserConfigRequestBody } from '@/interfaces/request/document';\nimport { AutoKeywordsItem, AutoQuestionsItem } from '../auto-keywords-item';\nimport { DatasetConfigurationContainer } from '../dataset-configuration-container';\nimport Delimiter from '../delimiter';\nimport EntityTypesItem from '../entity-types-item';\nimport ExcelToHtml from '../excel-to-html';\nimport LayoutRecognize from '../layout-recognize';\nimport ParseConfiguration, {\n  showRaptorParseConfiguration,\n} from '../parse-configuration';\nimport GraphRagItems, {\n  showGraphRagItems,\n} from '../parse-configuration/graph-rag-items';\nimport styles from './index.less';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  onOk: (\n    parserId: DocumentParserType | undefined,\n    parserConfig: IChangeParserConfigRequestBody,\n  ) => void;\n  showModal?(): void;\n  parserId: DocumentParserType;\n  parserConfig: IParserConfig;\n  documentExtension: string;\n  documentId: string;\n}\n\nconst hidePagesChunkMethods = [\n  DocumentParserType.Qa,\n  DocumentParserType.Table,\n  DocumentParserType.Picture,\n  DocumentParserType.Resume,\n  DocumentParserType.One,\n  DocumentParserType.KnowledgeGraph,\n];\n\nconst ChunkMethodModal: React.FC<IProps> = ({\n  documentId,\n  parserId,\n  onOk,\n  hideModal,\n  visible,\n  documentExtension,\n  parserConfig,\n  loading,\n}) => {\n  const [form] = Form.useForm();\n  const { parserList, handleChange, selectedTag } = useFetchParserListOnMount(\n    documentId,\n    parserId,\n    documentExtension,\n    form,\n  );\n  const { t } = useTranslate('knowledgeDetails');\n\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    const parser_config = {\n      ...values.parser_config,\n      pages: values.pages?.map((x: any) => [x.from, x.to]) ?? [],\n    };\n    onOk(selectedTag, parser_config);\n  };\n\n  const isPdf = documentExtension === 'pdf';\n\n  const showPages = useMemo(() => {\n    return isPdf && hidePagesChunkMethods.every((x) => x !== selectedTag);\n  }, [selectedTag, isPdf]);\n\n  const showOne = useMemo(() => {\n    return (\n      isPdf &&\n      hidePagesChunkMethods\n        .filter((x) => x !== DocumentParserType.One)\n        .every((x) => x !== selectedTag)\n    );\n  }, [selectedTag, isPdf]);\n\n  const showMaxTokenNumber =\n    selectedTag === DocumentParserType.Naive ||\n    selectedTag === DocumentParserType.KnowledgeGraph;\n\n  const showEntityTypes = selectedTag === DocumentParserType.KnowledgeGraph;\n\n  const showExcelToHtml =\n    selectedTag === DocumentParserType.Naive && documentExtension === 'xlsx';\n\n  const showAutoKeywords = useShowAutoKeywords();\n\n  const afterClose = () => {\n    form.resetFields();\n  };\n\n  useEffect(() => {\n    if (visible) {\n      const pages =\n        parserConfig?.pages?.map((x) => ({ from: x[0], to: x[1] })) ?? [];\n      form.setFieldsValue({\n        pages: pages.length > 0 ? pages : [{ from: 1, to: 1024 }],\n        parser_config: omit(parserConfig, 'pages'),\n      });\n    }\n  }, [form, parserConfig, visible]);\n\n  return (\n    <Modal\n      title={t('chunkMethod')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n      afterClose={afterClose}\n      confirmLoading={loading}\n      width={700}\n    >\n      <Space size={[0, 8]} wrap>\n        <Form.Item label={t('chunkMethod')} className={styles.chunkMethod}>\n          <Select\n            style={{ width: 160 }}\n            onChange={handleChange}\n            value={selectedTag}\n            options={parserList}\n          />\n        </Form.Item>\n      </Space>\n      <Divider></Divider>\n      <Form\n        name=\"dynamic_form_nest_item\"\n        autoComplete=\"off\"\n        form={form}\n        className=\"space-y-4\"\n      >\n        {showPages && (\n          <>\n            <Space>\n              <p>{t('pageRanges')}:</p>\n              <Tooltip title={t('pageRangesTip')}>\n                <QuestionCircleOutlined\n                  className={styles.questionIcon}\n                ></QuestionCircleOutlined>\n              </Tooltip>\n            </Space>\n            <Form.List name=\"pages\">\n              {(fields, { add, remove }) => (\n                <>\n                  {fields.map(({ key, name, ...restField }) => (\n                    <Space\n                      key={key}\n                      style={{\n                        display: 'flex',\n                      }}\n                      align=\"baseline\"\n                    >\n                      <Form.Item\n                        {...restField}\n                        name={[name, 'from']}\n                        dependencies={name > 0 ? [name - 1, 'to'] : []}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('fromMessage'),\n                          },\n                          ({ getFieldValue }) => ({\n                            validator(_, value) {\n                              if (\n                                name === 0 ||\n                                !value ||\n                                getFieldValue(['pages', name - 1, 'to']) < value\n                              ) {\n                                return Promise.resolve();\n                              }\n                              return Promise.reject(\n                                new Error(t('greaterThanPrevious')),\n                              );\n                            },\n                          }),\n                        ]}\n                      >\n                        <InputNumber\n                          placeholder={t('fromPlaceholder')}\n                          min={0}\n                          precision={0}\n                          className={styles.pageInputNumber}\n                        />\n                      </Form.Item>\n                      <Form.Item\n                        {...restField}\n                        name={[name, 'to']}\n                        dependencies={[name, 'from']}\n                        rules={[\n                          {\n                            required: true,\n                            message: t('toMessage'),\n                          },\n                          ({ getFieldValue }) => ({\n                            validator(_, value) {\n                              if (\n                                !value ||\n                                getFieldValue(['pages', name, 'from']) < value\n                              ) {\n                                return Promise.resolve();\n                              }\n                              return Promise.reject(\n                                new Error(t('greaterThan')),\n                              );\n                            },\n                          }),\n                        ]}\n                      >\n                        <InputNumber\n                          placeholder={t('toPlaceholder')}\n                          min={0}\n                          precision={0}\n                          className={styles.pageInputNumber}\n                        />\n                      </Form.Item>\n                      {name > 0 && (\n                        <MinusCircleOutlined onClick={() => remove(name)} />\n                      )}\n                    </Space>\n                  ))}\n                  <Form.Item>\n                    <Button\n                      type=\"dashed\"\n                      onClick={() => add()}\n                      block\n                      icon={<PlusOutlined />}\n                    >\n                      {t('addPage')}\n                    </Button>\n                  </Form.Item>\n                </>\n              )}\n            </Form.List>\n          </>\n        )}\n\n        {showPages && (\n          <Form.Item\n            noStyle\n            dependencies={[['parser_config', 'layout_recognize']]}\n          >\n            {({ getFieldValue }) =>\n              getFieldValue(['parser_config', 'layout_recognize']) && (\n                <Form.Item\n                  name={['parser_config', 'task_page_size']}\n                  label={t('taskPageSize')}\n                  tooltip={t('taskPageSizeTip')}\n                  initialValue={12}\n                  rules={[\n                    {\n                      required: true,\n                      message: t('taskPageSizeMessage'),\n                    },\n                  ]}\n                >\n                  <InputNumber min={1} max={128} />\n                </Form.Item>\n              )\n            }\n          </Form.Item>\n        )}\n        <DatasetConfigurationContainer show={showOne || showMaxTokenNumber}>\n          {showOne && <LayoutRecognize></LayoutRecognize>}\n          {showMaxTokenNumber && (\n            <>\n              <MaxTokenNumber\n                max={\n                  selectedTag === DocumentParserType.KnowledgeGraph\n                    ? 8192 * 2\n                    : 2048\n                }\n              ></MaxTokenNumber>\n              <Delimiter></Delimiter>\n            </>\n          )}\n        </DatasetConfigurationContainer>\n        <DatasetConfigurationContainer\n          show={showAutoKeywords(selectedTag) || showExcelToHtml}\n        >\n          {showAutoKeywords(selectedTag) && (\n            <>\n              <AutoKeywordsItem></AutoKeywordsItem>\n              <AutoQuestionsItem></AutoQuestionsItem>\n            </>\n          )}\n          {showExcelToHtml && <ExcelToHtml></ExcelToHtml>}\n        </DatasetConfigurationContainer>\n        {showRaptorParseConfiguration(selectedTag) && (\n          <DatasetConfigurationContainer>\n            <ParseConfiguration></ParseConfiguration>\n          </DatasetConfigurationContainer>\n        )}\n        {showGraphRagItems(selectedTag) && <GraphRagItems></GraphRagItems>}\n        {showEntityTypes && <EntityTypesItem></EntityTypesItem>}\n      </Form>\n    </Modal>\n  );\n};\nexport default ChunkMethodModal;\n","import { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport { Form, Input, Modal } from 'antd';\nimport React from 'react';\n\ntype FieldType = {\n  name?: string;\n};\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  onOk: (name: string) => void;\n  showModal?(): void;\n}\n\nconst FileCreatingModal: React.FC<IProps> = ({ visible, hideModal, onOk }) => {\n  const [form] = Form.useForm();\n\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    onOk(values.name);\n  };\n\n  return (\n    <Modal\n      title=\"File Name\"\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n    >\n      <Form\n        form={form}\n        name=\"validateOnly\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        autoComplete=\"off\"\n      >\n        <Form.Item<FieldType>\n          label=\"File Name\"\n          name=\"name\"\n          rules={[{ required: true, message: 'Please input name!' }]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\nexport default FileCreatingModal;\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgCancel = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 22, height: 22, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M.5 11C.5 5.201 5.201.5 11 .5S21.5 5.201 21.5 11 16.799 21.5 11 21.5.5 16.799.5 11Z\", fill: \"#FEF3F2\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M.5 11C.5 5.201 5.201.5 11 .5S21.5 5.201 21.5 11 16.799 21.5 11 21.5.5 16.799.5 11Z\", stroke: \"#FECDCA\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"m14 8-6 6m0-6 6 6\", stroke: \"#F04438\", strokeWidth: 1.5, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgCancel as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTS41IDExQy41IDUuMjAxIDUuMjAxLjUgMTEgLjVTMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjUuNSAxNi43OTkuNSAxMVoiIGZpbGw9IiNGRUYzRjIiLz48cGF0aCBkPSJNLjUgMTFDLjUgNS4yMDEgNS4yMDEuNSAxMSAuNVMyMS41IDUuMjAxIDIxLjUgMTEgMTYuNzk5IDIxLjUgMTEgMjEuNS41IDE2Ljc5OS41IDExWiIgc3Ryb2tlPSIjRkVDRENBIi8+PHBhdGggZD0ibTE0IDgtNiA2bTAtNiA2IDYiIHN0cm9rZT0iI0YwNDQzOCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgDelete = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 20, height: 20, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M13.333 5v-.667c0-.933 0-1.4-.181-1.756a1.667 1.667 0 0 0-.729-.729c-.356-.181-.823-.181-1.756-.181H9.333c-.933 0-1.4 0-1.756.181-.314.16-.569.415-.729.729-.181.356-.181.823-.181 1.756V5m1.666 4.583v4.167m3.334-4.167v4.167M2.5 5h15m-1.667 0v9.333c0 1.4 0 2.1-.272 2.635a2.5 2.5 0 0 1-1.093 1.093c-.534.272-1.235.272-2.635.272H8.167c-1.4 0-2.1 0-2.635-.272a2.5 2.5 0 0 1-1.093-1.093c-.272-.534-.272-1.235-.272-2.635V5\", stroke: \"#667085\", strokeWidth: 1.667, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgDelete as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEzLjMzMyA1di0uNjY3YzAtLjkzMyAwLTEuNC0uMTgxLTEuNzU2YTEuNjY3IDEuNjY3IDAgMCAwLS43MjktLjcyOWMtLjM1Ni0uMTgxLS44MjMtLjE4MS0xLjc1Ni0uMTgxSDkuMzMzYy0uOTMzIDAtMS40IDAtMS43NTYuMTgxLS4zMTQuMTYtLjU2OS40MTUtLjcyOS43MjktLjE4MS4zNTYtLjE4MS44MjMtLjE4MSAxLjc1NlY1bTEuNjY2IDQuNTgzdjQuMTY3bTMuMzM0LTQuMTY3djQuMTY3TTIuNSA1aDE1bS0xLjY2NyAwdjkuMzMzYzAgMS40IDAgMi4xLS4yNzIgMi42MzVhMi41IDIuNSAwIDAgMS0xLjA5MyAxLjA5M2MtLjUzNC4yNzItMS4yMzUuMjcyLTIuNjM1LjI3Mkg4LjE2N2MtMS40IDAtMi4xIDAtMi42MzUtLjI3MmEyLjUgMi41IDAgMCAxLTEuMDkzLTEuMDkzYy0uMjcyLS41MzQtLjI3Mi0xLjIzNS0uMjcyLTIuNjM1VjUiIHN0cm9rZT0iIzY2NzA4NSIgc3Ryb2tlLXdpZHRoPSIxLjY2NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgDisable = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ className: \"disable_svg__icon\", viewBox: \"0 0 1024 1024\", xmlns: \"http://www.w3.org/2000/svg\", width: 22, height: 22 }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M222.635 272.299A382.4 382.4 0 0 0 138.667 512c0 212.117 171.904 384 384 384 90.666 0 174.016-31.424 239.701-83.968L222.635 272.299zm60.33-60.331L822.7 751.701A382.4 382.4 0 0 0 906.667 512c0-212.117-171.904-384-384-384-90.667 0-174.016 31.424-239.702 83.968zM53.333 512c0-259.221 210.091-469.333 469.334-469.333C781.888 42.667 992 252.757 992 512c0 259.221-210.09 469.333-469.333 469.333-259.222 0-469.334-210.09-469.334-469.333z\", fill: \"#F04438\" }));\nexport { SvgDisable as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjxwYXRoIGQ9Ik0yMjIuNjM1IDI3Mi4yOTlBMzgyLjQgMzgyLjQgMCAwIDAgMTM4LjY2NyA1MTJjMCAyMTIuMTE3IDE3MS45MDQgMzg0IDM4NCAzODQgOTAuNjY2IDAgMTc0LjAxNi0zMS40MjQgMjM5LjcwMS04My45NjhMMjIyLjYzNSAyNzIuMjk5em02MC4zMy02MC4zMzFMODIyLjcgNzUxLjcwMUEzODIuNCAzODIuNCAwIDAgMCA5MDYuNjY3IDUxMmMwLTIxMi4xMTctMTcxLjkwNC0zODQtMzg0LTM4NC05MC42NjcgMC0xNzQuMDE2IDMxLjQyNC0yMzkuNzAyIDgzLjk2OHpNNTMuMzMzIDUxMmMwLTI1OS4yMjEgMjEwLjA5MS00NjkuMzMzIDQ2OS4zMzQtNDY5LjMzM0M3ODEuODg4IDQyLjY2NyA5OTIgMjUyLjc1NyA5OTIgNTEyYzAgMjU5LjIyMS0yMTAuMDkgNDY5LjMzMy00NjkuMzMzIDQ2OS4zMzMtMjU5LjIyMiAwLTQ2OS4zMzQtMjEwLjA5LTQ2OS4zMzQtNDY5LjMzM3oiIGZpbGw9IiNGMDQ0MzgiLz48L3N2Zz4=\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgEnable = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ className: \"enable_svg__icon\", viewBox: \"0 0 1024 1024\", xmlns: \"http://www.w3.org/2000/svg\", width: 22, height: 22 }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M512 0a512 512 0 1 0 0 1024A512 512 0 0 0 512 0zm0 990.2a438.2 438.2 0 1 1 0-956.4 438.2 438.2 0 0 1 0 956.4z\", fill: \"#abefc6\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M448.1 584.3 322.4 458.6l-78.9 78.9L449.1 743h.1l.5.5 325.9-325.9-80.4-80.4z\", fill: \"#17b26a\" }));\nexport { SvgEnable as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjxwYXRoIGQ9Ik01MTIgMGE1MTIgNTEyIDAgMSAwIDAgMTAyNEE1MTIgNTEyIDAgMCAwIDUxMiAwem0wIDk5MC4yYTQzOC4yIDQzOC4yIDAgMSAxIDAtOTU2LjQgNDM4LjIgNDM4LjIgMCAwIDEgMCA5NTYuNHoiIGZpbGw9IiNhYmVmYzYiLz48cGF0aCBkPSJNNDQ4LjEgNTg0LjMgMzIyLjQgNDU4LjZsLTc4LjkgNzguOUw0NDkuMSA3NDNoLjFsLjUuNSAzMjUuOS0zMjUuOS04MC40LTgwLjR6IiBmaWxsPSIjMTdiMjZhIi8+PC9zdmc+\";\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgRun = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 22, height: 22, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M11 21.5C5.201 21.5.5 16.799.5 11S5.201.5 11 .5 21.5 5.201 21.5 11 16.799 21.5 11 21.5Z\", fill: \"#ECFDF3\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M11 21.5C5.201 21.5.5 16.799.5 11S5.201.5 11 .5 21.5 5.201 21.5 11 16.799 21.5 11 21.5Z\", stroke: \"#ABEFC6\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M7.5 7.495c0-.486 0-.729.101-.862a.5.5 0 0 1 .37-.198c.167-.01.369.125.773.394l5.258 3.505c.333.223.5.334.558.475a.5.5 0 0 1 0 .383c-.058.14-.225.251-.559.474L8.745 15.17c-.404.27-.606.404-.774.394a.5.5 0 0 1-.369-.198c-.101-.133-.101-.376-.101-.862v-7.01Z\", stroke: \"#17B26A\", strokeWidth: 1.5, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgRun as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExIDIxLjVDNS4yMDEgMjEuNS41IDE2Ljc5OS41IDExUzUuMjAxLjUgMTEgLjUgMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjVaIiBmaWxsPSIjRUNGREYzIi8+PHBhdGggZD0iTTExIDIxLjVDNS4yMDEgMjEuNS41IDE2Ljc5OS41IDExUzUuMjAxLjUgMTEgLjUgMjEuNSA1LjIwMSAyMS41IDExIDE2Ljc5OSAyMS41IDExIDIxLjVaIiBzdHJva2U9IiNBQkVGQzYiLz48cGF0aCBkPSJNNy41IDcuNDk1YzAtLjQ4NiAwLS43MjkuMTAxLS44NjJhLjUuNSAwIDAgMSAuMzctLjE5OGMuMTY3LS4wMS4zNjkuMTI1Ljc3My4zOTRsNS4yNTggMy41MDVjLjMzMy4yMjMuNS4zMzQuNTU4LjQ3NWEuNS41IDAgMCAxIDAgLjM4M2MtLjA1OC4xNC0uMjI1LjI1MS0uNTU5LjQ3NEw4Ljc0NSAxNS4xN2MtLjQwNC4yNy0uNjA2LjQwNC0uNzc0LjM5NGEuNS41IDAgMCAxLS4zNjktLjE5OGMtLjEwMS0uMTMzLS4xMDEtLjM3Ni0uMTAxLS44NjJ2LTcuMDFaIiBzdHJva2U9IiMxN0IyNkEiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4=\";\n","// extracted by mini-css-extract-plugin\nexport default {\"datasetWrapper\":\"datasetWrapper___q27L3\",\"filter\":\"filter___ETTRo\",\"deleteIconWrapper\":\"deleteIconWrapper___DKg5C\",\"img\":\"img___JlbZB\",\"column\":\"column___fvjI4\",\"toChunks\":\"toChunks___LX_Ow\",\"pageInputNumber\":\"pageInputNumber___hsRez\",\"questionIcon\":\"questionIcon___JX1Gh\",\"nameText\":\"nameText___Fvf8C\"};","import { ReactComponent as CancelIcon } from '@/assets/svg/cancel.svg';\nimport { ReactComponent as DeleteIcon } from '@/assets/svg/delete.svg';\nimport { ReactComponent as DisableIcon } from '@/assets/svg/disable.svg';\nimport { ReactComponent as EnableIcon } from '@/assets/svg/enable.svg';\nimport { ReactComponent as RunIcon } from '@/assets/svg/run.svg';\nimport { useShowDeleteConfirm, useTranslate } from '@/hooks/common-hooks';\nimport {\n  useRemoveNextDocument,\n  useRunNextDocument,\n  useSetNextDocumentStatus,\n} from '@/hooks/document-hooks';\nimport {\n  DownOutlined,\n  FileOutlined,\n  FileTextOutlined,\n  PlusOutlined,\n  SearchOutlined,\n} from '@ant-design/icons';\nimport { Button, Dropdown, Flex, Input, MenuProps, Space } from 'antd';\nimport { useCallback, useMemo } from 'react';\n\nimport styles from './index.less';\n\ninterface IProps {\n  selectedRowKeys: string[];\n  showCreateModal(): void;\n  showWebCrawlModal(): void;\n  showDocumentUploadModal(): void;\n  searchString: string;\n  handleInputChange: React.ChangeEventHandler<HTMLInputElement>;\n}\n\nconst DocumentToolbar = ({\n  searchString,\n  selectedRowKeys,\n  showCreateModal,\n  showDocumentUploadModal,\n  handleInputChange,\n}: IProps) => {\n  const { t } = useTranslate('knowledgeDetails');\n  const { removeDocument } = useRemoveNextDocument();\n  const showDeleteConfirm = useShowDeleteConfirm();\n  const { runDocumentByIds } = useRunNextDocument();\n  const { setDocumentStatus } = useSetNextDocumentStatus();\n\n  const actionItems: MenuProps['items'] = useMemo(() => {\n    return [\n      {\n        key: '1',\n        onClick: showDocumentUploadModal,\n        label: (\n          <div>\n            <Button type=\"link\">\n              <Space>\n                <FileTextOutlined />\n                {t('localFiles')}\n              </Space>\n            </Button>\n          </div>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '3',\n        onClick: showCreateModal,\n        label: (\n          <div>\n            <Button type=\"link\">\n              <FileOutlined />\n              {t('emptyFiles')}\n            </Button>\n          </div>\n        ),\n      },\n    ];\n  }, [showDocumentUploadModal, showCreateModal, t]);\n\n  const handleDelete = useCallback(() => {\n    showDeleteConfirm({\n      onOk: () => {\n        removeDocument(selectedRowKeys);\n      },\n    });\n  }, [removeDocument, showDeleteConfirm, selectedRowKeys]);\n\n  const runDocument = useCallback(\n    (run: number) => {\n      runDocumentByIds({\n        documentIds: selectedRowKeys,\n        run,\n      });\n    },\n    [runDocumentByIds, selectedRowKeys],\n  );\n\n  const handleRunClick = useCallback(() => {\n    runDocument(1);\n  }, [runDocument]);\n\n  const handleCancelClick = useCallback(() => {\n    runDocument(2);\n  }, [runDocument]);\n\n  const onChangeStatus = useCallback(\n    (enabled: boolean) => {\n      selectedRowKeys.forEach((id) => {\n        setDocumentStatus({ status: enabled, documentId: id });\n      });\n    },\n    [selectedRowKeys, setDocumentStatus],\n  );\n\n  const handleEnableClick = useCallback(() => {\n    onChangeStatus(true);\n  }, [onChangeStatus]);\n\n  const handleDisableClick = useCallback(() => {\n    onChangeStatus(false);\n  }, [onChangeStatus]);\n\n  const disabled = selectedRowKeys.length === 0;\n\n  const items: MenuProps['items'] = useMemo(() => {\n    return [\n      {\n        key: '0',\n        onClick: handleEnableClick,\n        label: (\n          <Flex gap={10}>\n            <EnableIcon></EnableIcon>\n            <b>{t('enabled')}</b>\n          </Flex>\n        ),\n      },\n      {\n        key: '1',\n        onClick: handleDisableClick,\n        label: (\n          <Flex gap={10}>\n            <DisableIcon></DisableIcon>\n            <b>{t('disabled')}</b>\n          </Flex>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '2',\n        onClick: handleRunClick,\n        label: (\n          <Flex gap={10}>\n            <RunIcon></RunIcon>\n            <b>{t('run')}</b>\n          </Flex>\n        ),\n      },\n      {\n        key: '3',\n        onClick: handleCancelClick,\n        label: (\n          <Flex gap={10}>\n            <CancelIcon />\n            <b>{t('cancel')}</b>\n          </Flex>\n        ),\n      },\n      { type: 'divider' },\n      {\n        key: '4',\n        onClick: handleDelete,\n        label: (\n          <Flex gap={10}>\n            <span className={styles.deleteIconWrapper}>\n              <DeleteIcon width={18} />\n            </span>\n            <b>{t('delete', { keyPrefix: 'common' })}</b>\n          </Flex>\n        ),\n      },\n    ];\n  }, [\n    handleDelete,\n    handleRunClick,\n    handleCancelClick,\n    t,\n    handleDisableClick,\n    handleEnableClick,\n  ]);\n\n  return (\n    <div className={styles.filter}>\n      <Dropdown\n        menu={{ items }}\n        placement=\"bottom\"\n        arrow={false}\n        disabled={disabled}\n      >\n        <Button>\n          <Space>\n            <b> {t('bulk')}</b>\n            <DownOutlined />\n          </Space>\n        </Button>\n      </Dropdown>\n      <Space>\n        <Input\n          placeholder={t('searchFiles')}\n          value={searchString}\n          style={{ width: 220 }}\n          allowClear\n          onChange={handleInputChange}\n          prefix={<SearchOutlined />}\n        />\n\n        <Dropdown menu={{ items: actionItems }} trigger={['click']}>\n          <Button type=\"primary\" icon={<PlusOutlined />}>\n            {t('addFile')}\n          </Button>\n        </Dropdown>\n      </Space>\n    </div>\n  );\n};\n\nexport default DocumentToolbar;\n","import { RunningStatus } from '@/constants/knowledge';\n\nexport const RunningStatusMap = {\n  [RunningStatus.UNSTART]: {\n    label: 'UNSTART',\n    color: 'cyan',\n  },\n  [RunningStatus.RUNNING]: {\n    label: 'Parsing',\n    color: 'blue',\n  },\n  [RunningStatus.CANCEL]: { label: 'CANCEL', color: 'orange' },\n  [RunningStatus.DONE]: { label: 'SUCCESS', color: 'geekblue' },\n  [RunningStatus.FAIL]: { label: 'FAIL', color: 'red' },\n};\n\nexport * from '@/constants/knowledge';\n","import { RunningStatus } from './constant';\n\nexport const isParserRunning = (text: RunningStatus) => {\n  const isRunning = text === RunningStatus.RUNNING;\n  return isRunning;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"iconButton\":\"iconButton___btHnB\"};","import { useShowDeleteConfirm, useTranslate } from '@/hooks/common-hooks';\nimport { useRemoveNextDocument } from '@/hooks/document-hooks';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport { downloadDocument } from '@/utils/file-util';\nimport {\n  DeleteOutlined,\n  DownloadOutlined,\n  EditOutlined,\n  ToolOutlined,\n} from '@ant-design/icons';\nimport { Button, Dropdown, MenuProps, Space, Tooltip } from 'antd';\nimport { isParserRunning } from '../utils';\n\nimport { useCallback } from 'react';\nimport { DocumentType } from '../constant';\nimport styles from './index.less';\n\ninterface IProps {\n  record: IDocumentInfo;\n  setCurrentRecord: (record: IDocumentInfo) => void;\n  showRenameModal: () => void;\n  showChangeParserModal: () => void;\n  showSetMetaModal: () => void;\n}\n\nconst ParsingActionCell = ({\n  record,\n  setCurrentRecord,\n  showRenameModal,\n  showChangeParserModal,\n  showSetMetaModal,\n}: IProps) => {\n  const documentId = record.id;\n  const isRunning = isParserRunning(record.run);\n  const { t } = useTranslate('knowledgeDetails');\n  const { removeDocument } = useRemoveNextDocument();\n  const showDeleteConfirm = useShowDeleteConfirm();\n  const isVirtualDocument = record.type === DocumentType.Virtual;\n\n  const onRmDocument = () => {\n    if (!isRunning) {\n      showDeleteConfirm({\n        onOk: () => removeDocument([documentId]),\n        content: record?.parser_config?.graphrag?.use_graphrag\n          ? t('deleteDocumentConfirmContent')\n          : '',\n      });\n    }\n  };\n\n  const onDownloadDocument = () => {\n    downloadDocument({\n      id: documentId,\n      filename: record.name,\n    });\n  };\n\n  const setRecord = useCallback(() => {\n    setCurrentRecord(record);\n  }, [record, setCurrentRecord]);\n\n  const onShowRenameModal = () => {\n    setRecord();\n    showRenameModal();\n  };\n  const onShowChangeParserModal = () => {\n    setRecord();\n    showChangeParserModal();\n  };\n\n  const onShowSetMetaModal = useCallback(() => {\n    setRecord();\n    showSetMetaModal();\n  }, [setRecord, showSetMetaModal]);\n\n  const chunkItems: MenuProps['items'] = [\n    {\n      key: '1',\n      label: (\n        <div className=\"flex flex-col\">\n          <Button type=\"link\" onClick={onShowChangeParserModal}>\n            {t('chunkMethod')}\n          </Button>\n        </div>\n      ),\n    },\n    { type: 'divider' },\n    {\n      key: '2',\n      label: (\n        <div className=\"flex flex-col\">\n          <Button type=\"link\" onClick={onShowSetMetaModal}>\n            {t('setMetaData')}\n          </Button>\n        </div>\n      ),\n    },\n  ];\n\n  return (\n    <Space size={0}>\n      {isVirtualDocument || (\n        <Dropdown\n          menu={{ items: chunkItems }}\n          trigger={['click']}\n          disabled={isRunning || record.parser_id === 'tag'}\n        >\n          <Button type=\"text\" className={styles.iconButton}>\n            <ToolOutlined size={20} />\n          </Button>\n        </Dropdown>\n      )}\n      <Tooltip title={t('rename', { keyPrefix: 'common' })}>\n        <Button\n          type=\"text\"\n          disabled={isRunning}\n          onClick={onShowRenameModal}\n          className={styles.iconButton}\n        >\n          <EditOutlined size={20} />\n        </Button>\n      </Tooltip>\n      <Tooltip title={t('delete', { keyPrefix: 'common' })}>\n        <Button\n          type=\"text\"\n          disabled={isRunning}\n          onClick={onRmDocument}\n          className={styles.iconButton}\n        >\n          <DeleteOutlined size={20} />\n        </Button>\n      </Tooltip>\n      {isVirtualDocument || (\n        <Tooltip title={t('download', { keyPrefix: 'common' })}>\n          <Button\n            type=\"text\"\n            disabled={isRunning}\n            onClick={onDownloadDocument}\n            className={styles.iconButton}\n          >\n            <DownloadOutlined size={20} />\n          </Button>\n        </Tooltip>\n      )}\n    </Space>\n  );\n};\n\nexport default ParsingActionCell;\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nimport * as React from \"react\";\nconst SvgRefresh = (props) => /* @__PURE__ */ React.createElement(\"svg\", __spreadValues({ width: 20, height: 20, fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props), /* @__PURE__ */ React.createElement(\"path\", { d: \"M14.167 4.271A7.083 7.083 0 0 1 10 17.083h-.417m-3.75-1.354A7.083 7.083 0 0 1 10 2.917h.417m.416 15.75L9.167 17l1.666-1.667M9.167 4.667 10.833 3 9.167 1.333\", stroke: \"#17B26A\", strokeWidth: 1.667, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport { SvgRefresh as ReactComponent };\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjE2NyA0LjI3MUE3LjA4MyA3LjA4MyAwIDAgMSAxMCAxNy4wODNoLS40MTdtLTMuNzUtMS4zNTRBNy4wODMgNy4wODMgMCAwIDEgMTAgMi45MTdoLjQxN20uNDE2IDE1Ljc1TDkuMTY3IDE3bDEuNjY2LTEuNjY3TTkuMTY3IDQuNjY3IDEwLjgzMyAzIDkuMTY3IDEuMzMzIiBzdHJva2U9IiMxN0IyNkEiIHN0cm9rZS13aWR0aD0iMS42NjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==\";\n","// extracted by mini-css-extract-plugin\nexport default {\"popoverContent\":\"popoverContent___Y8ZAO\",\"popoverContentItem\":\"popoverContentItem___Q3slq\",\"popoverContentText\":\"popoverContentText___nUr7b\",\"popoverContentErrorLabel\":\"popoverContentErrorLabel___vthqR\",\"operationIcon\":\"operationIcon___PnxaJ\",\"operationIconSpin\":\"operationIconSpin___Pf25W\",\"spin\":\"spin___POEkq\"};","import { ReactComponent as CancelIcon } from '@/assets/svg/cancel.svg';\nimport { ReactComponent as RefreshIcon } from '@/assets/svg/refresh.svg';\nimport { ReactComponent as RunIcon } from '@/assets/svg/run.svg';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport {\n  Badge,\n  DescriptionsProps,\n  Flex,\n  Popconfirm,\n  Popover,\n  Space,\n  Tag,\n} from 'antd';\nimport classNames from 'classnames';\nimport { useTranslation } from 'react-i18next';\nimport reactStringReplace from 'react-string-replace';\nimport { DocumentType, RunningStatus, RunningStatusMap } from '../constant';\nimport { useHandleRunDocumentByIds } from '../hooks';\nimport { isParserRunning } from '../utils';\nimport styles from './index.less';\n\nconst iconMap = {\n  [RunningStatus.UNSTART]: RunIcon,\n  [RunningStatus.RUNNING]: CancelIcon,\n  [RunningStatus.CANCEL]: RefreshIcon,\n  [RunningStatus.DONE]: RefreshIcon,\n  [RunningStatus.FAIL]: RefreshIcon,\n};\n\ninterface IProps {\n  record: IDocumentInfo;\n}\n\nconst PopoverContent = ({ record }: IProps) => {\n  const { t } = useTranslate('knowledgeDetails');\n\n  const replaceText = (text: string) => {\n    // Remove duplicate \\n\n    const nextText = text.replace(/(\\n)\\1+/g, '$1');\n\n    const replacedText = reactStringReplace(\n      nextText,\n      /(\\[ERROR\\].+\\s)/g,\n      (match, i) => {\n        return (\n          <span key={i} className={styles.popoverContentErrorLabel}>\n            {match}\n          </span>\n        );\n      },\n    );\n\n    return replacedText;\n  };\n\n  const items: DescriptionsProps['items'] = [\n    {\n      key: 'process_begin_at',\n      label: t('processBeginAt'),\n      children: record.process_begin_at,\n    },\n    {\n      key: 'process_duation',\n      label: t('processDuration'),\n      children: `${record.process_duation.toFixed(2)} s`,\n    },\n    {\n      key: 'progress_msg',\n      label: t('progressMsg'),\n      children: replaceText(record.progress_msg.trim()),\n    },\n  ];\n\n  return (\n    <Flex vertical className={styles.popoverContent}>\n      {items.map((x, idx) => {\n        return (\n          <div key={x.key} className={idx < 2 ? styles.popoverContentItem : ''}>\n            <b>{x.label}:</b>\n            <div className={styles.popoverContentText}>{x.children}</div>\n          </div>\n        );\n      })}\n    </Flex>\n  );\n};\n\nexport const ParsingStatusCell = ({ record }: IProps) => {\n  const text = record.run;\n  const runningStatus = RunningStatusMap[text];\n  const { t } = useTranslation();\n  const { handleRunDocumentByIds, loading } = useHandleRunDocumentByIds(\n    record.id,\n  );\n\n  const isRunning = isParserRunning(text);\n\n  const OperationIcon = iconMap[text];\n\n  const label = t(`knowledgeDetails.runningStatus${text}`);\n\n  const handleOperationIconClick =\n    (shouldDelete: boolean = false) =>\n    () => {\n      handleRunDocumentByIds(record.id, isRunning, shouldDelete);\n    };\n\n  return record.type === DocumentType.Virtual ? null : (\n    <Flex justify={'space-between'} align=\"center\">\n      <Popover content={<PopoverContent record={record}></PopoverContent>}>\n        <Tag color={runningStatus.color}>\n          {isRunning ? (\n            <Space>\n              <Badge color={runningStatus.color} />\n              {label}\n              <span>{(record.progress * 100).toFixed(2)}%</span>\n            </Space>\n          ) : (\n            label\n          )}\n        </Tag>\n      </Popover>\n      <Popconfirm\n        title={t(`knowledgeDetails.redo`, { chunkNum: record.chunk_num })}\n        onConfirm={handleOperationIconClick(true)}\n        onCancel={handleOperationIconClick(false)}\n        disabled={record.chunk_num === 0}\n        okText={t('common.ok')}\n        cancelText={t('common.cancel')}\n      >\n        <div\n          className={classNames(styles.operationIcon, {\n            [styles.operationIconSpin]: loading,\n          })}\n          onClick={\n            record.chunk_num === 0 ? handleOperationIconClick(false) : () => {}\n          }\n        >\n          <OperationIcon />\n        </div>\n      </Popconfirm>\n    </Flex>\n  );\n};\n\nexport default ParsingStatusCell;\n","import { useSetModalState } from '@/hooks/common-hooks';\nimport {\n  useCreateNextDocument,\n  useNextWebCrawl,\n  useRunNextDocument,\n  useSaveNextDocumentName,\n  useSetDocumentMeta,\n  useSetNextDocumentParser,\n  useUploadNextDocument,\n} from '@/hooks/document-hooks';\nimport { useGetKnowledgeSearchParams } from '@/hooks/route-hook';\nimport { IChangeParserConfigRequestBody } from '@/interfaces/request/document';\nimport { UploadFile } from 'antd';\nimport { useCallback, useState } from 'react';\nimport { useNavigate } from 'umi';\nimport { KnowledgeRouteKey } from './constant';\n\nexport const useNavigateToOtherPage = () => {\n  const navigate = useNavigate();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  const linkToUploadPage = useCallback(() => {\n    navigate(`/knowledge/dataset/upload?id=${knowledgeId}`);\n  }, [navigate, knowledgeId]);\n\n  const toChunk = useCallback(\n    (id: string) => {\n      navigate(\n        `/knowledge/${KnowledgeRouteKey.Dataset}/chunk?id=${knowledgeId}&doc_id=${id}`,\n      );\n    },\n    [navigate, knowledgeId],\n  );\n\n  return { linkToUploadPage, toChunk };\n};\n\nexport const useRenameDocument = (documentId: string) => {\n  const { saveName, loading } = useSaveNextDocumentName();\n\n  const {\n    visible: renameVisible,\n    hideModal: hideRenameModal,\n    showModal: showRenameModal,\n  } = useSetModalState();\n\n  const onRenameOk = useCallback(\n    async (name: string) => {\n      const ret = await saveName({ documentId, name });\n      if (ret === 0) {\n        hideRenameModal();\n      }\n    },\n    [hideRenameModal, saveName, documentId],\n  );\n\n  return {\n    renameLoading: loading,\n    onRenameOk,\n    renameVisible,\n    hideRenameModal,\n    showRenameModal,\n  };\n};\n\nexport const useCreateEmptyDocument = () => {\n  const { createDocument, loading } = useCreateNextDocument();\n\n  const {\n    visible: createVisible,\n    hideModal: hideCreateModal,\n    showModal: showCreateModal,\n  } = useSetModalState();\n\n  const onCreateOk = useCallback(\n    async (name: string) => {\n      const ret = await createDocument(name);\n      if (ret === 0) {\n        hideCreateModal();\n      }\n    },\n    [hideCreateModal, createDocument],\n  );\n\n  return {\n    createLoading: loading,\n    onCreateOk,\n    createVisible,\n    hideCreateModal,\n    showCreateModal,\n  };\n};\n\nexport const useChangeDocumentParser = (documentId: string) => {\n  const { setDocumentParser, loading } = useSetNextDocumentParser();\n\n  const {\n    visible: changeParserVisible,\n    hideModal: hideChangeParserModal,\n    showModal: showChangeParserModal,\n  } = useSetModalState();\n\n  const onChangeParserOk = useCallback(\n    async (parserId: string, parserConfig: IChangeParserConfigRequestBody) => {\n      const ret = await setDocumentParser({\n        parserId,\n        documentId,\n        parserConfig,\n      });\n      if (ret === 0) {\n        hideChangeParserModal();\n      }\n    },\n    [hideChangeParserModal, setDocumentParser, documentId],\n  );\n\n  return {\n    changeParserLoading: loading,\n    onChangeParserOk,\n    changeParserVisible,\n    hideChangeParserModal,\n    showChangeParserModal,\n  };\n};\n\nexport const useGetRowSelection = () => {\n  const [selectedRowKeys, setSelectedRowKeys] = useState<React.Key[]>([]);\n\n  const rowSelection = {\n    selectedRowKeys,\n    onChange: (newSelectedRowKeys: React.Key[]) => {\n      setSelectedRowKeys(newSelectedRowKeys);\n    },\n  };\n\n  return rowSelection;\n};\n\nexport const useHandleUploadDocument = () => {\n  const {\n    visible: documentUploadVisible,\n    hideModal: hideDocumentUploadModal,\n    showModal: showDocumentUploadModal,\n  } = useSetModalState();\n  const [fileList, setFileList] = useState<UploadFile[]>([]);\n  const [uploadProgress, setUploadProgress] = useState<number>(0);\n  const { uploadDocument, loading } = useUploadNextDocument();\n  const { runDocumentByIds, loading: _ } = useRunNextDocument();\n\n  const onDocumentUploadOk = useCallback(\n    async ({\n      parseOnCreation,\n      directoryFileList,\n    }: {\n      directoryFileList: UploadFile[];\n      parseOnCreation: boolean;\n    }): Promise<number | undefined> => {\n      const processFileGroup = async (filesPart: UploadFile[]) => {\n        // set status to uploading on files\n        setFileList(\n          fileList.map((file) => {\n            if (!filesPart.includes(file)) {\n              return file;\n            }\n\n            let newFile = file;\n            newFile.status = 'uploading';\n            newFile.percent = 1;\n            return newFile;\n          }),\n        );\n\n        const ret = await uploadDocument(filesPart);\n\n        const files = ret?.data || [];\n        const succesfulFilenames = files.map((file: any) => file.name);\n\n        // set status to done or error on files (based on response)\n        setFileList(\n          fileList.map((file) => {\n            if (!filesPart.includes(file)) {\n              return file;\n            }\n\n            let newFile = file;\n            newFile.status = succesfulFilenames.includes(file.name)\n              ? 'done'\n              : 'error';\n            newFile.percent = 100;\n            newFile.response = ret.message;\n            return newFile;\n          }),\n        );\n\n        return {\n          code: ret?.code,\n          fileIds: files.map((file: any) => file.id),\n          totalSuccess: succesfulFilenames.length,\n        };\n      };\n      const totalFiles = fileList.length;\n\n      if (directoryFileList.length > 0) {\n        const ret = await uploadDocument(directoryFileList);\n        if (ret?.code === 0) {\n          hideDocumentUploadModal();\n        }\n        if (totalFiles === 0) {\n          return 0;\n        }\n      }\n\n      if (totalFiles === 0) {\n        console.log('No files to upload');\n        hideDocumentUploadModal();\n        return 0;\n      }\n\n      let totalSuccess = 0;\n      let codes = [];\n      let toRunFileIds: any[] = [];\n      for (let i = 0; i < totalFiles; i += 10) {\n        setUploadProgress(Math.floor((i / totalFiles) * 100));\n        const files = fileList.slice(i, i + 10);\n        const {\n          code,\n          totalSuccess: count,\n          fileIds,\n        } = await processFileGroup(files);\n        codes.push(code);\n        totalSuccess += count;\n        toRunFileIds = toRunFileIds.concat(fileIds);\n      }\n\n      const allSuccess = codes.every((code) => code === 0);\n      const any500 = codes.some((code) => code === 500);\n\n      let code = 500;\n      if (allSuccess || (any500 && totalSuccess === totalFiles)) {\n        code = 0;\n        hideDocumentUploadModal();\n      }\n\n      if (parseOnCreation) {\n        await runDocumentByIds({\n          documentIds: toRunFileIds,\n          run: 1,\n          shouldDelete: false,\n        });\n      }\n\n      setUploadProgress(100);\n\n      return code;\n    },\n    [fileList, uploadDocument, hideDocumentUploadModal, runDocumentByIds],\n  );\n\n  return {\n    documentUploadLoading: loading,\n    onDocumentUploadOk,\n    documentUploadVisible,\n    hideDocumentUploadModal,\n    showDocumentUploadModal,\n    uploadFileList: fileList,\n    setUploadFileList: setFileList,\n    uploadProgress,\n    setUploadProgress,\n  };\n};\n\nexport const useHandleWebCrawl = () => {\n  const {\n    visible: webCrawlUploadVisible,\n    hideModal: hideWebCrawlUploadModal,\n    showModal: showWebCrawlUploadModal,\n  } = useSetModalState();\n  const { webCrawl, loading } = useNextWebCrawl();\n\n  const onWebCrawlUploadOk = useCallback(\n    async (name: string, url: string) => {\n      const ret = await webCrawl({ name, url });\n      if (ret === 0) {\n        hideWebCrawlUploadModal();\n        return 0;\n      }\n      return -1;\n    },\n    [webCrawl, hideWebCrawlUploadModal],\n  );\n\n  return {\n    webCrawlUploadLoading: loading,\n    onWebCrawlUploadOk,\n    webCrawlUploadVisible,\n    hideWebCrawlUploadModal,\n    showWebCrawlUploadModal,\n  };\n};\n\nexport const useHandleRunDocumentByIds = (id: string) => {\n  const { runDocumentByIds, loading } = useRunNextDocument();\n  const [currentId, setCurrentId] = useState<string>('');\n  const isLoading = loading && currentId !== '' && currentId === id;\n\n  const handleRunDocumentByIds = async (\n    documentId: string,\n    isRunning: boolean,\n    shouldDelete: boolean = false,\n  ) => {\n    if (isLoading) {\n      return;\n    }\n    setCurrentId(documentId);\n    try {\n      await runDocumentByIds({\n        documentIds: [documentId],\n        run: isRunning ? 2 : 1,\n        shouldDelete,\n      });\n      setCurrentId('');\n    } catch (error) {\n      setCurrentId('');\n    }\n  };\n\n  return {\n    handleRunDocumentByIds,\n    loading: isLoading,\n  };\n};\n\nexport const useShowMetaModal = (documentId: string) => {\n  const { setDocumentMeta, loading } = useSetDocumentMeta();\n\n  const {\n    visible: setMetaVisible,\n    hideModal: hideSetMetaModal,\n    showModal: showSetMetaModal,\n  } = useSetModalState();\n\n  const onSetMetaModalOk = useCallback(\n    async (meta: string) => {\n      const ret = await setDocumentMeta({\n        documentId,\n        meta,\n      });\n      if (ret === 0) {\n        hideSetMetaModal();\n      }\n    },\n    [setDocumentMeta, documentId, hideSetMetaModal],\n  );\n\n  return {\n    setMetaLoading: loading,\n    onSetMetaModalOk,\n    setMetaVisible,\n    hideSetMetaModal,\n    showSetMetaModal,\n  };\n};\n","import { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Input, Modal } from 'antd';\nimport { useEffect } from 'react';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  initialName: string;\n  onOk: (name: string) => void;\n  showModal?(): void;\n}\n\nconst RenameModal = ({\n  visible,\n  onOk,\n  loading,\n  initialName,\n  hideModal,\n}: IProps) => {\n  const [form] = Form.useForm();\n  const { t } = useTranslate('common');\n  type FieldType = {\n    name?: string;\n  };\n\n  const handleOk = async () => {\n    const ret = await form.validateFields();\n    onOk(ret.name);\n  };\n\n  const onFinish = (values: any) => {\n    console.log('Success:', values);\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  useEffect(() => {\n    if (visible) {\n      form.setFieldValue('name', initialName);\n    }\n  }, [initialName, form, visible]);\n\n  return (\n    <Modal\n      title={t('rename')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n      okButtonProps={{ loading }}\n    >\n      <Form\n        name=\"basic\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n        autoComplete=\"off\"\n        form={form}\n      >\n        <Form.Item<FieldType>\n          label={t('name')}\n          name=\"name\"\n          rules={[{ required: true, message: t('namePlaceholder') }]}\n        >\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default RenameModal;\n","import { IModalManagerChildrenProps } from '@/components/modal-manager';\nimport { useTranslate } from '@/hooks/common-hooks';\nimport { Form, Input, Modal } from 'antd';\nimport React from 'react';\n\ninterface IProps extends Omit<IModalManagerChildrenProps, 'showModal'> {\n  loading: boolean;\n  onOk: (name: string, url: string) => void;\n  showModal?(): void;\n}\n\nconst WebCrawlModal: React.FC<IProps> = ({ visible, hideModal, onOk }) => {\n  const [form] = Form.useForm();\n  const { t } = useTranslate('knowledgeDetails');\n  const handleOk = async () => {\n    const values = await form.validateFields();\n    onOk(values.name, values.url);\n  };\n\n  return (\n    <Modal\n      title={t('webCrawl')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n    >\n      <Form\n        form={form}\n        name=\"validateOnly\"\n        labelCol={{ span: 4 }}\n        wrapperCol={{ span: 20 }}\n        style={{ maxWidth: 600 }}\n        autoComplete=\"off\"\n      >\n        <Form.Item\n          label=\"Name\"\n          name=\"name\"\n          rules={[\n            { required: true, message: 'Please input name!' },\n            {\n              max: 10,\n              message: 'The maximum length of name is 128 characters',\n            },\n          ]}\n        >\n          <Input placeholder=\"Document name\" />\n        </Form.Item>\n        <Form.Item\n          label=\"URL\"\n          name=\"url\"\n          rules={[\n            { required: true, message: 'Please input url!' },\n            {\n              pattern: new RegExp(\n                '(https?|ftp|file)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]',\n              ),\n              message: 'Please enter a valid URL!',\n            },\n          ]}\n        >\n          <Input placeholder=\"https://www.baidu.com\" />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\nexport default WebCrawlModal;\n","import { IModalProps } from '@/interfaces/common';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport Editor, { loader } from '@monaco-editor/react';\n\nimport { Form, Modal } from 'antd';\nimport DOMPurify from 'dompurify';\nimport { useCallback, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nloader.config({ paths: { vs: '/vs' } });\n\ntype FieldType = {\n  meta?: string;\n};\n\nexport function SetMetaModal({\n  visible,\n  hideModal,\n  onOk,\n  initialMetaData,\n}: IModalProps<any> & { initialMetaData?: IDocumentInfo['meta_fields'] }) {\n  const { t } = useTranslation();\n  const [form] = Form.useForm();\n\n  const handleOk = useCallback(async () => {\n    const values = await form.validateFields();\n    onOk?.(values.meta);\n  }, [form, onOk]);\n\n  useEffect(() => {\n    form.setFieldValue('meta', JSON.stringify(initialMetaData, null, 4));\n  }, [form, initialMetaData]);\n\n  return (\n    <Modal\n      title={t('knowledgeDetails.setMetaData')}\n      open={visible}\n      onOk={handleOk}\n      onCancel={hideModal}\n    >\n      <Form\n        name=\"basic\"\n        initialValues={{ remember: true }}\n        autoComplete=\"off\"\n        layout={'vertical'}\n        form={form}\n      >\n        <Form.Item<FieldType>\n          label={t('knowledgeDetails.metaData')}\n          name=\"meta\"\n          rules={[\n            {\n              required: true,\n              validator(rule, value) {\n                try {\n                  JSON.parse(value);\n                  return Promise.resolve();\n                } catch (error) {\n                  return Promise.reject(\n                    new Error(t('knowledgeDetails.pleaseInputJson')),\n                  );\n                }\n              },\n            },\n          ]}\n          tooltip={\n            <div\n              dangerouslySetInnerHTML={{\n                __html: DOMPurify.sanitize(\n                  t('knowledgeDetails.documentMetaTips'),\n                ),\n              }}\n            ></div>\n          }\n        >\n          <Editor height={200} defaultLanguage=\"json\" theme=\"vs-dark\" />\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n}\n","import ChunkMethodModal from '@/components/chunk-method-modal';\nimport SvgIcon from '@/components/svg-icon';\nimport {\n  useFetchNextDocumentList,\n  useSetNextDocumentStatus,\n} from '@/hooks/document-hooks';\nimport { useSetSelectedRecord } from '@/hooks/logic-hooks';\nimport { useSelectParserList } from '@/hooks/user-setting-hooks';\nimport { getExtension } from '@/utils/document-util';\nimport { Divider, Flex, Switch, Table, Typography } from 'antd';\nimport type { ColumnsType } from 'antd/es/table';\nimport { useTranslation } from 'react-i18next';\nimport CreateFileModal from './create-file-modal';\nimport DocumentToolbar from './document-toolbar';\nimport {\n  useChangeDocumentParser,\n  useCreateEmptyDocument,\n  useGetRowSelection,\n  useHandleUploadDocument,\n  useHandleWebCrawl,\n  useNavigateToOtherPage,\n  useRenameDocument,\n  useShowMetaModal,\n} from './hooks';\nimport ParsingActionCell from './parsing-action-cell';\nimport ParsingStatusCell from './parsing-status-cell';\nimport RenameModal from './rename-modal';\nimport WebCrawlModal from './web-crawl-modal';\n\nimport FileUploadModal from '@/components/file-upload-modal';\nimport { IDocumentInfo } from '@/interfaces/database/document';\nimport { formatDate } from '@/utils/date';\nimport styles from './index.less';\nimport { SetMetaModal } from './set-meta-modal';\n\nconst { Text } = Typography;\n\nconst KnowledgeFile = () => {\n  const { searchString, documents, pagination, handleInputChange } =\n    useFetchNextDocumentList();\n  const parserList = useSelectParserList();\n  const { setDocumentStatus } = useSetNextDocumentStatus();\n  const { toChunk } = useNavigateToOtherPage();\n  const { currentRecord, setRecord } = useSetSelectedRecord<IDocumentInfo>();\n  const {\n    renameLoading,\n    onRenameOk,\n    renameVisible,\n    hideRenameModal,\n    showRenameModal,\n  } = useRenameDocument(currentRecord.id);\n  const {\n    createLoading,\n    onCreateOk,\n    createVisible,\n    hideCreateModal,\n    showCreateModal,\n  } = useCreateEmptyDocument();\n  const {\n    changeParserLoading,\n    onChangeParserOk,\n    changeParserVisible,\n    hideChangeParserModal,\n    showChangeParserModal,\n  } = useChangeDocumentParser(currentRecord.id);\n  const {\n    documentUploadVisible,\n    hideDocumentUploadModal,\n    showDocumentUploadModal,\n    onDocumentUploadOk,\n    documentUploadLoading,\n    uploadFileList,\n    setUploadFileList,\n    uploadProgress,\n    setUploadProgress,\n  } = useHandleUploadDocument();\n  const {\n    webCrawlUploadVisible,\n    hideWebCrawlUploadModal,\n    showWebCrawlUploadModal,\n    onWebCrawlUploadOk,\n    webCrawlUploadLoading,\n  } = useHandleWebCrawl();\n  const { t } = useTranslation('translation', {\n    keyPrefix: 'knowledgeDetails',\n  });\n\n  const {\n    showSetMetaModal,\n    hideSetMetaModal,\n    setMetaVisible,\n    setMetaLoading,\n    onSetMetaModalOk,\n  } = useShowMetaModal(currentRecord.id);\n\n  const rowSelection = useGetRowSelection();\n\n  const columns: ColumnsType<IDocumentInfo> = [\n    {\n      title: t('name'),\n      dataIndex: 'name',\n      key: 'name',\n      fixed: 'left',\n      render: (text: any, { id, thumbnail, name }) => (\n        <div className={styles.toChunks} onClick={() => toChunk(id)}>\n          <Flex gap={10} align=\"center\">\n            {thumbnail ? (\n              <img className={styles.img} src={thumbnail} alt=\"\" />\n            ) : (\n              <SvgIcon\n                name={`file-icon/${getExtension(name)}`}\n                width={24}\n              ></SvgIcon>\n            )}\n            <Text ellipsis={{ tooltip: text }} className={styles.nameText}>\n              {text}\n            </Text>\n          </Flex>\n        </div>\n      ),\n    },\n    {\n      title: t('chunkNumber'),\n      dataIndex: 'chunk_num',\n      key: 'chunk_num',\n    },\n    {\n      title: t('uploadDate'),\n      dataIndex: 'create_time',\n      key: 'create_time',\n      render(value) {\n        return formatDate(value);\n      },\n    },\n    {\n      title: t('chunkMethod'),\n      dataIndex: 'parser_id',\n      key: 'parser_id',\n      render: (text) => {\n        return parserList.find((x) => x.value === text)?.label;\n      },\n    },\n    {\n      title: t('enabled'),\n      key: 'status',\n      dataIndex: 'status',\n      render: (_, { status, id }) => (\n        <>\n          <Switch\n            checked={status === '1'}\n            onChange={(e) => {\n              setDocumentStatus({ status: e, documentId: id });\n            }}\n          />\n        </>\n      ),\n    },\n    {\n      title: t('parsingStatus'),\n      dataIndex: 'run',\n      key: 'run',\n      render: (text, record) => {\n        return <ParsingStatusCell record={record}></ParsingStatusCell>;\n      },\n    },\n    {\n      title: t('action'),\n      key: 'action',\n      render: (_, record) => (\n        <ParsingActionCell\n          setCurrentRecord={setRecord}\n          showRenameModal={showRenameModal}\n          showChangeParserModal={showChangeParserModal}\n          showSetMetaModal={showSetMetaModal}\n          record={record}\n        ></ParsingActionCell>\n      ),\n    },\n  ];\n\n  const finalColumns = columns.map((x) => ({\n    ...x,\n    className: `${styles.column}`,\n  }));\n\n  return (\n    <div className={styles.datasetWrapper}>\n      <h3>{t('dataset')}</h3>\n      <p>{t('datasetDescription')}</p>\n      <Divider></Divider>\n      <DocumentToolbar\n        selectedRowKeys={rowSelection.selectedRowKeys as string[]}\n        showCreateModal={showCreateModal}\n        showWebCrawlModal={showWebCrawlUploadModal}\n        showDocumentUploadModal={showDocumentUploadModal}\n        searchString={searchString}\n        handleInputChange={handleInputChange}\n      ></DocumentToolbar>\n      <Table\n        rowKey=\"id\"\n        columns={finalColumns}\n        dataSource={documents}\n        pagination={pagination}\n        rowSelection={rowSelection}\n        className={styles.documentTable}\n        scroll={{ scrollToFirstRowOnChange: true, x: 1300 }}\n      />\n      <CreateFileModal\n        visible={createVisible}\n        hideModal={hideCreateModal}\n        loading={createLoading}\n        onOk={onCreateOk}\n      />\n      <ChunkMethodModal\n        documentId={currentRecord.id}\n        parserId={currentRecord.parser_id}\n        parserConfig={currentRecord.parser_config}\n        documentExtension={getExtension(currentRecord.name)}\n        onOk={onChangeParserOk}\n        visible={changeParserVisible}\n        hideModal={hideChangeParserModal}\n        loading={changeParserLoading}\n      />\n      <RenameModal\n        visible={renameVisible}\n        onOk={onRenameOk}\n        loading={renameLoading}\n        hideModal={hideRenameModal}\n        initialName={currentRecord.name}\n      ></RenameModal>\n      <FileUploadModal\n        visible={documentUploadVisible}\n        hideModal={hideDocumentUploadModal}\n        loading={documentUploadLoading}\n        onOk={onDocumentUploadOk}\n        uploadFileList={uploadFileList}\n        setUploadFileList={setUploadFileList}\n        uploadProgress={uploadProgress}\n        setUploadProgress={setUploadProgress}\n      ></FileUploadModal>\n      <WebCrawlModal\n        visible={webCrawlUploadVisible}\n        hideModal={hideWebCrawlUploadModal}\n        loading={webCrawlUploadLoading}\n        onOk={onWebCrawlUploadOk}\n      ></WebCrawlModal>\n      {setMetaVisible && (\n        <SetMetaModal\n          visible={setMetaVisible}\n          hideModal={hideSetMetaModal}\n          onOk={onSetMetaModalOk}\n          loading={setMetaLoading}\n          initialMetaData={currentRecord.meta_fields}\n        ></SetMetaModal>\n      )}\n    </div>\n  );\n};\n\nexport default KnowledgeFile;\n","import api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request from '@/utils/request';\n\nconst {\n  getDialog,\n  setDialog,\n  listDialog,\n  removeDialog,\n  getConversation,\n  getConversationSSE,\n  setConversation,\n  completeConversation,\n  listConversation,\n  removeConversation,\n  createToken,\n  listToken,\n  removeToken,\n  getStats,\n  createExternalConversation,\n  getExternalConversation,\n  completeExternalConversation,\n  uploadAndParseExternal,\n  deleteMessage,\n  thumbup,\n  tts,\n  ask,\n  mindmap,\n  getRelatedQuestions,\n} = api;\n\nconst methods = {\n  getDialog: {\n    url: getDialog,\n    method: 'get',\n  },\n  setDialog: {\n    url: setDialog,\n    method: 'post',\n  },\n  removeDialog: {\n    url: removeDialog,\n    method: 'post',\n  },\n  listDialog: {\n    url: listDialog,\n    method: 'get',\n  },\n  listConversation: {\n    url: listConversation,\n    method: 'get',\n  },\n  getConversation: {\n    url: getConversation,\n    method: 'get',\n  },\n  getConversationSSE: {\n    url: getConversationSSE,\n    method: 'get',\n  },\n  setConversation: {\n    url: setConversation,\n    method: 'post',\n  },\n  completeConversation: {\n    url: completeConversation,\n    method: 'post',\n  },\n  removeConversation: {\n    url: removeConversation,\n    method: 'post',\n  },\n  createToken: {\n    url: createToken,\n    method: 'post',\n  },\n  listToken: {\n    url: listToken,\n    method: 'get',\n  },\n  removeToken: {\n    url: removeToken,\n    method: 'post',\n  },\n  getStats: {\n    url: getStats,\n    method: 'get',\n  },\n  createExternalConversation: {\n    url: createExternalConversation,\n    method: 'get',\n  },\n  getExternalConversation: {\n    url: getExternalConversation,\n    method: 'get',\n  },\n  completeExternalConversation: {\n    url: completeExternalConversation,\n    method: 'post',\n  },\n  uploadAndParseExternal: {\n    url: uploadAndParseExternal,\n    method: 'post',\n  },\n  deleteMessage: {\n    url: deleteMessage,\n    method: 'post',\n  },\n  thumbup: {\n    url: thumbup,\n    method: 'post',\n  },\n  tts: {\n    url: tts,\n    method: 'post',\n  },\n  ask: {\n    url: ask,\n    method: 'post',\n  },\n  getMindMap: {\n    url: mindmap,\n    method: 'post',\n  },\n  getRelatedQuestions: {\n    url: getRelatedQuestions,\n    method: 'post',\n  },\n} as const;\n\nconst chatService = registerServer<keyof typeof methods>(methods, request);\n\nexport default chatService;\n","import { IRenameTag } from '@/interfaces/database/knowledge';\nimport api from '@/utils/api';\nimport registerServer from '@/utils/register-server';\nimport request, { post } from '@/utils/request';\n\nconst {\n  create_kb,\n  update_kb,\n  rm_kb,\n  get_kb_detail,\n  kb_list,\n  get_document_list,\n  document_change_status,\n  document_rm,\n  document_delete,\n  document_create,\n  document_change_parser,\n  document_thumbnails,\n  chunk_list,\n  create_chunk,\n  set_chunk,\n  get_chunk,\n  switch_chunk,\n  rm_chunk,\n  retrieval_test,\n  document_rename,\n  document_run,\n  document_upload,\n  web_crawl,\n  knowledge_graph,\n  document_infos,\n  upload_and_parse,\n  listTagByKnowledgeIds,\n  setMeta,\n} = api;\n\nconst methods = {\n  // \n  createKb: {\n    url: create_kb,\n    method: 'post',\n  },\n  updateKb: {\n    url: update_kb,\n    method: 'post',\n  },\n  rmKb: {\n    url: rm_kb,\n    method: 'post',\n  },\n  get_kb_detail: {\n    url: get_kb_detail,\n    method: 'get',\n  },\n  getList: {\n    url: kb_list,\n    method: 'get',\n  },\n  // document manager\n  get_document_list: {\n    url: get_document_list,\n    method: 'get',\n  },\n  document_change_status: {\n    url: document_change_status,\n    method: 'post',\n  },\n  document_rm: {\n    url: document_rm,\n    method: 'post',\n  },\n  document_rename: {\n    url: document_rename,\n    method: 'post',\n  },\n  document_create: {\n    url: document_create,\n    method: 'post',\n  },\n  document_run: {\n    url: document_run,\n    method: 'post',\n  },\n  document_change_parser: {\n    url: document_change_parser,\n    method: 'post',\n  },\n  document_thumbnails: {\n    url: document_thumbnails,\n    method: 'get',\n  },\n  document_upload: {\n    url: document_upload,\n    method: 'post',\n  },\n  web_crawl: {\n    url: web_crawl,\n    method: 'post',\n  },\n  document_infos: {\n    url: document_infos,\n    method: 'post',\n  },\n  setMeta: {\n    url: setMeta,\n    method: 'post',\n  },\n  // chunk\n  chunk_list: {\n    url: chunk_list,\n    method: 'post',\n  },\n  create_chunk: {\n    url: create_chunk,\n    method: 'post',\n  },\n  set_chunk: {\n    url: set_chunk,\n    method: 'post',\n  },\n  get_chunk: {\n    url: get_chunk,\n    method: 'get',\n  },\n  switch_chunk: {\n    url: switch_chunk,\n    method: 'post',\n  },\n  rm_chunk: {\n    url: rm_chunk,\n    method: 'post',\n  },\n  retrieval_test: {\n    url: retrieval_test,\n    method: 'post',\n  },\n  knowledge_graph: {\n    url: knowledge_graph,\n    method: 'get',\n  },\n  document_delete: {\n    url: document_delete,\n    method: 'delete',\n  },\n  upload_and_parse: {\n    url: upload_and_parse,\n    method: 'post',\n  },\n  listTagByKnowledgeIds: {\n    url: listTagByKnowledgeIds,\n    method: 'get',\n  },\n};\n\nconst kbService = registerServer<keyof typeof methods>(methods, request);\n\nexport const listTag = (knowledgeId: string) =>\n  request.get(api.listTag(knowledgeId));\n\nexport const removeTag = (knowledgeId: string, tags: string[]) =>\n  post(api.removeTag(knowledgeId), { tags });\n\nexport const renameTag = (\n  knowledgeId: string,\n  { fromTag, toTag }: IRenameTag,\n) => post(api.renameTag(knowledgeId), { fromTag, toTag });\n\nexport function getKnowledgeGraph(knowledgeId: string) {\n  return request.get(api.getKnowledgeGraph(knowledgeId));\n}\n\nexport default kbService;\n","import {\n  ChatVariableEnabledField,\n  EmptyConversationId,\n} from '@/constants/chat';\nimport { Message } from '@/interfaces/database/chat';\nimport { IMessage } from '@/pages/chat/interface';\nimport { omit } from 'lodash';\nimport { v4 as uuid } from 'uuid';\n\nexport const isConversationIdExist = (conversationId: string) => {\n  return conversationId !== EmptyConversationId && conversationId !== '';\n};\n\nexport const buildMessageUuid = (message: Partial<Message | IMessage>) => {\n  if ('id' in message && message.id) {\n    return message.id;\n  }\n  return uuid();\n};\n\nexport const buildMessageListWithUuid = (messages?: Message[]) => {\n  return (\n    messages?.map((x: Message | IMessage) => ({\n      ...omit(x, 'reference'),\n      id: buildMessageUuid(x),\n    })) ?? []\n  );\n};\n\nexport const getConversationId = () => {\n  return uuid().replace(/-/g, '');\n};\n\n// When rendering each message, add a prefix to the id to ensure uniqueness.\nexport const buildMessageUuidWithRole = (\n  message: Partial<Message | IMessage>,\n) => {\n  return `${message.role}_${message.id}`;\n};\n\n// Preprocess LaTeX equations to be rendered by KaTeX\n// ref: https://github.com/remarkjs/react-markdown/issues/785\n\nexport const preprocessLaTeX = (content: string) => {\n  const blockProcessedContent = content.replace(\n    /\\\\\\[([\\s\\S]*?)\\\\\\]/g,\n    (_, equation) => `$$${equation}$$`,\n  );\n  const inlineProcessedContent = blockProcessedContent.replace(\n    /\\\\\\(([\\s\\S]*?)\\\\\\)/g,\n    (_, equation) => `$${equation}$`,\n  );\n  return inlineProcessedContent;\n};\n\nexport function replaceThinkToSection(text: string = '') {\n  const pattern = /<think>([\\s\\S]*?)<\\/think>/g;\n\n  const result = text.replace(pattern, '<section class=\"think\">$1</section>');\n\n  return result;\n}\n\nexport function setInitialChatVariableEnabledFieldValue(\n  field: ChatVariableEnabledField,\n) {\n  return field !== ChatVariableEnabledField.MaxTokensEnabled;\n}\n","import dayjs from 'dayjs';\n\nexport function formatDate(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('DD/MM/YYYY HH:mm:ss');\n}\n\nexport function formatTime(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('HH:mm:ss');\n}\n\nexport function today() {\n  return formatDate(dayjs());\n}\n\nexport function lastDay() {\n  return formatDate(dayjs().subtract(1, 'days'));\n}\n\nexport function lastWeek() {\n  return formatDate(dayjs().subtract(1, 'weeks'));\n}\n\nexport function formatPureDate(date: any) {\n  if (!date) {\n    return '';\n  }\n  return dayjs(date).format('DD/MM/YYYY');\n}\n","import { Images, SupportedPreviewDocumentTypes } from '@/constants/common';\nimport { IReferenceChunk } from '@/interfaces/database/chat';\nimport { IChunk } from '@/interfaces/database/knowledge';\nimport { UploadFile } from 'antd';\nimport { get } from 'lodash';\nimport { v4 as uuid } from 'uuid';\n\nexport const buildChunkHighlights = (\n  selectedChunk: IChunk | IReferenceChunk,\n  size: { width: number; height: number },\n) => {\n  return Array.isArray(selectedChunk?.positions) &&\n    selectedChunk.positions.every((x) => Array.isArray(x))\n    ? selectedChunk?.positions?.map((x) => {\n        const boundingRect = {\n          width: size.width,\n          height: size.height,\n          x1: x[1],\n          x2: x[2],\n          y1: x[3],\n          y2: x[4],\n        };\n        return {\n          id: uuid(),\n          comment: {\n            text: '',\n            emoji: '',\n          },\n          content: {\n            text:\n              get(selectedChunk, 'content_with_weight') ||\n              get(selectedChunk, 'content', ''),\n          },\n          position: {\n            boundingRect: boundingRect,\n            rects: [boundingRect],\n            pageNumber: x[0],\n          },\n        };\n      })\n    : [];\n};\n\nexport const isFileUploadDone = (file: UploadFile) => file.status === 'done';\n\nexport const getExtension = (name: string) =>\n  name?.slice(name.lastIndexOf('.') + 1).toLowerCase() ?? '';\n\nexport const isPdf = (name: string) => {\n  return getExtension(name) === 'pdf';\n};\n\nexport const getUnSupportedFilesCount = (message: string) => {\n  return message.split('\\n').length;\n};\n\nexport const isSupportedPreviewDocumentType = (fileExtension: string) => {\n  return SupportedPreviewDocumentTypes.includes(fileExtension);\n};\n\nexport const isImage = (image: string) => {\n  return [...Images, 'svg'].some((x) => x === image);\n};\n"],"names":["Dragger","Upload","FileUpload","_ref","directory","fileList","setFileList","uploadProgress","t","useTranslate","props","multiple","onRemove","file","index","indexOf","newFileList","slice","splice","beforeUpload","pre","concat","_toConsumableArray","progress","strokeWidth","_jsxs","_Fragment","children","_jsx","Progress","percent","showInfo","_objectSpread","className","styles","InboxOutlined","_ref2","visible","hideModal","loading","onFileUploadOk","onOk","uploadFileList","setUploadFileList","setUploadProgress","_useState","useState","_useState2","_slicedToArray","value","setValue","_useState3","_useState4","parseOnCreation","setParseOnCreation","_useState5","_useState6","currentFileList","setCurrentFileList","_useState7","_useState8","directoryFileList","setDirectoryFileList","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ret","wrap","_context","prev","next","abrupt","sent","stop","apply","arguments","items","key","label","Modal","title","open","onCancel","confirmLoading","afterClose","Flex","gap","vertical","Segmented","options","block","onChange","Checkbox","checked","e","target","Tabs","defaultActiveKey","keyPrefix","KnowledgeRouteKey","RunningStatus","ModelVariableType","settledModelVariableMap","_defineProperty","Improvise","temperature","top_p","frequency_penalty","presence_penalty","max_tokens","Precise","Balance","LlmModelType","KnowledgeSearchParams","DocumentType","DocumentParserType","useGetDocumentUrl","documentId","useCallback","id","api_host","useGetChunkHighlights","selectedChunk","width","height","size","setSize","highlights","useMemo","buildChunkHighlights","setWidthAndHeight","useFetchNextDocumentList","_queryFn","knowledgeId","useGetKnowledgeSearchParams","_useHandleSearchChang","useHandleSearchChange","searchString","handleInputChange","_useGetPaginationWith","useGetPaginationWithRouter","pagination","setPagination","useParams","_useQuery","useQuery","queryKey","initialData","docs","total","refetchInterval","enabled","queryFn","kbService","get_document_list","kb_id","keywords","page_size","pageSize","page","current","data","code","isFetching","onInputChange","documents","useSetNextDocumentStatus","_mutationFn","queryClient","useQueryClient","_useMutation","useMutation","mutationKey","mutationFn","_callee2","status","_yield$kbService$docu","_context2","document_change_status","doc_id","Number","message","success","i18n","invalidateQueries","_x","isPending","setDocumentStatus","mutateAsync","useSaveNextDocumentName","_mutationFn2","_useMutation2","_callee3","name","_yield$kbService$docu2","_context3","document_rename","_x2","saveName","useCreateNextDocument","_mutationFn3","_useSetPaginationPara","useSetPaginationParams","setPaginationParams","_useMutation3","_callee4","_yield$kbService$docu3","_context4","document_create","_x3","createDocument","useSetNextDocumentParser","_mutationFn4","_useMutation4","_callee5","parserId","parserConfig","_yield$kbService$docu4","_context5","document_change_parser","parser_id","parser_config","_x4","setDocumentParser","useUploadNextDocument","_mutationFn5","_useMutation5","_callee6","formData","_context6","FormData","append","forEach","document_upload","get","t0","console","warn","_x5","uploadDocument","useNextWebCrawl","_mutationFn6","_useMutation6","_callee7","_ref4","url","_context7","web_crawl","_x6","webCrawl","useRunNextDocument","_mutationFn7","_useMutation7","_callee8","_ref5","documentIds","run","shouldDelete","_context8","document_run","doc_ids","delete","_x7","runDocumentByIds","useFetchDocumentInfosByIds","_queryFn2","ids","setDocumentIds","_useQuery2","length","_callee9","_yield$kbService$docu5","_context9","document_infos","useFetchDocumentThumbnailsByIds","_queryFn3","_useQuery3","_callee10","_yield$kbService$docu6","_context10","document_thumbnails","useRemoveNextDocument","_mutationFn8","_useMutation8","_callee11","_yield$kbService$docu7","_context11","document_rm","_x8","removeDocument","useDeleteDocument","_mutationFn9","_useMutation9","_callee12","_context12","document_delete","_x9","deleteDocument","useUploadAndParseDocument","uploadMethod","_mutationFn10","_useMutation10","_callee13","_ref6","conversationId","_data","_data2","_context13","upload_and_parse","chatService","uploadAndParseExternal","_x10","uploadAndParseDocument","useParseDocument","_mutationFn11","_useMutation11","_callee14","_data3","_context14","post","api","parse","error","_x11","parseDocument","useSetDocumentMeta","_mutationFn12","_useMutation12","_callee15","params","_yield$kbService$setM","_data4","_context15","setMeta","meta","_x12","setDocumentMeta","useSetSelectedRecord","currentRecord","setCurrentRecord","setRecord","record","setSearchString","useChangeLanguage","useTranslation","saveSetting","useSaveSetting","lng","changeLanguage","LanguageTranslationMap","language","onPageChange","pageNumber","setCurrentPagination","showQuickJumper","showSizeChanger","pageSizeOptions","showTotal","useFetchAppConf","appConf","setAppConf","fetchAppConf","axios","useEffect","useSendMessageWithSse","undefined","completeConversation","_useState9","_useState10","answer","setAnswer","_useState11","_useState12","done","setDone","timer","useRef","resetAnswer","clearTimeout","setTimeout","send","body","controller","_response$body","response","res","reader","x","_done","val","d","fetch","method","headers","Authorization","getAuthorization","JSON","stringify","signal","clone","json","pipeThrough","TextDecoderStream","EventSourceParserStream","getReader","read","info","conversation_id","t1","t2","useSpeechWithSse","tts","useHandleMessageInputChange","_useState13","_useState14","nextValue","replaceAll","useSelectDerivedMessages","_useState15","_useState16","derivedMessages","setDerivedMessages","ref","messages","scrollToBottom","_ref$current","scrollIntoView","behavior","useScrollToBottom","addNewestQuestion","buildMessageUuid","role","MessageType","Assistant","content","addNewestAnswer","_pre$slice","reference","prompt","audio_binary","omit","removeLatestMessage","_pre$slice2","removeMessageById","messageId","_pre$filter","filter","removeMessagesAfterCurrentMessage","findIndex","_pre$slice3","nextMessages","latestMessage","at","useRegenerateMessage","sendMessage","regenerateMessage","uuid","useSelectItem","defaultId","_useState17","_useState18","selectedId","setSelectedId","handleItemClick","useFetchModelId","_tenantInfo$llm_id","tenantInfo","useFetchTenantInfo","llm_id","ChunkTokenNumMap","naive","knowledge_graph","useHandleChunkMethodSelectChange","form","setFieldValue","useResetFormOnCloseModal","prevOpenRef","prevOpen","resetFields","SegmentIndex","useSegmentedPathName","useLocation","pathname","split","useSecondPathName","Second","useThirdPathName","Third","_useSearchParams","useSearchParams","currentQueryParameters","DocumentId","KnowledgeId","useNavigateWithFromState","navigate","useNavigate","path","state","from","useNavigateToDataset","Dataset","_useSearchParams5","_useSearchParams6","queryParameters","setSearchParams","set","toString","ParserListMap","Map","Naive","Resume","Manual","Paper","Book","Laws","Presentation","One","Qa","KnowledgeGraph","Table","Picture","Email","getParserList","values","parserList","some","y","hideAutoKeywords","Tag","hidePagesChunkMethods","documentExtension","_Form$useForm","Form","useForm","_useFetchParserListOn","selectedTag","setSelectedTag","useSelectParserList","handleChunkMethodSelectChange","nextParserList","keys","find","handleChange","tag","useFetchParserListOnMount","handleOk","_values$pages$map","_values$pages","validateFields","pages","map","to","isPdf","showPages","every","showOne","showMaxTokenNumber","showEntityTypes","showExcelToHtml","showAutoKeywords","_parserConfig$pages$m","_parserConfig$pages","setFieldsValue","Space","Item","Select","style","Divider","autoComplete","Tooltip","QuestionCircleOutlined","List","fields","add","remove","restField","_objectWithoutProperties","_excluded","display","align","dependencies","rules","required","getFieldValue","validator","_","Promise","resolve","reject","Error","InputNumber","placeholder","min","precision","MinusCircleOutlined","onClick","Button","type","icon","PlusOutlined","noStyle","_ref7","tooltip","initialValue","max","DatasetConfigurationContainer","show","LayoutRecognize","MaxTokenNumber","Delimiter","AutoKeywordsItem","AutoQuestionsItem","ExcelToHtml","showRaptorParseConfiguration","ParseConfiguration","showGraphRagItems","GraphRagItems","EntityTypesItem","labelCol","span","wrapperCol","maxWidth","Input","__defProp","Object","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","SvgCancel","a","b","prop","call","__spreadValues","fill","xmlns","stroke","strokeLinecap","strokeLinejoin","SvgDelete","SvgDisable","viewBox","SvgEnable","SvgRun","selectedRowKeys","showCreateModal","showDocumentUploadModal","showDeleteConfirm","useShowDeleteConfirm","actionItems","FileTextOutlined","FileOutlined","handleDelete","runDocument","handleRunClick","handleCancelClick","onChangeStatus","handleEnableClick","handleDisableClick","disabled","EnableIcon","DisableIcon","RunIcon","CancelIcon","deleteIconWrapper","DeleteIcon","Dropdown","menu","placement","arrow","DownOutlined","allowClear","prefix","SearchOutlined","trigger","RunningStatusMap","UNSTART","color","RUNNING","CANCEL","DONE","FAIL","isParserRunning","text","showRenameModal","showChangeParserModal","showSetMetaModal","isRunning","isVirtualDocument","Virtual","onShowSetMetaModal","chunkItems","ToolOutlined","EditOutlined","_record$parser_config","graphrag","use_graphrag","DeleteOutlined","downloadDocument","filename","DownloadOutlined","SvgRefresh","iconMap","RefreshIcon","PopoverContent","nextText","process_begin_at","process_duation","toFixed","progress_msg","trim","replace","reactStringReplace","match","i","idx","runningStatus","_useHandleRunDocument","_useRunNextDocument2","currentId","setCurrentId","isLoading","handleRunDocumentByIds","_ref8","_args7","useHandleRunDocumentByIds","OperationIcon","handleOperationIconClick","justify","Popover","Badge","Popconfirm","chunkNum","chunk_num","onConfirm","okText","cancelText","classNames","initialName","okButtonProps","onFinish","log","onFinishFailed","errorInfo","pattern","RegExp","SetMetaModal","initialMetaData","initialValues","remember","layout","rule","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","Editor","defaultLanguage","theme","loader","config","paths","vs","Text","Typography","setSelectedRowKeys","_useFetchNextDocument","toChunk","linkToUploadPage","_useSetSelectedRecord","_useRenameDocument","_useSaveNextDocumentN","_useSetModalState","useSetModalState","renameVisible","hideRenameModal","showModal","onRenameOk","renameLoading","useRenameDocument","_useCreateEmptyDocume","_useCreateNextDocumen","_useSetModalState2","createVisible","hideCreateModal","onCreateOk","createLoading","useCreateEmptyDocument","_useChangeDocumentPar","_useSetNextDocumentPa","_useSetModalState3","changeParserVisible","hideChangeParserModal","onChangeParserOk","changeParserLoading","useChangeDocumentParser","_useHandleUploadDocum","_useSetModalState4","documentUploadVisible","hideDocumentUploadModal","_useUploadNextDocumen","_useRunNextDocument","onDocumentUploadOk","processFileGroup","totalFiles","totalSuccess","codes","toRunFileIds","files","_yield$processFileGro","_code","count","fileIds","allSuccess","any500","filesPart","succesfulFilenames","includes","newFile","Math","floor","push","documentUploadLoading","useHandleUploadDocument","_useHandleWebCrawl","_useSetModalState5","webCrawlUploadVisible","hideWebCrawlUploadModal","showWebCrawlUploadModal","_useNextWebCrawl","onWebCrawlUploadOk","webCrawlUploadLoading","useHandleWebCrawl","_useShowMetaModal","_useSetDocumentMeta","_useSetModalState6","setMetaVisible","hideSetMetaModal","onSetMetaModalOk","_ref9","setMetaLoading","useShowMetaModal","rowSelection","newSelectedRowKeys","finalColumns","dataIndex","fixed","render","thumbnail","toChunks","img","src","alt","SvgIcon","getExtension","ellipsis","nameText","formatDate","_parserList$find","Switch","ParsingStatusCell","ParsingActionCell","column","datasetWrapper","DocumentToolbar","showWebCrawlModal","rowKey","columns","dataSource","documentTable","scroll","scrollToFirstRowOnChange","CreateFileModal","ChunkMethodModal","RenameModal","FileUploadModal","WebCrawlModal","meta_fields","getDialog","setDialog","listDialog","removeDialog","getConversation","getConversationSSE","setConversation","methods","listConversation","removeConversation","createToken","listToken","removeToken","getStats","createExternalConversation","getExternalConversation","completeExternalConversation","deleteMessage","thumbup","ask","getMindMap","mindmap","getRelatedQuestions","registerServer","request","create_kb","update_kb","rm_kb","get_kb_detail","kb_list","chunk_list","create_chunk","set_chunk","get_chunk","switch_chunk","rm_chunk","retrieval_test","listTagByKnowledgeIds","createKb","updateKb","rmKb","getList","listTag","removeTag","tags","renameTag","fromTag","toTag","getKnowledgeGraph","isConversationIdExist","EmptyConversationId","buildMessageListWithUuid","_messages$map","getConversationId","buildMessageUuidWithRole","preprocessLaTeX","equation","replaceThinkToSection","setInitialChatVariableEnabledFieldValue","field","ChatVariableEnabledField","MaxTokensEnabled","date","dayjs","format","formatTime","formatPureDate","_selectedChunk$positi","Array","isArray","positions","boundingRect","x1","x2","y1","y2","comment","emoji","position","rects","_name$slice$toLowerCa","lastIndexOf","toLowerCase","getUnSupportedFilesCount","isSupportedPreviewDocumentType","fileExtension","SupportedPreviewDocumentTypes","isImage","image","Images"],"sourceRoot":""}