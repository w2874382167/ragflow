/*! For license information please see p__user-setting__index.b6e69e9d.async.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[5410],{16165:function(e,t,n){"use strict";var a=n(87462),r=n(1413),o=n(4942),c=n(45987),s=n(67294),i=n(93967),u=n.n(i),l=n(42550),d=n(63017),f=n(41755),m=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],p=s.forwardRef((function(e,t){var n=e.className,i=e.component,p=e.viewBox,g=e.spin,v=e.rotate,h=e.tabIndex,y=e.onClick,_=e.children,k=(0,c.Z)(e,m),Z=s.useRef(),w=(0,l.x1)(Z,t);(0,f.Kp)(Boolean(i||_),"Should have `component` prop or `children`."),(0,f.C3)(Z);var x=s.useContext(d.Z),b=x.prefixCls,C=void 0===b?"anticon":b,T=x.rootClassName,P=u()(T,C,(0,o.Z)({},"".concat(C,"-spin"),!!g&&!!i),n),S=u()((0,o.Z)({},"".concat(C,"-spin"),!!g)),F=v?{msTransform:"rotate(".concat(v,"deg)"),transform:"rotate(".concat(v,"deg)")}:void 0,N=(0,r.Z)((0,r.Z)({},f.vD),{},{className:S,style:F,viewBox:p});p||delete N.viewBox;var L=h;return void 0===L&&y&&(L=-1),s.createElement("span",(0,a.Z)({role:"img"},k,{ref:w,tabIndex:L,onClick:y,className:P}),i?s.createElement(i,N,_):_?((0,f.Kp)(Boolean(p)||1===s.Children.count(_)&&s.isValidElement(_)&&"use"===s.Children.only(_).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),s.createElement("svg",(0,a.Z)({},N,{viewBox:p}),_)):null)}));p.displayName="AntdIcon",t.Z=p},70101:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(87462),r=n(67294),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M692.8 412.7l.2-.2-34.6-44.3a7.97 7.97 0 00-11.2-1.4l-50.4 39.3-70.5-90.1a7.97 7.97 0 00-11.2-1.4l-37.9 29.7a7.97 7.97 0 00-1.4 11.2l70.5 90.2-.2.1 34.6 44.3c2.7 3.5 7.7 4.1 11.2 1.4l50.4-39.3 64.1 82c2.7 3.5 7.7 4.1 11.2 1.4l37.9-29.6c3.5-2.7 4.1-7.7 1.4-11.2l-64.1-82.1zM608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5L114.3 856.1a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6C473 696.1 537.7 720 608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644s-118.2-23.7-161.2-66.8C403.7 534.2 380 476.9 380 416s23.7-118.2 66.8-161.2c43-43.1 100.3-66.8 161.2-66.8s118.2 23.7 161.2 66.8c43.1 43 66.8 100.3 66.8 161.2s-23.7 118.2-66.8 161.2z"}}]},name:"monitor",theme:"outlined"},c=n(84089),s=function(e,t){return r.createElement(c.Z,(0,a.Z)({},e,{ref:t,icon:o}))};var i=r.forwardRef(s)},96330:function(e,t,n){"use strict";n.d(t,{K1:function(){return f},Rx:function(){return o},S8:function(){return i},Vr:function(){return u},cG:function(){return c},ld:function(){return l},n_:function(){return d},oQ:function(){return s}});var a=n(9783),r=n.n(a),o=function(e){return e.Dataset="dataset",e.Testing="testing",e.Configuration="configuration",e.KnowledgeGraph="knowledgeGraph",e}({}),c=function(e){return e.UNSTART="0",e.RUNNING="1",e.CANCEL="2",e.DONE="3",e.FAIL="4",e}({}),s=function(e){return e.Improvise="Improvise",e.Precise="Precise",e.Balance="Balance",e}({}),i=r()(r()(r()({},s.Improvise,{temperature:.9,top_p:.9,frequency_penalty:.2,presence_penalty:.4,max_tokens:512}),s.Precise,{temperature:.1,top_p:.3,frequency_penalty:.7,presence_penalty:.4,max_tokens:512}),s.Balance,{temperature:.5,top_p:.5,frequency_penalty:.7,presence_penalty:.4,max_tokens:512}),u=function(e){return e.Embedding="embedding",e.Chat="chat",e.Image2text="image2text",e.Speech2text="speech2text",e.Rerank="rerank",e.TTS="tts",e}({}),l=function(e){return e.DocumentId="doc_id",e.KnowledgeId="id",e}({}),d=function(e){return e.Virtual="virtual",e.Visual="visual",e}({}),f=function(e){return e.Naive="naive",e.Qa="qa",e.Resume="resume",e.Manual="manual",e.Table="table",e.Paper="paper",e.Book="book",e.Laws="laws",e.Presentation="presentation",e.Picture="picture",e.One="one",e.Audio="audio",e.Email="email",e.Tag="tag",e.KnowledgeGraph="knowledge_graph",e}({})},86968:function(e,t,n){"use strict";n.d(t,{I3:function(){return g},pG:function(){return p},qM:function(){return v}});var a=n(15009),r=n.n(a),o=n(99289),c=n.n(o),s=n(5574),i=n.n(s),u=n(21640),l=n(36447),d=(n(18446),n(67294)),f=n(67421),m=n(85893),p=function(){var e=(0,d.useState)(!1),t=i()(e,2),n=t[0],a=t[1],r=(0,d.useCallback)((function(){a(!0)}),[]),o=(0,d.useCallback)((function(){a(!1)}),[]),c=(0,d.useCallback)((function(){a(!n)}),[n]);return{visible:n,showModal:r,hideModal:o,switchVisible:c}};var g=function(){var e=l.Z.useApp().modal,t=(0,f.$G)().t;return(0,d.useCallback)((function(n){var a=n.title,o=n.content,s=n.onOk,i=n.onCancel;return new Promise((function(n,l){e.confirm({title:null!=a?a:t("common.deleteModalTitle"),icon:(0,m.jsx)(u.Z,{}),content:o,okText:t("common.ok"),okType:"danger",cancelText:t("common.cancel"),onOk:function(){return c()(r()().mark((function e(){var t;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==s?void 0:s();case 3:t=e.sent,n(t),console.info(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),l(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},onCancel:function(){null==i||i()}})}))}),[t,e])},v=function(e){return(0,f.$G)("translation",{keyPrefix:e})}},51509:function(e,t,n){"use strict";n.d(t,{UK:function(){return k},aU:function(){return _},f0:function(){return h},mr:function(){return y}});var a=n(5574),r=n.n(a),o=n(15009),c=n.n(o),s=n(99289),i=n.n(s),u=n(39918),l=n(72668),d=n(61921),f=n(98029),m=n(45360),p=n(22150),g=n(67294),v=n(67421),h=function(){var e,t=(0,v.$G)().t,n=(0,f.D)({mutationKey:["login"],mutationFn:(e=i()(c()().mark((function e(n){var a,r,o,s,i,f,p,g;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.login(n);case 2:return a=e.sent,r=a.data,o=void 0===r?{}:r,s=a.response,0===o.code&&(i=o.data,m.ZP.success(t("message.logged")),f=s.headers.get(u._n),p=i.access_token,g={avatar:i.avatar,name:i.nickname,email:i.email},d.ZP.setItems({Authorization:f,userInfo:JSON.stringify(g),Token:p})),e.abrupt("return",o.code);case 8:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,login:n.mutateAsync}},y=function(){var e,t=(0,v.$G)().t,n=(0,f.D)({mutationKey:["register"],mutationFn:(e=i()(c()().mark((function e(n){var a,r,o;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.register(n);case 2:return a=e.sent,r=a.data,0===(o=void 0===r?{}:r).code?m.ZP.success(t("message.registered")):o.message&&o.message.includes("registration is disabled")&&m.ZP.error(t("message.registerDisabled")||"User registration is disabled"),e.abrupt("return",o.code);case 7:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,register:n.mutateAsync}},_=function(){var e,t=(0,v.$G)().t,n=(0,f.D)({mutationKey:["logout"],mutationFn:(e=i()(c()().mark((function e(){var n,a,r;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.logout();case 2:return n=e.sent,a=n.data,0===(r=void 0===a?{}:a).code&&(m.ZP.success(t("message.logout")),d.ZP.removeAll(),(0,d.rf)()),e.abrupt("return",r.code);case 7:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,logout:n.mutateAsync}},k=function(e){var t=(0,g.useState)(!1),n=r()(t,2),a=n[0],o=n[1],c=p.Z.useWatch([],e);return(0,g.useEffect)((function(){e.validateFields({validateOnly:!0}).then((function(){return o(!0)})).catch((function(){return o(!1)}))}),[e,c]),{submittable:a}}},96100:function(e,t,n){"use strict";n.d(t,{HK:function(){return d},Uu:function(){return l},fz:function(){return g},nT:function(){return p},pE:function(){return f},wy:function(){return m}});var a=n(5574),r=n.n(a),o=n(96330),c=n(67294),s=n(86004),i=function(e){return e.Second="2",e.Third="3",e}({}),u=function(e){return(0,s.TH)().pathname.split("/")[e]||""},l=function(){return u(i.Second)},d=function(){return u(i.Third)},f=function(){var e=(0,s.lr)(),t=r()(e,1)[0];return{documentId:t.get(o.ld.DocumentId)||"",knowledgeId:t.get(o.ld.KnowledgeId)||""}},m=function(){var e=(0,s.s0)();return(0,c.useCallback)((function(t){e(t,{state:{from:t}})}),[e])},p=function(){var e=(0,s.s0)(),t=f().knowledgeId;return(0,c.useCallback)((function(){e("/knowledge/".concat(o.Rx.Dataset,"?id=").concat(t))}),[t,e])},g=function(){var e=(0,s.lr)(),t=r()(e,2),n=t[0],a=t[1],o=(0,c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;n.set("page",e.toString()),t&&n.set("size",t.toString()),a(n)}),[a,n]);return{setPaginationParams:o,page:Number(n.get("page"))||1,size:Number(n.get("size"))||10}}},39259:function(e,t,n){"use strict";n.d(t,{CV:function(){return D},F1:function(){return F},Jf:function(){return P},Jv:function(){return $},PI:function(){return L},WH:function(){return C},XH:function(){return b},d1:function(){return I},ef:function(){return N},er:function(){return G},fS:function(){return x},hZ:function(){return E},jd:function(){return w},m_:function(){return K},nv:function(){return T},oH:function(){return j},v:function(){return S},x_:function(){return q}});var a=n(5574),r=n.n(a),o=n(15009),c=n.n(o),s=n(99289),i=n.n(s),u=n(40169),l=n(72668),d=n(78551),f=n(30202),m=n(98029),p=n(85576),g=n(45360),v=n(22424),h=n(96486),y=n(67294),_=n(67421),k=n(86004),Z=n(85893),w=function(){var e,t=(0,_.$G)().i18n,n=(0,d.a)({queryKey:["userInfo"],initialData:{},gcTime:0,queryFn:(e=i()(c()().mark((function e(){var n,a,r;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.user_info();case 2:return a=e.sent,0===(r=a.data).code&&t.changeLanguage(u.Kj[r.data.language]),e.abrupt("return",null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{});case 6:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:n.data,loading:n.isFetching}},x=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,_.$G)().t,a=(0,d.a)({queryKey:["tenantInfo"],initialData:{},gcTime:0,queryFn:(e=i()(c()().mark((function e(){var a,r,o;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.get_tenant_info();case 2:if(a=e.sent,0!==(r=a.data).code){e.next=10;break}return o=r.data,t&&((0,h.isEmpty)(o.embd_id)||(0,h.isEmpty)(o.llm_id))&&p.Z.warning({title:n("common.warn"),content:(0,Z.jsx)("div",{dangerouslySetInnerHTML:{__html:v.Z.sanitize(n("setting.modelProvidersWarn"))}}),onOk:function(){k.m8.push("/user-setting/model")}}),o.chat_id=o.llm_id,o.speech2text_id=o.asr_id,e.abrupt("return",o);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:a.data,loading:a.isFetching}},b=function(){var e=x(!0).data;return(0,y.useMemo)((function(){var t,n;return(null!==(t=null==e||null===(n=e.parser_ids)||void 0===n?void 0:n.split(","))&&void 0!==t?t:[]).map((function(e){var t=e.split(":");return{value:t[0],label:t[1]}}))}),[e])},C=function(){var e,t=(0,f.NL)(),n=(0,_.$G)().t,a=(0,m.D)({mutationKey:["saveSetting"],mutationFn:(e=i()(c()().mark((function e(a){var r,o;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.setting(a);case 2:return r=e.sent,0===(o=r.data).code&&(g.ZP.success(n("message.modified")),t.invalidateQueries({queryKey:["userInfo"]})),e.abrupt("return",null==o?void 0:o.code);case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:a.data,loading:a.isPending,saveSetting:a.mutateAsync}},T=function(){var e=(0,y.useState)(""),t=r()(e,2),n=t[0],a=t[1],o=(0,y.useState)(!1),s=r()(o,2),u=s[0],d=s[1];return{fetchSystemVersion:(0,y.useCallback)(i()(c()().mark((function e(){var t,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,l.ZP.getSystemVersion();case 4:t=e.sent,0===(n=t.data).code&&(a(n.data),d(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]),version:n,loading:u}},P=function(){var e=(0,y.useState)({}),t=r()(e,2),n=t[0],a=t[1],o=(0,y.useState)(!1),s=r()(o,2),u=s[0],d=s[1];return{systemStatus:n,fetchSystemStatus:(0,y.useCallback)(i()(c()().mark((function e(){var t,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,l.ZP.getSystemStatus();case 3:t=e.sent,0===(n=t.data).code&&(a(n.data),d(!1));case 6:case"end":return e.stop()}}),e)}))),[]),loading:u}},S=function(){var e,t=(0,m.D)({mutationKey:["fetchManualSystemTokenList"],mutationFn:(e=i()(c()().mark((function e(){var t,n,a;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.listToken();case 2:return n=e.sent,a=n.data,e.abrupt("return",null!==(t=null==a?void 0:a.data)&&void 0!==t?t:[]);case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,fetchSystemTokenList:t.mutateAsync}},F=function(){var e,t=(0,d.a)({queryKey:["fetchSystemTokenList"],initialData:[],gcTime:0,queryFn:(e=i()(c()().mark((function e(){var t,n,a;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.listToken();case 2:return n=e.sent,a=n.data,e.abrupt("return",null!==(t=null==a?void 0:a.data)&&void 0!==t?t:[]);case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:t.data,loading:t.isFetching,refetch:t.refetch}},N=function(){var e,t=(0,f.NL)(),n=(0,_.$G)().t,a=(0,m.D)({mutationKey:["removeSystemToken"],mutationFn:(e=i()(c()().mark((function e(a){var r,o,s;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.removeToken({},a);case 2:return o=e.sent,0===(s=o.data).code&&(g.ZP.success(n("message.deleted")),t.invalidateQueries({queryKey:["fetchSystemTokenList"]})),e.abrupt("return",null!==(r=null==s?void 0:s.data)&&void 0!==r?r:[]);case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:a.data,loading:a.isPending,removeToken:a.mutateAsync}},L=function(){var e,t=(0,f.NL)(),n=(0,m.D)({mutationKey:["createSystemToken"],mutationFn:(e=i()(c()().mark((function e(n){var a,r,o;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.createToken(n);case 2:return r=e.sent,0===(o=r.data).code&&t.invalidateQueries({queryKey:["fetchSystemTokenList"]}),e.abrupt("return",null!==(a=null==o?void 0:o.data)&&void 0!==a?a:[]);case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,createToken:n.mutateAsync}},E=function(){var e,t=x().data.tenant_id,n=(0,d.a)({queryKey:["listTenantUser",t],initialData:[],gcTime:0,enabled:!!t,queryFn:(e=i()(c()().mark((function e(){var n,a,r;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.WX)(t);case 2:return a=e.sent,r=a.data,e.abrupt("return",null!==(n=null==r?void 0:r.data)&&void 0!==n?n:[]);case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:n.data,loading:n.isFetching,refetch:n.refetch}},K=function(){var e,t=x().data,n=(0,f.NL)(),a=(0,m.D)({mutationKey:["addTenantUser"],mutationFn:(e=i()(c()().mark((function e(a){var r,o;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.AH)(t.tenant_id,a);case 2:return r=e.sent,0===(o=r.data).code&&n.invalidateQueries({queryKey:["listTenantUser"]}),e.abrupt("return",null==o?void 0:o.code);case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:a.data,loading:a.isPending,addTenantUser:a.mutateAsync}},D=function(){var e,t=x().data,n=(0,f.NL)(),a=(0,_.$G)().t,r=(0,m.D)({mutationKey:["deleteTenantUser"],mutationFn:(e=i()(c()().mark((function e(r){var o,s,i,u,d;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.userId,i=r.tenantId,e.next=3,(0,l.EE)({tenantId:null!=i?i:t.tenant_id,userId:s});case 3:return u=e.sent,0===(d=u.data).code&&(g.ZP.success(a("message.deleted")),n.invalidateQueries({queryKey:["listTenantUser"]}),n.invalidateQueries({queryKey:["listTenant"]})),e.abrupt("return",null!==(o=null==d?void 0:d.data)&&void 0!==o?o:[]);case 7:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:r.data,loading:r.isPending,deleteTenantUser:r.mutateAsync}},I=function(){var e,t=x().data.tenant_id,n=(0,d.a)({queryKey:["listTenant",t],initialData:[],gcTime:0,enabled:!!t,queryFn:(e=i()(c()().mark((function e(){var t,n,a;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.vh)();case 2:return n=e.sent,a=n.data,e.abrupt("return",null!==(t=null==a?void 0:a.data)&&void 0!==t?t:[]);case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:n.data,loading:n.isFetching,refetch:n.refetch}},j=function(){var e,t=(0,f.NL)(),n=(0,_.$G)().t,a=(0,m.D)({mutationKey:["agreeTenant"],mutationFn:(e=i()(c()().mark((function e(a){var r,o,s;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.FG)(a);case 2:return o=e.sent,0===(s=o.data).code&&(g.ZP.success(n("message.operated")),t.invalidateQueries({queryKey:["listTenant"]})),e.abrupt("return",null!==(r=null==s?void 0:s.data)&&void 0!==r?r:[]);case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:a.data,loading:a.isPending,agreeTenant:a.mutateAsync}},$=function(){var e,t=(0,_.$G)().t,n=(0,m.D)({mutationKey:["setLangfuseConfig"],mutationFn:(e=i()(c()().mark((function e(n){var a,r;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.setLangfuseConfig(n);case 2:return a=e.sent,0===(r=a.data).code&&g.ZP.success(t("message.operated")),e.abrupt("return",null==r?void 0:r.code);case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,setLangfuseConfig:n.mutateAsync}},q=function(){var e,t=(0,_.$G)().t,n=(0,m.D)({mutationKey:["deleteLangfuseConfig"],mutationFn:(e=i()(c()().mark((function e(){var n,a;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.deleteLangfuseConfig();case 2:return n=e.sent,0===(a=n.data).code&&g.ZP.success(t("message.deleted")),e.abrupt("return",null==a?void 0:a.code);case 6:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,deleteLangfuseConfig:n.mutateAsync}},G=function(){var e,t=(0,d.a)({queryKey:["fetchLangfuseConfig"],gcTime:0,queryFn:(e=i()(c()().mark((function e(){var t,n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.ZP.getLangfuseConfig();case 2:return t=e.sent,n=t.data,e.abrupt("return",null==n?void 0:n.data);case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:t.data,loading:t.isFetching}}},33041:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(86250),r=n(86004),o=n(40169),c=n(86968),s=n(51509),i=n(96100),u=n(39259),l=n(50136),d=n(67294),f=n(73828),m="sideBarWrapper___pApYb",p="version___uhL2R",g=n(85893),v=function(){var e=(0,r.s0)(),t=(0,i.Uu)(),n=(0,s.aU)().logout,v=(0,c.qM)("setting").t,h=(0,u.nv)(),y=h.version,_=h.fetchSystemVersion;(0,d.useEffect)((function(){location.host!==o.qp&&_()}),[_]);var k=Object.values(f.qh).map((function(e){return t=e,n=e,r=f.Dr[e],{key:n,icon:r,children:o,label:(0,g.jsxs)(a.Z,{justify:"space-between",children:[v(t),(0,g.jsx)("span",{className:p,children:"system"===t&&y})]}),type:c};var t,n,r,o,c})),Z=(0,d.useMemo)((function(){return[t]}),[t]);return(0,g.jsx)("section",{className:m,children:(0,g.jsx)(l.Z,{selectedKeys:Z,mode:"inline",items:k,onClick:function(t){var a=t.key;a===f.qh.Logout?n():e("/".concat(f.H7,"/").concat(a))},style:{width:312}})})},h=n(75041),y=function(){return(0,g.jsxs)(a.Z,{className:h.Z.settingWrapper,children:[(0,g.jsx)(v,{}),(0,g.jsx)(a.Z,{flex:1,className:h.Z.outletWrapper,children:(0,g.jsx)(r.j3,{})})]})}},72668:function(e,t,n){"use strict";n.d(t,{AH:function(){return N},EE:function(){return L},FG:function(){return K},WX:function(){return F},vh:function(){return E}});var a=n(60806),r=n(66582),o=n(78158),c=a.Z.login,s=a.Z.logout,i=a.Z.register,u=a.Z.setting,l=a.Z.user_info,d=a.Z.tenant_info,f=a.Z.factories_list,m=a.Z.llm_list,p=a.Z.my_llm,g=a.Z.set_api_key,v=a.Z.set_tenant_info,h=a.Z.add_llm,y=a.Z.delete_llm,_=a.Z.deleteFactory,k=a.Z.getSystemStatus,Z=a.Z.getSystemVersion,w=a.Z.getSystemTokenList,x=a.Z.removeSystemToken,b=a.Z.createSystemToken,C=a.Z.getSystemConfig,T=a.Z.setLangfuseConfig,P={login:{url:c,method:"post"},logout:{url:s,method:"get"},register:{url:i,method:"post"},setting:{url:u,method:"post"},user_info:{url:l,method:"get"},get_tenant_info:{url:d,method:"get"},set_tenant_info:{url:v,method:"post"},factories_list:{url:f,method:"get"},llm_list:{url:m,method:"get"},my_llm:{url:p,method:"get"},set_api_key:{url:g,method:"post"},add_llm:{url:h,method:"post"},delete_llm:{url:y,method:"post"},getSystemStatus:{url:k,method:"get"},getSystemVersion:{url:Z,method:"get"},deleteFactory:{url:_,method:"post"},listToken:{url:w,method:"get"},createToken:{url:b,method:"post"},removeToken:{url:x,method:"delete"},getSystemConfig:{url:C,method:"get"},setLangfuseConfig:{url:T,method:"put"},getLangfuseConfig:{url:T,method:"get"},deleteLangfuseConfig:{url:T,method:"delete"}},S=(0,r.Z)(P,o.ZP),F=function(e){return o.ZP.get(a.Z.listTenantUser(e))},N=function(e,t){return(0,o.v_)(a.Z.addTenantUser(e),{email:t})},L=function(e){var t=e.tenantId,n=e.userId;return o.ZP.delete(a.Z.deleteTenantUser(t,n))},E=function(){return o.ZP.get(a.Z.listTenant)},K=function(e){return o.ZP.put(a.Z.agreeTenant(e))};t.ZP=S},60806:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var a="/v1";t.Z={login:"".concat(a,"/user/login"),logout:"".concat(a,"/user/logout"),register:"".concat(a,"/user/register"),setting:"".concat(a,"/user/setting"),user_info:"".concat(a,"/user/info"),tenant_info:"".concat(a,"/user/tenant_info"),set_tenant_info:"".concat(a,"/user/set_tenant_info"),addTenantUser:function(e){return"".concat(a,"/tenant/").concat(e,"/user")},listTenantUser:function(e){return"".concat(a,"/tenant/").concat(e,"/user/list")},deleteTenantUser:function(e,t){return"".concat(a,"/tenant/").concat(e,"/user/").concat(t)},listTenant:"".concat(a,"/tenant/list"),agreeTenant:function(e){return"".concat(a,"/tenant/agree/").concat(e)},factories_list:"".concat(a,"/llm/factories"),llm_list:"".concat(a,"/llm/list"),my_llm:"".concat(a,"/llm/my_llms"),set_api_key:"".concat(a,"/llm/set_api_key"),add_llm:"".concat(a,"/llm/add_llm"),delete_llm:"".concat(a,"/llm/delete_llm"),deleteFactory:"".concat(a,"/llm/delete_factory"),kb_list:"".concat(a,"/kb/list"),create_kb:"".concat(a,"/kb/create"),update_kb:"".concat(a,"/kb/update"),rm_kb:"".concat(a,"/kb/rm"),get_kb_detail:"".concat(a,"/kb/detail"),getKnowledgeGraph:function(e){return"".concat(a,"/kb/").concat(e,"/knowledge_graph")},listTag:function(e){return"".concat(a,"/kb/").concat(e,"/tags")},listTagByKnowledgeIds:"".concat(a,"/kb/tags"),removeTag:function(e){return"".concat(a,"/kb/").concat(e,"/rm_tags")},renameTag:function(e){return"".concat(a,"/kb/").concat(e,"/rename_tag")},chunk_list:"".concat(a,"/chunk/list"),create_chunk:"".concat(a,"/chunk/create"),set_chunk:"".concat(a,"/chunk/set"),get_chunk:"".concat(a,"/chunk/get"),switch_chunk:"".concat(a,"/chunk/switch"),rm_chunk:"".concat(a,"/chunk/rm"),retrieval_test:"".concat(a,"/chunk/retrieval_test"),knowledge_graph:"".concat(a,"/chunk/knowledge_graph"),get_document_list:"".concat(a,"/document/list"),document_change_status:"".concat(a,"/document/change_status"),document_rm:"".concat(a,"/document/rm"),document_delete:"".concat(a,"/api/document"),document_rename:"".concat(a,"/document/rename"),document_create:"".concat(a,"/document/create"),document_run:"".concat(a,"/document/run"),document_change_parser:"".concat(a,"/document/change_parser"),document_thumbnails:"".concat(a,"/document/thumbnails"),get_document_file:"".concat(a,"/document/get"),document_upload:"".concat(a,"/document/upload"),web_crawl:"".concat(a,"/document/web_crawl"),document_infos:"".concat(a,"/document/infos"),upload_and_parse:"".concat(a,"/document/upload_and_parse"),parse:"".concat(a,"/document/parse"),setMeta:"".concat(a,"/document/set_meta"),setDialog:"".concat(a,"/dialog/set"),getDialog:"".concat(a,"/dialog/get"),removeDialog:"".concat(a,"/dialog/rm"),listDialog:"".concat(a,"/dialog/list"),setConversation:"".concat(a,"/conversation/set"),getConversation:"".concat(a,"/conversation/get"),getConversationSSE:"".concat(a,"/conversation/getsse"),listConversation:"".concat(a,"/conversation/list"),removeConversation:"".concat(a,"/conversation/rm"),completeConversation:"".concat(a,"/conversation/completion"),deleteMessage:"".concat(a,"/conversation/delete_msg"),thumbup:"".concat(a,"/conversation/thumbup"),tts:"".concat(a,"/conversation/tts"),ask:"".concat(a,"/conversation/ask"),mindmap:"".concat(a,"/conversation/mindmap"),getRelatedQuestions:"".concat(a,"/conversation/related_questions"),createToken:"".concat(a,"/api/new_token"),listToken:"".concat(a,"/api/token_list"),removeToken:"".concat(a,"/api/rm"),getStats:"".concat(a,"/api/stats"),createExternalConversation:"".concat(a,"/api/new_conversation"),getExternalConversation:"".concat(a,"/api/conversation"),completeExternalConversation:"".concat(a,"/api/completion"),uploadAndParseExternal:"".concat(a,"/api/document/upload_and_parse"),listFile:"".concat(a,"/file/list"),uploadFile:"".concat(a,"/file/upload"),removeFile:"".concat(a,"/file/rm"),renameFile:"".concat(a,"/file/rename"),getAllParentFolder:"".concat(a,"/file/all_parent_folder"),createFolder:"".concat(a,"/file/create"),connectFileToKnowledge:"".concat(a,"/file2document/convert"),getFile:"".concat(a,"/file/get"),moveFile:"".concat(a,"/file/mv"),getSystemVersion:"".concat(a,"/system/version"),getSystemStatus:"".concat(a,"/system/status"),getSystemTokenList:"".concat(a,"/system/token_list"),createSystemToken:"".concat(a,"/system/new_token"),listSystemToken:"".concat(a,"/system/token_list"),removeSystemToken:"".concat(a,"/system/token"),getSystemConfig:"".concat(a,"/system/config"),setLangfuseConfig:"".concat(a,"/langfuse/api_key"),listTemplates:"".concat(a,"/canvas/templates"),listCanvas:"".concat(a,"/canvas/list"),listCanvasTeam:"".concat(a,"/canvas/listteam"),getCanvas:"".concat(a,"/canvas/get"),getCanvasSSE:"".concat(a,"/canvas/getsse"),removeCanvas:"".concat(a,"/canvas/rm"),setCanvas:"".concat(a,"/canvas/set"),settingCanvas:"".concat(a,"/canvas/setting"),getListVersion:"".concat(a,"/canvas/getlistversion"),getVersion:"".concat(a,"/canvas/getversion"),resetCanvas:"".concat(a,"/canvas/reset"),runCanvas:"".concat(a,"/canvas/completion"),testDbConnect:"".concat(a,"/canvas/test_db_connect"),getInputElements:"".concat(a,"/canvas/input_elements"),debug:"".concat(a,"/canvas/debug")}},66582:function(e,t,n){"use strict";var a=n(97857),r=n.n(a),o=n(57557),c=n.n(o),s=["post","delete","put"];t.Z=function(e,t){var n={},a=function(a){n[a]=function(n,o){var i=e[a].url,u=e[a];return o&&(i=i+"/"+o),s.some((function(t){return t===e[a].method.toLowerCase()}))?t(i,{method:e[a].method,data:n}):"get"===e[a].method||"GET"===e[a].method?t.get(i,r()(r()({},c()(u,["method","url"])),{},{params:n})):void 0}};for(var o in e)a(o);return n}},78158:function(e,t,n){"use strict";n.d(t,{v_:function(){return k}});var a=n(15009),r=n.n(a),o=n(99289),c=n.n(o),s=n(9783),i=n.n(s),u=n(97857),l=n.n(u),d=n(39918),f=n(54707),m=n(61921),p=n(26855),g=n(45360),v=n(11238),h=n(31098),y={200:f.Z.t("message.200"),201:f.Z.t("message.201"),202:f.Z.t("message.202"),204:f.Z.t("message.204"),400:f.Z.t("message.400"),401:f.Z.t("message.401"),403:f.Z.t("message.403"),404:f.Z.t("message.404"),406:f.Z.t("message.406"),410:f.Z.t("message.410"),413:f.Z.t("message.413"),422:f.Z.t("message.422"),500:f.Z.t("message.500"),502:f.Z.t("message.502"),503:f.Z.t("message.503"),504:f.Z.t("message.504")},_=(0,v.l7)({errorHandler:function(e){var t=e.response;if("Failed to fetch"===e.message)p.ZP.error({description:f.Z.t("message.networkAnomalyDescription"),message:f.Z.t("message.networkAnomaly")});else if(t&&t.status){var n=y[t.status]||t.statusText,a=t.status,r=t.url;p.ZP.error({message:"".concat(f.Z.t("message.requestError")," ").concat(a,": ").concat(r),description:n})}return null!=t?t:{data:{code:1999}}},timeout:3e5,getResponse:!0});_.interceptors.request.use((function(e,t){var n=(0,h._y)(t.data),a=(0,h._y)(t.params);return{url:e,options:l()(l()({},t),{},{data:n,params:a,headers:l()(l()({},t.skipToken?void 0:i()({},d._n,(0,m.cD)())),t.headers),interceptors:!0})}})),_.interceptors.response.use(function(){var e=c()(r()().mark((function e(t,n){var a,o;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(413!==(null==t?void 0:t.status)&&504!==(null==t?void 0:t.status)||g.ZP.error(y[null==t?void 0:t.status]),"blob"!==n.responseType){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,null==t||null===(a=t.clone())||void 0===a?void 0:a.json();case 5:return 100===(null==(o=e.sent)?void 0:o.code)?g.ZP.error(null==o?void 0:o.message):401===(null==o?void 0:o.code)?(p.ZP.error({message:null==o?void 0:o.message,description:null==o?void 0:o.message,duration:3}),m.ZP.removeAll(),(0,m.rf)()):0!==(null==o?void 0:o.code)&&p.ZP.error({message:"".concat(f.Z.t("message.hint")," : ").concat(null==o?void 0:o.code),description:null==o?void 0:o.message,duration:3}),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),t.ZP=_;var k=function(e,t){return _.post(e,{data:t})}},75041:function(e,t){"use strict";t.Z={settingWrapper:"settingWrapper___zesBR",outletWrapper:"outletWrapper___Zl2jj",itemDescription:"itemDescription___WJ1sc"}},86250:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var a=n(67294),r=n(93967),o=n.n(r),c=n(98423),s=n(98065),i=n(53124),u=n(83559),l=n(83262);const d=["wrap","nowrap","wrap-reverse"],f=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],m=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"];var p=function(e,t){return o()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const n=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${n}`]:n&&d.includes(n)}})(e,t)),((e,t)=>{const n={};return m.forEach((a=>{n[`${e}-align-${a}`]=t.align===a})),n[`${e}-align-stretch`]=!t.align&&!!t.vertical,n})(e,t)),((e,t)=>{const n={};return f.forEach((a=>{n[`${e}-justify-${a}`]=t.justify===a})),n})(e,t)))};const g=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},v=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},h=e=>{const{componentCls:t}=e,n={};return d.forEach((e=>{n[`${t}-wrap-${e}`]={flexWrap:e}})),n},y=e=>{const{componentCls:t}=e,n={};return m.forEach((e=>{n[`${t}-align-${e}`]={alignItems:e}})),n},_=e=>{const{componentCls:t}=e,n={};return f.forEach((e=>{n[`${t}-justify-${e}`]={justifyContent:e}})),n};var k=(0,u.I$)("Flex",(e=>{const{paddingXS:t,padding:n,paddingLG:a}=e,r=(0,l.IX)(e,{flexGapSM:t,flexGap:n,flexGapLG:a});return[g(r),v(r),h(r),y(r),_(r)]}),(()=>({})),{resetStyle:!1}),Z=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const w=a.forwardRef(((e,t)=>{const{prefixCls:n,rootClassName:r,className:u,style:l,flex:d,gap:f,children:m,vertical:g=!1,component:v="div"}=e,h=Z(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:y,direction:_,getPrefixCls:w}=a.useContext(i.E_),x=w("flex",n),[b,C,T]=k(x),P=null!=g?g:null==y?void 0:y.vertical,S=o()(u,r,null==y?void 0:y.className,x,C,T,p(x,e),{[`${x}-rtl`]:"rtl"===_,[`${x}-gap-${f}`]:(0,s.n)(f),[`${x}-vertical`]:P}),F=Object.assign(Object.assign({},null==y?void 0:y.style),l);return d&&(F.flex=d),f&&!(0,s.n)(f)&&(F.gap=f),b(a.createElement(v,Object.assign({ref:t,className:S,style:F},(0,c.Z)(h,["justify","wrap","align"])),m))}));var x=w},91373:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(67294);const r=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim();var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=(0,a.forwardRef)((({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:s="",children:i,iconNode:u,...l},d)=>(0,a.createElement)("svg",{ref:d,...o,width:t,height:t,stroke:e,strokeWidth:c?24*Number(n)/Number(t):n,className:r("lucide",s),...l},[...u.map((([e,t])=>(0,a.createElement)(e,t))),...Array.isArray(i)?i:[i]]))),s=(e,t)=>{const n=(0,a.forwardRef)((({className:n,...o},s)=>{return(0,a.createElement)(c,{ref:s,iconNode:t,className:r(`lucide-${i=e,i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...o});var i}));return n.displayName=`${e}`,n}},8971:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});const a=(0,n(91373).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},86635:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=86635,e.exports=t},24654:function(){}}]);
//# sourceMappingURL=p__user-setting__index.b6e69e9d.async.js.map