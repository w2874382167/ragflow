/*! For license information please see p__files__index.87314436.async.js.LICENSE.txt */
"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[9615],{16165:function(e,n,t){var a=t(87462),r=t(1413),i=t(4942),s=t(45987),o=t(67294),c=t(93967),l=t.n(c),u=t(42550),d=t(63017),f=t(41755),m=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],p=o.forwardRef((function(e,n){var t=e.className,c=e.component,p=e.viewBox,h=e.spin,x=e.rotate,v=e.tabIndex,g=e.onClick,y=e.children,w=(0,s.Z)(e,m),N=o.useRef(),b=(0,u.x1)(N,n);(0,f.Kp)(Boolean(c||y),"Should have `component` prop or `children`."),(0,f.C3)(N);var j=o.useContext(d.Z),k=j.prefixCls,C=void 0===k?"anticon":k,F=j.rootClassName,R=l()(F,C,(0,i.Z)({},"".concat(C,"-spin"),!!h&&!!c),t),Z=l()((0,i.Z)({},"".concat(C,"-spin"),!!h)),z=x?{msTransform:"rotate(".concat(x,"deg)"),transform:"rotate(".concat(x,"deg)")}:void 0,S=(0,r.Z)((0,r.Z)({},f.vD),{},{className:Z,style:z,viewBox:p});p||delete S.viewBox;var K=v;return void 0===K&&g&&(K=-1),o.createElement("span",(0,a.Z)({role:"img"},w,{ref:b,tabIndex:K,onClick:g,className:R}),c?o.createElement(c,S,y):y?((0,f.Kp)(Boolean(p)||1===o.Children.count(y)&&o.isValidElement(y)&&"use"===o.Children.only(y).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),o.createElement("svg",(0,a.Z)({},S,{viewBox:p}),y)):null)}));p.displayName="AntdIcon",n.Z=p},87547:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(87462),r=t(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},s=t(84089),o=function(e,n){return r.createElement(s.Z,(0,a.Z)({},e,{ref:n,icon:i}))};var c=r.forwardRef(o)},26625:function(e,n,t){t.d(n,{h:function(){return M}});var a=t(97857),r=t.n(a),i=t(13769),s=t.n(i),o=t(90502),c=t(67294),l=t(57636),u=t(27080),d=t(85893),f=["className"],m=["className"],p=["className"],h=["className"],x=["className"],v=["className"],g=["className"],y=["className"],w=o.fC,N=o.xz,b=o.h_,j=c.forwardRef((function(e,n){var t=e.className,a=s()(e,f);return(0,d.jsx)(o.aV,r()(r()({className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},a),{},{ref:n}))}));j.displayName=o.aV.displayName;var k=c.forwardRef((function(e,n){var t=e.className,a=s()(e,m);return(0,d.jsxs)(b,{children:[(0,d.jsx)(j,{}),(0,d.jsx)(o.VY,r()({ref:n,className:(0,u.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-colors-background-neutral-standard p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},a))]})}));k.displayName=o.VY.displayName;var C=function(e){var n=e.className,t=s()(e,p);return(0,d.jsx)("div",r()({className:(0,u.cn)("flex flex-col space-y-2 text-center sm:text-left",n)},t))};C.displayName="AlertDialogHeader";var F=function(e){var n=e.className,t=s()(e,h);return(0,d.jsx)("div",r()({className:(0,u.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n)},t))};F.displayName="AlertDialogFooter";var R=c.forwardRef((function(e,n){var t=e.className,a=s()(e,x);return(0,d.jsx)(o.Dx,r()({ref:n,className:(0,u.cn)("text-lg font-semibold",t)},a))}));R.displayName=o.Dx.displayName,c.forwardRef((function(e,n){var t=e.className,a=s()(e,v);return(0,d.jsx)(o.dk,r()({ref:n,className:(0,u.cn)("text-sm text-muted-foreground",t)},a))})).displayName=o.dk.displayName;var Z=c.forwardRef((function(e,n){var t=e.className,a=s()(e,g);return(0,d.jsx)(o.aU,r()({ref:n,className:(0,u.cn)((0,l.d)(),t)},a))}));Z.displayName=o.aU.displayName;var z=c.forwardRef((function(e,n){var t=e.className,a=s()(e,y);return(0,d.jsx)(o.$j,r()({ref:n,className:(0,u.cn)((0,l.d)({variant:"outline"}),"mt-2 sm:mt-0",t)},a))}));z.displayName=o.$j.displayName;var S=t(13718),K=t(67421);function M(e){var n=e.children,t=e.title,a=e.onOk,r=(0,K.$G)().t;return(0,d.jsxs)(w,{children:[(0,d.jsx)(N,{asChild:!0,children:n}),(0,d.jsxs)(k,{children:[(0,d.jsx)(C,{children:(0,d.jsx)(R,{children:null!=t?t:r("common.deleteModalTitle")})}),(0,d.jsxs)(F,{children:[(0,d.jsx)(z,{children:r("common.cancel")}),(0,d.jsxs)(Z,{className:"bg-colors-background-functional-solid-danger text--colors-text-neutral-strong",onClick:a,children:[(0,d.jsx)(S.Z,{}),r("common.ok")]})]})]})]})}},83943:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(71981),r=t(57636),i=t(27591),s=t(85893);function o(e){var n=e.title,t=e.children,o=e.showDialog;return(0,s.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,s.jsx)("span",{className:"text-3xl font-bold ",children:n}),(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsx)(a.Z,{className:"size-5"}),(0,s.jsx)(i.Mj,{}),(0,s.jsx)(r.z,{variant:"tertiary",size:"sm",onClick:o,children:t})]})]})}},23309:function(e,n,t){t.d(n,{X:function(){return m}});var a=t(97857),r=t.n(a),i=t(13769),s=t.n(i),o=t(46069),c=t(13742),l=t(67294),u=t(27080),d=t(85893),f=["className"],m=l.forwardRef((function(e,n){var t=e.className,a=s()(e,f);return(0,d.jsx)(o.fC,r()(r()({ref:n,className:(0,u.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t)},a),{},{children:(0,d.jsx)(o.z$,{className:(0,u.cn)("flex items-center justify-center text-current"),children:(0,d.jsx)(c.Z,{className:"h-4 w-4"})})}))}));m.displayName=o.fC.displayName},25910:function(e,n,t){t.d(n,{$F:function(){return j},AW:function(){return k},Ju:function(){return F},VD:function(){return R},Xi:function(){return C},h_:function(){return b}});var a=t(97857),r=t.n(a),i=t(13769),s=t.n(i),o=t(63482),c=t(64998),l=t(13742),u=t(50316),d=t(67294),f=t(27080),m=t(85893),p=["className","inset","children"],h=["className"],x=["className","sideOffset"],v=["className","inset"],g=["className","children","checked"],y=["className","children"],w=["className","inset"],N=["className"],b=o.fC,j=o.xz;o.ZA,o.Uv,o.Tr,o.Ee;d.forwardRef((function(e,n){var t=e.className,a=e.inset,i=e.children,l=s()(e,p);return(0,m.jsxs)(o.fF,r()(r()({ref:n,className:(0,f.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t)},l),{},{children:[i,(0,m.jsx)(c.Z,{className:"ml-auto"})]}))})).displayName=o.fF.displayName,d.forwardRef((function(e,n){var t=e.className,a=s()(e,h);return(0,m.jsx)(o.tu,r()({ref:n,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t)},a))})).displayName=o.tu.displayName;var k=d.forwardRef((function(e,n){var t=e.className,a=e.sideOffset,i=void 0===a?4:a,c=s()(e,x);return(0,m.jsx)(o.Uv,{children:(0,m.jsx)(o.VY,r()({ref:n,sideOffset:i,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t)},c))})}));k.displayName=o.VY.displayName;var C=d.forwardRef((function(e,n){var t=e.className,a=e.inset,i=s()(e,v);return(0,m.jsx)(o.ck,r()({ref:n,className:(0,f.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t)},i))}));C.displayName=o.ck.displayName,d.forwardRef((function(e,n){var t=e.className,a=e.children,i=e.checked,c=s()(e,g);return(0,m.jsxs)(o.oC,r()(r()({ref:n,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:i},c),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(o.wU,{children:(0,m.jsx)(l.Z,{className:"h-4 w-4"})})}),a]}))})).displayName=o.oC.displayName,d.forwardRef((function(e,n){var t=e.className,a=e.children,i=s()(e,y);return(0,m.jsxs)(o.Rk,r()(r()({ref:n,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t)},i),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(o.wU,{children:(0,m.jsx)(u.Z,{className:"h-2 w-2 fill-current"})})}),a]}))})).displayName=o.Rk.displayName;var F=d.forwardRef((function(e,n){var t=e.className,a=e.inset,i=s()(e,w);return(0,m.jsx)(o.__,r()({ref:n,className:(0,f.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t)},i))}));F.displayName=o.__.displayName;var R=d.forwardRef((function(e,n){var t=e.className,a=s()(e,N);return(0,m.jsx)(o.Z0,r()({ref:n,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",t)},a))}));R.displayName=o.Z0.displayName},27591:function(e,n,t){t.d(n,{II:function(){return h},Mj:function(){return v}});var a=t(9783),r=t.n(a),i=t(97857),s=t.n(i),o=t(13769),c=t.n(o),l=t(67294),u=t(27080),d=t(87764),f=t(85893),m=["className","type"],p=["suffix","prefix"],h=l.forwardRef((function(e,n){var t=e.className,a=e.type,r=c()(e,m);return(0,f.jsx)("input",s()({type:a,className:(0,u.cn)("flex h-10 w-full rounded-md border border-input bg-colors-background-inverse-weak px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n},r))}));h.displayName="Input";var x=function(e){var n=e.suffix,t=e.prefix,a=c()(e,p);return(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("span",{className:(0,u.cn)(r()({},"absolute left-3 top-[50%] translate-y-[-50%]",t)),children:t}),(0,f.jsx)(h,s()({className:(0,u.cn)({"pr-10":n,"pl-10":t})},a)),(0,f.jsx)("span",{className:(0,u.cn)(r()({},"absolute right-3 top-[50%] translate-y-[-50%]",n)),children:n})]})},v=function(e){return(0,f.jsx)(x,s()({suffix:(0,f.jsx)(d.Z,{})},e))}},11524:function(e,n,t){t.d(n,{f:function(){return h}});var a=t(97857),r=t.n(a),i=t(13769),s=t.n(i),o=t(27080),c=t(88426),l=t(12003),u=t(36316),d=t(67294),f=t(85893),m=["className","loading","children","disabled","variant","size","asChild"],p=(0,l.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",tertiary:"bg-colors-background-sentiment-solid-primary text-colors-text-persist-light hover:bg-colors-background-sentiment-solid-primary/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=d.forwardRef((function(e,n){var t=e.className,a=e.loading,i=void 0!==a&&a,l=e.children,d=e.disabled,h=e.variant,x=e.size,v=e.asChild,g=void 0!==v&&v,y=s()(e,m),w=g?c.g7:"button";return(0,f.jsxs)(w,r()(r()({className:(0,o.cn)(p({variant:h,size:x,className:t})),ref:n,disabled:i||d},y),{},{children:[i&&(0,f.jsx)(u.Z,{className:"mr-2 h-5 w-5 animate-spin"}),(0,f.jsx)(c.A4,{children:l})]}))}));h.displayName="LoadingButton"},87033:function(e,n,t){t.d(n,{Od:function(){return u},q4:function(){return d}});var a=t(97857),r=t.n(a),i=t(13769),s=t.n(i),o=t(27080),c=t(85893),l=["className"];function u(e){var n=e.className,t=s()(e,l);return(0,c.jsx)("div",r()({className:(0,o.cn)("animate-pulse rounded-md bg-muted",n)},t))}function d(){return(0,c.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,c.jsx)(u,{className:"h-[125px] w-[250px] rounded-xl"}),(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(u,{className:"h-4 w-[250px]"}),(0,c.jsx)(u,{className:"h-4 w-[200px]"})]})]})}},75269:function(e,n,t){t.d(n,{RM:function(){return w},SC:function(){return N},iA:function(){return g},pj:function(){return j},ss:function(){return b},xD:function(){return y}});var a=t(97857),r=t.n(a),i=t(13769),s=t.n(i),o=t(67294),c=t(27080),l=t(85893),u=["className"],d=["className"],f=["className"],m=["className"],p=["className"],h=["className"],x=["className"],v=["className"],g=o.forwardRef((function(e,n){var t=e.className,a=s()(e,u);return(0,l.jsx)("div",{className:"relative w-full overflow-auto",children:(0,l.jsx)("table",r()({ref:n,className:(0,c.cn)("w-full caption-bottom text-sm",t)},a))})}));g.displayName="Table";var y=o.forwardRef((function(e,n){var t=e.className,a=s()(e,d);return(0,l.jsx)("thead",r()({ref:n,className:(0,c.cn)("[&_tr]:border-b",t)},a))}));y.displayName="TableHeader";var w=o.forwardRef((function(e,n){var t=e.className,a=s()(e,f);return(0,l.jsx)("tbody",r()({ref:n,className:(0,c.cn)("[&_tr:last-child]:border-0",t)},a))}));w.displayName="TableBody",o.forwardRef((function(e,n){var t=e.className,a=s()(e,m);return(0,l.jsx)("tfoot",r()({ref:n,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t)},a))})).displayName="TableFooter";var N=o.forwardRef((function(e,n){var t=e.className,a=s()(e,p);return(0,l.jsx)("tr",r()({ref:n,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t)},a))}));N.displayName="TableRow";var b=o.forwardRef((function(e,n){var t=e.className,a=s()(e,h);return(0,l.jsx)("th",r()({ref:n,className:(0,c.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t)},a))}));b.displayName="TableHead";var j=o.forwardRef((function(e,n){var t=e.className,a=s()(e,x);return(0,l.jsx)("td",r()({ref:n,className:(0,c.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t)},a))}));j.displayName="TableCell",o.forwardRef((function(e,n){var t=e.className,a=s()(e,v);return(0,l.jsx)("caption",r()({ref:n,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",t)},a))})).displayName="TableCaption"},89645:function(e,n,t){t.d(n,{BU:function(){return C},O6:function(){return F},VK:function(){return Z},YA:function(){return M},d:function(){return j},kR:function(){return S},n_:function(){return K},t:function(){return k},tI:function(){return z},vF:function(){return R}});var a=t(97857),r=t.n(a),i=t(15009),s=t.n(i),o=t(99289),c=t.n(o),l=t(5574),u=t.n(l),d=t(62386),f=t(51331),m=t(98029),p=t(78551),h=t(30202),x=t(45360),v=t(67294),g=t(67421),y=t(86004),w=t(2938),N=t(96100),b=function(){var e=(0,y.lr)(),n=u()(e,1)[0].get("folderId");return null!=n?n:""},j=function(){var e,n=(0,m.D)({mutationKey:["fetchPureFileList"],gcTime:0,mutationFn:(e=c()(s()().mark((function e(n){var t,a;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.listFile({parent_id:n});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})}),t=n.mutateAsync;return{loading:n.isPending,fetchList:t}},k=function(){var e,n,t=(0,w.Qe)(),a=t.searchString,i=t.handleInputChange,o=(0,w.ye)(),l=o.pagination,u=o.setPagination,f=b(),m=(0,p.a)({queryKey:["fetchFileList",r()({id:f,searchString:a},l)],initialData:{},gcTime:0,queryFn:(n=c()(s()().mark((function e(){var n,t;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.listFile({parent_id:f,keywords:a,page_size:l.pageSize,page:l.current});case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})}),h=m.data,x=m.isFetching,g=(0,v.useCallback)((function(e){u({page:1}),i(e)}),[i,u]);return r()(r()({},h),{},{searchString:a,handleInputChange:g,pagination:r()(r()({},l),{},{total:null==h||null===(e=h.data)||void 0===e?void 0:e.total}),setPagination:u,loading:x})},C=function(){var e,n=(0,N.fz)().setPaginationParams,t=(0,h.NL)(),a=(0,m.D)({mutationKey:["deleteFile"],mutationFn:(e=c()(s()().mark((function e(a){var r,i;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.removeFile(a);case 2:return r=e.sent,0===(i=r.data).code&&(n(1),t.invalidateQueries({queryKey:["fetchFileList"]})),e.abrupt("return",i.code);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:a.data,loading:a.isPending,deleteFile:a.mutateAsync}},F=function(){var e,n=(0,m.D)({mutationKey:["downloadFile"],mutationFn:(e=c()(s()().mark((function e(n){var t,a;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.getFile({},n.id);case 2:t=e.sent,a=new Blob([t.data],{type:t.data.type}),(0,f.uA)(a,n.filename);case 5:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,downloadFile:n.mutateAsync}},R=function(){var e,n=(0,h.NL)(),t=(0,g.$G)().t,a=(0,m.D)({mutationKey:["renameFile"],mutationFn:(e=c()(s()().mark((function e(a){var r,i;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.renameFile(a);case 2:return r=e.sent,0===(i=r.data).code&&(x.ZP.success(t("message.renamed")),n.invalidateQueries({queryKey:["fetchFileList"]})),e.abrupt("return",i.code);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:a.data,loading:a.isPending,renameFile:a.mutateAsync}},Z=function(){var e,n=b(),t=(0,p.a)({queryKey:["fetchParentFolderList",n],initialData:[],enabled:!!n,queryFn:(e=c()(s()().mark((function e(){var t,a,r,i;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.getAllParentFolder({fileId:n});case 2:return r=e.sent,i=r.data,e.abrupt("return",null!==(t=null==i||null===(a=i.data)||void 0===a||null===(a=a.parent_folders)||void 0===a?void 0:a.toReversed())&&void 0!==t?t:[]);case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return t.data},z=function(){var e,n=(0,N.fz)().setPaginationParams,t=(0,h.NL)(),a=(0,g.$G)().t,i=(0,m.D)({mutationKey:["createFolder"],mutationFn:(e=c()(s()().mark((function e(i){var o,c;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.createFolder(r()(r()({},i),{},{type:"folder"}));case 2:return o=e.sent,0===(c=o.data).code&&(x.ZP.success(a("message.created")),n(1),t.invalidateQueries({queryKey:["fetchFileList"]})),e.abrupt("return",c.code);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:i.data,loading:i.isPending,createFolder:i.mutateAsync}},S=function(){var e,n=(0,N.fz)().setPaginationParams,t=(0,g.$G)().t,a=(0,h.NL)(),r=(0,m.D)({mutationKey:["uploadFile"],mutationFn:(e=c()(s()().mark((function e(r){var i,o,c,l,u;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.fileList,o=r.fileList.map((function(e){return e.webkitRelativePath})),(c=new FormData).append("parent_id",r.parentId),i.forEach((function(e,n){c.append("file",e),c.append("path",o[n])})),e.prev=5,e.next=8,d.Z.uploadFile(c);case 8:return 0===(null==(u=e.sent)?void 0:u.data.code)&&(x.ZP.success(t("message.uploaded")),n(1),a.invalidateQueries({queryKey:["fetchFileList"]})),e.abrupt("return",null==u||null===(l=u.data)||void 0===l?void 0:l.code);case 13:e.prev=13,e.t0=e.catch(5),console.log("🚀 ~ useUploadFile ~ error:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])}))),function(n){return e.apply(this,arguments)})});return{data:r.data,loading:r.isPending,uploadFile:r.mutateAsync}},K=function(){var e,n=(0,h.NL)(),t=(0,g.$G)().t,a=(0,m.D)({mutationKey:["connectFileToKnowledge"],mutationFn:(e=c()(s()().mark((function e(a){var r,i;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.connectFileToKnowledge(a);case 2:return r=e.sent,0===(i=r.data).code&&(x.ZP.success(t("message.operated")),n.invalidateQueries({queryKey:["fetchFileList"]})),e.abrupt("return",i.code);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:a.data,loading:a.isPending,connectFileToKnowledge:a.mutateAsync}},M=function(){var e,n=(0,h.NL)(),t=(0,g.$G)().t,a=(0,m.D)({mutationKey:["moveFile"],mutationFn:(e=c()(s()().mark((function e(a){var r,i;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.moveFile(a);case 2:return r=e.sent,0===(i=r.data).code&&(x.ZP.success(t("message.operated")),n.invalidateQueries({queryKey:["fetchFileList"]})),e.abrupt("return",i.code);case 6:case"end":return e.stop()}}),e)}))),function(n){return e.apply(this,arguments)})});return{data:a.data,loading:a.isPending,moveFile:a.mutateAsync}}},8074:function(e,n,t){t.d(n,{Rx:function(){return i.Rx},j$:function(){return o}});var a=t(9783),r=t.n(a),i=t(96330),s=(r()(r()(r()({},i.Rx.Dataset,"Dataset"),i.Rx.Testing,"Retrieval testing"),i.Rx.Configuration,"Configuration"),function(e){return e.Chunk="chunk",e.File="file",e}({})),o=(r()(r()({},s.Chunk,"Chunk"),s.File,"File Upload"),"tagRename")},62905:function(e,n,t){t.r(n),t.d(n,{default:function(){return de}});var a=t(83943),r=t(28142),i=t(9783),s=t.n(i),o=t(5574),c=t.n(o),l=t(74094),u=t(27060),d=t(61932),f=t(67294),m=t(28993),p=t(11524),h=t(8074),x=t(67421),v=t(15009),g=t.n(v),y=t(97857),w=t.n(y),N=t(99289),b=t.n(N),j=t(56312),k=t(87536),C=t(1604),F=t(80499),R=t(27591),Z=t(85893);function z(e){var n=e.initialName,t=e.hideModal,a=e.onOk,r=(0,x.$G)().t,i=C.z.object({name:C.z.string().min(1,{message:r("common.namePlaceholder")}).trim()}),s=(0,k.cI)({resolver:(0,j.F)(i),defaultValues:{name:""}});function o(){return(o=b()(g()().mark((function e(n){return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==a?void 0:a(n.name);case 2:e.sent&&(null==t||t());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,f.useEffect)((function(){s.setValue("name",n)}),[s,n]),(0,Z.jsx)(F.l0,w()(w()({},s),{},{children:(0,Z.jsx)("form",{onSubmit:s.handleSubmit((function(e){return o.apply(this,arguments)})),className:"space-y-6",id:h.j$,children:(0,Z.jsx)(F.Wi,{control:s.control,name:"name",render:function(e){var n=e.field;return(0,Z.jsxs)(F.xJ,{children:[(0,Z.jsx)(F.lX,{children:r("common.name")}),(0,Z.jsx)(F.NI,{children:(0,Z.jsx)(R.II,w()(w()({placeholder:r("common.namePlaceholder")},n),{},{autoComplete:"off"}))}),(0,Z.jsx)(F.zG,{})]})}})})}))}function S(e){var n=e.hideModal,t=e.initialName,a=e.onOk,r=e.loading,i=(0,x.$G)().t;return(0,Z.jsx)(m.Vq,{open:!0,onOpenChange:n,children:(0,Z.jsxs)(m.cZ,{className:"sm:max-w-[425px]",children:[(0,Z.jsx)(m.fK,{children:(0,Z.jsx)(m.$N,{children:i("common.rename")})}),(0,Z.jsx)(z,{initialName:t,hideModal:n,onOk:a}),(0,Z.jsx)(m.cN,{children:(0,Z.jsx)(p.f,{type:"submit",form:h.j$,loading:r,children:i("common.save")})})]})})}var K=t(46693),M=t(87033);function P(){return(0,Z.jsxs)("div",{className:"flex flex-col space-y-3 items-center",children:[(0,Z.jsx)(M.Od,{className:"h-[125px] w-[250px] rounded-xl"}),(0,Z.jsxs)("div",{className:"space-y-2 w-[250px]",children:[(0,Z.jsx)(M.Od,{className:"h-4 w-[250px]"}),(0,Z.jsx)(M.Od,{className:"h-4 w-[200px]"})]})]})}var L=t(75269);function I(e){var n=e.children,t=e.columnsLength;return(0,Z.jsx)(L.SC,{children:(0,Z.jsx)(L.pj,{colSpan:t,className:"h-24 text-center ",children:n})})}function T(e){var n=e.columnsLength;return(0,Z.jsx)(I,{columnsLength:n,children:(0,Z.jsx)(P,{})})}function A(e){var n=e.columnsLength;return(0,Z.jsx)(I,{columnsLength:n,children:"No results."})}var D=t(19252),_=t(57636),O=t(23309),V=t(3071),B=t(89645),U=t(27080),$=t(31098),G=t(28382),q=t(5089),E=t(26625),Y=t(25910);const H=(0,t(91373).Z)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var Q=t(13718),X=t(95999);function J(e){var n=e.row,t=e.showConnectToKnowledgeModal,a=e.showFileRenameModal,r=(0,x.$G)().t,i=n.original,s=i.id,o=(0,B.O6)().downloadFile,c=(0,f.useCallback)((function(){t(i)}),[i,t]),l=(0,f.useCallback)((function(){o({id:s,filename:i.name})}),[s,o,i.name]),u=(0,f.useCallback)((function(){a(i)}),[i,a]);return(0,Z.jsxs)("section",{className:"flex gap-4 items-center",children:[(0,Z.jsx)(_.z,{variant:"secondary",size:"icon",onClick:c,children:(0,Z.jsx)(H,{})}),(0,Z.jsx)(E.h,{children:(0,Z.jsx)(_.z,{variant:"secondary",size:"icon",children:(0,Z.jsx)(Q.Z,{})})}),(0,Z.jsxs)(Y.h_,{children:[(0,Z.jsx)(Y.$F,{asChild:!0,children:(0,Z.jsx)(_.z,{variant:"secondary",size:"icon",children:(0,Z.jsx)(X.Z,{})})}),(0,Z.jsxs)(Y.AW,{align:"end",children:[(0,Z.jsx)(Y.Xi,{onClick:function(){return navigator.clipboard.writeText(i.id)},children:r("common.move")}),(0,Z.jsx)(Y.VD,{}),(0,Z.jsx)(Y.Xi,{onClick:u,children:r("common.rename")}),(0,Z.jsx)(Y.VD,{}),(0,Z.jsx)(Y.Xi,{onClick:l,children:r("common.download")})]})]})]})}var W=t(86968),ee=t(86004),ne=function(){var e=(0,ee.s0)();return(0,f.useCallback)((function(n){e("/file?folderId=".concat(n))}),[e])},te=function(){var e=(0,f.useState)({}),n=c()(e,2),t=n[0],a=n[1],r=(0,W.pG)(),i=r.visible,s=r.hideModal,o=r.showModal,l=(0,B.vF)(),u=l.renameFile,d=l.loading,m=(0,f.useCallback)(function(){var e=b()(g()().mark((function e(n){return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({fileId:t.id,name:n});case 2:0===e.sent&&s();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[u,t,s]),p=(0,f.useCallback)(function(){var e=b()(g()().mark((function e(n){return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(n),o();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[o]);return{fileRenameLoading:d,initialFileName:t.name,onFileRenameOk:m,fileRenameVisible:i,hideFileRenameModal:s,showFileRenameModal:p}},ae=function(){var e=(0,W.pG)(),n=e.visible,t=e.hideModal,a=e.showModal,r=(0,B.n_)(),i=r.connectFileToKnowledge,s=r.loading,o=(0,f.useState)({}),l=c()(o,2),u=l[0],d=l[1],m=(0,f.useMemo)((function(){var e;return Array.isArray(null==u?void 0:u.kbs_info)?null==u||null===(e=u.kbs_info)||void 0===e?void 0:e.map((function(e){return e.kb_id})):[]}),[null==u?void 0:u.kbs_info]),p=(0,f.useCallback)(function(){var e=b()(g()().mark((function e(n){var a;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i({fileIds:[u.id],kbIds:n});case 2:return 0===(a=e.sent)&&t(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[i,t,u.id]),h=(0,f.useCallback)((function(e){d(e),a()}),[a]);return{initialConnectedIds:m,connectToKnowledgeLoading:s,onConnectToKnowledgeOk:p,connectToKnowledgeVisible:n,hideConnectToKnowledgeModal:t,showConnectToKnowledgeModal:h}},re=t(69106),ie=t(10541),se="LinkToDatasetForm",oe=C.z.object({knowledgeIds:C.z.array(C.z.string()).min(0,{message:"Username must be at least 1 characters."})});function ce(e){var n=e.initialConnectedIds,t=e.onConnectToKnowledgeOk,a=(0,x.$G)().t,r=(0,k.cI)({resolver:(0,j.F)(oe),defaultValues:{knowledgeIds:n}}),i=(0,ie.pY)();return(0,Z.jsx)(F.l0,w()(w()({},r),{},{children:(0,Z.jsx)("form",{onSubmit:r.handleSubmit((function(e){t(e.knowledgeIds)})),className:"space-y-6",id:se,children:(0,Z.jsx)(F.Wi,{control:r.control,name:"knowledgeIds",render:function(e){var n=e.field;return(0,Z.jsxs)(F.xJ,{children:[(0,Z.jsx)(F.lX,{children:"Name"}),(0,Z.jsx)(F.NI,{children:(0,Z.jsx)(re.N,{options:i,onValueChange:n.onChange,defaultValue:n.value,placeholder:a("fileManager.pleaseSelect"),maxCount:100,modalPopover:!0})}),(0,Z.jsx)(F.zG,{})]})}})})}))}function le(e){var n=e.hideModal,t=e.initialConnectedIds,a=e.onConnectToKnowledgeOk,r=e.loading,i=(0,x.$G)().t;return(0,Z.jsx)(m.Vq,{open:!0,onOpenChange:n,children:(0,Z.jsxs)(m.cZ,{className:"sm:max-w-[425px]",children:[(0,Z.jsx)(m.fK,{children:(0,Z.jsx)(m.$N,{children:i("fileManager.addToKnowledge")})}),(0,Z.jsx)(ce,{initialConnectedIds:t,onConnectToKnowledgeOk:a}),(0,Z.jsx)(m.cN,{children:(0,Z.jsx)(p.f,{type:"submit",variant:"tertiary",form:se,loading:r,children:(0,Z.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,Z.jsx)(H,{})," Save"]})})})]})})}function ue(){var e,n,t=f.useState([]),a=c()(t,2),r=a[0],i=a[1],o=f.useState([]),m=c()(o,2),p=m[0],h=m[1],v=f.useState({}),g=c()(v,2),y=g[0],w=g[1],N=f.useState({}),b=c()(N,2),j=b[0],k=b[1],C=(0,x.$G)("translation",{keyPrefix:"fileManager"}).t,F=ne(),R=ae(),z=R.connectToKnowledgeVisible,M=R.hideConnectToKnowledgeModal,P=R.showConnectToKnowledgeModal,I=R.initialConnectedIds,E=R.onConnectToKnowledgeOk,Y=R.connectToKnowledgeLoading,H=te(),Q=H.fileRenameVisible,X=H.showFileRenameModal,W=H.hideFileRenameModal,ee=H.onFileRenameOk,re=H.initialFileName,ie=H.fileRenameLoading,se=(0,B.t)(),oe=se.pagination,ce=se.data,ue=se.loading,de=se.setPagination,fe=[{id:"select",header:function(e){var n=e.table;return(0,Z.jsx)(O.X,{checked:n.getIsAllPageRowsSelected()||n.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:function(e){return n.toggleAllPageRowsSelected(!!e)},"aria-label":"Select all"})},cell:function(e){var n=e.row;return(0,Z.jsx)(O.X,{checked:n.getIsSelected(),onCheckedChange:function(e){return n.toggleSelected(!!e)},"aria-label":"Select row"})},enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:function(e){var n=e.column;return(0,Z.jsxs)(_.z,{variant:"ghost",onClick:function(){return n.toggleSorting("asc"===n.getIsSorted())},children:[C("name"),(0,Z.jsx)(d.Z,{})]})},meta:{cellClassName:"max-w-[20vw]"},cell:function(e){var n=e.row,t=n.getValue("name"),a=n.original.type,r=n.original.id,i="folder"===a;return(0,Z.jsxs)(V.u,{children:[(0,Z.jsx)(V.aJ,{asChild:!0,children:(0,Z.jsxs)("div",{className:"flex gap-2",children:[(0,Z.jsx)(K.Z,{name:"file-icon/".concat(i?"folder":(0,q.RT)(t)),width:24}),(0,Z.jsx)("span",{className:(0,U.cn)("truncate",s()({},"cursor-pointer",i)),onClick:function(){i&&F(r)},children:t})]})}),(0,Z.jsx)(V._v,{children:(0,Z.jsx)("p",{children:t})})]})}},{accessorKey:"create_time",header:function(e){var n=e.column;return(0,Z.jsxs)(_.z,{variant:"ghost",onClick:function(){return n.toggleSorting("asc"===n.getIsSorted())},children:[C("uploadDate"),(0,Z.jsx)(d.Z,{})]})},cell:function(e){var n=e.row;return(0,Z.jsx)("div",{className:"lowercase",children:(0,G.p6)(n.getValue("create_time"))})}},{accessorKey:"size",header:function(e){var n=e.column;return(0,Z.jsxs)(_.z,{variant:"ghost",onClick:function(){return n.toggleSorting("asc"===n.getIsSorted())},children:[C("size"),(0,Z.jsx)(d.Z,{})]})},cell:function(e){var n=e.row;return(0,Z.jsx)("div",{className:"capitalize",children:(0,$.sS)(n.getValue("size"))})}},{accessorKey:"kbs_info",header:C("knowledgeBase"),cell:function(e){var n=e.row.getValue("kbs_info");return Array.isArray(n)?(0,Z.jsxs)("section",{className:"flex gap-2 items-center",children:[null==n?void 0:n.slice(0,2).map((function(e){return(0,Z.jsx)(D.C,{className:"",variant:"tertiary",children:e.kb_name},e.kb_id)})),n.length>2&&(0,Z.jsxs)(_.z,{variant:"icon",size:"auto",children:["+",n.length-2]})]}):""}},{id:"actions",header:C("action"),enableHiding:!1,cell:function(e){var n=e.row;return(0,Z.jsx)(J,{row:n,showConnectToKnowledgeModal:P,showFileRenameModal:X})}}],me=(0,f.useMemo)((function(){return{pageIndex:(oe.current||1)-1,pageSize:oe.pageSize||10}}),[oe]),pe=(0,l.b7)({data:(null==ce?void 0:ce.files)||[],columns:fe,onSortingChange:i,onColumnFiltersChange:h,getCoreRowModel:(0,u.sC)(),getSortedRowModel:(0,u.tj)(),getFilteredRowModel:(0,u.vL)(),onColumnVisibilityChange:w,onRowSelectionChange:k,onPaginationChange:function(e){if("function"==typeof e){var n=e(me);de({page:n.pageIndex+1,pageSize:n.pageSize})}else de({page:e.pageIndex,pageSize:e.pageSize})},manualPagination:!0,state:{sorting:r,columnFilters:p,columnVisibility:y,rowSelection:j,pagination:me},rowCount:null!==(e=null==ce?void 0:ce.total)&&void 0!==e?e:0,debugTable:!0});return(0,Z.jsxs)("div",{className:"w-full",children:[(0,Z.jsx)("div",{className:"rounded-md border",children:(0,Z.jsxs)(L.iA,{children:[(0,Z.jsx)(L.xD,{children:pe.getHeaderGroups().map((function(e){return(0,Z.jsx)(L.SC,{children:e.headers.map((function(e){return(0,Z.jsx)(L.ss,{children:e.isPlaceholder?null:(0,l.ie)(e.column.columnDef.header,e.getContext())},e.id)}))},e.id)}))}),(0,Z.jsx)(L.RM,{children:ue?(0,Z.jsx)(T,{columnsLength:fe.length}):null!==(n=pe.getRowModel().rows)&&void 0!==n&&n.length?pe.getRowModel().rows.map((function(e){return(0,Z.jsx)(L.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map((function(e){var n;return(0,Z.jsx)(L.pj,{className:null===(n=e.column.columnDef.meta)||void 0===n?void 0:n.cellClassName,children:(0,l.ie)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)})):(0,Z.jsx)(A,{columnsLength:fe.length})})]})}),(0,Z.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,Z.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[pe.getFilteredSelectedRowModel().rows.length," of ",null==ce?void 0:ce.total," ","row(s) selected."]}),(0,Z.jsxs)("div",{className:"space-x-2",children:[(0,Z.jsx)(_.z,{variant:"outline",size:"sm",onClick:function(){return pe.previousPage()},disabled:!pe.getCanPreviousPage(),children:"Previous"}),(0,Z.jsx)(_.z,{variant:"outline",size:"sm",onClick:function(){return pe.nextPage()},disabled:!pe.getCanNextPage(),children:"Next"})]})]}),z&&(0,Z.jsx)(le,{hideModal:M,initialConnectedIds:I,onConnectToKnowledgeOk:E,loading:Y}),Q&&(0,Z.jsx)(S,{hideModal:W,onOk:ee,initialName:re,loading:ie})]})}function de(){return(0,Z.jsxs)("section",{className:"p-8",children:[(0,Z.jsxs)(a.Z,{title:"Files",children:[(0,Z.jsx)(r.Z,{}),"Upload file"]}),(0,Z.jsx)(ue,{})]})}},62386:function(e,n,t){var a=t(60806),r=t(66582),i=t(78158),s=a.Z.listFile,o=a.Z.removeFile,c=a.Z.uploadFile,l=a.Z.renameFile,u=a.Z.getAllParentFolder,d=a.Z.createFolder,f=a.Z.connectFileToKnowledge,m=a.Z.get_document_file,p={listFile:{url:s,method:"get"},removeFile:{url:o,method:"post"},uploadFile:{url:c,method:"post"},renameFile:{url:l,method:"post"},getAllParentFolder:{url:u,method:"get"},createFolder:{url:d,method:"post"},connectFileToKnowledge:{url:f,method:"post"},getFile:{url:a.Z.getFile,method:"get",responseType:"blob"},getDocumentFile:{url:m,method:"get",responseType:"blob"},moveFile:{url:a.Z.moveFile,method:"post"}},h=(0,r.Z)(p,i.ZP);n.Z=h},28382:function(e,n,t){t.d(n,{Qc:function(){return o},mr:function(){return s},p6:function(){return i}});var a=t(27484),r=t.n(a);function i(e){return e?r()(e).format("DD/MM/YYYY HH:mm:ss"):""}function s(e){return e?r()(e).format("HH:mm:ss"):""}function o(e){return e?r()(e).format("DD/MM/YYYY"):""}},5089:function(e,n,t){t.d(n,{Ep:function(){return d},Or:function(){return f},RT:function(){return l},YC:function(){return u},q1:function(){return c}});var a=t(19632),r=t.n(a),i=t(40169),s=t(96486),o=t(57632),c=function(e,n){var t;return Array.isArray(null==e?void 0:e.positions)&&e.positions.every((function(e){return Array.isArray(e)}))?null==e||null===(t=e.positions)||void 0===t?void 0:t.map((function(t){var a={width:n.width,height:n.height,x1:t[1],x2:t[2],y1:t[3],y2:t[4]};return{id:(0,o.Z)(),comment:{text:"",emoji:""},content:{text:(0,s.get)(e,"content_with_weight")||(0,s.get)(e,"content","")},position:{boundingRect:a,rects:[a],pageNumber:t[0]}}})):[]},l=function(e){var n;return null!==(n=null==e?void 0:e.slice(e.lastIndexOf(".")+1).toLowerCase())&&void 0!==n?n:""},u=function(e){return e.split("\n").length},d=function(e){return i.ru.includes(e)},f=function(e){return[].concat(r()(i.rU),["svg"]).some((function(n){return n===e}))}},51331:function(e,n,t){t.d(n,{AG:function(){return g},De:function(){return N},P2:function(){return d},Ph:function(){return u},qh:function(){return h},td:function(){return w},uA:function(){return v},vn:function(){return f}});var a=t(15009),r=t.n(a),i=t(99289),s=t.n(i),o=t(40169),c=t(62386),l=function(e){return new Promise((function(n,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){var e=new Image;e.src=a.result,e.onload=function(){var t=document.createElement("canvas"),a=t.getContext("2d"),r=e.width,i=e.height,s=100;r>i&&r>s?(i=i*s/r,r=s):i>s&&(r=r*s/i,i=s),t.width=r,t.height=i,null==a||a.drawImage(e,0,0,r,i);var o=t.toDataURL("image/png");n(o)},e.onerror=t},a.onerror=t}))},u=function(e){return Array.isArray(e)?e:null==e?void 0:e.fileList},d=function(e){var n=[];return e&&(n=[{uid:"1",name:"file",thumbUrl:e,status:"done"}]),n},f=function(){var e=s()(r()().mark((function e(n){var t,a,i;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Array.isArray(n)&&n.length>0)){e.next=11;break}if(t=n[0],!(a=t.originFileObj)){e.next=10;break}return e.next=6,l(a);case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.abrupt("return",t.thumbUrl);case 11:return e.abrupt("return","");case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function m(e,n){return p.apply(this,arguments)}function p(){return(p=s()(r()().mark((function e(n,t){var a,i;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.getDocumentFile({},n);case 2:return a=e.sent,i=new Blob([a.data],{type:t||a.data.type}),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return(x=s()(r()().mark((function e(n){var t,a,i;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(n,o.nK.Html);case 2:t=e.sent,a=URL.createObjectURL(t),(i=document.createElement("a")).href=a,i.click(),URL.revokeObjectURL(a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e,n){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,n&&(a.download=n),a.click(),window.URL.revokeObjectURL(t)},g=function(){var e=s()(r()().mark((function e(n){var t,a,i;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,a=n.filename,e.next=3,m(t);case 3:i=e.sent,v(i,a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],w=function(e){for(var n=0,t=("string"==typeof e?parseInt(e,10):e)||0;t>=1024&&++n;)t/=1024;return t.toFixed(t<10&&n>0?1:0)+" "+y[n]},N=function(){var e=s()(r()().mark((function e(n,t){var a;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Blob([JSON.stringify(n)],{type:o.nK.Json}),v(a,t);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},95999:function(e,n,t){t.d(n,{Z:function(){return a}});const a=(0,t(91373).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},71981:function(e,n,t){t.d(n,{Z:function(){return a}});const a=(0,t(91373).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},36316:function(e,n,t){t.d(n,{Z:function(){return a}});const a=(0,t(91373).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},28142:function(e,n,t){t.d(n,{Z:function(){return a}});const a=(0,t(91373).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},99346:function(e,n,t){t.d(n,{B:function(){return o},S:function(){return l}});var a=t(67294),r=t(24139),i=t(27037),s=t(30202);function o(e,n){return l({filters:{...e,status:"pending"}},(0,s.NL)(n)).length}function c(e,n){return e.findAll(n.filters).map((e=>n.select?n.select(e):e.state))}function l(e={},n){const t=(0,s.NL)(n).getMutationCache(),o=a.useRef(e),l=a.useRef(null);return l.current||(l.current=c(t,e)),a.useEffect((()=>{o.current=e})),a.useSyncExternalStore(a.useCallback((e=>t.subscribe((()=>{const n=(0,r.Q$)(l.current,c(t,o.current));l.current!==n&&(l.current=n,i.Vr.schedule(e))}))),[t]),(()=>l.current),(()=>l.current))}}}]);
//# sourceMappingURL=p__files__index.87314436.async.js.map