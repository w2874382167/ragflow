{"version":3,"file":"p__agents__agent-templates.589334f1.async.js","mappings":"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","sources":["webpack://web/./src/components/page-header.tsx","webpack://web/./src/components/ui/avatar.tsx","webpack://web/./src/components/ui/button.tsx","webpack://web/./src/components/ui/card.tsx","webpack://web/./src/components/ui/dialog.tsx","webpack://web/./src/components/ui/form.tsx","webpack://web/./src/components/ui/input.tsx","webpack://web/./src/components/ui/label.tsx","webpack://web/./src/components/ui/loading-button.tsx","webpack://web/./src/constants/knowledge.ts","webpack://web/./src/hooks/logic-hooks.ts","webpack://web/./src/hooks/logic-hooks/navigate-hooks.ts","webpack://web/./src/hooks/route-hook.ts","webpack://web/./src/pages/add-knowledge/constant.ts","webpack://web/./src/pages/agents/create-agent-form.tsx","webpack://web/./src/pages/agents/create-agent-dialog.tsx","webpack://web/./src/pages/agents/template-card.tsx","webpack://web/./src/pages/agents/agent-templates.tsx","webpack://web/./src/routes.ts","webpack://web/./src/utils/chat.ts"],"sourcesContent":["import { ArrowLeft } from 'lucide-react';\nimport { PropsWithChildren, ReactNode } from 'react';\nimport { Button } from './ui/button';\n\ninterface IPageHeaderProps extends PropsWithChildren {\n  back(): void;\n  title: ReactNode;\n}\n\nexport function PageHeader({ back, title, children }: IPageHeaderProps) {\n  return (\n    <header className=\"flex justify-between items-center border-b pr-9\">\n      <div className=\"flex items-center \">\n        <div className=\"flex items-center border-r p-1.5\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={back}>\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n        </div>\n        <div className=\"p-4\">\n          <h1 className=\"text-2xl font-semibold tracking-tight\">{title}</h1>\n        </div>\n      </div>\n      {children}\n    </header>\n  );\n}\n","'use client';\n\nimport * as AvatarPrimitive from '@radix-ui/react-avatar';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      'relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full',\n      className,\n    )}\n    {...props}\n  />\n));\nAvatar.displayName = AvatarPrimitive.Root.displayName;\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn('aspect-square h-full w-full', className)}\n    {...props}\n  />\n));\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      'flex h-full w-full items-center justify-center rounded-full bg-muted',\n      className,\n    )}\n    {...props}\n  />\n));\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\n\nexport { Avatar, AvatarFallback, AvatarImage };\n\ntype AvatarProps = React.ComponentProps<typeof Avatar>;\n\ninterface AvatarGroupProps extends React.ComponentProps<'div'> {\n  children: React.ReactElement<AvatarProps>[];\n  max?: number;\n}\n\nexport const AvatarGroup = ({\n  children,\n  max,\n  className,\n  ...props\n}: AvatarGroupProps) => {\n  const totalAvatars = React.Children.count(children);\n  const displayedAvatars = React.Children.toArray(children)\n    .slice(0, max)\n    .reverse();\n  const remainingAvatars = max ? Math.max(totalAvatars - max, 1) : 0;\n\n  return (\n    <div\n      className={cn('flex items-center flex-row-reverse', className)}\n      {...props}\n    >\n      {remainingAvatars > 0 && (\n        <Avatar className=\"-ml-2 hover:z-10 relative ring-2 ring-background\">\n          <AvatarFallback className=\"bg-muted-foreground text-white\">\n            +{remainingAvatars}\n          </AvatarFallback>\n        </Avatar>\n      )}\n      {displayedAvatars.map((avatar, index) => {\n        if (!React.isValidElement(avatar)) return null;\n\n        return (\n          <div key={index} className=\"-ml-2 hover:z-10 relative\">\n            {React.cloneElement(avatar as React.ReactElement<AvatarProps>, {\n              className: 'ring-2 ring-background',\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import { Slot } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline:\n          'border border-colors-outline-sentiment-primary bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n        tertiary:\n          'bg-colors-background-sentiment-solid-primary text-colors-text-persist-light hover:bg-colors-background-sentiment-solid-primary/80',\n        icon: 'bg-colors-background-inverse-standard text-foreground hover:bg-colors-background-inverse-standard/80',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n        auto: 'h-full px-1',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button';\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nButton.displayName = 'Button';\n\nexport { Button, buttonVariants };\n","import * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'rounded-lg border bg-card text-card-foreground shadow-sm',\n      className,\n    )}\n    {...props}\n  />\n));\nCard.displayName = 'Card';\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\n    {...props}\n  />\n));\nCardHeader.displayName = 'CardHeader';\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'text-2xl font-semibold leading-none tracking-tight',\n      className,\n    )}\n    {...props}\n  />\n));\nCardTitle.displayName = 'CardTitle';\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nCardDescription.displayName = 'CardDescription';\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n));\nCardContent.displayName = 'CardContent';\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex items-center p-6 pt-0', className)}\n    {...props}\n  />\n));\nCardFooter.displayName = 'CardFooter';\n\nexport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n};\n","'use client';\n\nimport * as DialogPrimitive from '@radix-ui/react-dialog';\nimport { X } from 'lucide-react';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-colors-background-neutral-standard p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col space-y-1.5 text-center sm:text-left',\n      className,\n    )}\n    {...props}\n  />\n);\nDialogHeader.displayName = 'DialogHeader';\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',\n      className,\n    )}\n    {...props}\n  />\n);\nDialogFooter.displayName = 'DialogFooter';\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      'text-lg font-semibold leading-none tracking-tight',\n      className,\n    )}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n","'use client';\n\nimport * as LabelPrimitive from '@radix-ui/react-label';\nimport { Slot } from '@radix-ui/react-slot';\nimport * as React from 'react';\nimport {\n  Controller,\n  ControllerProps,\n  FieldPath,\n  FieldValues,\n  FormProvider,\n  useFormContext,\n} from 'react-hook-form';\n\nimport { Label } from '@/components/ui/label';\nimport { cn } from '@/lib/utils';\nimport { Info } from 'lucide-react';\nimport { Tooltip, TooltipContent, TooltipTrigger } from './tooltip';\n\nconst Form = FormProvider;\n\ntype FormItemContextValue = {\n  id: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue,\n);\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue,\n);\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n};\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext);\n  const itemContext = React.useContext(FormItemContext);\n  const { getFieldState, formState } = useFormContext();\n\n  const fieldState = getFieldState(fieldContext.name, formState);\n\n  if (!fieldContext) {\n    throw new Error('useFormField should be used within <FormField>');\n  }\n\n  const { id } = itemContext;\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  };\n};\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId();\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn('space-y-2', className)} {...props} />\n    </FormItemContext.Provider>\n  );\n});\nFormItem.displayName = 'FormItem';\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & {\n    tooltip?: React.ReactNode;\n  }\n>(({ className, tooltip, ...props }, ref) => {\n  const { error, formItemId } = useFormField();\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && 'text-destructive', className, 'flex')}\n      htmlFor={formItemId}\n      {...props}\n    >\n      {props.children}\n      {tooltip && (\n        <Tooltip>\n          <TooltipTrigger>\n            <Info className=\"size-3 ml-2\" />\n          </TooltipTrigger>\n          <TooltipContent>\n            <p>{tooltip}</p>\n          </TooltipContent>\n        </Tooltip>\n      )}\n    </Label>\n  );\n});\nFormLabel.displayName = 'FormLabel';\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } =\n    useFormField();\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  );\n});\nFormControl.displayName = 'FormControl';\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField();\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn('text-sm text-muted-foreground', className)}\n      {...props}\n    />\n  );\n});\nFormDescription.displayName = 'FormDescription';\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField();\n  const body = error ? String(error?.message) : children;\n\n  if (!body) {\n    return null;\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn('text-sm font-medium text-destructive', className)}\n      {...props}\n    >\n      {body}\n    </p>\n  );\n});\nFormMessage.displayName = 'FormMessage';\n\nexport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n  useFormField,\n};\n","import * as React from 'react';\n\nimport { cn } from '@/lib/utils';\nimport { Search } from 'lucide-react';\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-10 w-full rounded-md border border-input bg-colors-background-inverse-weak px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = 'Input';\n\nexport interface ExpandedInputProps extends Omit<InputProps, 'prefix'> {\n  prefix?: React.ReactNode;\n  suffix?: React.ReactNode;\n}\n\nconst ExpandedInput = ({ suffix, prefix, ...props }: ExpandedInputProps) => {\n  return (\n    <div className=\"relative\">\n      <span\n        className={cn({\n          ['absolute left-3 top-[50%] translate-y-[-50%]']: prefix,\n        })}\n      >\n        {prefix}\n      </span>\n      <Input\n        className={cn({ 'pr-10': suffix, 'pl-10': prefix })}\n        {...props}\n      ></Input>\n      <span\n        className={cn({\n          ['absolute right-3 top-[50%] translate-y-[-50%]']: suffix,\n        })}\n      >\n        {suffix}\n      </span>\n    </div>\n  );\n};\n\nconst SearchInput = (props: InputProps) => {\n  return <ExpandedInput suffix={<Search />} {...props}></ExpandedInput>;\n};\n\nexport { ExpandedInput, Input, SearchInput };\n","'use client';\n\nimport * as LabelPrimitive from '@radix-ui/react-label';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nconst labelVariants = cva(\n  'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70',\n);\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n","// https://github.com/hsuanyi-chou/shadcn-ui-expansions/blob/main/components/ui/loading-button.tsx\n\nimport { cn } from '@/lib/utils';\nimport { Slot, Slottable } from '@radix-ui/react-slot';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { Loader2 } from 'lucide-react';\nimport * as React from 'react';\n\nconst buttonVariants = cva(\n  'inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline:\n          'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n        tertiary:\n          'bg-colors-background-sentiment-solid-primary text-colors-text-persist-light hover:bg-colors-background-sentiment-solid-primary/80',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n  loading?: boolean;\n}\n\nconst LoadingButton = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      className,\n      loading = false,\n      children,\n      disabled,\n      variant,\n      size,\n      asChild = false,\n      ...props\n    },\n    ref,\n  ) => {\n    const Comp = asChild ? Slot : 'button';\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        disabled={loading || disabled}\n        {...props}\n      >\n        {loading && <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />}\n        <Slottable>{children}</Slottable>\n      </Comp>\n    );\n  },\n);\nLoadingButton.displayName = 'LoadingButton';\n\nexport { LoadingButton, buttonVariants };\n","export enum KnowledgeRouteKey {\n  Dataset = 'dataset',\n  Testing = 'testing',\n  Configuration = 'configuration',\n  KnowledgeGraph = 'knowledgeGraph',\n}\n\nexport const DatasetBaseKey = 'dataset';\n\nexport enum RunningStatus {\n  UNSTART = '0', // need to run\n  RUNNING = '1', // need to cancel\n  CANCEL = '2', // need to refresh\n  DONE = '3', // need to refresh\n  FAIL = '4', // need to refresh\n}\n\nexport enum ModelVariableType {\n  Improvise = 'Improvise',\n  Precise = 'Precise',\n  Balance = 'Balance',\n}\n\nexport const settledModelVariableMap = {\n  [ModelVariableType.Improvise]: {\n    temperature: 0.9,\n    top_p: 0.9,\n    frequency_penalty: 0.2,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Precise]: {\n    temperature: 0.1,\n    top_p: 0.3,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n  [ModelVariableType.Balance]: {\n    temperature: 0.5,\n    top_p: 0.5,\n    frequency_penalty: 0.7,\n    presence_penalty: 0.4,\n    max_tokens: 512,\n  },\n};\n\nexport enum LlmModelType {\n  Embedding = 'embedding',\n  Chat = 'chat',\n  Image2text = 'image2text',\n  Speech2text = 'speech2text',\n  Rerank = 'rerank',\n  TTS = 'tts',\n}\n\nexport enum KnowledgeSearchParams {\n  DocumentId = 'doc_id',\n  KnowledgeId = 'id',\n}\n\nexport enum DocumentType {\n  Virtual = 'virtual',\n  Visual = 'visual',\n}\n\nexport enum DocumentParserType {\n  Naive = 'naive',\n  Qa = 'qa',\n  Resume = 'resume',\n  Manual = 'manual',\n  Table = 'table',\n  Paper = 'paper',\n  Book = 'book',\n  Laws = 'laws',\n  Presentation = 'presentation',\n  Picture = 'picture',\n  One = 'one',\n  Audio = 'audio',\n  Email = 'email',\n  Tag = 'tag',\n  KnowledgeGraph = 'knowledge_graph',\n}\n","import { Authorization } from '@/constants/authorization';\nimport { MessageType } from '@/constants/chat';\nimport { LanguageTranslationMap } from '@/constants/common';\nimport { ResponseType } from '@/interfaces/database/base';\nimport { IAnswer, Message } from '@/interfaces/database/chat';\nimport { IKnowledgeFile } from '@/interfaces/database/knowledge';\nimport { IClientConversation, IMessage } from '@/pages/chat/interface';\nimport api from '@/utils/api';\nimport { getAuthorization } from '@/utils/authorization-util';\nimport { buildMessageUuid } from '@/utils/chat';\nimport { PaginationProps, message } from 'antd';\nimport { FormInstance } from 'antd/lib';\nimport axios from 'axios';\nimport { EventSourceParserStream } from 'eventsource-parser/stream';\nimport { omit } from 'lodash';\nimport {\n  ChangeEventHandler,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { v4 as uuid } from 'uuid';\nimport { useTranslate } from './common-hooks';\nimport { useSetPaginationParams } from './route-hook';\nimport { useFetchTenantInfo, useSaveSetting } from './user-setting-hooks';\n\nexport const useSetSelectedRecord = <T = IKnowledgeFile>() => {\n  const [currentRecord, setCurrentRecord] = useState<T>({} as T);\n\n  const setRecord = (record: T) => {\n    setCurrentRecord(record);\n  };\n\n  return { currentRecord, setRecord };\n};\n\nexport const useHandleSearchChange = () => {\n  const [searchString, setSearchString] = useState('');\n\n  const handleInputChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      const value = e.target.value;\n      setSearchString(value);\n    },\n    [],\n  );\n\n  return { handleInputChange, searchString };\n};\n\nexport const useChangeLanguage = () => {\n  const { i18n } = useTranslation();\n  const { saveSetting } = useSaveSetting();\n\n  const changeLanguage = (lng: string) => {\n    i18n.changeLanguage(\n      LanguageTranslationMap[lng as keyof typeof LanguageTranslationMap],\n    );\n    saveSetting({ language: lng });\n  };\n\n  return changeLanguage;\n};\n\nexport const useGetPaginationWithRouter = () => {\n  const { t } = useTranslate('common');\n  const {\n    setPaginationParams,\n    page,\n    size: pageSize,\n  } = useSetPaginationParams();\n\n  const onPageChange: PaginationProps['onChange'] = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      setPaginationParams(pageNumber, pageSize);\n    },\n    [setPaginationParams],\n  );\n\n  const setCurrentPagination = useCallback(\n    (pagination: { page: number; pageSize?: number }) => {\n      setPaginationParams(pagination.page, pagination.pageSize);\n    },\n    [setPaginationParams],\n  );\n\n  const pagination: PaginationProps = useMemo(() => {\n    return {\n      showQuickJumper: true,\n      total: 0,\n      showSizeChanger: true,\n      current: page,\n      pageSize: pageSize,\n      pageSizeOptions: [1, 2, 10, 20, 50, 100],\n      onChange: onPageChange,\n      showTotal: (total) => `${t('total')} ${total}`,\n    };\n  }, [t, onPageChange, page, pageSize]);\n\n  return {\n    pagination,\n    setPagination: setCurrentPagination,\n  };\n};\n\nexport const useGetPagination = () => {\n  const [pagination, setPagination] = useState({ page: 1, pageSize: 10 });\n  const { t } = useTranslate('common');\n\n  const onPageChange: PaginationProps['onChange'] = useCallback(\n    (pageNumber: number, pageSize: number) => {\n      setPagination({ page: pageNumber, pageSize });\n    },\n    [],\n  );\n\n  const currentPagination: PaginationProps = useMemo(() => {\n    return {\n      showQuickJumper: true,\n      total: 0,\n      showSizeChanger: true,\n      current: pagination.page,\n      pageSize: pagination.pageSize,\n      pageSizeOptions: [1, 2, 10, 20, 50, 100],\n      onChange: onPageChange,\n      showTotal: (total) => `${t('total')} ${total}`,\n    };\n  }, [t, onPageChange, pagination]);\n\n  return {\n    pagination: currentPagination,\n  };\n};\n\nexport interface AppConf {\n  appName: string;\n}\n\nexport const useFetchAppConf = () => {\n  const [appConf, setAppConf] = useState<AppConf>({} as AppConf);\n  const fetchAppConf = useCallback(async () => {\n    const ret = await axios.get('/conf.json');\n\n    setAppConf(ret.data);\n  }, []);\n\n  useEffect(() => {\n    fetchAppConf();\n  }, [fetchAppConf]);\n\n  return appConf;\n};\n\nexport const useSendMessageWithSse = (\n  url: string = api.completeConversation,\n) => {\n  const [answer, setAnswer] = useState<IAnswer>({} as IAnswer);\n  const [done, setDone] = useState(true);\n  const timer = useRef<any>();\n\n  const resetAnswer = useCallback(() => {\n    if (timer.current) {\n      clearTimeout(timer.current);\n    }\n    timer.current = setTimeout(() => {\n      setAnswer({} as IAnswer);\n      clearTimeout(timer.current);\n    }, 1000);\n  }, []);\n\n  const send = useCallback(\n    async (\n      body: any,\n      controller?: AbortController,\n    ): Promise<{ response: Response; data: ResponseType } | undefined> => {\n      try {\n        setDone(false);\n        const response = await fetch(url, {\n          method: 'POST',\n          headers: {\n            [Authorization]: getAuthorization(),\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(body),\n          signal: controller?.signal,\n        });\n\n        const res = response.clone().json();\n        const reader = response?.body\n          ?.pipeThrough(new TextDecoderStream())\n          .pipeThrough(new EventSourceParserStream())\n          .getReader();\n\n        while (true) {\n          const x = await reader?.read();\n          if (x) {\n            const { done, value } = x;\n            if (done) {\n              console.info('done');\n              resetAnswer();\n              break;\n            }\n            try {\n              const val = JSON.parse(value?.data || '');\n              const d = val?.data;\n              if (typeof d !== 'boolean') {\n                console.info('data:', d);\n                setAnswer({\n                  ...d,\n                  conversationId: body?.conversation_id,\n                });\n              }\n            } catch (e) {\n              console.warn(e);\n            }\n          }\n        }\n        console.info('done?');\n        setDone(true);\n        resetAnswer();\n        return { data: await res, response };\n      } catch (e) {\n        setDone(true);\n        resetAnswer();\n\n        console.warn(e);\n      }\n    },\n    [url, resetAnswer],\n  );\n\n  return { send, answer, done, setDone, resetAnswer };\n};\n\nexport const useSpeechWithSse = (url: string = api.tts) => {\n  const read = useCallback(\n    async (body: any) => {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          [Authorization]: getAuthorization(),\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(body),\n      });\n      try {\n        const res = await response.clone().json();\n        if (res?.code !== 0) {\n          message.error(res?.message);\n        }\n      } catch (error) {\n        console.warn('🚀 ~ error:', error);\n      }\n      return response;\n    },\n    [url],\n  );\n\n  return { read };\n};\n\n//#region chat hooks\n\nexport const useScrollToBottom = (messages?: unknown) => {\n  const ref = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = useCallback(() => {\n    if (messages) {\n      ref.current?.scrollIntoView({ behavior: 'instant' });\n    }\n  }, [messages]); // If the message changes, scroll to the bottom\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [scrollToBottom]);\n\n  return ref;\n};\n\nexport const useHandleMessageInputChange = () => {\n  const [value, setValue] = useState('');\n\n  const handleInputChange: ChangeEventHandler<HTMLTextAreaElement> = (e) => {\n    const value = e.target.value;\n    const nextValue = value.replaceAll('\\\\n', '\\n').replaceAll('\\\\t', '\\t');\n    setValue(nextValue);\n  };\n\n  return {\n    handleInputChange,\n    value,\n    setValue,\n  };\n};\n\nexport const useSelectDerivedMessages = () => {\n  const [derivedMessages, setDerivedMessages] = useState<IMessage[]>([]);\n\n  const ref = useScrollToBottom(derivedMessages);\n\n  const addNewestQuestion = useCallback(\n    (message: Message, answer: string = '') => {\n      setDerivedMessages((pre) => {\n        return [\n          ...pre,\n          {\n            ...message,\n            id: buildMessageUuid(message), // The message id is generated on the front end,\n            // and the message id returned by the back end is the same as the question id,\n            //  so that the pair of messages can be deleted together when deleting the message\n          },\n          {\n            role: MessageType.Assistant,\n            content: answer,\n            id: buildMessageUuid({ ...message, role: MessageType.Assistant }),\n          },\n        ];\n      });\n    },\n    [],\n  );\n\n  // Add the streaming message to the last item in the message list\n  const addNewestAnswer = useCallback((answer: IAnswer) => {\n    setDerivedMessages((pre) => {\n      return [\n        ...(pre?.slice(0, -1) ?? []),\n        {\n          role: MessageType.Assistant,\n          content: answer.answer,\n          reference: answer.reference,\n          id: buildMessageUuid({\n            id: answer.id,\n            role: MessageType.Assistant,\n          }),\n          prompt: answer.prompt,\n          audio_binary: answer.audio_binary,\n          ...omit(answer, 'reference'),\n        },\n      ];\n    });\n  }, []);\n\n  const removeLatestMessage = useCallback(() => {\n    setDerivedMessages((pre) => {\n      const nextMessages = pre?.slice(0, -2) ?? [];\n      return nextMessages;\n    });\n  }, []);\n\n  const removeMessageById = useCallback(\n    (messageId: string) => {\n      setDerivedMessages((pre) => {\n        const nextMessages = pre?.filter((x) => x.id !== messageId) ?? [];\n        return nextMessages;\n      });\n    },\n    [setDerivedMessages],\n  );\n\n  const removeMessagesAfterCurrentMessage = useCallback(\n    (messageId: string) => {\n      setDerivedMessages((pre) => {\n        const index = pre.findIndex((x) => x.id === messageId);\n        if (index !== -1) {\n          let nextMessages = pre.slice(0, index + 2) ?? [];\n          const latestMessage = nextMessages.at(-1);\n          nextMessages = latestMessage\n            ? [\n                ...nextMessages.slice(0, -1),\n                {\n                  ...latestMessage,\n                  content: '',\n                  reference: undefined,\n                  prompt: undefined,\n                },\n              ]\n            : nextMessages;\n          return nextMessages;\n        }\n        return pre;\n      });\n    },\n    [setDerivedMessages],\n  );\n\n  return {\n    ref,\n    derivedMessages,\n    setDerivedMessages,\n    addNewestQuestion,\n    addNewestAnswer,\n    removeLatestMessage,\n    removeMessageById,\n    removeMessagesAfterCurrentMessage,\n  };\n};\n\nexport interface IRemoveMessageById {\n  removeMessageById(messageId: string): void;\n}\n\nexport const useRemoveMessagesAfterCurrentMessage = (\n  setCurrentConversation: (\n    callback: (state: IClientConversation) => IClientConversation,\n  ) => void,\n) => {\n  const removeMessagesAfterCurrentMessage = useCallback(\n    (messageId: string) => {\n      setCurrentConversation((pre) => {\n        const index = pre.message?.findIndex((x) => x.id === messageId);\n        if (index !== -1) {\n          let nextMessages = pre.message?.slice(0, index + 2) ?? [];\n          const latestMessage = nextMessages.at(-1);\n          nextMessages = latestMessage\n            ? [\n                ...nextMessages.slice(0, -1),\n                {\n                  ...latestMessage,\n                  content: '',\n                  reference: undefined,\n                  prompt: undefined,\n                },\n              ]\n            : nextMessages;\n          return {\n            ...pre,\n            message: nextMessages,\n          };\n        }\n        return pre;\n      });\n    },\n    [setCurrentConversation],\n  );\n\n  return { removeMessagesAfterCurrentMessage };\n};\n\nexport interface IRegenerateMessage {\n  regenerateMessage?: (message: Message) => void;\n}\n\nexport const useRegenerateMessage = ({\n  removeMessagesAfterCurrentMessage,\n  sendMessage,\n  messages,\n}: {\n  removeMessagesAfterCurrentMessage(messageId: string): void;\n  sendMessage({\n    message,\n  }: {\n    message: Message;\n    messages?: Message[];\n  }): void | Promise<any>;\n  messages: Message[];\n}) => {\n  const regenerateMessage = useCallback(\n    async (message: Message) => {\n      if (message.id) {\n        removeMessagesAfterCurrentMessage(message.id);\n        const index = messages.findIndex((x) => x.id === message.id);\n        let nextMessages;\n        if (index !== -1) {\n          nextMessages = messages.slice(0, index);\n        }\n        sendMessage({\n          message: { ...message, id: uuid() },\n          messages: nextMessages,\n        });\n      }\n    },\n    [removeMessagesAfterCurrentMessage, sendMessage, messages],\n  );\n\n  return { regenerateMessage };\n};\n\n// #endregion\n\n/**\n *\n * @param defaultId\n * used to switch between different items, similar to radio\n * @returns\n */\nexport const useSelectItem = (defaultId?: string) => {\n  const [selectedId, setSelectedId] = useState('');\n\n  const handleItemClick = useCallback(\n    (id: string) => () => {\n      setSelectedId(id);\n    },\n    [],\n  );\n\n  useEffect(() => {\n    if (defaultId) {\n      setSelectedId(defaultId);\n    }\n  }, [defaultId]);\n\n  return { selectedId, handleItemClick };\n};\n\nexport const useFetchModelId = () => {\n  const { data: tenantInfo } = useFetchTenantInfo(true);\n\n  return tenantInfo?.llm_id ?? '';\n};\n\nconst ChunkTokenNumMap = {\n  naive: 128,\n  knowledge_graph: 8192,\n};\n\nexport const useHandleChunkMethodSelectChange = (form: FormInstance) => {\n  // const form = Form.useFormInstance();\n  const handleChange = useCallback(\n    (value: string) => {\n      if (value in ChunkTokenNumMap) {\n        form.setFieldValue(\n          ['parser_config', 'chunk_token_num'],\n          ChunkTokenNumMap[value as keyof typeof ChunkTokenNumMap],\n        );\n      }\n    },\n    [form],\n  );\n\n  return handleChange;\n};\n\n// reset form fields when modal is form, closed\nexport const useResetFormOnCloseModal = ({\n  form,\n  visible,\n}: {\n  form: FormInstance;\n  visible?: boolean;\n}) => {\n  const prevOpenRef = useRef<boolean>();\n  useEffect(() => {\n    prevOpenRef.current = visible;\n  }, [visible]);\n  const prevOpen = prevOpenRef.current;\n\n  useEffect(() => {\n    if (!visible && prevOpen) {\n      form.resetFields();\n    }\n  }, [form, prevOpen, visible]);\n};\n","import { Routes } from '@/routes';\nimport { useCallback } from 'react';\nimport { useNavigate, useParams, useSearchParams } from 'umi';\n\nexport enum QueryStringMap {\n  KnowledgeId = 'knowledgeId',\n}\n\nexport const useNavigatePage = () => {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const { id } = useParams();\n\n  const navigateToDatasetList = useCallback(() => {\n    navigate(Routes.Datasets);\n  }, [navigate]);\n\n  const navigateToDataset = useCallback(\n    (id: string) => () => {\n      navigate(`${Routes.Dataset}/${id}`);\n    },\n    [navigate],\n  );\n\n  const navigateToHome = useCallback(() => {\n    navigate(Routes.Home);\n  }, [navigate]);\n\n  const navigateToProfile = useCallback(() => {\n    navigate(Routes.ProfileSetting);\n  }, [navigate]);\n\n  const navigateToChatList = useCallback(() => {\n    navigate(Routes.Chats);\n  }, [navigate]);\n\n  const navigateToChat = useCallback(() => {\n    navigate(Routes.Chat);\n  }, [navigate]);\n\n  const navigateToAgentList = useCallback(() => {\n    navigate(Routes.Agents);\n  }, [navigate]);\n\n  const navigateToAgent = useCallback(\n    (id: string) => () => {\n      navigate(`${Routes.Agent}/${id}`);\n    },\n    [navigate],\n  );\n\n  const navigateToAgentTemplates = useCallback(() => {\n    navigate(Routes.AgentTemplates);\n  }, [navigate]);\n\n  const navigateToSearchList = useCallback(() => {\n    navigate(Routes.Searches);\n  }, [navigate]);\n\n  const navigateToSearch = useCallback(() => {\n    navigate(Routes.Search);\n  }, [navigate]);\n\n  const navigateToChunkParsedResult = useCallback(\n    (id: string, knowledgeId?: string) => () => {\n      navigate(\n        `${Routes.ParsedResult}/${id}?${QueryStringMap.KnowledgeId}=${knowledgeId}`,\n      );\n    },\n    [navigate],\n  );\n\n  const getQueryString = useCallback(\n    (queryStringKey?: QueryStringMap) => {\n      const allQueryString = {\n        [QueryStringMap.KnowledgeId]: searchParams.get(\n          QueryStringMap.KnowledgeId,\n        ),\n      };\n      if (queryStringKey) {\n        return allQueryString[queryStringKey];\n      }\n      return allQueryString;\n    },\n    [searchParams],\n  );\n\n  const navigateToChunk = useCallback(\n    (route: Routes) => {\n      navigate(\n        `${route}/${id}?${QueryStringMap.KnowledgeId}=${getQueryString(QueryStringMap.KnowledgeId)}`,\n      );\n    },\n    [getQueryString, id, navigate],\n  );\n\n  return {\n    navigateToDatasetList,\n    navigateToDataset,\n    navigateToHome,\n    navigateToProfile,\n    navigateToChatList,\n    navigateToChat,\n    navigateToChunkParsedResult,\n    getQueryString,\n    navigateToChunk,\n    navigateToAgentList,\n    navigateToAgent,\n    navigateToAgentTemplates,\n    navigateToSearchList,\n    navigateToSearch,\n  };\n};\n","import {\n  KnowledgeRouteKey,\n  KnowledgeSearchParams,\n} from '@/constants/knowledge';\nimport { useCallback } from 'react';\nimport { useLocation, useNavigate, useSearchParams } from 'umi';\n\nexport enum SegmentIndex {\n  Second = '2',\n  Third = '3',\n}\n\nexport const useSegmentedPathName = (index: SegmentIndex) => {\n  const { pathname } = useLocation();\n\n  const pathArray = pathname.split('/');\n  return pathArray[index] || '';\n};\n\nexport const useSecondPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Second);\n};\n\nexport const useThirdPathName = () => {\n  return useSegmentedPathName(SegmentIndex.Third);\n};\n\nexport const useGetKnowledgeSearchParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    documentId:\n      currentQueryParameters.get(KnowledgeSearchParams.DocumentId) || '',\n    knowledgeId:\n      currentQueryParameters.get(KnowledgeSearchParams.KnowledgeId) || '',\n  };\n};\n\nexport const useNavigateWithFromState = () => {\n  const navigate = useNavigate();\n  return useCallback(\n    (path: string) => {\n      navigate(path, { state: { from: path } });\n    },\n    [navigate],\n  );\n};\n\nexport const useNavigateToDataset = () => {\n  const navigate = useNavigate();\n  const { knowledgeId } = useGetKnowledgeSearchParams();\n\n  return useCallback(() => {\n    navigate(`/knowledge/${KnowledgeRouteKey.Dataset}?id=${knowledgeId}`);\n  }, [knowledgeId, navigate]);\n};\n\nexport const useGetPaginationParams = () => {\n  const [currentQueryParameters] = useSearchParams();\n\n  return {\n    page: currentQueryParameters.get('page') || 1,\n    size: currentQueryParameters.get('size') || 10,\n  };\n};\n\nexport const useSetPaginationParams = () => {\n  const [queryParameters, setSearchParams] = useSearchParams();\n  // const newQueryParameters: URLSearchParams = useMemo(\n  //   () => new URLSearchParams(queryParameters.toString()),\n  //   [queryParameters],\n  // );\n\n  const setPaginationParams = useCallback(\n    (page: number = 1, pageSize?: number) => {\n      queryParameters.set('page', page.toString());\n      if (pageSize) {\n        queryParameters.set('size', pageSize.toString());\n      }\n      setSearchParams(queryParameters);\n    },\n    [setSearchParams, queryParameters],\n  );\n\n  return {\n    setPaginationParams,\n    page: Number(queryParameters.get('page')) || 1,\n    size: Number(queryParameters.get('size')) || 10,\n  };\n};\n","import { KnowledgeRouteKey } from '@/constants/knowledge';\n\nexport const routeMap = {\n  [KnowledgeRouteKey.Dataset]: 'Dataset',\n  [KnowledgeRouteKey.Testing]: 'Retrieval testing',\n  [KnowledgeRouteKey.Configuration]: 'Configuration',\n};\n\nexport enum KnowledgeDatasetRouteKey {\n  Chunk = 'chunk',\n  File = 'file',\n}\n\nexport const datasetRouteMap = {\n  [KnowledgeDatasetRouteKey.Chunk]: 'Chunk',\n  [KnowledgeDatasetRouteKey.File]: 'File Upload',\n};\n\nexport * from '@/constants/knowledge';\n\nexport const TagRenameId = 'tagRename';\n","'use client';\n\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { useForm } from 'react-hook-form';\nimport { z } from 'zod';\n\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { IModalProps } from '@/interfaces/common';\nimport { TagRenameId } from '@/pages/add-knowledge/constant';\nimport { useTranslation } from 'react-i18next';\n\nexport function CreateAgentForm({ hideModal, onOk }: IModalProps<any>) {\n  const { t } = useTranslation();\n  const FormSchema = z.object({\n    name: z\n      .string()\n      .min(1, {\n        message: t('common.namePlaceholder'),\n      })\n      .trim(),\n    tag: z.string().trim().optional(),\n    description: z.string().trim().optional(),\n  });\n\n  const form = useForm<z.infer<typeof FormSchema>>({\n    resolver: zodResolver(FormSchema),\n    defaultValues: { name: '' },\n  });\n\n  async function onSubmit(data: z.infer<typeof FormSchema>) {\n    const ret = await onOk?.(data);\n    if (ret) {\n      hideModal?.();\n    }\n  }\n\n  return (\n    <Form {...form}>\n      <form\n        onSubmit={form.handleSubmit(onSubmit)}\n        className=\"space-y-6\"\n        id={TagRenameId}\n      >\n        <FormField\n          control={form.control}\n          name=\"name\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>{t('common.name')}</FormLabel>\n              <FormControl>\n                <Input\n                  placeholder={t('common.namePlaceholder')}\n                  {...field}\n                  autoComplete=\"off\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"tag\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>{t('flow.tag')}</FormLabel>\n              <FormControl>\n                <Input\n                  placeholder={t('flow.tagPlaceholder')}\n                  {...field}\n                  autoComplete=\"off\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"description\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>{t('flow.description')}</FormLabel>\n              <FormControl>\n                <Input\n                  placeholder={t('flow.descriptionPlaceholder')}\n                  {...field}\n                  autoComplete=\"off\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n      </form>\n    </Form>\n  );\n}\n","import {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { LoadingButton } from '@/components/ui/loading-button';\nimport { IModalProps } from '@/interfaces/common';\nimport { TagRenameId } from '@/pages/add-knowledge/constant';\nimport { useTranslation } from 'react-i18next';\nimport { CreateAgentForm } from './create-agent-form';\n\nexport function CreateAgentDialog({\n  hideModal,\n  onOk,\n  loading,\n}: IModalProps<any>) {\n  const { t } = useTranslation();\n\n  return (\n    <Dialog open onOpenChange={hideModal}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>{t('flow.createGraph')}</DialogTitle>\n        </DialogHeader>\n        <CreateAgentForm hideModal={hideModal} onOk={onOk}></CreateAgentForm>\n        <DialogFooter>\n          <LoadingButton type=\"submit\" form={TagRenameId} loading={loading}>\n            {t('common.save')}\n          </LoadingButton>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { useSetModalState } from '@/hooks/common-hooks';\nimport { IFlowTemplate } from '@/interfaces/database/flow';\nimport { useTranslation } from 'react-i18next';\n\ninterface IProps {\n  data: IFlowTemplate;\n}\n\nexport function TemplateCard({\n  data,\n  showModal,\n}: IProps & Pick<ReturnType<typeof useSetModalState>, 'showModal'>) {\n  const { t } = useTranslation();\n  return (\n    <Card className=\"bg-colors-background-inverse-weak  border-colors-outline-neutral-standard group relative\">\n      <CardContent className=\"p-4 \">\n        <div className=\"flex justify-between mb-4\">\n          {data.avatar ? (\n            <div\n              className=\"w-[70px] h-[70px] rounded-xl bg-cover\"\n              style={{ backgroundImage: `url(${data.avatar})` }}\n            />\n          ) : (\n            <Avatar className=\"w-[70px] h-[70px]\">\n              <AvatarImage src=\"https://github.com/shadcn.png\" />\n              <AvatarFallback>CN</AvatarFallback>\n            </Avatar>\n          )}\n        </div>\n        <h3 className=\"text-xl font-bold mb-2\">{data.title}</h3>\n        <p className=\"break-words\">{data.description}</p>\n        <Button\n          variant=\"tertiary\"\n          className=\"absolute bottom-4 right-4 left-4 hidden justify-end group-hover:block text-center\"\n          onClick={showModal}\n        >\n          {t('flow.useTemplate')}\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n","import { PageHeader } from '@/components/page-header';\nimport { useSetModalState } from '@/hooks/common-hooks';\nimport { useFetchFlowTemplates } from '@/hooks/flow-hooks';\nimport { useNavigatePage } from '@/hooks/logic-hooks/navigate-hooks';\nimport { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { CreateAgentDialog } from './create-agent-dialog';\nimport { TemplateCard } from './template-card';\n\nexport default function AgentTemplates() {\n  const { navigateToAgentList } = useNavigatePage();\n  const { t } = useTranslation();\n  const { data: list } = useFetchFlowTemplates();\n  const {\n    visible: creatingVisible,\n    hideModal: hideCreatingModal,\n    showModal: showCreatingModal,\n  } = useSetModalState();\n\n  const handleOk = useCallback(async () => {\n    // return onOk(name, checkedId);\n  }, []);\n\n  return (\n    <section>\n      <PageHeader\n        back={navigateToAgentList}\n        title={t('flow.createGraph')}\n      ></PageHeader>\n      <div className=\"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 2xl:grid-cols-8 max-h-[94vh] overflow-auto px-8\">\n        {list?.map((x) => {\n          return (\n            <TemplateCard\n              key={x.id}\n              data={x}\n              showModal={showCreatingModal}\n            ></TemplateCard>\n          );\n        })}\n      </div>\n      {creatingVisible && (\n        <CreateAgentDialog\n          loading={false}\n          visible={creatingVisible}\n          hideModal={hideCreatingModal}\n          onOk={handleOk}\n        ></CreateAgentDialog>\n      )}\n    </section>\n  );\n}\n","export enum Routes {\n  Login = '/login',\n  Home = '/home',\n  Datasets = '/datasets',\n  DatasetBase = '/dataset',\n  Dataset = `${Routes.DatasetBase}${Routes.DatasetBase}`,\n  Agent = '/agent',\n  AgentTemplates = '/agent-templates',\n  Agents = '/agents',\n  Searches = '/next-searches',\n  Search = '/next-search',\n  Chats = '/next-chats',\n  Chat = '/next-chat',\n  Files = '/files',\n  ProfileSetting = '/profile-setting',\n  DatasetTesting = '/testing',\n  DatasetSetting = '/setting',\n  Chunk = '/chunk',\n  ChunkResult = `${Chunk}${Chunk}`,\n  Parsed = '/parsed',\n  ParsedResult = `${Chunk}${Parsed}`,\n  Result = '/result',\n  ResultView = `${Chunk}${Result}`,\n}\n\nconst routes = [\n  {\n    path: '/login',\n    component: '@/pages/login',\n    layout: false,\n  },\n  {\n    path: '/login-next',\n    component: '@/pages/login-next',\n    layout: false,\n  },\n  {\n    path: '/chat/share',\n    component: '@/pages/chat/share',\n    layout: false,\n  },\n  {\n    path: '/',\n    component: '@/layouts',\n    layout: false,\n    wrappers: ['@/wrappers/auth'],\n    routes: [\n      { path: '/', redirect: '/knowledge' },\n      {\n        path: '/knowledge',\n        component: '@/pages/knowledge',\n      },\n      {\n        path: '/knowledge',\n        component: '@/pages/add-knowledge',\n        routes: [\n          {\n            path: '/knowledge/dataset',\n            component: '@/pages/add-knowledge/components/knowledge-dataset',\n            routes: [\n              {\n                path: '/knowledge/dataset',\n                component: '@/pages/add-knowledge/components/knowledge-file',\n              },\n              {\n                path: '/knowledge/dataset/chunk',\n                component: '@/pages/add-knowledge/components/knowledge-chunk',\n              },\n            ],\n          },\n          {\n            path: '/knowledge/configuration',\n            component: '@/pages/add-knowledge/components/knowledge-setting',\n          },\n          {\n            path: '/knowledge/testing',\n            component: '@/pages/add-knowledge/components/knowledge-testing',\n          },\n          {\n            path: '/knowledge/knowledgeGraph',\n            component: '@/pages/add-knowledge/components/knowledge-graph',\n          },\n        ],\n      },\n      {\n        path: '/chat',\n        component: '@/pages/chat',\n      },\n      {\n        path: '/user-setting',\n        component: '@/pages/user-setting',\n        routes: [\n          { path: '/user-setting', redirect: '/user-setting/profile' },\n          {\n            path: '/user-setting/profile',\n            component: '@/pages/user-setting/setting-profile',\n          },\n          {\n            path: '/user-setting/locale',\n            component: '@/pages/user-setting/setting-locale',\n          },\n          {\n            path: '/user-setting/password',\n            component: '@/pages/user-setting/setting-password',\n          },\n          {\n            path: '/user-setting/model',\n            component: '@/pages/user-setting/setting-model',\n          },\n          {\n            path: '/user-setting/team',\n            component: '@/pages/user-setting/setting-team',\n          },\n          {\n            path: '/user-setting/system',\n            component: '@/pages/user-setting/setting-system',\n          },\n          {\n            path: '/user-setting/api',\n            component: '@/pages/user-setting/setting-api',\n          },\n        ],\n      },\n      {\n        path: '/file',\n        component: '@/pages/file-manager',\n      },\n      {\n        path: '/flow',\n        component: '@/pages/flow/list',\n      },\n      {\n        path: '/flow/:id',\n        component: '@/pages/flow',\n      },\n      {\n        path: '/search',\n        component: '@/pages/search',\n      },\n    ],\n  },\n  {\n    path: '/document/:id',\n    component: '@/pages/document-viewer',\n    layout: false,\n  },\n  {\n    path: '/*',\n    component: '@/pages/404',\n    layout: false,\n  },\n  {\n    path: Routes.Home,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Home,\n        component: `@/pages${Routes.Home}`,\n      },\n    ],\n  },\n  {\n    path: Routes.Datasets,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Datasets,\n        component: `@/pages${Routes.Datasets}`,\n      },\n    ],\n  },\n  {\n    path: Routes.Chats,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Chats,\n        component: `@/pages${Routes.Chats}`,\n      },\n    ],\n  },\n  {\n    path: Routes.Chat,\n    layout: false,\n    component: `@/pages${Routes.Chats}/chat`,\n  },\n  {\n    path: Routes.Searches,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Searches,\n        component: `@/pages${Routes.Searches}`,\n      },\n    ],\n  },\n  {\n    path: Routes.Search,\n    layout: false,\n    component: `@/pages${Routes.Search}`,\n  },\n  {\n    path: Routes.Agents,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Agents,\n        component: `@/pages${Routes.Agents}`,\n      },\n    ],\n  },\n  {\n    path: `${Routes.Agent}/:id`,\n    layout: false,\n    component: `@/pages${Routes.Agent}`,\n  },\n  {\n    path: Routes.AgentTemplates,\n    layout: false,\n    component: `@/pages${Routes.Agents}${Routes.AgentTemplates}`,\n  },\n  {\n    path: Routes.Files,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [\n      {\n        path: Routes.Files,\n        component: `@/pages${Routes.Files}`,\n      },\n    ],\n  },\n  {\n    path: Routes.DatasetBase,\n    layout: false,\n    component: '@/layouts/next',\n    routes: [{ path: Routes.DatasetBase, redirect: Routes.Dataset }],\n  },\n  {\n    path: Routes.DatasetBase,\n    layout: false,\n    component: `@/pages${Routes.DatasetBase}`,\n    routes: [\n      {\n        path: `${Routes.Dataset}/:id`,\n        component: `@/pages${Routes.Dataset}`,\n      },\n      {\n        path: `${Routes.DatasetBase}${Routes.DatasetSetting}/:id`,\n        component: `@/pages${Routes.DatasetBase}${Routes.DatasetSetting}`,\n      },\n      {\n        path: `${Routes.DatasetBase}${Routes.DatasetTesting}/:id`,\n        component: `@/pages${Routes.DatasetBase}${Routes.DatasetTesting}`,\n      },\n    ],\n  },\n  {\n    path: Routes.Chunk,\n    layout: false,\n    routes: [\n      {\n        path: Routes.Chunk,\n        component: `@/pages${Routes.Chunk}`,\n        routes: [\n          {\n            path: `${Routes.ParsedResult}/:id`,\n            component: `@/pages${Routes.Chunk}/parsed-result`,\n          },\n          {\n            path: `${Routes.ChunkResult}/:id`,\n            component: `@/pages${Routes.Chunk}/chunk-result`,\n          },\n          {\n            path: `${Routes.ResultView}/:id`,\n            component: `@/pages${Routes.Chunk}/result-view`,\n          },\n        ],\n      },\n    ],\n  },\n  {\n    path: Routes.Chunk,\n    layout: false,\n    component: `@/pages${Routes.Chunk}`,\n  },\n  {\n    path: Routes.ProfileSetting,\n    layout: false,\n    component: `@/pages${Routes.ProfileSetting}`,\n    routes: [\n      {\n        path: Routes.ProfileSetting,\n        redirect: `${Routes.ProfileSetting}/profile`,\n      },\n      {\n        path: `${Routes.ProfileSetting}/profile`,\n        component: `@/pages${Routes.ProfileSetting}/profile`,\n      },\n      {\n        path: `${Routes.ProfileSetting}/team`,\n        component: `@/pages${Routes.ProfileSetting}/team`,\n      },\n      {\n        path: `${Routes.ProfileSetting}/plan`,\n        component: `@/pages${Routes.ProfileSetting}/plan`,\n      },\n      {\n        path: `${Routes.ProfileSetting}/model`,\n        component: `@/pages${Routes.ProfileSetting}/model`,\n      },\n      {\n        path: `${Routes.ProfileSetting}/prompt`,\n        component: `@/pages${Routes.ProfileSetting}/prompt`,\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import {\n  ChatVariableEnabledField,\n  EmptyConversationId,\n} from '@/constants/chat';\nimport { Message } from '@/interfaces/database/chat';\nimport { IMessage } from '@/pages/chat/interface';\nimport { omit } from 'lodash';\nimport { v4 as uuid } from 'uuid';\n\nexport const isConversationIdExist = (conversationId: string) => {\n  return conversationId !== EmptyConversationId && conversationId !== '';\n};\n\nexport const buildMessageUuid = (message: Partial<Message | IMessage>) => {\n  if ('id' in message && message.id) {\n    return message.id;\n  }\n  return uuid();\n};\n\nexport const buildMessageListWithUuid = (messages?: Message[]) => {\n  return (\n    messages?.map((x: Message | IMessage) => ({\n      ...omit(x, 'reference'),\n      id: buildMessageUuid(x),\n    })) ?? []\n  );\n};\n\nexport const getConversationId = () => {\n  return uuid().replace(/-/g, '');\n};\n\n// When rendering each message, add a prefix to the id to ensure uniqueness.\nexport const buildMessageUuidWithRole = (\n  message: Partial<Message | IMessage>,\n) => {\n  return `${message.role}_${message.id}`;\n};\n\n// Preprocess LaTeX equations to be rendered by KaTeX\n// ref: https://github.com/remarkjs/react-markdown/issues/785\n\nexport const preprocessLaTeX = (content: string) => {\n  const blockProcessedContent = content.replace(\n    /\\\\\\[([\\s\\S]*?)\\\\\\]/g,\n    (_, equation) => `$$${equation}$$`,\n  );\n  const inlineProcessedContent = blockProcessedContent.replace(\n    /\\\\\\(([\\s\\S]*?)\\\\\\)/g,\n    (_, equation) => `$${equation}$`,\n  );\n  return inlineProcessedContent;\n};\n\nexport function replaceThinkToSection(text: string = '') {\n  const pattern = /<think>([\\s\\S]*?)<\\/think>/g;\n\n  const result = text.replace(pattern, '<section class=\"think\">$1</section>');\n\n  return result;\n}\n\nexport function setInitialChatVariableEnabledFieldValue(\n  field: ChatVariableEnabledField,\n) {\n  return field !== ChatVariableEnabledField.MaxTokensEnabled;\n}\n"],"names":["PageHeader","_ref","back","title","children","_jsxs","className","_jsx","Button","variant","size","onClick","ArrowLeft","_excluded","_excluded2","_excluded3","Avatar","React","ref","props","_objectWithoutProperties","AvatarPrimitive","_objectSpread","cn","displayName","AvatarImage","_ref2","AvatarFallback","_ref3","buttonVariants","cva","variants","default","destructive","outline","secondary","ghost","link","tertiary","icon","sm","lg","auto","defaultVariants","_ref$asChild","asChild","Comp","Slot","Card","CardHeader","CardTitle","CardDescription","_ref4","_excluded4","CardContent","_ref5","_excluded5","_ref6","_excluded6","Dialog","DialogPrimitive","DialogTrigger","DialogPortal","DialogOverlay","DialogContent","X","DialogHeader","DialogFooter","DialogTitle","Form","FormProvider","FormItemContext","FormFieldContext","FormField","Object","assign","_objectDestructuringEmpty","Provider","value","name","Controller","useFormField","fieldContext","itemContext","_useFormContext","useFormContext","getFieldState","formState","fieldState","Error","id","formItemId","concat","formDescriptionId","formMessageId","FormItem","FormLabel","tooltip","_useFormField","error","Label","htmlFor","Tooltip","TooltipTrigger","Info","TooltipContent","FormControl","_useFormField2","FormDescription","FormMessage","_useFormField4","body","String","message","Input","type","ExpandedInput","suffix","prefix","_defineProperty","SearchInput","Search","labelVariants","LabelPrimitive","LoadingButton","_ref$loading","loading","disabled","Loader2","Slottable","KnowledgeRouteKey","RunningStatus","ModelVariableType","settledModelVariableMap","Improvise","temperature","top_p","frequency_penalty","presence_penalty","max_tokens","Precise","Balance","LlmModelType","KnowledgeSearchParams","DocumentType","DocumentParserType","useSetSelectedRecord","_useState","useState","_useState2","_slicedToArray","currentRecord","setCurrentRecord","setRecord","record","useHandleSearchChange","_useState3","_useState4","searchString","setSearchString","handleInputChange","useCallback","e","target","useChangeLanguage","i18n","useTranslation","saveSetting","useSaveSetting","lng","changeLanguage","LanguageTranslationMap","language","useGetPaginationWithRouter","t","useTranslate","_useSetPaginationPara","useSetPaginationParams","setPaginationParams","page","pageSize","onPageChange","pageNumber","setCurrentPagination","pagination","useMemo","showQuickJumper","total","showSizeChanger","current","pageSizeOptions","onChange","showTotal","setPagination","useFetchAppConf","_useState7","_useState8","appConf","setAppConf","fetchAppConf","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ret","wrap","_context","prev","next","axios","get","sent","data","stop","useEffect","useSendMessageWithSse","url","arguments","length","undefined","api","completeConversation","_useState9","_useState10","answer","setAnswer","_useState11","_useState12","done","setDone","timer","useRef","resetAnswer","clearTimeout","setTimeout","send","_callee2","controller","_response$body","response","res","reader","x","_done","val","d","_context2","fetch","method","headers","Authorization","getAuthorization","JSON","stringify","signal","clone","json","pipeThrough","TextDecoderStream","EventSourceParserStream","getReader","read","console","info","abrupt","parse","conversationId","conversation_id","warn","t0","t1","t2","_x","_x2","apply","useSpeechWithSse","tts","_callee3","_context3","code","_x3","useHandleMessageInputChange","_useState13","_useState14","setValue","nextValue","replaceAll","useSelectDerivedMessages","_useState15","_useState16","derivedMessages","setDerivedMessages","messages","scrollToBottom","_ref$current","scrollIntoView","behavior","useScrollToBottom","addNewestQuestion","pre","_toConsumableArray","buildMessageUuid","role","MessageType","Assistant","content","addNewestAnswer","_pre$slice","slice","reference","prompt","audio_binary","omit","removeLatestMessage","_pre$slice2","removeMessageById","messageId","_pre$filter","filter","removeMessagesAfterCurrentMessage","index","findIndex","_pre$slice3","nextMessages","latestMessage","at","useRegenerateMessage","sendMessage","regenerateMessage","_callee4","_context4","uuid","_x4","useSelectItem","defaultId","_useState17","_useState18","selectedId","setSelectedId","handleItemClick","useFetchModelId","_tenantInfo$llm_id","tenantInfo","useFetchTenantInfo","llm_id","ChunkTokenNumMap","naive","knowledge_graph","useHandleChunkMethodSelectChange","form","setFieldValue","useResetFormOnCloseModal","visible","prevOpenRef","prevOpen","resetFields","QueryStringMap","useNavigatePage","navigate","useNavigate","_useSearchParams","useSearchParams","searchParams","useParams","navigateToDatasetList","Routes","Datasets","navigateToDataset","Dataset","navigateToHome","Home","navigateToProfile","ProfileSetting","navigateToChatList","Chats","navigateToChat","Chat","navigateToAgentList","Agents","navigateToAgent","Agent","navigateToAgentTemplates","AgentTemplates","navigateToSearchList","Searches","navigateToSearch","navigateToChunkParsedResult","knowledgeId","ParsedResult","KnowledgeId","getQueryString","queryStringKey","allQueryString","navigateToChunk","route","SegmentIndex","useSegmentedPathName","useLocation","pathname","split","useSecondPathName","Second","useThirdPathName","Third","useGetKnowledgeSearchParams","currentQueryParameters","documentId","DocumentId","useNavigateWithFromState","path","state","from","useNavigateToDataset","_useSearchParams5","_useSearchParams6","queryParameters","setSearchParams","set","toString","Number","KnowledgeDatasetRouteKey","Testing","Configuration","TagRenameId","Chunk","File","CreateAgentForm","hideModal","onOk","FormSchema","z","object","string","min","trim","tag","optional","description","useForm","resolver","zodResolver","defaultValues","_onSubmit","onSubmit","handleSubmit","control","render","field","placeholder","autoComplete","CreateAgentDialog","open","onOpenChange","TemplateCard","showModal","avatar","style","backgroundImage","src","list","useFetchFlowTemplates","_useSetModalState","useSetModalState","creatingVisible","hideCreatingModal","showCreatingModal","handleOk","map","DatasetBase","Files","DatasetSetting","DatasetTesting","ChunkResult","ResultView","isConversationIdExist","EmptyConversationId","buildMessageListWithUuid","_messages$map","getConversationId","replace","buildMessageUuidWithRole","preprocessLaTeX","_","equation","replaceThinkToSection","setInitialChatVariableEnabledFieldValue","ChatVariableEnabledField","MaxTokensEnabled"],"sourceRoot":""}