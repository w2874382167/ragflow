/*! For license information please see p__agent__index.c27e95f5.async.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[5227,8140],{65184:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),o=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M740 161c-61.8 0-112 50.2-112 112 0 50.1 33.1 92.6 78.5 106.9v95.9L320 602.4V318.1c44.2-15 76-56.9 76-106.1 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 49.2 31.8 91 76 106.1V706c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-27.8l423.5-138.7a50.52 50.52 0 0034.9-48.2V378.2c42.9-15.8 73.6-57 73.6-105.2 0-61.8-50.2-112-112-112zm-504 51a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm96 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm408-491a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"branches",theme:"outlined"},i=n(84089),s=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var l=o.forwardRef(s)},20841:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),o=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},i=n(84089),s=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var l=o.forwardRef(s)},13520:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),o=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"},i=n(84089),s=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var l=o.forwardRef(s)},77123:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),o=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},i=n(84089),s=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var l=o.forwardRef(s)},82099:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),o=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482.2 508.4L331.3 389c-3-2.4-7.3-.2-7.3 3.6V478H184V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H144c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H184V546h140v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4a4.5 4.5 0 000-7.2zM880 116H596c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H700v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4a4.52 4.52 0 000 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h140v294H636V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z"}}]},name:"merge-cells",theme:"outlined"},i=n(84089),s=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var l=o.forwardRef(s)},38545:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),o=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 512a48 48 0 1096 0 48 48 0 10-96 0zm200 0a48 48 0 1096 0 48 48 0 10-96 0zm-400 0a48 48 0 1096 0 48 48 0 10-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 00-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 00-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 00112 714v152a46 46 0 0046 46h152.1A449.4 449.4 0 00510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 00142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"}}]},name:"message",theme:"outlined"},i=n(84089),s=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var l=o.forwardRef(s)},3089:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),o=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},i=n(84089),s=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var l=o.forwardRef(s)},37446:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),o=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},i=n(84089),s=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var l=o.forwardRef(s)},67841:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),o=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"},i=n(84089),s=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var l=o.forwardRef(s)},88484:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(87462),o=n(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},i=n(84089),s=function(e,t){return o.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:a}))};var l=o.forwardRef(s)},33623:function(e,t,n){"use strict";var r=n(5574),o=n.n(r),a=n(86968),i=n(63606),s=n(57132),l=n(83062),c=n(67294),u=n(74855),d=n(85893);t.Z=function(e){var t=e.text,n=(0,c.useState)(!1),r=o()(n,2),f=r[0],p=r[1],g=(0,a.qM)("common").t;return(0,d.jsx)(l.Z,{title:g(f?"copied":"copy"),children:(0,d.jsx)(u.CopyToClipboard,{text:t,onCopy:function(){p(!0),setTimeout((function(){p(!1)}),2e3)},children:f?(0,d.jsx)(i.Z,{}):(0,d.jsx)(s.Z,{})})})}},97681:function(e,t,n){"use strict";n.d(t,{D:function(){return C},n:function(){return S}});var r=n(15009),o=n.n(r),a=n(99289),i=n.n(a),s=n(9783),l=n.n(s),c=n(97857),u=n.n(c),d=n(5574),f=n.n(d),p=n(13769),g=n.n(p),m=n(25593),h=n(22150),v=n(38289),y=n(67294),b=n(85893),x=["index"],_=["title","editable","children","dataIndex","record","handleSave"],w=y.createContext(null),k=m.Z.Text,C=function(e){e.index;var t=g()(e,x),n=h.Z.useForm(),r=f()(n,1)[0];return(0,b.jsx)(h.Z,{form:r,component:!1,children:(0,b.jsx)(w.Provider,{value:r,children:(0,b.jsx)("tr",u()({},t))})})},S=function(e){var t=e.title,n=e.editable,r=e.children,a=e.dataIndex,s=e.record,c=e.handleSave,d=g()(e,_),p=(0,y.useState)(!1),m=f()(p,2),x=m[0],C=m[1],S=(0,y.useRef)(null),N=(0,y.useContext)(w);(0,y.useEffect)((function(){x&&S.current.focus()}),[x]);var E=function(){C(!x),N.setFieldsValue(l()({},a,s[a]))},j=function(){var e=i()(o()().mark((function e(){var t;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.validateFields();case 3:t=e.sent,E(),c(u()(u()({},s),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),I=r;return n&&(I=x?(0,b.jsx)(h.Z.Item,{style:{margin:0,minWidth:70},name:a,rules:[{required:!0,message:"".concat(t," is required.")}],children:(0,b.jsx)(v.Z,{ref:S,onPressEnter:j,onBlur:j})}):(0,b.jsx)("div",{onClick:E,className:"editable-cell-value-wrap",children:(0,b.jsx)(k,{children:r})})),(0,b.jsx)("td",u()(u()({},d),{},{children:I}))}},48347:function(e,t,n){"use strict";n.d(t,{b:function(){return D}});var r=n(97857),o=n.n(r),a=n(19632),i=n.n(a),s=n(5574),l=n.n(s),c=n(13769),u=n.n(c),d=n(13766),f=n(41352),p=n(28142),g=n(67294),m=n(38074),h=n(64712),v=n(57636),y=n(37483),b=n(27080),x=n(85893),_=["className","value"],w=g.forwardRef((function(e,t){var n=e.className,r=e.value,a=u()(e,_);return(0,x.jsx)(y.fC,o()(o()({ref:t,className:(0,b.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n)},a),{},{children:(0,x.jsx)(y.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})}))}));w.displayName=y.fC.displayName;var k=n(25443),C=["className","orientation"],S=["className","children"],N=g.forwardRef((function(e,t){var n=e.className,r=e.orientation,a=void 0===r?"vertical":r,i=u()(e,C);return(0,x.jsx)(k.gb,o()(o()({ref:t,orientation:a,className:(0,b.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n)},i),{},{children:(0,x.jsx)(k.q4,{className:"relative flex-1 rounded-full bg-border"})}))}));N.displayName=k.gb.displayName;var E=g.forwardRef((function(e,t){var n=e.className,r=e.children,a=u()(e,S);return(0,x.jsxs)(k.fC,o()(o()({ref:t,className:(0,b.cn)("relative overflow-hidden",n)},a),{},{children:[(0,x.jsx)(k.l_,{className:"h-full w-full rounded-[inherit]",children:r}),(0,x.jsx)(N,{}),(0,x.jsx)(k.Ns,{})]}))}));function j(e){var t=g.useRef(e);return g.useEffect((function(){t.current=e})),g.useMemo((function(){return function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}}),[])}function I(e){var t=e.prop,n=e.defaultProp,r=e.onChange,o=void 0===r?function(){}:r,a=function(e){var t=e.defaultProp,n=e.onChange,r=g.useState(t),o=l()(r,1)[0],a=g.useRef(o),i=j(n);return g.useEffect((function(){a.current!==o&&(i(o),a.current=o)}),[o,a,i]),r}({defaultProp:n,onChange:o}),i=l()(a,2),s=i[0],c=i[1],u=void 0!==t,d=u?t:s,f=j(o);return[d,g.useCallback((function(e){if(u){var n="function"==typeof e?e(t):e;n!==t&&f(n)}else c(e)}),[u,t,c,f])]}E.displayName=k.fC.displayName;var M=["value","onValueChange","onUpload","progresses","accept","maxSize","maxFileCount","multiple","disabled","className"];function P(e){return"preview"in e&&"string"==typeof e.preview}function T(e){var t=e.file;return t.type.startsWith("image/")?(0,x.jsx)("img",{src:t.preview,alt:t.name,width:48,height:48,loading:"lazy",className:"aspect-square shrink-0 rounded-md object-cover"}):(0,x.jsx)(d.Z,{className:"size-10 text-muted-foreground","aria-hidden":"true"})}function O(e){var t=e.file,n=e.progress,r=e.onRemove;return(0,x.jsxs)("div",{className:"relative flex items-center gap-2.5",children:[(0,x.jsxs)("div",{className:"flex flex-1 gap-2.5",children:[P(t)?(0,x.jsx)(T,{file:t}):null,(0,x.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,x.jsxs)("div",{className:"flex flex-col gap-px",children:[(0,x.jsx)("p",{className:"line-clamp-1 text-sm font-medium text-foreground/80",children:t.name}),(0,x.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,b.t)(t.size)})]}),n?(0,x.jsx)(w,{value:n}):null]})]}),(0,x.jsx)("div",{className:"flex items-center gap-2",children:(0,x.jsxs)(v.z,{type:"button",variant:"outline",size:"icon",className:"size-7",onClick:r,children:[(0,x.jsx)(f.Z,{className:"size-4","aria-hidden":"true"}),(0,x.jsx)("span",{className:"sr-only",children:"Remove file"})]})})]})}function D(e){var t,n=e.value,r=e.onValueChange,a=e.onUpload,s=e.progresses,c=e.accept,d=void 0===c?{"image/*":[]}:c,f=e.maxSize,v=void 0===f?2097152:f,y=e.maxFileCount,_=void 0===y?1:y,w=e.multiple,k=void 0!==w&&w,C=e.disabled,S=void 0!==C&&C,N=e.className,j=u()(e,M),T=I({prop:n,onChange:r}),D=l()(T,2),A=D[0],Z=D[1],R=g.useCallback((function(e,t){var n;if(!k&&1===_&&e.length>1)h.Am.error("Cannot upload more than 1 file at a time");else if((null!==(n=null==A?void 0:A.length)&&void 0!==n?n:0)+e.length>_)h.Am.error("Cannot upload more than ".concat(_," files"));else{var r=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),o=A?[].concat(i()(A),i()(r)):r;if(Z(o),t.length>0&&t.forEach((function(e){var t=e.file;h.Am.error("File ".concat(t.name," was rejected"))})),a&&o.length>0&&o.length<=_){var s=o.length>0?"".concat(o.length," files"):"file";h.Am.promise(a(o),{loading:"Uploading ".concat(s,"..."),success:function(){return Z([]),"".concat(s," uploaded")},error:"Failed to upload ".concat(s)})}}}),[A,_,k,a,Z]);g.useEffect((function(){return function(){A&&A.forEach((function(e){P(e)&&URL.revokeObjectURL(e.preview)}))}}),[]);var F=S||(null!==(t=null==A?void 0:A.length)&&void 0!==t?t:0)>=_;return(0,x.jsxs)("div",{className:"relative flex flex-col gap-6 overflow-hidden",children:[(0,x.jsx)(m.ZP,{onDrop:R,accept:d,maxSize:v,maxFiles:_,multiple:_>1||k,disabled:F,children:function(e){var t=e.getRootProps,n=e.getInputProps,r=e.isDragActive;return(0,x.jsxs)("div",o()(o()(o()({},t()),{},{className:(0,b.cn)("group relative grid h-52 w-full cursor-pointer place-items-center rounded-lg border-2 border-dashed border-muted-foreground/25 px-5 py-2.5 text-center transition hover:bg-muted/25","ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r&&"border-muted-foreground/50",F&&"pointer-events-none opacity-60",N)},j),{},{children:[(0,x.jsx)("input",o()({},n())),r?(0,x.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 sm:px-5",children:[(0,x.jsx)("div",{className:"rounded-full border border-dashed p-3",children:(0,x.jsx)(p.Z,{className:"size-7 text-muted-foreground","aria-hidden":"true"})}),(0,x.jsx)("p",{className:"font-medium text-muted-foreground",children:"Drop the files here"})]}):(0,x.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 sm:px-5",children:[(0,x.jsx)("div",{className:"rounded-full border border-dashed p-3",children:(0,x.jsx)(p.Z,{className:"size-7 text-muted-foreground","aria-hidden":"true"})}),(0,x.jsxs)("div",{className:"flex flex-col gap-px",children:[(0,x.jsxs)("p",{className:"font-medium text-muted-foreground",children:["Drag ","'n'"," drop files here, or click to select files"]}),(0,x.jsxs)("p",{className:"text-sm text-muted-foreground/70",children:["You can upload",_>1?" ".concat(_===1/0?"multiple":_,"\n                      files (up to ").concat((0,b.t)(v)," each)"):" a file with ".concat((0,b.t)(v))]})]})]})]}))}}),null!=A&&A.length?(0,x.jsx)(E,{className:"h-fit w-full px-3",children:(0,x.jsx)("div",{className:"flex max-h-48 flex-col gap-4",children:null==A?void 0:A.map((function(e,t){return(0,x.jsx)(O,{file:e,onRemove:function(){return function(e){if(A){var t=A.filter((function(t,n){return n!==e}));Z(t),null==r||r(t)}}(t)},progress:null==s?void 0:s[e.name]},t)}))})}):null]})}},80316:function(e,t,n){"use strict";n.d(t,{Am:function(){return b},pm:function(){return x}});var r=n(5574),o=n.n(r),a=n(49677),i=n.n(a),s=n(19632),l=n.n(s),c=n(97857),u=n.n(c),d=n(67294),f=0;var p=new Map,g=function(e){if(!p.has(e)){var t=setTimeout((function(){p.delete(e),y({type:"REMOVE_TOAST",toastId:e})}),1e6);p.set(e,t)}},m=function(e,t){switch(t.type){case"ADD_TOAST":return u()(u()({},e),{},{toasts:[t.toast].concat(l()(e.toasts)).slice(0,1)});case"UPDATE_TOAST":return u()(u()({},e),{},{toasts:e.toasts.map((function(e){return e.id===t.toast.id?u()(u()({},e),t.toast):e}))});case"DISMISS_TOAST":var n=t.toastId;return n?g(n):e.toasts.forEach((function(e){g(e.id)})),u()(u()({},e),{},{toasts:e.toasts.map((function(e){return e.id===n||void 0===n?u()(u()({},e),{},{open:!1}):e}))});case"REMOVE_TOAST":return void 0===t.toastId?u()(u()({},e),{},{toasts:[]}):u()(u()({},e),{},{toasts:e.toasts.filter((function(e){return e.id!==t.toastId}))})}},h=[],v={toasts:[]};function y(e){v=m(v,e),h.forEach((function(e){e(v)}))}function b(e){var t=Object.assign({},(i()(e),e)),n=(f=(f+1)%Number.MAX_SAFE_INTEGER).toString(),r=function(){return y({type:"DISMISS_TOAST",toastId:n})};return y({type:"ADD_TOAST",toast:u()(u()({},t),{},{id:n,open:!0,onOpenChange:function(e){e||r()}})}),{id:n,dismiss:r,update:function(e){return y({type:"UPDATE_TOAST",toast:u()(u()({},e),{},{id:n})})}}}function x(){var e=d.useState(v),t=o()(e,2),n=t[0],r=t[1];return d.useEffect((function(){return h.push(r),function(){var e=h.indexOf(r);e>-1&&h.splice(e,1)}}),[n]),u()(u()({},n),{},{toast:b,dismiss:function(e){return y({type:"DISMISS_TOAST",toastId:e})}})}},45015:function(e,t,n){"use strict";n.d(t,{U:function(){return m}});var r=n(5574),o=n.n(r),a=n(96330),i=n(38392),s=n(55241),l=n(34041),c=n(67294),u=n(58057),d=n(87102),f=n(23499),p=n(84586),g=n(85893);t.Z=function(e){var t=e.id,n=e.value,r=e.onChange,o=e.disabled,c=(0,i.T)([a.Vr.Chat,a.Vr.Image2text]),d=(0,g.jsx)("div",{style:{width:400},children:(0,g.jsx)(u.Z,{formItemLayout:{labelCol:{span:10},wrapperCol:{span:14}}})});return(0,g.jsx)(s.Z,{content:d,trigger:"click",placement:"left",arrow:!1,destroyTooltipOnHide:!0,children:(0,g.jsx)(l.Z,{options:c,style:{width:"100%"},dropdownStyle:{display:"none"},id:t,value:n,onChange:r,disabled:o})})};var m=(0,c.forwardRef)((function(e,t){var n,r=e.value,s=e.disabled,l=(0,c.useState)(!1),u=o()(l,2),m=u[0],h=u[1],v=(0,i.T)([a.Vr.Chat,a.Vr.Image2text]);return(0,g.jsx)(p.Ph,{disabled:s,value:r,children:(0,g.jsxs)(f.J2,{open:m,onOpenChange:h,children:[(0,g.jsx)(f.xo,{asChild:!0,children:(0,g.jsx)(p.i4,{onClick:function(e){e.preventDefault(),h(!0)},ref:t,children:(0,g.jsx)(p.ki,{children:null===(n=v.flatMap((function(e){return e.options})).find((function(e){return e.value===r})))||void 0===n?void 0:n.label})})}),(0,g.jsx)(f.yk,{side:"left",children:(0,g.jsx)(d.n,{})})]})})}));m.displayName="LLMSelect"},14015:function(e,t,n){"use strict";var r=n(33092),o=n(46693),a=n(85893);t.Z=function(e){var t=e.value,n=(0,r.Xy)(t),i=n.llmName,s=n.fId;return(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.$,{name:(0,r.Os)(s,i),width:20,height:20,size:"small"}),i]})}},58057:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(19632),o=n.n(r),a=n(97857),i=n.n(a),s=n(9783),l=n.n(s),c=n(96330),u=n(22150),d=n(34041),f=n(83062),p=n(86250),g=n(72269),m=n(30568),h=n(24435),v=n(68929),y=n.n(v),b=n(86968),x=n(38392),_=n(25035),w=n(67294),k="sliderInputNumber___ZMqQO",C="variableSlider___MglII",S=n(85893),N=function(e){var t=e.prefix,n=e.formItemLayout,r=void 0===n?{}:n,a=u.Z.useFormInstance(),s=(0,b.qM)("chat").t,v=Object.values(c.oQ).map((function(e){return{label:s(y()(e)),value:e}})),N=(0,w.useCallback)((function(e){var n=c.S8[e],r=n;t&&(r=l()({},t,n)),a.setFieldsValue(r)}),[a,t]),E=(0,w.useMemo)((function(){return t?[t]:[]}),[t]),j=(0,x.T)([c.Vr.Chat,c.Vr.Image2text]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.Z.Item,i()(i()({label:s("model"),name:"llm_id",tooltip:s("modelTip")},r),{},{rules:[{required:!0,message:s("modelMessage")}],children:(0,S.jsx)(d.Z,{options:j,showSearch:!0,popupMatchSelectWidth:!1})})),(0,S.jsxs)("div",{className:"border rounded-md",children:[(0,S.jsxs)("div",{className:"flex justify-between bg-slate-100 p-2 mb-2",children:[(0,S.jsxs)("div",{className:"space-x-1 items-center",children:[(0,S.jsx)("span",{className:"text-lg font-semibold",children:s("freedom")}),(0,S.jsx)(f.Z,{title:s("freedomTip"),children:(0,S.jsx)(_.Z,{})})]}),(0,S.jsx)("div",{className:"w-1/4 min-w-32",children:(0,S.jsx)(u.Z.Item,{label:s("freedom"),name:"parameter",tooltip:s("freedomTip"),initialValue:c.oQ.Precise,labelCol:{span:0},wrapperCol:{span:24},className:"m-0",children:(0,S.jsx)(d.Z,{options:v,onChange:N})})})]}),(0,S.jsxs)("div",{className:"pr-2",children:[(0,S.jsx)(u.Z.Item,i()(i()({label:s("temperature"),tooltip:s("temperatureTip")},r),{},{children:(0,S.jsxs)(p.Z,{gap:20,align:"center",children:[(0,S.jsx)(u.Z.Item,{name:"temperatureEnabled",valuePropName:"checked",noStyle:!0,children:(0,S.jsx)(g.Z,{size:"small"})}),(0,S.jsx)(u.Z.Item,{noStyle:!0,dependencies:["temperatureEnabled"],children:function(e){var t=!(0,e.getFieldValue)("temperatureEnabled");return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.Z,{flex:1,children:(0,S.jsx)(u.Z.Item,{name:[].concat(o()(E),["temperature"]),noStyle:!0,children:(0,S.jsx)(m.Z,{className:C,max:1,step:.01,disabled:t})})}),(0,S.jsx)(u.Z.Item,{name:[].concat(o()(E),["temperature"]),noStyle:!0,children:(0,S.jsx)(h.Z,{className:k,max:1,min:0,step:.01,disabled:t})})]})}})]})})),(0,S.jsx)(u.Z.Item,i()(i()({label:s("topP"),tooltip:s("topPTip")},r),{},{children:(0,S.jsxs)(p.Z,{gap:20,align:"center",children:[(0,S.jsx)(u.Z.Item,{name:"topPEnabled",valuePropName:"checked",noStyle:!0,children:(0,S.jsx)(g.Z,{size:"small"})}),(0,S.jsx)(u.Z.Item,{noStyle:!0,dependencies:["topPEnabled"],children:function(e){var t=!(0,e.getFieldValue)("topPEnabled");return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.Z,{flex:1,children:(0,S.jsx)(u.Z.Item,{name:[].concat(o()(E),["top_p"]),noStyle:!0,children:(0,S.jsx)(m.Z,{className:C,max:1,step:.01,disabled:t})})}),(0,S.jsx)(u.Z.Item,{name:[].concat(o()(E),["top_p"]),noStyle:!0,children:(0,S.jsx)(h.Z,{className:k,max:1,min:0,step:.01,disabled:t})})]})}})]})})),(0,S.jsx)(u.Z.Item,i()(i()({label:s("presencePenalty"),tooltip:s("presencePenaltyTip")},r),{},{children:(0,S.jsxs)(p.Z,{gap:20,align:"center",children:[(0,S.jsx)(u.Z.Item,{name:"presencePenaltyEnabled",valuePropName:"checked",noStyle:!0,children:(0,S.jsx)(g.Z,{size:"small"})}),(0,S.jsx)(u.Z.Item,{noStyle:!0,dependencies:["presencePenaltyEnabled"],children:function(e){var t=!(0,e.getFieldValue)("presencePenaltyEnabled");return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.Z,{flex:1,children:(0,S.jsx)(u.Z.Item,{name:[].concat(o()(E),["presence_penalty"]),noStyle:!0,children:(0,S.jsx)(m.Z,{className:C,max:1,step:.01,disabled:t})})}),(0,S.jsx)(u.Z.Item,{name:[].concat(o()(E),["presence_penalty"]),noStyle:!0,children:(0,S.jsx)(h.Z,{className:k,max:1,min:0,step:.01,disabled:t})})]})}})]})})),(0,S.jsx)(u.Z.Item,i()(i()({label:s("frequencyPenalty"),tooltip:s("frequencyPenaltyTip")},r),{},{children:(0,S.jsxs)(p.Z,{gap:20,align:"center",children:[(0,S.jsx)(u.Z.Item,{name:"frequencyPenaltyEnabled",valuePropName:"checked",noStyle:!0,children:(0,S.jsx)(g.Z,{size:"small"})}),(0,S.jsx)(u.Z.Item,{noStyle:!0,dependencies:["frequencyPenaltyEnabled"],children:function(e){var t=!(0,e.getFieldValue)("frequencyPenaltyEnabled");return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.Z,{flex:1,children:(0,S.jsx)(u.Z.Item,{name:[].concat(o()(E),["frequency_penalty"]),noStyle:!0,children:(0,S.jsx)(m.Z,{className:C,max:1,step:.01,disabled:t})})}),(0,S.jsx)(u.Z.Item,{name:[].concat(o()(E),["frequency_penalty"]),noStyle:!0,children:(0,S.jsx)(h.Z,{className:k,max:1,min:0,step:.01,disabled:t})})]})}})]})}))]})]})]})}},87102:function(e,t,n){"use strict";n.d(t,{n:function(){return y}});var r=n(97857),o=n.n(r),a=n(96330),i=n(86968),s=n(38392),l=n(96486),c=n(67294),u=n(87536),d=n(80499),f=n(27591),p=n(84586),g=n(74590),m=n(2834),h=n(85893);function v(e){var t=e.name,n=e.label,r=e.checkName,a=e.max,s=e.min,l=void 0===s?0:s,c=e.step,p=void 0===c?1:c,v=(0,u.Gc)(),y=v.control,b=v.watch,x=(0,i.qM)("chat").t,_=!b(r);return(0,h.jsx)(d.Wi,{control:y,name:t,render:function(e){var t=e.field;return(0,h.jsxs)(d.xJ,{children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(d.lX,{children:x(n)}),(0,h.jsx)(d.Wi,{control:y,name:r,render:function(e){var t=e.field;return(0,h.jsxs)(d.xJ,{children:[(0,h.jsx)(d.NI,{children:(0,h.jsx)(m.r,o()(o()({},t),{},{checked:t.value,onCheckedChange:t.onChange}))}),(0,h.jsx)(d.zG,{})]})}})]}),(0,h.jsx)(d.NI,{children:(0,h.jsxs)("div",{className:"flex w-full  items-center space-x-2",children:[(0,h.jsx)(g.A,o()(o()({},t),{},{disabled:_,max:a,min:l,step:p})),(0,h.jsx)(f.II,o()(o()({type:"number",className:"w-2/5"},t),{},{disabled:_,max:a,min:l,step:p}))]})}),(0,h.jsx)(d.zG,{})]})}})}function y(e){var t=e.prefix,n=(0,u.Gc)(),r=(0,i.qM)("chat").t,f=(0,s.T)([a.Vr.Chat,a.Vr.Image2text]),g=Object.values(a.oQ).map((function(e){return{label:r((0,l.camelCase)(e)),value:e}})),m=(0,c.useCallback)((function(e){return"".concat(t,".").concat(e)}),[t]);return(0,h.jsxs)("div",{className:"space-y-8",children:[(0,h.jsx)(d.Wi,{control:n.control,name:"llm_id",render:function(e){var t=e.field;return(0,h.jsxs)(d.xJ,{children:[(0,h.jsx)(d.lX,{children:r("model")}),(0,h.jsx)(d.NI,{children:(0,h.jsxs)(p.Ph,o()(o()({onValueChange:t.onChange},t),{},{children:[(0,h.jsx)(p.i4,{value:t.value,children:(0,h.jsx)(p.ki,{})}),(0,h.jsx)(p.Bw,{children:f.map((function(e){return(0,h.jsxs)(p.DI,{children:[(0,h.jsx)(p.n5,{children:e.label}),e.options.map((function(e){return(0,h.jsx)(p.Ql,{value:e.value,disabled:e.disabled,children:e.label},e.value)}))]},e.value)}))})]}))}),(0,h.jsx)(d.zG,{})]})}}),(0,h.jsx)(d.Wi,{control:n.control,name:"parameter",render:function(e){var t=e.field;return(0,h.jsxs)(d.xJ,{children:[(0,h.jsx)(d.lX,{children:r("freedom")}),(0,h.jsx)(d.NI,{children:(0,h.jsxs)(p.Ph,o()(o()({},t),{},{onValueChange:t.onChange,children:[(0,h.jsx)(p.i4,{children:(0,h.jsx)(p.ki,{})}),(0,h.jsx)(p.Bw,{children:g.map((function(e){return(0,h.jsx)(p.Ql,{value:e.value,children:e.label},e.value)}))})]}))}),(0,h.jsx)(d.zG,{})]})}}),(0,h.jsx)(v,{name:m("temperature"),checkName:"temperatureEnabled",label:"temperature",max:1,step:.01}),(0,h.jsx)(v,{name:m("top_p"),checkName:"topPEnabled",label:"topP",max:1,step:.01}),(0,h.jsx)(v,{name:m("presence_penalty"),checkName:"presencePenaltyEnabled",label:"presencePenalty",max:1,step:.01}),(0,h.jsx)(v,{name:m("frequency_penalty"),checkName:"frequencyPenaltyEnabled",label:"frequencyPenalty",max:1,step:.01}),(0,h.jsx)(v,{name:m("max_tokens"),checkName:"maxTokensEnabled",label:"maxTokens",max:128e3})]})}},13917:function(e,t,n){"use strict";n.d(t,{s:function(){return f}});var r=n(97857),o=n.n(r),a=n(22150),i=n(24435),s=n(87536),l=n(67421),c=n(80499),u=n(27591),d=n(85893);function f(){var e=(0,s.Gc)(),t=(0,l.$G)().t;return(0,d.jsx)(c.Wi,{control:e.control,name:"message_history_window_size",render:function(e){var n=e.field;return(0,d.jsxs)(c.xJ,{children:[(0,d.jsx)(c.lX,{tooltip:t("flow.messageHistoryWindowSizeTip"),children:t("flow.messageHistoryWindowSize")}),(0,d.jsx)(c.NI,{children:(0,d.jsx)(u.II,o()(o()({},n),{},{type:"number"}))}),(0,d.jsx)(c.zG,{})]})}})}t.Z=function(e){var t=e.initialValue,n=(0,l.$G)().t;return(0,d.jsx)(a.Z.Item,{name:"message_history_window_size",label:n("flow.messageHistoryWindowSize"),initialValue:t,tooltip:n("flow.messageHistoryWindowSizeTip"),children:(0,d.jsx)(i.Z,{style:{width:"100%"}})})}},65862:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(19632),o=n.n(r),a=n(86968),i=n(48689),s=n(37446),l=n(42075),c=n(85418),u=n(67421),d=n(67294),f="delete___BGyWn",p=n(85893),g=function(e){var t=e.deleteItem,n=e.children,r=e.iconFontSize,g=void 0===r?30:r,m=e.iconFontColor,h=void 0===m?"gray":m,v=e.items,y=void 0===v?[]:v,b=e.height,x=void 0===b?24:b,_=e.needsDeletionValidation,w=void 0===_||_,k=e.showDeleteItems,C=void 0===k||k,S=(0,u.$G)().t,N=(0,a.I3)(),E=(0,d.useMemo)((function(){var e=[];return C&&e.push({key:"1",label:(0,p.jsxs)(l.Z,{children:[S("common.delete"),(0,p.jsx)(i.Z,{})]})}),[].concat(e,o()(y))}),[C,y,S]);return(0,p.jsx)(c.Z,{menu:{items:E,onClick:function(e){var n=e.domEvent,r=e.key;n.preventDefault(),n.stopPropagation(),"1"===r&&(w?N({onOk:t}):t())}},children:n||(0,p.jsx)("span",{className:f,children:(0,p.jsx)(s.Z,{rotate:90,style:{fontSize:g,color:h,cursor:"pointer",height:x}})})})}},36646:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});var r=n(53219),o=n(57636),a=n(85893);function i(e){var t=e.back,n=e.title,i=e.children;return(0,a.jsxs)("header",{className:"flex justify-between items-center border-b pr-9",children:[(0,a.jsxs)("div",{className:"flex items-center ",children:[(0,a.jsx)("div",{className:"flex items-center border-r p-1.5",children:(0,a.jsx)(o.z,{variant:"ghost",size:"icon",onClick:t,children:(0,a.jsx)(r.Z,{className:"w-5 h-5"})})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:n})})]}),i]})}},74369:function(e,t,n){"use strict";n.d(t,{Q:function(){return Rs}});var r=n(5574),o=n.n(r);const a={},i={},s={},l={},c={},u={},d={},f={},p={},g={},m={},h={},v={},y={},b={},x={},_={},w={},k={},C={},S={},N={},E={},j={},I={},M={},P={},T={},O={},D={},A={},Z={},R={},F={},z={},L={},B={},$={},H={},V={},W={},K="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Y=K&&"documentMode"in document?document.documentMode:null,G=K&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),q=K&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),U=!(!K||!("InputEvent"in window)||Y)&&"getTargetRanges"in new window.InputEvent("input"),X=K&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),J=K&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Q=K&&/Android/.test(navigator.userAgent),ee=K&&/^(?=.*Chrome).*/i.test(navigator.userAgent),te=K&&Q&&ee,ne=K&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!ee,re=1,oe=11,ae=2,ie=0,se=1,le=2,ce=1,ue=2,de=3,fe=4,pe=5,ge=6,me=X||J||ne?" ":"​",he="\n\n",ve=q?" ":me,ye="֑-߿יִ-﷽ﹰ-ﻼ",be="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",xe=new RegExp("^[^"+be+"]*["+ye+"]"),_e=new RegExp("^[^"+ye+"]*["+be+"]"),we={bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},ke={directionless:1,unmergeable:2},Ce={center:2,end:6,justify:4,left:1,right:3,start:5},Se={[ue]:"center",[ge]:"end",[fe]:"justify",[ce]:"left",[de]:"right",[pe]:"start"},Ne={normal:0,segmented:2,token:1},Ee={[ie]:"normal",[le]:"segmented",[se]:"token"};var je=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function Ie(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}let Me=!1,Pe=0;function Te(e){Pe=e.timeStamp}function Oe(e,t,n){const r="BR"===e.nodeName,o=t.__lexicalLineBreak;return o&&(e===o||r&&e.previousSibling===o)||r&&void 0!==ct(e,n)}function De(e,t,n){const r=qt(n._window);let o=null,a=null;null!==r&&r.anchorNode===e&&(o=r.anchorOffset,a=r.focusOffset);const i=e.nodeValue;null!==i&&kt(t,i,o,a,!1)}function Ae(e,t,n){if(Yr(e)){const t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return Qe(t)&&n.isAttached()}function Ze(e,t,n,r){for(let o=e;o&&!cn(o);o=zt(o)){const e=ct(o,t);if(void 0!==e){const t=st(e,n);if(t)return Ko(t)||!Ut(o)?void 0:[o,t]}else if(o===r)return[r,gt(n)]}}function Re(e,t,n){Me=!0;const r=performance.now()-Pe>100;try{zo(e,(()=>{const o=so()||function(e){return e.getEditorState().read((()=>{const e=so();return null!==e?e.clone():null}))}(e),a=new Map,i=e.getRootElement(),s=e._editorState,l=e._blockCursorElement;let c=!1,u="";for(let n=0;n<t.length;n++){const d=t[n],f=d.type,p=d.target,g=Ze(p,e,s,i);if(!g)continue;const[m,h]=g;if("characterData"===f)r&&Zr(h)&&Qe(p)&&Ae(o,p,h)&&De(p,h,e);else if("childList"===f){c=!0;const t=d.addedNodes;for(let n=0;n<t.length;n++){const r=t[n],o=lt(r),a=r.parentNode;if(null!=a&&r!==l&&null===o&&!Oe(r,a,e)){if(q){const e=(Ut(r)?r.innerText:null)||r.nodeValue;e&&(u+=e)}a.removeChild(r)}}const n=d.removedNodes,r=n.length;if(r>0){let t=0;for(let o=0;o<r;o++){const r=n[o];(Oe(r,p,e)||l===r)&&(p.appendChild(r),t++)}r!==t&&a.set(m,h)}}}if(a.size>0)for(const[t,n]of a)n.reconcileObservedMutation(t,e);const d=n.takeRecords();if(d.length>0){for(let t=0;t<d.length;t++){const n=d[t],r=n.addedNodes,o=n.target;for(let t=0;t<r.length;t++){const n=r[t],a=n.parentNode;null==a||"BR"!==n.nodeName||Oe(n,o,e)||a.removeChild(n)}}n.takeRecords()}null!==o&&(c&&(o.dirty=!0,mt(o)),q&&At(e)&&o.insertRawText(u))}))}finally{Me=!1}}function Fe(e){const t=e._observer;null!==t&&Re(e,t.takeRecords(),t)}function ze(e){!function(e){0===Pe&&Ht(e).addEventListener("textInput",Te,!0)}(e),e._observer=new MutationObserver(((t,n)=>{Re(e,t,n)}))}function Le(e,t){const n=e.__mode,r=e.__format,o=e.__style,a=t.__mode,i=t.__format,s=t.__style;return!(null!==n&&n!==a||null!==r&&r!==i||null!==o&&o!==s)}function Be(e,t){const n=e.mergeWithSibling(t),r=No()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function $e(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&Zr(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(Le(t,r)){r=Be(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&Zr(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(Le(r,n)){r=Be(r,n);break}break}n.remove()}}else r.remove()}function He(e){return Ve(e.anchor),Ve(e.focus),e}function Ve(e){for(;"element"===e.type;){const t=e.getNode(),n=e.offset;let r,o;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),o=!0):(r=t.getChildAtIndex(n),o=!1),Zr(r)){e.set(r.__key,o?r.getTextContentSize():0,"text");break}if(!Ho(r))break;e.set(r.__key,o?r.getChildrenSize():0,"element")}}let We=1;const Ke="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function Ye(e){const t=document.activeElement;if(!Ut(t))return!1;const n=t.nodeName;return Ko(ut(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==Xe(t))}function Ge(e,t,n){const r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!Ye(t)&&Ue(t)===e}catch(e){return!1}}function qe(e){return e instanceof ca}function Ue(e){let t=e;for(;null!=t;){const e=Xe(t);if(qe(e))return e;t=zt(t)}return null}function Xe(e){return e?e.__lexicalEditor:null}function Je(e){return e.isToken()||e.isSegmented()}function Qe(e){return Xt(e)&&3===e.nodeType}function et(e){let t=e;for(;null!=t;){if(Qe(t))return t;t=t.firstChild}return null}function tt(e,t,n){const r=we[t];if(null!==n&&(e&r)==(n&r))return e;let o=e^r;return"subscript"===t?o&=~we.superscript:"superscript"===t?o&=~we.subscript:"lowercase"===t?(o&=~we.uppercase,o&=~we.capitalize):"uppercase"===t?(o&=~we.lowercase,o&=~we.capitalize):"capitalize"===t&&(o&=~we.lowercase,o&=~we.uppercase),o}function nt(e,t){if(null!=t)return void(e.__key=t);ko(),Co();const n=No(),r=So(),o=""+We++;r._nodeMap.set(o,e),Ho(e)?n._dirtyElements.set(o,!0):n._dirtyLeaves.add(o),n._cloneNotNeeded.add(o),n._dirtyType=1,e.__key=o}function rt(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),r=t.getWritable(),o=e.getPreviousSibling(),a=e.getNextSibling();if(null===o)if(null!==a){const e=a.getWritable();r.__first=a.__key,e.__prev=null}else r.__first=null;else{const e=o.getWritable();if(null!==a){const t=a.getWritable();t.__prev=e.__key,e.__next=t.__key}else e.__next=null;n.__prev=null}if(null===a)if(null!==o){const e=o.getWritable();r.__last=o.__key,e.__next=null}else r.__last=null;else{const e=a.getWritable();if(null!==o){const t=o.getWritable();t.__next=e.__key,e.__prev=t.__key}else e.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function ot(e){Co();const t=e.getLatest(),n=t.__parent,r=So(),o=No(),a=r._nodeMap,i=o._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;const e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,a,i);const s=t.__key;o._dirtyType=1,Ho(e)?i.set(s,!0):o._dirtyLeaves.add(s)}function at(e){ko();const t=No(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=st(n);null!==e&&e.getWritable()}if(null!==e){const t=st(e);null!==t&&t.getWritable()}}}function it(){return wo()?null:No()._compositionKey}function st(e,t){const n=(t||So())._nodeMap.get(e);return void 0===n?null:n}function lt(e,t){const n=ct(e,No());return void 0!==n?st(n,t):null}function ct(e,t){return e[`__lexicalKey_${t._key}`]}function ut(e,t){let n=e;for(;null!=n;){const e=lt(n,t);if(null!==e)return e;n=zt(n)}return null}function dt(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function ft(e){return e.read((()=>pt().getTextContent()))}function pt(){return gt(So())}function gt(e){return e._nodeMap.get("root")}function mt(e){ko();const t=So();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function ht(e){const t=No(),n=function(e,t){let n=e;for(;null!=n;){const e=ct(n,t);if(void 0!==e)return e;n=zt(n)}return null}(e,t);return null===n?e===t.getRootElement()?st("root"):null:st(n)}function vt(e,t){return t?e.getTextContentSize():0}function yt(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function bt(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function xt(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function _t(e){return Qe(e)?e.nodeValue:null}function wt(e,t,n){const r=qt(t._window);if(null===r)return;const o=r.anchorNode;let{anchorOffset:a,focusOffset:i}=r;if(null!==o){let t=_t(o);const r=ut(o);if(null!==t&&Zr(r)){if(t===me&&n){const e=n.length;t=n,a=e,i=e}null!==t&&kt(r,t,a,i,e)}}}function kt(e,t,n,r,o){let a=e;if(a.isAttached()&&(o||!a.isDirty())){const i=a.isComposing();let s=t;(i||o)&&t[t.length-1]===me&&(s=t.slice(0,-1));const l=a.getTextContent();if(o||s!==l){if(""===s){if(at(null),X||J||ne)a.remove();else{const e=No();setTimeout((()=>{e.update((()=>{a.isAttached()&&a.remove()}))}),20)}return}const t=a.getParent(),o=lo(),l=a.getTextContentSize(),c=it(),u=a.getKey();if(a.isToken()||null!==c&&u===c&&!i||Yr(o)&&(null!==t&&!t.canInsertTextBefore()&&0===o.anchor.offset||o.anchor.key===e.__key&&0===o.anchor.offset&&!a.canInsertTextBefore()&&!i||o.focus.key===e.__key&&o.focus.offset===l&&!a.canInsertTextAfter()&&!i))return void a.markDirty();const d=so();if(!Yr(d)||null===n||null===r)return void a.setTextContent(s);if(d.setTextNodeRange(a,n,a,r),a.isSegmented()){const e=Ar(a.getTextContent());a.replace(e),a=e}a.setTextContent(s)}}}function Ct(e){return"ArrowLeft"===e}function St(e){return"ArrowRight"===e}function Nt(e,t){return G?e:t}function Et(e){return"Enter"===e}function jt(e){return"Backspace"===e}function It(e){return"Delete"===e}function Mt(e,t,n){return"a"===e.toLowerCase()&&Nt(t,n)}function Pt(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;const o=e[t];if("string"==typeof o){const e=Ie(o);return n[t]=e,e}return o}function Tt(e,t,n,r,o){if(0===n.size)return;const a=r.__type,i=r.__key,s=t.get(a);void 0===s&&je(33,a);const l=s.klass;let c=e.get(l);void 0===c&&(c=new Map,e.set(l,c));const u=c.get(i),d="destroyed"===u&&"created"===o;(void 0===u||d)&&c.set(i,d?"updated":o)}function Ot(e,t,n){const r=e.getParent();let o=n,a=e;return null!==r&&(t&&0===n?(o=a.getIndexWithinParent(),a=r):t||n!==a.getChildrenSize()||(o=a.getIndexWithinParent()+1,a=r)),a.getChildAtIndex(t?o-1:o)}function Dt(e,t){const n=e.offset;if("element"===e.type)return Ot(e.getNode(),t,n);{const r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){const e=t?r.getPreviousSibling():r.getNextSibling();return null===e?Ot(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function At(e){const t=Ht(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function Zt(e,t,n){return Zo(e,t,n)}function Rt(e){return!Go(e)&&!e.isLastChild()&&!e.isInline()}function Ft(e,t){const n=e._keyToDOMMap.get(t);return void 0===n&&je(75,t),n}function zt(e){const t=e.assignedSlot||e.parentElement;return Jt(t)?t.host:t}function Lt(e){return function(e){return Xt(e)&&9===e.nodeType}(e)?e:Ut(e)?e.ownerDocument:null}function Bt(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function $t(e){const t=Lt(e);return t?t.defaultView:null}function Ht(e){const t=e._window;return null===t&&je(78),t}function Vt(e){return Go(e)||Ho(e)&&e.isShadowRoot()}function Wt(e){const t=No(),n=e.constructor.getType(),r=t._nodes.get(n);void 0===r&&je(200,e.constructor.name,n);const{replace:o,replaceWithKlass:a}=r;if(null!==o){const t=o(e),r=t.constructor;return null!==a?t instanceof a||je(201,a.name,a.getType(),r.name,r.getType(),e.constructor.name,n):t instanceof e.constructor&&r!==e.constructor||je(202,r.name,r.getType(),e.constructor.name,n),t.__key===e.__key&&je(203,e.constructor.name,n,r.name,r.getType()),t}return e}function Kt(e,t){!Go(e.getParent())||Ho(t)||Ko(t)||je(99)}function Yt(e){return(Ko(e)||Ho(e)&&!e.canBeEmpty())&&!e.isInline()}function Gt(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;null!==r&&r.removeChild(e)}function qt(e){return K?(e||window).getSelection():null}function Ut(e){return Xt(e)&&e.nodeType===re}function Xt(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function Jt(e){return Xt(e)&&e.nodeType===oe}function Qt(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function en(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function tn(e){if(Ko(e)&&!e.isInline())return!0;if(!Ho(e)||Vt(e))return!1;const t=e.getFirstChild(),n=null===t||yr(t)||Zr(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function nn(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}const rn=new WeakMap,on=new Map;function an(e){if(!e._readOnly&&e.isEmpty())return on;e._readOnly||je(192);let t=rn.get(e);return t||(t=function(e){const t=new Map;for(const[n,r]of e._nodeMap){const e=r.__type;let o=t.get(e);o||(o=new Map,t.set(e,o)),o.set(n,r)}return t}(e),rn.set(e,t)),t}function sn(e){const t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function ln(e,t){const n=(parseInt(e.style.paddingInlineStart,10)||0)/40;t.setIndent(n)}function cn(e){return!0===e.__lexicalUnmanaged}function un(e,t,n,r,o,a){let i=e.getFirstChild();for(;null!==i;){const e=i.__key;i.__parent===t&&(Ho(i)&&un(i,e,n,r,o,a),n.has(e)||a.delete(e),o.push(e)),i=i.getNextSibling()}}let dn,fn,pn,gn,mn,hn,vn,yn,bn,xn,_n="",wn="",kn=null,Cn="",Sn="",Nn=!1,En=!1,jn=null;function In(e,t){const n=vn.get(e);if(null!==t){const n=Vn(e);n.parentNode===t&&t.removeChild(n)}if(yn.has(e)||fn._keyToDOMMap.delete(e),Ho(n)){const e=Ln(n,vn);Mn(e,0,e.length-1,null)}void 0!==n&&Tt(xn,pn,gn,n,"destroyed")}function Mn(e,t,n,r){let o=t;for(;o<=n;++o){const t=e[o];void 0!==t&&In(t,r)}}function Pn(e,t){e.setProperty("text-align",t)}const Tn="40px";function On(e,t){const n=dn.theme.indent;if("string"==typeof n){const r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||Tn;e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function Dn(e,t){const n=e.style;0===t?Pn(n,""):1===t?Pn(n,"left"):2===t?Pn(n,"center"):3===t?Pn(n,"right"):4===t?Pn(n,"justify"):5===t?Pn(n,"start"):6===t&&Pn(n,"end")}function An(e,t){const n=yn.get(e);void 0===n&&je(60);const r=n.createDOM(dn,fn);if(function(e,t,n){const r=n._keyToDOMMap;(function(e,t,n){e[`__lexicalKey_${t._key}`]=n})(t,n,e),r.set(e,t)}(e,r,fn),Zr(n)?r.setAttribute("data-lexical-text","true"):Ko(n)&&r.setAttribute("data-lexical-decorator","true"),Ho(n)){const e=n.__indent,t=n.__size;if(0!==e&&On(r,e),0!==t){const e=t-1;!function(e,t,n,r){const o=wn;wn="",Zn(e,n,0,t,n.getDOMSlot(r)),zn(n,r),wn=o}(Ln(n,yn),e,n,r)}const o=n.__format;0!==o&&Dn(r,o),n.isInline()||Fn(null,n,r),Rt(n)&&(_n+=he,Sn+=he)}else{const t=n.getTextContent();if(Ko(n)){const t=n.decorate(fn,dn);null!==t&&$n(e,t),r.contentEditable="false"}else Zr(n)&&(n.isDirectionless()||(wn+=t));_n+=t,Sn+=t}return null!==t&&t.insertChild(r),Tt(xn,pn,gn,n,"created"),r}function Zn(e,t,n,r,o){const a=_n;_n="";let i=n;for(;i<=r;++i){An(e[i],o);const t=yn.get(e[i]);null!==t&&Zr(t)&&(null===kn&&(kn=t.getFormat()),""===Cn&&(Cn=t.getStyle()))}Rt(t)&&(_n+=he),o.element.__lexicalTextContent=_n,_n=a+_n}function Rn(e,t){if(e){const n=e.__last;if(n){const e=t.get(n);if(e)return yr(e)?"line-break":Ko(e)&&e.isInline()?"decorator":null}return"empty"}return null}function Fn(e,t,n){const r=Rn(e,vn),o=Rn(t,yn);r!==o&&t.getDOMSlot(n).setManagedLineBreak(o)}function zn(e,t){const n=t.__lexicalDirTextContent||"",r=t.__lexicalDir||"";if(n!==wn||r!==jn){const n=""===wn,a=n?jn:(o=wn,xe.test(o)?"rtl":_e.test(o)?"ltr":null);if(a!==r){const o=t.classList,i=dn.theme;let s=null!==r?i[r]:void 0,l=null!==a?i[a]:void 0;if(void 0!==s){if("string"==typeof s){const e=Ie(s);s=i[r]=e}o.remove(...s)}if(null===a||n&&"ltr"===a)t.removeAttribute("dir");else{if(void 0!==l){if("string"==typeof l){const e=Ie(l);l=i[a]=e}void 0!==l&&o.add(...l)}t.dir=a}En||(e.getWritable().__dir=a)}jn=a,t.__lexicalDirTextContent=wn,t.__lexicalDir=a}var o}function Ln(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=t.get(r);void 0===e&&je(101),n.push(r),r=e.__next}return n}function Bn(e,t){const n=vn.get(e);let r=yn.get(e);void 0!==n&&void 0!==r||je(61);const o=Nn||hn.has(e)||mn.has(e),a=Ft(fn,e);if(n===r&&!o){if(Ho(n)){const e=a.__lexicalTextContent;void 0!==e&&(_n+=e,Sn+=e);const t=a.__lexicalDirTextContent;void 0!==t&&(wn+=t)}else{const e=n.getTextContent();Zr(n)&&!n.isDirectionless()&&(wn+=e),Sn+=e,_n+=e}return a}if(n!==r&&o&&Tt(xn,pn,gn,r,"updated"),r.updateDOM(n,a,dn)){const n=An(e,null);return null===t&&je(62),t.replaceChild(n,a),In(e,null),n}if(Ho(n)&&Ho(r)){const e=r.__indent;e!==n.__indent&&On(a,e);const t=r.__format;t!==n.__format&&Dn(a,t),o&&(function(e,t,n){const r=wn;var o;wn="",kn=null,Cn="",function(e,t,n){const r=_n,o=e.__size,a=t.__size;_n="";const i=n.element;if(1===o&&1===a){const n=e.__first,r=t.__first;if(n===r)Bn(n,i);else{const e=Vn(n),t=An(r,null);try{i.replaceChild(t,e)}catch(o){if("object"==typeof o&&null!=o){const a=`${o.toString()} Parent: ${i.tagName}, new child: {tag: ${t.tagName} key: ${r}}, old child: {tag: ${e.tagName}, key: ${n}}.`;throw new Error(a)}throw o}In(n,null)}const a=yn.get(r);Zr(a)&&(null===kn&&(kn=a.getFormat()),""===Cn&&(Cn=a.getStyle()))}else{const r=Ln(e,vn),s=Ln(t,yn);if(r.length!==o&&je(227),s.length!==a&&je(228),0===o)0!==a&&Zn(s,t,0,a-1,n);else if(0===a){if(0!==o){const e=null==n.after&&null==n.before&&null==n.element.__lexicalLineBreak;Mn(r,0,o-1,e?null:i),e&&(i.textContent="")}}else!function(e,t,n,r,o,a){const i=r-1,s=o-1;let l,c,u=a.getFirstChild(),d=0,f=0;for(;d<=i&&f<=s;){const e=t[d],r=n[f];if(e===r)u=Hn(Bn(r,a.element)),d++,f++;else{void 0===l&&(l=new Set(t)),void 0===c&&(c=new Set(n));const o=c.has(e),i=l.has(r);if(o)if(i){const e=Ft(fn,r);e===u?u=Hn(Bn(r,a.element)):(a.withBefore(u).insertChild(e),Bn(r,a.element)),d++,f++}else An(r,a.withBefore(u)),f++;else u=Hn(Vn(e)),In(e,a.element),d++}const o=yn.get(r);null!==o&&Zr(o)&&(null===kn&&(kn=o.getFormat()),""===Cn&&(Cn=o.getStyle()))}const p=d>i,g=f>s;if(p&&!g){const t=n[s+1],r=void 0===t?null:fn.getElementByKey(t);Zn(n,e,f,s,a.withBefore(r))}else g&&!p&&Mn(t,d,i,a.element)}(t,r,s,o,a,n)}Rt(t)&&(_n+=he),i.__lexicalTextContent=_n,_n=r+_n}(e,t,t.getDOMSlot(n)),zn(t,n),o=t,null==kn||kn===o.__textFormat||En||(o.setTextFormat(kn),o.setTextStyle(Cn)),function(e){""===Cn||Cn===e.__textStyle||En||e.setTextStyle(Cn)}(t),wn=r}(n,r,a),Go(r)||r.isInline()||Fn(n,r,a)),Rt(r)&&(_n+=he,Sn+=he)}else{const t=r.getTextContent();if(Ko(r)){const t=r.decorate(fn,dn);null!==t&&$n(e,t)}else Zr(r)&&!r.isDirectionless()&&(wn+=t);_n+=t,Sn+=t}if(!En&&Go(r)&&r.__cachedText!==Sn){const e=r.getWritable();e.__cachedText=Sn,r=e}return a}function $n(e,t){let n=fn._pendingDecorators;const r=fn._decorators;if(null===n){if(r[e]===t)return;n=dt(fn)}n[e]=t}function Hn(e){let t=e.nextSibling;return null!==t&&t===fn._blockCursorElement&&(t=t.nextSibling),t}function Vn(e){const t=bn.get(e);return void 0===t&&je(75,e),t}const Wn=Object.freeze({}),Kn=[["keydown",function(e,t){if(Yn=e.timeStamp,Gn=e.key,t.isComposing())return;const{key:n,shiftKey:r,ctrlKey:o,metaKey:a,altKey:i}=e;if(!Zt(t,b,e)&&null!=n){if(function(e,t,n,r){return St(e)&&!t&&!r&&!n}(n,o,i,a))Zt(t,x,e);else if(function(e,t,n,r,o){return St(e)&&!r&&!n&&(t||o)}(n,o,r,i,a))Zt(t,_,e);else if(function(e,t,n,r){return Ct(e)&&!t&&!r&&!n}(n,o,i,a))Zt(t,w,e);else if(function(e,t,n,r,o){return Ct(e)&&!r&&!n&&(t||o)}(n,o,r,i,a))Zt(t,k,e);else if(function(e,t,n){return function(e){return"ArrowUp"===e}(e)&&!t&&!n}(n,o,a))Zt(t,C,e);else if(function(e,t,n){return function(e){return"ArrowDown"===e}(e)&&!t&&!n}(n,o,a))Zt(t,S,e);else if(function(e,t){return Et(e)&&t}(n,r))er=!0,Zt(t,N,e);else if(function(e){return" "===e}(n))Zt(t,E,e);else if(function(e,t){return G&&t&&"o"===e.toLowerCase()}(n,o))e.preventDefault(),er=!0,Zt(t,c,!0);else if(function(e,t){return Et(e)&&!t}(n,r))er=!1,Zt(t,N,e);else if(function(e,t,n,r){return G?!t&&!n&&(jt(e)||"h"===e.toLowerCase()&&r):!(r||t||n)&&jt(e)}(n,i,a,o))jt(n)?Zt(t,j,e):(e.preventDefault(),Zt(t,l,!0));else if(function(e){return"Escape"===e}(n))Zt(t,I,e);else if(function(e,t,n,r,o){return G?!(n||r||o)&&(It(e)||"d"===e.toLowerCase()&&t):!(t||r||o)&&It(e)}(n,o,r,i,a))It(n)?Zt(t,M,e):(e.preventDefault(),Zt(t,l,!1));else if(function(e,t,n){return jt(e)&&(G?t:n)}(n,i,o))e.preventDefault(),Zt(t,g,!0);else if(function(e,t,n){return It(e)&&(G?t:n)}(n,i,o))e.preventDefault(),Zt(t,g,!1);else if(function(e,t){return G&&t&&jt(e)}(n,a))e.preventDefault(),Zt(t,m,!0);else if(function(e,t){return G&&t&&It(e)}(n,a))e.preventDefault(),Zt(t,m,!1);else if(function(e,t,n,r){return"b"===e.toLowerCase()&&!t&&Nt(n,r)}(n,i,a,o))e.preventDefault(),Zt(t,h,"bold");else if(function(e,t,n,r){return"u"===e.toLowerCase()&&!t&&Nt(n,r)}(n,i,a,o))e.preventDefault(),Zt(t,h,"underline");else if(function(e,t,n,r){return"i"===e.toLowerCase()&&!t&&Nt(n,r)}(n,i,a,o))e.preventDefault(),Zt(t,h,"italic");else if(function(e,t,n,r){return"Tab"===e&&!t&&!n&&!r}(n,i,o,a))Zt(t,P,e);else if(function(e,t,n,r){return"z"===e.toLowerCase()&&!t&&Nt(n,r)}(n,r,a,o))e.preventDefault(),Zt(t,v,void 0);else if(function(e,t,n,r){return G?"z"===e.toLowerCase()&&n&&t:"y"===e.toLowerCase()&&r||"z"===e.toLowerCase()&&r&&t}(n,r,a,o))e.preventDefault(),Zt(t,y,void 0);else{const i=t._editorState._selection;null===i||Yr(i)?!q&&Mt(n,a,o)&&(e.preventDefault(),Zt(t,$,e)):function(e,t,n,r){return!t&&"c"===e.toLowerCase()&&(G?n:r)}(n,r,a,o)?(e.preventDefault(),Zt(t,L,e)):function(e,t,n,r){return!t&&"x"===e.toLowerCase()&&(G?n:r)}(n,r,a,o)?(e.preventDefault(),Zt(t,B,e)):Mt(n,a,o)&&(e.preventDefault(),Zt(t,$,e))}(function(e,t,n,r){return e||t||n||r})(o,r,i,a)&&Zt(t,W,e)}}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;Xt(n)&&"touch"!==r&&0===e.button&&zo(t,(()=>{Ko(ut(n))||(Qn=!0)}))}],["compositionstart",function(e,t){zo(t,(()=>{const n=so();if(Yr(n)&&!t.isComposing()){const r=n.anchor,o=n.anchor.getNode();at(r.key),(e.timeStamp<Yn+30||"element"===r.type||!n.isCollapsed()||o.getFormat()!==n.format||Zr(o)&&o.getStyle()!==n.style)&&Zt(t,d,ve)}}))}],["compositionend",function(e,t){q?tr=!0:zo(t,(()=>{sr(t,e.data)}))}],["input",function(e,t){e.stopPropagation(),zo(t,(()=>{const n=so(),r=e.data,o=ir(e);if(null!=r&&Yr(n)&&rr(n,o,r,e.timeStamp,!1)){tr&&(sr(t,r),tr=!1);const o=n.anchor.getNode(),a=qt(t._window);if(null===a)return;const i=n.isBackward(),s=i?n.anchor.offset:n.focus.offset,l=i?n.focus.offset:n.anchor.offset;U&&!n.isCollapsed()&&Zr(o)&&null!==a.anchorNode&&o.getTextContent().slice(0,s)+r+o.getTextContent().slice(s+l)===_t(a.anchorNode)||Zt(t,d,r);const c=r.length;q&&c>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=c),X||J||ne||!t.isComposing()||(Yn=0,at(null))}else wt(!1,t,null!==r?r:void 0),tr&&(sr(t,r||void 0),tr=!1);ko(),Fe(No())})),Un=null}],["click",function(e,t){zo(t,(()=>{const n=so(),r=qt(t._window),o=lo();if(r)if(Yr(n)){const t=n.anchor,a=t.getNode();"element"===t.type&&0===t.offset&&n.isCollapsed()&&!Go(a)&&1===pt().getChildrenSize()&&a.getTopLevelElementOrThrow().isEmpty()&&null!==o&&n.is(o)?(r.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||a!==n.focus.getNode()&&(Ho(a)?a.select(0):a.getParentOrThrow().select(0))}else if("touch"===e.pointerType){const n=r.anchorNode;(Ut(n)||Qe(n))&&mt(io(o,r,t,e))}Zt(t,s,e)}))}],["cut",Wn],["copy",Wn],["dragstart",Wn],["dragover",Wn],["dragend",Wn],["paste",Wn],["focus",Wn],["blur",Wn],["drop",Wn]];U&&Kn.push(["beforeinput",(e,t)=>function(e,t){const n=e.inputType,r=ir(e);"deleteCompositionText"===n||q&&At(t)||"insertCompositionText"!==n&&zo(t,(()=>{const o=so();if("deleteContentBackward"===n){if(null===o){const e=lo();if(!Yr(e))return;mt(e.clone())}if(Yr(o)){const n=o.anchor.key===o.focus.key;if(a=e.timeStamp,"MediaLast"===Gn&&a<Yn+30&&t.isComposing()&&n){if(at(null),Yn=0,setTimeout((()=>{zo(t,(()=>{at(null)}))}),30),Yr(o)){const e=o.anchor.getNode();e.markDirty(),o.format=e.getFormat(),Zr(e)||je(142),o.style=e.getStyle()}}else{at(null),e.preventDefault();const r=o.anchor.getNode(),a=r.getTextContent(),i=r.canInsertTextAfter(),s=0===o.anchor.offset&&o.focus.offset===a.length;te&&n&&!s&&i||Zt(t,l,!0)}return}}var a;if(!Yr(o))return;const i=e.data;null!==Un&&wt(!1,t,Un),o.dirty&&null===Un||!o.isCollapsed()||Go(o.anchor.getNode())||null===r||o.applyDOMRange(r),Un=null;const s=o.anchor,b=o.focus,x=s.getNode(),_=b.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Zt(t,d,e);break;case"insertFromComposition":at(null),Zt(t,d,e);break;case"insertLineBreak":at(null),Zt(t,c,!1);break;case"insertParagraph":at(null),er&&!J?(er=!1,Zt(t,c,!1)):Zt(t,u,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Zt(t,f,e);break;case"deleteByComposition":(function(e,t){return e!==t||Ho(e)||Ho(t)||!e.isToken()||!t.isToken()})(x,_)&&Zt(t,p,e);break;case"deleteByDrag":case"deleteByCut":Zt(t,p,e);break;case"deleteContent":Zt(t,l,!1);break;case"deleteWordBackward":Zt(t,g,!0);break;case"deleteWordForward":Zt(t,g,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Zt(t,m,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Zt(t,m,!1);break;case"formatStrikeThrough":Zt(t,h,"strikethrough");break;case"formatBold":Zt(t,h,"bold");break;case"formatItalic":Zt(t,h,"italic");break;case"formatUnderline":Zt(t,h,"underline");break;case"historyUndo":Zt(t,v,void 0);break;case"historyRedo":Zt(t,y,void 0)}else{if("\n"===i)e.preventDefault(),Zt(t,c,!1);else if(i===he)e.preventDefault(),Zt(t,u,void 0);else if(null==i&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),o.insertRawText(t)}else null!=i&&rr(o,r,i,e.timeStamp,!0)?(e.preventDefault(),Zt(t,d,i)):Un=i;qn=e.timeStamp}}))}(e,t)]);let Yn=0,Gn=null,qn=0,Un=null;const Xn=new WeakMap;let Jn=!1,Qn=!1,er=!1,tr=!1,nr=[0,"",0,"root",0];function rr(e,t,n,r,o){const a=e.anchor,i=e.focus,s=a.getNode(),l=No(),c=qt(l._window),u=null!==c?c.anchorNode:null,d=a.key,f=l.getElementByKey(d),p=n.length;return d!==i.key||!Zr(s)||(!o&&(!U||qn<r+50)||s.isDirty()&&p<2||yt(n))&&a.offset!==i.offset&&!s.isComposing()||Je(s)||s.isDirty()&&p>1||(o||!U)&&null!==f&&!s.isComposing()&&u!==et(f)||null!==c&&null!==t&&(!t.collapsed||t.startContainer!==c.anchorNode||t.startOffset!==c.anchorOffset)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,r=t.getParentOrThrow(),o=t.isToken();return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||o||function(e){const t=e.getPreviousSibling();return(Zr(t)||Ho(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||o)}(e,s)}function or(e,t){return Qe(e)&&null!==e.nodeValue&&0!==t&&t!==e.nodeValue.length}function ar(e,t,n){const{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}=e;Jn&&(Jn=!1,or(r,o)&&or(i,s))||zo(t,(()=>{if(!n)return void mt(null);if(!Ge(t,r,i))return;const l=so();if(Yr(l)){const n=l.anchor,r=n.getNode();if(l.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(l.dirty=!0);const o=Ht(t).event,a=o?o.timeStamp:performance.now(),[i,s,c,u,d]=nr,f=pt(),p=!1===t.isComposing()&&""===f.getTextContent();if(a<d+200&&n.offset===c&&n.key===u)l.format=i,l.style=s;else if("text"===n.type)Zr(r)||je(141),l.format=r.getFormat(),l.style=r.getStyle();else if("element"===n.type&&!p){Ho(r)||je(259);const e=n.getNode();l.style="",e.isEmpty()?(l.format=e.getTextFormat(),l.style=e.getTextStyle()):l.format=0}}else{const e=n.key,t=l.focus.key,r=l.getNodes(),a=r.length,i=l.isBackward(),c=i?s:o,u=i?o:s,d=i?t:e,f=i?e:t;let p=2047,g=!1;for(let e=0;e<a;e++){const t=r[e],n=t.getTextContentSize();if(Zr(t)&&0!==n&&!(0===e&&t.__key===d&&c===n||e===a-1&&t.__key===f&&0===u)&&(g=!0,p&=t.getFormat(),0===p))break}l.format=g?p:0}}Zt(t,a,void 0)}))}function ir(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return 0===t.length?null:t[0]}function sr(e,t){const n=e._compositionKey;if(at(null),null!==n&&null!=t){if(""===t){const t=st(n),r=et(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&Zr(t)&&kt(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){const t=so();if(Yr(t)){const n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void Zt(e,N,null)}}}wt(!0,e,t)}function lr(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}const cr=new Map;function ur(e){const t=function(e){const t=$t(e);return t?t.getSelection():null}(e.target);if(null===t)return;const n=Ue(t.anchorNode);if(null===n)return;Qn&&(Qn=!1,zo(n,(()=>{const r=lo(),o=t.anchorNode;(Ut(o)||Qe(o))&&mt(io(r,t,n,e))})));const r=bt(n),o=r[r.length-1],a=o._key,i=cr.get(a),s=i||o;s!==n&&ar(t,s,!1),ar(t,n,!0),n!==o?cr.set(a,n):i&&cr.delete(a)}function dr(e){e._lexicalHandled=!0}function fr(e){return!0===e._lexicalHandled}function pr(e,t,n){ko();const r=e.__key,o=e.getParent();if(null===o)return;const a=function(e){const t=so();if(!Yr(t)||!Ho(e))return t;const{anchor:n,focus:r}=t,o=n.getNode(),a=r.getNode();return Bt(o,e)&&n.set(e.__key,0,"element"),Bt(a,e)&&r.set(e.__key,0,"element"),t}(e);let i=!1;if(Yr(a)&&t){const t=a.anchor,n=a.focus;t.key===r&&(fo(t,e,o,e.getPreviousSibling(),e.getNextSibling()),i=!0),n.key===r&&(fo(n,e,o,e.getPreviousSibling(),e.getNextSibling()),i=!0)}else qr(a)&&t&&e.isSelected()&&e.selectPrevious();if(Yr(a)&&t&&!i){const t=e.getIndexWithinParent();rt(e),co(a,o,t,-1)}else rt(e);n||Vt(o)||o.canBeEmpty()||!o.isEmpty()||pr(o,t),t&&Go(o)&&o.isEmpty()&&o.selectEnd()}class gr{static getType(){je(64,this.name)}static clone(e){je(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,nt(this,e)}getType(){return this.__type}isInline(){je(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=st(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){const t=e||so();if(null==t)return!1;const n=t.getNodes().some((e=>e.__key===this.__key));if(Zr(this))return n;if(Yr(t)&&"element"===t.anchor.type&&"element"===t.focus.type){if(t.isCollapsed())return!1;const e=this.getParent();if(Ko(this)&&this.isInline()&&e){const n=t.isBackward()?t.focus:t.anchor,r=n.getNode();if(n.offset===r.getChildrenSize()&&r.is(e)&&r.getLastChildOrThrow().is(this))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(null===e)return-1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return null===e?null:st(e)}getParentOrThrow(){const e=this.getParent();return null===e&&je(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(Vt(t))return Ho(e)||e===this&&Ko(e)||je(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return null===e&&je(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return null===e?null:st(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return null===e?null:st(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=this.getParents(),n=e.getParents();Ho(this)&&t.unshift(this),Ho(e)&&n.unshift(e);const r=t.length,o=n.length;if(0===r||0===o||t[r-1]!==n[o-1])return null;const a=new Set(n);for(let e=0;e<r;e++){const n=t[e];if(a.has(n))return n}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;const t=this.getCommonAncestor(e);let n=0,r=0,o=this;for(;;){const e=o.getParentOrThrow();if(e===t){n=o.getIndexWithinParent();break}o=e}for(o=e;;){const e=o.getParentOrThrow();if(e===t){r=o.getIndexWithinParent();break}o=e}return n<r}isParentOf(e){const t=this.__key;if(t===e.__key)return!1;let n=e;for(;null!==n;){if(n.__key===t)return!0;n=n.getParent()}return!1}getNodesBetween(e){const t=this.isBefore(e),n=[],r=new Set;let o=this;for(;null!==o;){const a=o.__key;if(r.has(a)||(r.add(a),n.push(o)),o===e)break;const i=Ho(o)?t?o.getFirstChild():o.getLastChild():null;if(null!==i){o=i;continue}const s=t?o.getNextSibling():o.getPreviousSibling();if(null!==s){o=s;continue}const l=o.getParentOrThrow();if(r.has(l.__key)||n.push(l),l===e)break;let c=null,u=l;do{if(null===u&&je(68),c=t?u.getNextSibling():u.getPreviousSibling(),u=u.getParent(),null===u)break;null!==c||r.has(u.__key)||n.push(u)}while(null===c);o=c}return t||n.reverse(),n}isDirty(){const e=No()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){const e=st(this.__key);return null===e&&je(113),e}getWritable(){ko();const e=So(),t=No(),n=e._nodeMap,r=this.__key,o=this.getLatest(),a=t._cloneNotNeeded,i=so();if(null!==i&&i.setCachedNodes(null),a.has(r))return ot(o),o;const s=sn(o);return a.add(r),ot(s),n.set(r,s),s}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){je(70)}updateDOM(e,t,n){je(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){return{type:this.__type,version:1}}static importJSON(e){je(18,this.name)}updateFromJSON(e){return this}static transform(){return null}remove(e){pr(this,!0,e)}replace(e,t){ko();let n=so();null!==n&&(n=n.clone()),Kt(this,e);const r=this.getLatest(),o=this.__key,a=e.__key,i=e.getWritable(),s=this.getParentOrThrow().getWritable(),l=s.__size;rt(i);const c=r.getPreviousSibling(),u=r.getNextSibling(),d=r.__prev,f=r.__next,p=r.__parent;if(pr(r,!1,!0),null===c?s.__first=a:c.getWritable().__next=a,i.__prev=d,null===u?s.__last=a:u.getWritable().__prev=a,i.__next=f,i.__parent=p,s.__size=l,t&&(Ho(this)&&Ho(i)||je(139),this.getChildren().forEach((e=>{i.append(e)}))),Yr(n)){mt(n);const e=n.anchor,t=n.focus;e.key===o&&Vr(e,i),t.key===o&&Vr(t,i)}return it()===o&&at(a),i}insertAfter(e,t=!0){ko(),Kt(this,e);const n=this.getWritable(),r=e.getWritable(),o=r.getParent(),a=so();let i=!1,s=!1;if(null!==o){const t=e.getIndexWithinParent();if(rt(r),Yr(a)){const e=o.__key,n=a.anchor,r=a.focus;i="element"===n.type&&n.key===e&&n.offset===t+1,s="element"===r.type&&r.key===e&&r.offset===t+1}}const l=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),u=r.__key,d=n.__next;if(null===l?c.__last=u:l.getWritable().__prev=u,c.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&Yr(a)){const e=this.getIndexWithinParent();co(a,c,e+1);const t=c.__key;i&&a.anchor.set(t,e+2,"element"),s&&a.focus.set(t,e+2,"element")}return e}insertBefore(e,t=!0){ko(),Kt(this,e);const n=this.getWritable(),r=e.getWritable(),o=r.__key;rt(r);const a=this.getPreviousSibling(),i=this.getParentOrThrow().getWritable(),s=n.__prev,l=this.getIndexWithinParent();null===a?i.__first=o:a.getWritable().__next=o,i.__size++,n.__prev=o,r.__prev=s,r.__next=n.__key,r.__parent=n.__parent;const c=so();return t&&Yr(c)&&co(c,this.getParentOrThrow(),l),e}isParentRequired(){return!1}createParentElementNode(){return na()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){ko();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(Ho(n))return n.select();if(!Zr(n)){const e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){ko();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(Ho(n))return n.select(0,0);if(!Zr(n)){const e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class mr extends gr{static getType(){return"linebreak"}static clone(e){return new mr(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>function(e){const t=e.parentElement;if(null!==t&&en(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&br(n)){const n=t.lastChild;if(n===e||n.previousSibling===e&&br(n))return!0}}return!1}(e)||function(e){const t=e.parentElement;if(null!==t&&en(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&br(n))return!1;const r=t.lastChild;if(r===e||r.previousSibling===e&&br(r))return!0}return!1}(e)?null:{conversion:hr,priority:0}}}static importJSON(e){return vr().updateFromJSON(e)}}function hr(e){return{node:vr()}}function vr(){return Wt(new mr)}function yr(e){return e instanceof mr}function br(e){return Qe(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function xr(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function _r(e,t){return 1&t?"strong":2&t?"em":"span"}function wr(e,t,n,r,o){const a=r.classList;let i=Pt(o,"base");void 0!==i&&a.add(...i),i=Pt(o,"underlineStrikethrough");let s=!1;const l=8&t&&4&t;void 0!==i&&(8&n&&4&n?(s=!0,l||a.add(...i)):l&&a.remove(...i));for(const e in we){const r=we[e];if(i=Pt(o,e),void 0!==i)if(n&r){if(s&&("underline"===e||"strikethrough"===e)){t&r&&a.remove(...i);continue}t&r&&(!l||"underline"!==e)&&"strikethrough"!==e||a.add(...i)}else t&r&&a.remove(...i)}}function kr(e,t,n){const r=t.firstChild,o=n.isComposing(),a=e+(o?me:"");if(null==r)t.textContent=a;else{const e=r.nodeValue;if(e!==a)if(o||q){const[t,n,o]=function(e,t){const n=e.length,r=t.length;let o=0,a=0;for(;o<n&&o<r&&e[o]===t[o];)o++;for(;a+o<n&&a+o<r&&e[n-a-1]===t[r-a-1];)a++;return[o,n-o-a,t.slice(o,r-a)]}(e,a);0!==n&&r.deleteData(t,n),r.insertData(t,o)}else r.nodeValue=a}}function Cr(e,t,n,r,o,a){kr(o,e,t);const i=a.theme.text;void 0!==i&&wr(0,0,r,e,i)}function Sr(e,t){const n=document.createElement(t);return n.appendChild(e),n}class Nr extends gr{static getType(){return"text"}static clone(e){return new Nr(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return Ee[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===it()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=we[e];return!!(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return tt(this.getLatest().__format,e,t)}canHaveFormat(){return!0}createDOM(e,t){const n=this.__format,r=xr(0,n),o=_r(0,n),a=null===r?o:r,i=document.createElement(a);let s=i;this.hasFormat("code")&&i.setAttribute("spellcheck","false"),null!==r&&(s=document.createElement(o),i.appendChild(s)),Cr(s,this,0,n,this.__text,e);const l=this.__style;return""!==l&&(i.style.cssText=l),i}updateDOM(e,t,n){const r=this.__text,o=e.__format,a=this.__format,i=xr(0,o),s=xr(0,a),l=_r(0,o),c=_r(0,a);if((null===i?l:i)!==(null===s?c:s))return!0;if(i===s&&l!==c){const e=t.firstChild;null==e&&je(48);const o=document.createElement(c);return Cr(o,this,0,a,r,n),t.replaceChild(o,e),!1}let u=t;null!==s&&null!==i&&(u=t.firstChild,null==u&&je(49)),kr(r,u,this);const d=n.theme.text;void 0!==d&&o!==a&&wr(0,o,a,u,d);const f=e.__style,p=this.__style;return f!==p&&(t.style.cssText=p),!1}static importDOM(){return{"#text":()=>({conversion:Pr,priority:0}),b:()=>({conversion:jr,priority:0}),code:()=>({conversion:Dr,priority:0}),em:()=>({conversion:Dr,priority:0}),i:()=>({conversion:Dr,priority:0}),s:()=>({conversion:Dr,priority:0}),span:()=>({conversion:Er,priority:0}),strong:()=>({conversion:Dr,priority:0}),sub:()=>({conversion:Dr,priority:0}),sup:()=>({conversion:Dr,priority:0}),u:()=>({conversion:Dr,priority:0})}}static importJSON(e){return Ar().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return Ut(t)||je(132),t.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(t=Sr(t,"b")),this.hasFormat("italic")&&(t=Sr(t,"i")),this.hasFormat("strikethrough")&&(t=Sr(t,"s")),this.hasFormat("underline")&&(t=Sr(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format="string"==typeof e?we[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail="string"==typeof e?ke[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=tt(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=Ne[e];if(this.__mode===t)return this;const n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){ko();let n=e,r=t;const o=so(),a=this.getTextContent(),i=this.__key;if("string"==typeof a){const e=a.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!Yr(o))return oo(i,n,i,r,"text","text");{const e=it();e!==o.anchor.key&&e!==o.focus.key||at(i),o.setTextNodeRange(this,n,this,r)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){const o=this.getWritable(),a=o.__text,i=n.length;let s=e;s<0&&(s=i+s,s<0&&(s=0));const l=so();if(r&&Yr(l)){const t=e+i;l.setTextNodeRange(o,t,o,t)}const c=a.slice(0,s)+n+a.slice(s+t);return o.__text=c,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){ko();const t=this.getLatest(),n=t.getTextContent(),r=t.__key,o=it(),a=new Set(e),i=[],s=n.length;let l="";for(let e=0;e<s;e++)""!==l&&a.has(e)&&(i.push(l),l=""),l+=n[e];""!==l&&i.push(l);const c=i.length;if(0===c)return[];if(i[0]===n)return[t];const u=i[0],d=t.getParent();let f;const p=t.getFormat(),g=t.getStyle(),m=t.__detail;let h=!1;t.isSegmented()?(f=Ar(u),f.__format=p,f.__style=g,f.__detail=m,h=!0):(f=t.getWritable(),f.__text=u);const v=so(),y=[f];let b=u.length;for(let e=1;e<c;e++){const t=i[e],n=t.length,a=Ar(t).getWritable();a.__format=p,a.__style=g,a.__detail=m;const s=a.__key,l=b+n;if(Yr(v)){const e=v.anchor,t=v.focus;e.key===r&&"text"===e.type&&e.offset>b&&e.offset<=l&&(e.key=s,e.offset-=b,v.dirty=!0),t.key===r&&"text"===t.type&&t.offset>b&&t.offset<=l&&(t.key=s,t.offset-=b,v.dirty=!0)}o===r&&at(s),b=l,y.push(a)}if(null!==d){!function(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&ot(t),null!==n&&ot(n)}(this);const e=d.getWritable(),t=this.getIndexWithinParent();h?(e.splice(t,0,y),this.remove()):e.splice(t,1,y),Yr(v)&&co(v,d,t,c-1)}return y}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||je(50);const n=this.__key,r=e.__key,o=this.__text,a=o.length;it()===r&&at(n);const i=so();if(Yr(i)){const o=i.anchor,s=i.focus;null!==o&&o.key===r&&(po(o,t,n,e,a),i.dirty=!0),null!==s&&s.key===r&&(po(s,t,n,e,a),i.dirty=!0)}const s=e.__text,l=t?s+o:o+s;this.setTextContent(l);const c=this.getWritable();return e.remove(),c}isTextEntity(){return!1}}function Er(e){return{forChild:Rr(e.style),node:null}}function jr(e){const t=e,n="normal"===t.style.fontWeight;return{forChild:Rr(t.style,n?void 0:"bold"),node:null}}const Ir=new WeakMap;function Mr(e){if(!Ut(e))return!1;if("PRE"===e.nodeName)return!0;const t=e.style.whiteSpace;return"string"==typeof t&&t.startsWith("pre")}function Pr(e){const t=e;null===e.parentElement&&je(129);let n=t.textContent||"";if(null!==function(e){let t,n=e.parentNode;const r=[e];for(;null!==n&&void 0===(t=Ir.get(n))&&!Mr(n);)r.push(n),n=n.parentNode;const o=void 0===t?n:t;for(let e=0;e<r.length;e++)Ir.set(r[e],o);return o}(t)){const e=n.split(/(\r?\n|\t)/),t=[],r=e.length;for(let n=0;n<r;n++){const r=e[n];"\n"===r||"\r\n"===r?t.push(vr()):"\t"===r?t.push(zr()):""!==r&&t.push(Ar(r))}return{node:t}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let e=t,r=!0;for(;null!==e&&null!==(e=Tr(e,!1));){const t=e.textContent||"";if(t.length>0){/[ \t\n]$/.test(t)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let e=t,r=!0;for(;null!==e&&null!==(e=Tr(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:Ar(n)}}function Tr(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){const e=n.parentElement;if(null===e)return null;n=e}if(n=e,Ut(n)){const e=n.style.display;if(""===e&&!Qt(n)||""!==e&&!e.startsWith("inline"))return null}let r=n;for(;null!==(r=t?n.firstChild:n.lastChild);)n=r;if(Qe(n))return n;if("BR"===n.nodeName)return null}}const Or={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Dr(e){const t=Or[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:Rr(e.style,t),node:null}}function Ar(e=""){return Wt(new Nr(e))}function Zr(e){return e instanceof Nr}function Rr(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),o="700"===n||"bold"===n,a=r.includes("line-through"),i="italic"===e.fontStyle,s=r.includes("underline"),l=e.verticalAlign;return e=>Zr(e)?(o&&!e.hasFormat("bold")&&e.toggleFormat("bold"),a&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),i&&!e.hasFormat("italic")&&e.toggleFormat("italic"),s&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==l||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==l||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t),e):e}class Fr extends Nr{static getType(){return"tab"}static clone(e){return new Fr(e.__key)}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),n=Pt(e.theme,"tab");return void 0!==n&&t.classList.add(...n),t}static importJSON(e){return zr().updateFromJSON(e)}setTextContent(e){return"\t"!==e&&""!==e&&je(126),super.setTextContent(e)}setDetail(e){return 2!==e&&je(127),this}setMode(e){return"normal"!==e&&je(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function zr(){return Wt(new Fr)}function Lr(e){return e instanceof Fr}class Br{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode();const r=this.offset,o=e.offset;if(Ho(t)){const e=t.getDescendantByIndex(r);t=null!=e?e:t}if(Ho(n)){const e=n.getDescendantByIndex(o);n=null!=e?e:n}return t===n?r<o:t.isBefore(n)}getNode(){const e=st(this.key);return null===e&&je(20),e}set(e,t,n){const r=this._selection,o=this.key;this.key=e,this.offset=t,this.type=n,wo()||(it()===o&&at(e),null!==r&&(r.setCachedNodes(null),r.dirty=!0))}}function $r(e,t,n){return new Br(e,t,n)}function Hr(e,t){let n=t.__key,r=e.offset,o="element";if(Zr(t)){o="text";const e=t.getTextContentSize();r>e&&(r=e)}else if(!Ho(t)){const e=t.getNextSibling();if(Zr(e))n=e.__key,r=0,o="text";else{const e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,o)}function Vr(e,t){if(Ho(t)){const n=t.getLastDescendant();Ho(n)||Zr(n)?Hr(e,n):Hr(e,t)}else Hr(e,t)}function Wr(e,t,n,r){e.key=t,e.offset=n,e.type=r}class Kr{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!qr(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Kr(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),n=t.length,r=t[n-1];let o;if(Zr(r))o=r.select();else{const e=r.getIndexWithinParent()+1;o=r.getParentOrThrow().select(e,e)}o.insertNodes(e);for(let e=0;e<n;e++)t[e].remove()}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this._nodes,n=[];for(const e of t){const t=st(e);null!==t&&n.push(t)}return wo()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Yr(e){return e instanceof Gr}class Gr{constructor(e,t,n,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Yr(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this.anchor,n=this.focus,r=t.isBefore(n),o=r?t:n,a=r?n:t;let i=o.getNode(),s=a.getNode();const l=Ho(i)&&o.offset>0&&o.offset>=i.getChildrenSize(),c=o.offset,u=a.offset;if(Ho(i)){const e=i.getDescendantByIndex(c);i=null!=e?e:i}if(Ho(s)){let e=s.getDescendantByIndex(u);null!==e&&e!==i&&s.getChildAtIndex(u)===e&&(e=e.getPreviousSibling()),s=null!=e?e:s}let d;if(i.is(s))d=Ho(i)&&i.getChildrenSize()>0?[]:[i];else if(d=i.getNodesBetween(s),l){const e=d.findIndex((e=>!e.is(i)&&!e.isBefore(i)));d.splice(0,e)}return wo()||(this._cachedNodes=d),d}setTextNodeRange(e,t,n,r){Wr(this.anchor,e.__key,t,"text"),Wr(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],r=this.anchor,o=this.focus,a=r.isBefore(o),[i,s]=Xr(this);let l="",c=!0;for(let u=0;u<e.length;u++){const d=e[u];if(Ho(d)&&!d.isInline())c||(l+="\n"),c=!d.isEmpty();else if(c=!1,Zr(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===o.type&&o.offset!==r.offset||(e=i<s?e.slice(i,s):e.slice(s,i)):e=a?e.slice(i):e.slice(s):d===n&&(e=a?e.slice(0,s):e.slice(0,i)),l+=e}else!Ko(d)&&!yr(d)||d===n&&this.isCollapsed()||(l+=d.getTextContent())}return l}applyDOMRange(e){const t=No(),n=t.getEditorState()._selection,r=no(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;const[o,a]=r;Wr(this.anchor,o.key,o.offset,o.type),Wr(this.focus,a.key,a.offset,a.type),this._cachedNodes=null}clone(){const e=this.anchor,t=this.focus;return new Gr($r(e.key,e.offset,e.type),$r(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=tt(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=we[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),n=[],r=t.length;for(let e=0;e<r;e++){const r=t[e];"\n"===r||"\r\n"===r?n.push(vr()):"\t"===r?n.push(zr()):n.push(Ar(r))}this.insertNodes(n)}insertText(e){const t=this.anchor,n=this.focus,r=this.format,o=this.style;let a=t,i=n;!this.isCollapsed()&&n.isBefore(t)&&(a=n,i=t),"element"===a.type&&function(e,t,n,r){const o=e.getNode(),a=o.getChildAtIndex(e.offset),i=Ar(),s=Go(o)?na().append(i):i;i.setFormat(n),i.setStyle(r),null===a?o.append(s):a.insertBefore(s),e.is(t)&&t.set(i.__key,0,"text"),e.set(i.__key,0,"text")}(a,i,r,o);const s=a.offset;let l=i.offset;const c=this.getNodes(),u=c.length;let d=c[0];Zr(d)||je(26);const f=d.getTextContent().length,p=d.getParentOrThrow();let g=c[u-1];if(1===u&&"element"===i.type&&(l=f,i.set(a.key,l,"text")),this.isCollapsed()&&s===f&&(d.isSegmented()||d.isToken()||!d.canInsertTextAfter()||!p.canInsertTextAfter()&&null===d.getNextSibling())){let t=d.getNextSibling();if(Zr(t)&&t.canInsertTextBefore()&&!Je(t)||(t=Ar(),t.setFormat(r),t.setStyle(o),p.canInsertTextAfter()?d.insertAfter(t):p.insertAfter(t)),t.select(0,0),d=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===s&&(d.isSegmented()||d.isToken()||!d.canInsertTextBefore()||!p.canInsertTextBefore()&&null===d.getPreviousSibling())){let t=d.getPreviousSibling();if(Zr(t)&&!Je(t)||(t=Ar(),t.setFormat(r),p.canInsertTextBefore()?d.insertBefore(t):p.insertBefore(t)),t.select(),d=t,""!==e)return void this.insertText(e)}else if(d.isSegmented()&&s!==f){const e=Ar(d.getTextContent());e.setFormat(r),d.replace(e),d=e}else if(!this.isCollapsed()&&""!==e){const t=g.getParent();if(!p.canInsertTextBefore()||!p.canInsertTextAfter()||Ho(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),to(this.anchor,this.focus,null),void this.insertText(e)}if(1===u){if(d.isToken()){const t=Ar(e);return t.select(),void d.replace(t)}const t=d.getFormat(),n=d.getStyle();if(s!==l||t===r&&n===o){if(Lr(d)){const t=Ar(e);return t.setFormat(r),t.setStyle(o),t.select(),void d.replace(t)}}else{if(""!==d.getTextContent()){const t=Ar(e);if(t.setFormat(r),t.setStyle(o),t.select(),0===s)d.insertBefore(t,!1);else{const[e]=d.splitText(s);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}d.setFormat(r),d.setStyle(o)}const a=l-s;d=d.spliceText(s,a,e,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{const t=new Set([...d.getParentKeys(),...g.getParentKeys()]),n=Ho(d)?d:d.getParentOrThrow();let r=Ho(g)?g:g.getParentOrThrow(),o=g;if(!n.is(r)&&r.isInline())do{o=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===i.type&&(0!==l||""===g.getTextContent())||"element"===i.type&&g.getIndexWithinParent()<l)if(Zr(g)&&!g.isToken()&&l!==g.getTextContentSize()){if(g.isSegmented()){const e=Ar(g.getTextContent());g.replace(e),g=e}Go(i.getNode())||"text"!==i.type||(g=g.spliceText(0,l,"")),t.add(g.__key)}else{const e=g.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?g.remove():e.remove()}else t.add(g.__key);const a=r.getChildren(),p=new Set(c),m=n.is(r),h=n.isInline()&&null===d.getNextSibling()?n:d;for(let e=a.length-1;e>=0;e--){const t=a[e];if(t.is(d)||Ho(t)&&t.isParentOf(d))break;t.isAttached()&&(!p.has(t)||t.is(o)?m||h.insertAfter(t,!1):t.remove())}if(!m){let e=r,n=null;for(;null!==e;){const r=e.getChildren(),o=r.length;(0===o||r[o-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(d.isToken())if(s===f)d.select();else{const t=Ar(e);t.select(),d.replace(t)}else d=d.spliceText(s,f-s,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<u;e++){const n=c[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){if(this.isCollapsed())return;const{anchor:e,focus:t}=this,n=this.getNodes(),r=this.isBackward()?t:e,o=this.isBackward()?e:t;let a=r.getNode(),i=o.getNode();const s=nn(a,tn),l=nn(i,tn);Zr(a)&&a.isToken()&&r.offset<a.getTextContentSize()&&(r.offset=0),o.offset>0&&Zr(i)&&i.isToken()&&(o.offset=i.getTextContentSize());for(const e of n)Bt(a,e)||Bt(i,e)||e.getKey()===a.getKey()||e.getKey()===i.getKey()||e.remove();const c=(e,t)=>{if(""===e.getTextContent())e.remove();else if(0!==t&&Je(e)){const t=Ar(e.getTextContent());return t.setFormat(e.getFormat()),t.setStyle(e.getStyle()),e.replace(t)}};if(a===i&&Zr(a)){const n=Math.abs(t.offset-e.offset);return a.spliceText(r.offset,n,"",!0),void c(a,n)}if(Zr(a)){const e=a.getTextContentSize()-r.offset;a.spliceText(r.offset,e,""),a=c(a,e)||a}Zr(i)&&(i.spliceText(0,o.offset,""),i=c(i,o.offset)||i),a.isAttached()&&Zr(a)?a.selectEnd():i.isAttached()&&Zr(i)&&i.selectStart(),Ho(s)&&Ho(l)&&s!==l&&(s.append(...l.getChildren()),l.remove(),o.set(r.key,r.offset,r.type))}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void at(null);const n=this.getNodes(),r=[];for(const e of n)Zr(e)&&r.push(e);const o=t=>{n.forEach((n=>{if(Ho(n)){const r=n.getFormatFlags(e,t);n.setTextFormat(r)}}))},a=r.length;if(0===a)return this.toggleFormat(e),at(null),void o(t);const i=this.anchor,s=this.focus,l=this.isBackward(),c=l?s:i,u=l?i:s;let d=0,f=r[0],p="element"===c.type?0:c.offset;if("text"===c.type&&p===f.getTextContentSize()&&(d=1,f=r[1],p=0),null==f)return;const g=f.getFormatFlags(e,t);o(g);const m=a-1;let h=r[m];const v="text"===u.type?u.offset:h.getTextContentSize();if(f.is(h)){if(p===v)return;if(Je(f)||0===p&&v===f.getTextContentSize())f.setFormat(g);else{const e=f.splitText(p,v),t=0===p?e[0]:e[1];t.setFormat(g),"text"===c.type&&c.set(t.__key,0,"text"),"text"===u.type&&u.set(t.__key,v-p,"text")}return void(this.format=g)}0===p||Je(f)||([,f]=f.splitText(p),p=0),f.setFormat(g);const y=h.getFormatFlags(e,g);v>0&&(v===h.getTextContentSize()||Je(h)||([h]=h.splitText(v)),h.setFormat(y));for(let t=d+1;t<m;t++){const n=r[t],o=n.getFormatFlags(e,y);n.setFormat(o)}"text"===c.type&&c.set(f.__key,p,"text"),"text"===u.type&&u.set(h.__key,v,"text"),this.format=g|y}insertNodes(e){if(0===e.length)return;if("root"===this.anchor.key){this.insertParagraph();const t=so();return Yr(t)||je(134),t.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),n=nn(t,tn),r=e[e.length-1];if(Ho(n)&&"__language"in n){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const t=go(this);n.splice(t,0,e),r.selectEnd()}return}if(!e.some((e=>(Ho(e)||Ko(e))&&!e.isInline()))){Ho(n)||je(211,t.constructor.name,t.getType());const o=go(this);return n.splice(o,0,e),void r.selectEnd()}const o=function(e){const t=na();let n=null;for(let r=0;r<e.length;r++){const o=e[r],a=yr(o);if(a||Ko(o)&&o.isInline()||Ho(o)&&o.isInline()||Zr(o)||o.isParentRequired()){if(null===n&&(n=o.createParentElementNode(),t.append(n),a))continue;null!==n&&n.append(o)}else t.append(o),n=null}return t}(e),a=o.getLastDescendant(),i=o.getChildren(),s=Ho(n)&&n.isEmpty()?null:this.insertParagraph(),l=i[i.length-1];let c=i[0];var u;Ho(u=c)&&tn(u)&&!u.isEmpty()&&Ho(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(Ho(n)||je(211,t.constructor.name,t.getType()),n.append(...c.getChildren()),c=i[1]),c&&(null===n&&je(212,t.constructor.name,t.getType()),function(e,t){const n=t.getParentOrThrow().getLastChild();let r=t;const o=[t];for(;r!==n;)r.getNextSibling()||je(140),r=r.getNextSibling(),o.push(r);let a=e;for(const e of o)a=a.insertAfter(e)}(n,c));const d=nn(a,tn);s&&Ho(d)&&(s.canMergeWhenEmpty()||tn(l))&&(d.append(...s.getChildren()),s.remove()),Ho(n)&&n.isEmpty()&&n.remove(),a.selectEnd();const f=Ho(n)?n.getLastChild():null;yr(f)&&d!==n&&f.remove()}insertParagraph(){if("root"===this.anchor.key){const e=na();return pt().splice(this.anchor.offset,0,[e]),e.select(),e}const e=go(this),t=nn(this.anchor.getNode(),tn);Ho(t)||je(213);const n=t.getChildAtIndex(e),r=n?[n,...n.getNextSiblings()]:[],o=t.insertNewAfter(this,!1);return o?(o.append(...r),o.selectStart(),o):null}insertLineBreak(e){const t=vr();if(this.insertNodes([t]),e){const e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}extract(){const e=this.getNodes(),t=e.length,n=t-1,r=this.anchor,o=this.focus;let a=e[0],i=e[n];const[s,l]=Xr(this);if(0===t)return[];if(1===t){if(Zr(a)&&!this.isCollapsed()){const e=s>l?l:s,t=s>l?s:l,n=a.splitText(e,t),r=0===e?n[0]:n[1];return null!=r?[r]:[]}return[a]}const c=r.isBefore(o);if(Zr(a)){const t=c?s:l;t===a.getTextContentSize()?e.shift():0!==t&&([,a]=a.splitText(t),e[0]=a)}if(Zr(i)){const t=i.getTextContent().length,r=c?l:s;0===r?e.pop():r!==t&&([i]=i.splitText(r),e[n]=i)}return e}modify(e,t,n){const r=this.focus,o=this.anchor,a="move"===e,i=Dt(r,t);if(Ko(i)&&!i.isIsolated()){if(a&&i.isKeyboardSelectable()){const e=ao();return e.add(i.__key),void mt(e)}const e=t?i.getPreviousSibling():i.getNextSibling();if(Zr(e)){const n=e.__key,i=t?e.getTextContent().length:0;return r.set(n,i,"text"),void(a&&o.set(n,i,"text"))}{const n=i.getParentOrThrow();let s,l;return Ho(e)?(l=e.__key,s=t?e.getChildrenSize():0):(s=i.getIndexWithinParent(),l=n.__key,t||s++),r.set(l,s,"element"),void(a&&o.set(l,s,"element"))}}const s=No(),l=qt(s._window);if(!l)return;const c=s._blockCursorElement,u=s._rootElement;if(null===u||null===c||!Ho(i)||i.isInline()||i.canBeEmpty()||Gt(c,s,u),function(e,t,n,r){e.modify(t,n,r)}(l,e,t?"backward":"forward",n),l.rangeCount>0){const e=l.getRangeAt(0),n=this.anchor.getNode(),r=Go(n)?n:function(e){let t=e.getParentOrThrow();for(;null!==t;){if(Vt(t))return t;t=t.getParentOrThrow()}return t}(n);if(this.applyDOMRange(e),this.dirty=!0,!a){const n=this.getNodes(),o=[];let a=!1;for(let e=0;e<n.length;e++){const t=n[e];Bt(t,r)?o.push(t):a=!0}if(a&&o.length>0)if(t){const e=o[0];Ho(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{const e=o[o.length-1];Ho(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}l.anchorNode===e.startContainer&&l.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,r=n.key,o=n.offset,a=n.type;Wr(n,t.key,t.offset,t.type),Wr(t,r,o,a),e._cachedNodes=null}(this)}}}forwardDeletion(e,t,n){if(!n&&("element"===e.type&&Ho(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){const e=t.getParent(),n=t.getNextSibling()||(null===e?null:e.getNextSibling());if(Ho(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const t=this.anchor;let n=t.getNode();if(this.forwardDeletion(t,n,e))return;const r=this.focus,o=Dt(r,e);if(Ko(o)&&!o.isIsolated()){if(o.isKeyboardSelectable()&&Ho(n)&&0===n.getChildrenSize()){n.remove();const e=ao();e.add(o.__key),mt(e)}else o.remove(),No().dispatchCommand(a,void 0);return}if(!e&&Ho(o)&&Ho(n)&&n.isEmpty())return n.remove(),void o.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&("element"===t.type?t.getNode():t.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const o="text"===r.type?r.getNode():null;if(n="text"===t.type?t.getNode():null,null!==o&&o.isSegmented()){const t=r.offset,a=o.getTextContentSize();if(o.is(n)||e&&t!==a||!e&&0!==t)return void Jr(o,e,t)}else if(null!==n&&n.isSegmented()){const r=t.offset,a=n.getTextContentSize();if(n.is(o)||e&&0!==r||!e&&r!==a)return void Jr(n,e,r)}!function(e,t){const n=e.anchor,r=e.focus,o=n.getNode();if(o===r.getNode()&&"text"===n.type&&"text"===r.type){const e=n.offset,a=r.offset,i=e<a,s=i?e:a,l=i?a:e,c=l-1;s!==c&&(yt(o.getTextContent().slice(s,l))||(t?r.offset=c:n.offset=c))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const e=this.anchor.getNode();e.isEmpty()&&Go(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this)}}deleteLine(e){if(this.isCollapsed()){const t="element"===this.anchor.type;if(t&&this.insertText(" "),this.modify("extend",e,"lineboundary"),this.isCollapsed()&&0===this.anchor.offset&&this.modify("extend",e,"character"),t){const t=e?this.anchor:this.focus;t.set(t.key,t.offset+1,t.type)}}this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function qr(e){return e instanceof Kr}function Ur(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function Xr(e){const t=e.getStartEndPoints();if(null===t)return[0,0];const[n,r]=t;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[Ur(n),Ur(r)]}function Jr(e,t,n){const r=e,o=r.getTextContent().split(/(?=\s)/g),a=o.length;let i=0,s=0;for(let e=0;e<a;e++){const r=e===a-1;if(s=i,i+=o[e].length,t&&i===n||i>n||r){o.splice(e,1),r&&(s=void 0);break}}const l=o.join("").trim();""===l?r.remove():(r.setTextContent(l),r.select(s,s))}function Qr(e,t,n,r){let o,a=t;if(Ut(e)){let i=!1;const s=e.childNodes,l=s.length,c=r._blockCursorElement;a===l&&(i=!0,a=l-1);let u=s[a],d=!1;if(u===c)u=s[a+1],d=!0;else if(null!==c){const n=c.parentNode;e===n&&t>Array.prototype.indexOf.call(n.children,c)&&a--}if(o=ht(u),Zr(o))a=vt(o,i);else{let s=ht(e);if(null===s)return null;if(Ho(s)){const l=r.getElementByKey(s.getKey());null===l&&je(214);const c=s.getDOMSlot(l);[s,a]=c.resolveChildIndex(s,l,e,t),Ho(s)||je(215),i&&a>=s.getChildrenSize()&&(a=Math.max(0,s.getChildrenSize()-1));let u=s.getChildAtIndex(a);if(Ho(u)&&function(e,t,n){const r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(u,0,n)){const e=i?u.getLastDescendant():u.getFirstDescendant();null===e?s=u:(u=e,s=Ho(u)?u:u.getParentOrThrow()),a=0}Zr(u)?(o=u,s=null,a=vt(u,i)):u!==s&&i&&!d&&(Ho(s)||je(216),a=Math.min(s.getChildrenSize(),a+1))}else{const n=s.getIndexWithinParent();a=0===t&&Ko(s)&&ht(e)===s?n:n+1,s=s.getParentOrThrow()}if(Ho(s))return $r(s.__key,a,"element")}}else o=ht(e);return Zr(o)?$r(o.__key,a,"text"):null}function eo(e,t,n){const r=e.offset,o=e.getNode();if(0===r){const r=o.getPreviousSibling(),a=o.getParent();if(t){if((n||!t)&&null===r&&Ho(a)&&a.isInline()){const t=a.getPreviousSibling();Zr(t)&&(e.key=t.__key,e.offset=t.getTextContent().length)}}else Ho(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):Zr(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)}else if(r===o.getTextContent().length){const r=o.getNextSibling(),a=o.getParent();if(t&&Ho(r)&&r.isInline())e.key=r.__key,e.offset=0,e.type="element";else if((n||t)&&null===r&&Ho(a)&&a.isInline()&&!a.canInsertTextAfter()){const t=a.getNextSibling();Zr(t)&&(e.key=t.__key,e.offset=0)}}}function to(e,t,n){if("text"===e.type&&"text"===t.type){const r=e.isBefore(t),o=e.is(t);eo(e,r,o),eo(t,!r,o),o&&(t.key=e.key,t.offset=e.offset,t.type=e.type);const a=No();if(a.isComposing()&&a._compositionKey!==e.key&&Yr(n)){const r=n.anchor,o=n.focus;Wr(e,r.key,r.offset,r.type),Wr(t,o.key,o.offset,o.type)}}}function no(e,t,n,r,o,a){if(null===e||null===n||!Ge(o,e,n))return null;const i=Qr(e,t,Yr(a)?a.anchor:null,o);if(null===i)return null;const s=Qr(n,r,Yr(a)?a.focus:null,o);if(null===s)return null;if("element"===i.type&&"element"===s.type){const t=ht(e),r=ht(n);if(Ko(t)&&Ko(r))return null}return to(i,s,a),[i,s]}function ro(e){return Ho(e)&&!e.isInline()}function oo(e,t,n,r,o,a){const i=So(),s=new Gr($r(e,t,o),$r(n,r,a),0,"");return s.dirty=!0,i._selection=s,s}function ao(){return new Kr(new Set)}function io(e,t,n,r){const o=n._window;if(null===o)return null;const a=r||o.event,i=a?a.type:void 0,s="selectionchange"===i,l=!Me&&(s||"beforeinput"===i||"compositionstart"===i||"compositionend"===i||"click"===i&&a&&3===a.detail||"drop"===i||void 0===i);let c,u,d,f;if(Yr(e)&&!l)return e.clone();if(null===t)return null;if(c=t.anchorNode,u=t.focusNode,d=t.anchorOffset,f=t.focusOffset,s&&Yr(e)&&!Ge(n,c,u))return e.clone();const p=no(c,d,u,f,n,e);if(null===p)return null;const[g,m]=p;return new Gr(g,m,Yr(e)?e.format:0,Yr(e)?e.style:"")}function so(){return So()._selection}function lo(){return No()._editorState._selection}function co(e,t,n,r=1){const o=e.anchor,a=e.focus,i=o.getNode(),s=a.getNode();if(!t.is(i)&&!t.is(s))return;const l=t.__key;if(e.isCollapsed()){const t=o.offset;if(n<=t&&r>0||n<t&&r<0){const n=Math.max(0,t+r);o.set(l,n,"element"),a.set(l,n,"element"),uo(e)}}else{const i=e.isBackward(),s=i?a:o,c=s.getNode(),u=i?o:a,d=u.getNode();if(t.is(c)){const e=s.offset;(n<=e&&r>0||n<e&&r<0)&&s.set(l,Math.max(0,e+r),"element")}if(t.is(d)){const e=u.offset;(n<=e&&r>0||n<e&&r<0)&&u.set(l,Math.max(0,e+r),"element")}}uo(e)}function uo(e){const t=e.anchor,n=t.offset,r=e.focus,o=r.offset,a=t.getNode(),i=r.getNode();if(e.isCollapsed()){if(!Ho(a))return;const e=a.getChildrenSize(),o=n>=e,i=o?a.getChildAtIndex(e-1):a.getChildAtIndex(n);if(Zr(i)){let e=0;o&&(e=i.getTextContentSize()),t.set(i.__key,e,"text"),r.set(i.__key,e,"text")}}else{if(Ho(a)){const e=a.getChildrenSize(),r=n>=e,o=r?a.getChildAtIndex(e-1):a.getChildAtIndex(n);if(Zr(o)){let e=0;r&&(e=o.getTextContentSize()),t.set(o.__key,e,"text")}}if(Ho(i)){const e=i.getChildrenSize(),t=o>=e,n=t?i.getChildAtIndex(e-1):i.getChildAtIndex(o);if(Zr(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}}function fo(e,t,n,r,o){let a=null,i=0,s=null;null!==r?(a=r.__key,Zr(r)?(i=r.getTextContentSize(),s="text"):Ho(r)&&(i=r.getChildrenSize(),s="element")):null!==o&&(a=o.__key,Zr(o)?s="text":Ho(o)&&(s="element")),null!==a&&null!==s?e.set(a,i,s):(i=t.getIndexWithinParent(),-1===i&&(i=n.getChildrenSize()),e.set(n.__key,i,"element"))}function po(e,t,n,r,o){"text"===e.type?(e.key=n,t||(e.offset+=o)):e.offset>r.getIndexWithinParent()&&(e.offset-=1)}function go(e){let t=e;e.isCollapsed()||t.removeText();const n=so();Yr(n)&&(t=n),Yr(t)||je(161);const r=t.anchor;let o=r.getNode(),a=r.offset;for(;!tn(o);)[o,a]=mo(o,a);return a}function mo(e,t){const n=e.getParent();if(!n){const e=na();return pt().append(e),e.select(),[pt(),0]}if(Zr(e)){const r=e.splitText(t);if(0===r.length)return[n,e.getIndexWithinParent()];const o=0===t?0:1;return[n,r[0].getIndexWithinParent()+o]}if(!Ho(e)||0===t)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const n=new Gr($r(e.__key,t,"element"),$r(e.__key,t,"element"),0,""),o=e.insertNewAfter(n);o&&o.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}let ho=null,vo=null,yo=!1,bo=!1,xo=0;const _o={characterData:!0,childList:!0,subtree:!0};function wo(){return yo||null!==ho&&ho._readOnly}function ko(){yo&&je(13)}function Co(){xo>99&&je(14)}function So(){return null===ho&&je(195,Eo()),ho}function No(){return null===vo&&je(196,Eo()),vo}function Eo(){let e=0;const t=new Set,n=ca.version;if("undefined"!=typeof window)for(const r of document.querySelectorAll("[contenteditable]")){const o=Xe(r);if(qe(o))e++;else if(o){let e=String(o.constructor.version||"<0.17.1");e===n&&(e+=" (separately built, likely a bundler configuration issue)"),t.add(e)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function jo(e,t,n){const r=t.__type,o=function(e,t){const n=e._nodes.get(t);return void 0===n&&je(30,t),n}(e,r);let a=n.get(r);void 0===a&&(a=Array.from(o.transforms),n.set(r,a));const i=a.length;for(let e=0;e<i&&(a[e](t),t.isAttached());e++);}function Io(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function Mo(e,t){if(!t)return;const n=e._updateTags;let r=t;Array.isArray(t)||(r=[t]);for(const e of r)n.add(e)}function Po(e){return To(e,No()._nodes)}function To(e,t){const n=e.type,r=t.get(n);void 0===r&&je(17,n);const o=r.klass;e.type!==o.getType()&&je(18,o.name);const a=o.importJSON(e),i=e.children;if(Ho(a)&&Array.isArray(i))for(let e=0;e<i.length;e++){const n=To(i[e],t);a.append(n)}return a}function Oo(e,t,n){const r=ho,o=yo,a=vo;ho=t,yo=!0,vo=e;try{return n()}finally{ho=r,yo=o,vo=a}}function Do(e,t){const n=e._pendingEditorState,r=e._rootElement,o=e._headless||null===r;if(null===n)return;const i=e._editorState,s=i._selection,l=n._selection,c=0!==e._dirtyType,u=ho,d=yo,f=vo,p=e._updating,g=e._observer;let m=null;if(e._pendingEditorState=null,e._editorState=n,!o&&c&&null!==g){vo=e,ho=n,yo=!1,e._updating=!0;try{const t=e._dirtyType,r=e._dirtyElements,o=e._dirtyLeaves;g.disconnect(),m=function(e,t,n,r,o,a){_n="",Sn="",wn="",Nn=r===ae,jn=null,fn=n,dn=n._config,pn=n._nodes,gn=fn._listeners.mutation,mn=o,hn=a,vn=e._nodeMap,yn=t._nodeMap,En=t._readOnly,bn=new Map(n._keyToDOMMap);const i=new Map;return xn=i,Bn("root",null),fn=void 0,pn=void 0,mn=void 0,hn=void 0,vn=void 0,yn=void 0,dn=void 0,bn=void 0,xn=void 0,i}(i,n,e,t,r,o)}catch(t){if(t instanceof Error&&e._onError(t),bo)throw t;return sa(e,null,r,n),ze(e),e._dirtyType=ae,bo=!0,Do(e,i),void(bo=!1)}finally{g.observe(r,_o),e._updating=p,ho=u,yo=d,vo=f}}n._readOnly||(n._readOnly=!0);const h=e._dirtyLeaves,v=e._dirtyElements,y=e._normalizedNodes,b=e._updateTags,x=e._deferred;c&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let r=e._pendingDecorators||n;const o=t._nodeMap;let a;for(a in r)o.has(a)||(r===n&&(r=dt(e)),delete r[a])}(e,n);const _=o?null:qt(e._window);if(e._editable&&null!==_&&(c||null===l||l.dirty)&&null!==r&&!b.has("skip-dom-selection")){vo=e,ho=n;try{if(null!==g&&g.disconnect(),c||null===l||l.dirty){const t=e._blockCursorElement;null!==t&&Gt(t,e,r),function(e,t,n,r,o,a){const i=r.anchorNode,s=r.focusNode,l=r.anchorOffset,c=r.focusOffset,u=document.activeElement;if(o.has("collaboration")&&u!==a||null!==u&&Ye(u))return;if(!Yr(t))return void(null!==e&&Ge(n,i,s)&&r.removeAllRanges());const d=t.anchor,f=t.focus,p=d.key,g=f.key,m=Ft(n,p),h=Ft(n,g),v=d.offset,y=f.offset,b=t.format,x=t.style,_=t.isCollapsed();let w=m,k=h,C=!1;if("text"===d.type){w=et(m);const e=d.getNode();C=e.getFormat()!==b||e.getStyle()!==x}else Yr(e)&&"text"===e.anchor.type&&(C=!0);var S,N,E,j,I;if("text"===f.type&&(k=et(h)),null!==w&&null!==k&&(_&&(null===e||C||Yr(e)&&(e.format!==b||e.style!==x))&&(S=b,N=x,E=v,j=p,I=performance.now(),nr=[S,N,E,j,I]),l!==v||c!==y||i!==w||s!==k||"Range"===r.type&&_||(null!==u&&a.contains(u)||a.focus({preventScroll:!0}),"element"===d.type))){try{r.setBaseAndExtent(w,v,k,y)}catch(e){}if(!o.has("skip-scroll-into-view")&&t.isCollapsed()&&null!==a&&a===document.activeElement){const e=Yr(t)&&"element"===t.anchor.type?w.childNodes[v]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){const n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){const r=Lt(n),o=$t(r);if(null===r||null===o)return;let{top:a,bottom:i}=t,s=0,l=0,c=n;for(;null!==c;){const t=c===r.body;if(t)s=0,l=Ht(e).innerHeight;else{const e=c.getBoundingClientRect();s=e.top,l=e.bottom}let n=0;if(a<s?n=-(s-a):i>l&&(n=i-l),0!==n)if(t)o.scrollBy(0,n);else{const e=c.scrollTop;c.scrollTop+=n;const t=c.scrollTop-e;a-=t,i-=t}if(t)break;c=zt(c)}}(n,t,a)}}Jn=!0}}(s,l,e,_,b,r)}(function(e,t,n){let r=e._blockCursorElement;if(Yr(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){const o=n.anchor,a=o.getNode(),i=o.offset;let s=!1,l=null;if(i===a.getChildrenSize())Yt(a.getChildAtIndex(i-1))&&(s=!0);else{const t=a.getChildAtIndex(i);if(null!==t&&Yt(t)){const n=t.getPreviousSibling();(null===n||Yt(n))&&(s=!0,l=e.getElementByKey(t.__key))}}if(s){const n=e.getElementByKey(a.__key);return null===r&&(e._blockCursorElement=r=function(e){const t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;if(void 0!==r){if("string"==typeof r){const e=Ie(r);r=t.blockCursor=e}void 0!==r&&n.classList.add(...r)}return n}(e._config)),t.style.caretColor="transparent",void(null===l?n.appendChild(r):n.insertBefore(r,l))}}null!==r&&Gt(r,e,t)})(e,r,l),null!==g&&g.observe(r,_o)}finally{vo=f,ho=u}}null!==m&&function(e,t,n,r,o){const a=Array.from(e._listeners.mutation),i=a.length;for(let e=0;e<i;e++){const[i,s]=a[e],l=t.get(s);void 0!==l&&i(l,{dirtyLeaves:r,prevEditorState:o,updateTags:n})}}(e,m,b,h,i),Yr(l)||null===l||null!==s&&s.is(l)||e.dispatchCommand(a,void 0);const w=e._pendingDecorators;null!==w&&(e._decorators=w,e._pendingDecorators=null,Ao("decorator",e,!0,w)),function(e,t,n){const r=ft(t),o=ft(n);r!==o&&Ao("textcontent",e,!0,o)}(e,t||i,n),Ao("update",e,!0,{dirtyElements:v,dirtyLeaves:h,editorState:n,normalizedNodes:y,prevEditorState:t||i,tags:b}),function(e,t){if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,x),function(e){const t=e._updates;if(0!==t.length){const n=t.shift();if(n){const[t,r]=n;Fo(e,t,r)}}}(e)}function Ao(e,t,n,...r){const o=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(let e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=o}}function Zo(e,t,n){if(!1===e._updating||vo!==e){let r=!1;return e.update((()=>{r=Zo(e,t,n)})),r}const r=bt(e);for(let o=4;o>=0;o--)for(let a=0;a<r.length;a++){const i=r[a]._commands.get(t);if(void 0!==i){const t=i[o];if(void 0!==t){const r=Array.from(t),o=r.length;for(let t=0;t<o;t++)if(!0===r[t](n,e))return!0}}}return!1}function Ro(e,t){const n=e._updates;let r=t||!1;for(;0!==n.length;){const t=n.shift();if(t){const[n,o]=t;let a;if(void 0!==o){if(a=o.onUpdate,o.skipTransforms&&(r=!0),o.discrete){const t=e._pendingEditorState;null===t&&je(191),t._flushSync=!0}a&&e._deferred.push(a),Mo(e,o.tag)}n()}}return r}function Fo(e,t,n){const r=e._updateTags;let o,a=!1,i=!1;void 0!==n&&(o=n.onUpdate,Mo(e,n.tag),a=n.skipTransforms||!1,i=n.discrete||!1),o&&e._deferred.push(o);const s=e._editorState;let l=e._pendingEditorState,c=!1;(null===l||l._readOnly)&&(l=e._pendingEditorState=qo(l||s),c=!0),l._flushSync=i;const u=ho,d=yo,f=vo,p=e._updating;ho=l,yo=!1,e._updating=!0,vo=e;try{c&&(e._headless?null!==s._selection&&(l._selection=s._selection.clone()):l._selection=function(e){const t=e.getEditorState()._selection,n=qt(e._window);return Yr(t)||null==t?io(t,n,e,null):t.clone()}(e));const n=e._compositionKey;t(),a=Ro(e,a),function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(Yr(r)){const e=r.anchor,t=r.focus;let o;if("text"===e.type&&(o=e.getNode(),o.selectionTransform(n,r)),"text"===t.type){const e=t.getNode();o!==e&&e.selectionTransform(n,r)}}}(l,e),0!==e._dirtyType&&(a?function(e,t){const n=t._dirtyLeaves,r=e._nodeMap;for(const e of n){const t=r.get(e);Zr(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&$e(t)}}(l,e):function(e,t){const n=t._dirtyLeaves,r=t._dirtyElements,o=e._nodeMap,a=it(),i=new Map;let s=n,l=s.size,c=r,u=c.size;for(;l>0||u>0;){if(l>0){t._dirtyLeaves=new Set;for(const e of s){const r=o.get(e);Zr(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&$e(r),void 0!==r&&Io(r,a)&&jo(t,r,i),n.add(e)}if(s=t._dirtyLeaves,l=s.size,l>0){xo++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(const e of c){const n=e[0],s=e[1];if("root"!==n&&!s)continue;const l=o.get(n);void 0!==l&&Io(l,a)&&jo(t,l,i),r.set(n,s)}s=t._dirtyLeaves,l=s.size,c=t._dirtyElements,u=c.size,xo++}t._dirtyLeaves=n,t._dirtyElements=r}(l,e),Ro(e),function(e,t,n,r){const o=e._nodeMap,a=t._nodeMap,i=[];for(const[e]of r){const t=a.get(e);void 0!==t&&(t.isAttached()||(Ho(t)&&un(t,e,o,a,i,r),o.has(e)||r.delete(e),i.push(e)))}for(const e of i)a.delete(e);for(const e of n){const t=a.get(e);void 0===t||t.isAttached()||(o.has(e)||n.delete(e),a.delete(e))}}(s,l,e._dirtyLeaves,e._dirtyElements)),n!==e._compositionKey&&(l._flushSync=!0);const r=l._selection;if(Yr(r)){const e=l._nodeMap,t=r.anchor.key,n=r.focus.key;void 0!==e.get(t)&&void 0!==e.get(n)||je(19)}else qr(r)&&0===r._nodes.size&&(l._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=s,e._dirtyType=ae,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Do(e)}finally{ho=u,yo=d,vo=f,e._updating=p,xo=0}const g=0!==e._dirtyType||e._deferred.length>0||function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(l,e);g?l._flushSync?(l._flushSync=!1,Do(e)):c&&Ke((()=>{Do(e)})):(l._flushSync=!1,c&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function zo(e,t,n){e._updating?e._updates.push([t,n]):Fo(e,t,n)}class Lo{constructor(e,t,n){this.element=e,this.before=t||null,this.after=n||null}withBefore(e){return new Lo(this.element,e,this.after)}withAfter(e){return new Lo(this.element,this.before,e)}withElement(e){return new Lo(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return null!==t&&t.parentElement!==this.element&&je(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&je(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&je(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(null===e)this.removeManagedLineBreak();else{const t="decorator"===e&&(J||X);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,n="IMG"===e.nodeName?e.nextSibling:null;n&&t.removeChild(n),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===("IMG"===t.nodeName))return;this.removeManagedLineBreak()}const n=this.element,r=this.before,o=document.createElement("br");if(n.insertBefore(o,r),e){const e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",n.insertBefore(e,o),n.__lexicalLineBreak=e}else n.__lexicalLineBreak=o}getFirstChildOffset(){let e=0;for(let t=this.after;null!==t;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,n,r){if(n===this.element){const t=this.getFirstChildOffset();return[e,Math.min(t+e.getChildrenSize(),Math.max(t,r))]}const o=Bo(t,n);o.push(r);const a=Bo(t,this.element);let i=e.getIndexWithinParent();for(let e=0;e<a.length;e++){const t=o[e],n=a[e];if(void 0===t||t<n)break;if(t>n){i+=1;break}}return[e.getParentOrThrow(),i]}}function Bo(e,t){const n=[];let r=t;for(;r!==e&&null!==r;r=t.parentNode){let e=0;for(let t=r.previousSibling;null!==t;t=r.previousSibling)e++;n.push(e)}return r!==e&&je(225),n.reverse()}class $o extends gr{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return Se[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=No()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;null!==t;){if(Zr(t)&&e.push(t),Ho(t)){const n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;Ho(e);){const t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;Ho(e);){const t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(e>=n){const e=t[n-1];return Ho(e)&&e.getLastDescendant()||e||null}const r=t[e];return Ho(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const e=this.getLatest().__first;return null===e?null:st(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return null===e&&je(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return null===e?null:st(e)}getLastChildOrThrow(){const e=this.getLastChild();return null===e&&je(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let n,r;if(e<t/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=e;){if(r===e)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=t-1;null!==n&&r>=e;){if(r===e)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let e="";const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const o=t[r];e+=o.getTextContent(),Ho(o)&&r!==n-1&&!o.isInline()&&(e+=he)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const o=t[r];e+=o.getTextContentSize(),Ho(o)&&r!==n-1&&!o.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){const t=Ce[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=we[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return tt(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){ko();const n=so();let r=e,o=t;const a=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){const e=this.getFirstChild();if(Zr(e)||Ho(e))return e.select(0,0)}else if(!(void 0!==e&&e!==a||void 0!==t&&t!==a)){const e=this.getLastChild();if(Zr(e)||Ho(e))return e.select()}void 0===r&&(r=a),void 0===o&&(o=a);const i=this.__key;return Yr(n)?(n.anchor.set(i,r,"element"),n.focus.set(i,o,"element"),n.dirty=!0,n):oo(i,r,i,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?Ce[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){const r=n.length,o=this.getChildrenSize(),a=this.getWritable();e+t<=o||je(226,String(e),String(t),String(o));const i=a.__key,s=[],l=[],c=this.getChildAtIndex(e+t);let u=null,d=o-t+r;if(0!==e)if(e===o)u=this.getLastChild();else{const t=this.getChildAtIndex(e);null!==t&&(u=t.getPreviousSibling())}if(t>0){let e=null===u?this.getFirstChild():u.getNextSibling();for(let n=0;n<t;n++){null===e&&je(100);const t=e.getNextSibling(),n=e.__key;rt(e.getWritable()),l.push(n),e=t}}let f=u;for(let e=0;e<r;e++){const t=n[e];null!==f&&t.is(f)&&(u=f=f.getPreviousSibling());const r=t.getWritable();r.__parent===i&&d--,rt(r);const o=t.__key;if(null===f)a.__first=o,r.__prev=null;else{const e=f.getWritable();e.__next=o,r.__prev=e.__key}t.__key===i&&je(76),r.__parent=i,s.push(o),f=t}if(e+t===o)null!==f&&(f.getWritable().__next=null,a.__last=f.__key);else if(null!==c){const e=c.getWritable();if(null!==f){const t=f.getWritable();e.__prev=f.__key,t.__next=c.__key}else e.__prev=null}if(a.__size=d,l.length){const e=so();if(Yr(e)){const t=new Set(l),n=new Set(s),{anchor:r,focus:o}=e;Vo(r,t,n)&&fo(r,r.getNode(),this,u,c),Vo(o,t,n)&&fo(o,o.getNode(),this,u,c),0!==d||this.canBeEmpty()||Vt(this)||this.remove()}}return a}getDOMSlot(e){return new Lo(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(Ut(t)){const e=this.getIndent();e>0&&(t.style.paddingInlineStart=40*e+"px")}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),n=this.getTextStyle();return 0!==t&&(e.textFormat=t),""!==n&&(e.textStyle=n),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const n=this.getDOMSlot(e);let r=n.getFirstChild();for(let e=this.getFirstChild();e;e=e.getNextSibling()){const o=t.getElementByKey(e.getKey());null!==o&&(null==r?(n.insertChild(o),r=o):r!==o&&n.replaceChild(o,r),r=r.nextSibling)}}}function Ho(e){return e instanceof $o}function Vo(e,t,n){let r=e.getNode();for(;r;){const e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}class Wo extends gr{decorate(e,t){je(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Ko(e){return e instanceof Wo}class Yo extends $o{static getType(){return"root"}static clone(){return new Yo}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){je(51)}getTextContent(){const e=this.__cachedText;return!wo()&&0!==No()._dirtyType||null===e?super.getTextContent():e}remove(){je(52)}replace(e){je(53)}insertBefore(e){je(54)}insertAfter(e){je(55)}updateDOM(e,t){return!1}append(...e){for(let t=0;t<e.length;t++){const n=e[t];Ho(n)||Ko(n)||je(56)}return super.append(...e)}static importJSON(e){return pt().updateFromJSON(e)}collapseAtStart(){return!0}}function Go(e){return e instanceof Yo}function qo(e){return new Jo(new Map(e._nodeMap))}function Uo(){return new Jo(new Map([["root",new Yo]]))}function Xo(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&je(130,n.name),Ho(e)){const r=t.children;Array.isArray(r)||je(59,n.name);const o=e.getChildren();for(let e=0;e<o.length;e++){const t=Xo(o[e]);r.push(t)}}return t}class Jo{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,t){return Oo(t&&t.editor||null,this,e)}clone(e){const t=new Jo(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return Oo(null,this,(()=>({root:Xo(pt())})))}}class Qo extends $o{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class ea extends $o{static getType(){return"paragraph"}static clone(e){return new ea(e.__key)}createDOM(e){const t=document.createElement("p"),n=Pt(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:e=>({conversion:ta,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(Ut(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();t.style.textAlign=e;const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return na().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const n=na();n.setTextFormat(e.format),n.setTextStyle(e.style);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getTextStyle()),this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||Zr(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function ta(e){const t=na();return e.style&&(t.setFormat(e.style.textAlign),ln(e,t)),{node:t}}function na(){return Wt(new ea)}function ra(e){return e instanceof ea}const oa=0,aa=1,ia=4;function sa(e,t,n,r){const o=e._keyToDOMMap;o.clear(),e._editorState=Uo(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const a=e._observer;null!==a&&(a.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",o.set("root",n))}function la(e){const t=e||{},n=vo,r=t.theme||{},o=void 0===e?n:t.parentEditor||null,a=t.disableEvents||!1,i=Uo(),s=t.namespace||(null!==o?o._config.namespace:xt()),l=t.editorState,c=[Yo,Nr,mr,Fr,ea,Qo,...t.nodes||[]],{onError:u,html:d}=t,f=void 0===t.editable||t.editable;let p;if(void 0===e&&null!==n)p=n._nodes;else{p=new Map;for(let e=0;e<c.length;e++){let t=c[e],n=null,r=null;if("function"!=typeof t){const e=t;t=e.replace,n=e.with,r=e.withKlass||null}const o=t.getType(),a=t.transform(),i=new Set;null!==a&&i.add(a),p.set(o,{exportDOM:d&&d.export?d.export.get(t):void 0,klass:t,replace:n,replaceWithKlass:r,transforms:i})}}const g=new ca(i,o,p,{disableEvents:a,namespace:s,theme:r},u||console.error,function(e,t){const n=new Map,r=new Set,o=e=>{Object.keys(e).forEach((t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])}))};return e.forEach((e=>{const t=e.klass.importDOM;if(null==t||r.has(t))return;r.add(t);const n=t.call(e.klass);null!==n&&o(n)})),t&&o(t),n}(p,d?d.import:void 0),f);return void 0!==l&&(g._pendingEditorState=l,g._dirtyType=ae),g}class ca{constructor(e,t,n,r,o,a,i){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=xt(),this._onError=o,this._htmlConversions=a,this._editable=i,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&je(35);const r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=r.get(e);void 0===o&&je(36,String(e));const a=o[n];return a.add(t),()=>{a.delete(t),o.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t,n){const r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;o.set(t,r);const a=n&&n.skipInitialization;return void 0!==a&&a||this.initializeMutationListener(t,r),()=>{o.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return void 0===t&&je(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const n=this._editorState,r=an(n).get(t.getType());if(!r)return;const o=new Map;for(const e of r.keys())o.set(e,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const n=this.getRegisteredNode(e);return n.transforms.add(t),n}registerNodeTransform(e,t){const n=this.registerNodeTransformToKlass(e,t),r=[n],o=n.replaceWithKlass;if(null!=o){const e=this.registerNodeTransformToKlass(o,t);r.push(e)}return function(e,t){const n=an(e.getEditorState()),r=[];for(const e of t){const t=n.get(e);t&&r.push(t)}0!==r.length&&e.update((()=>{for(const e of r)for(const t of e.keys()){const e=st(t);e&&e.markDirty()}}),null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,r.map((e=>e.klass.getType()))),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return Zt(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=Pt(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,sa(this,t,e,r),null!==t&&(this._config.disableEvents||function(e){const t=e.ownerDocument,n=Xn.get(t);void 0===n&&je(162);const r=n-1;r>=0||je(164),Xn.set(t,r),0===r&&t.removeEventListener("selectionchange",ur);const o=Xe(e);qe(o)?(function(e){if(null!==e._parentEditor){const t=bt(e),n=t[t.length-1]._key;cr.get(n)===e&&cr.delete(n)}else cr.delete(e._key)}(o),e.__lexicalEditor=null):o&&je(198);const a=lr(e);for(let e=0;e<a.length;e++)a[e]();e.__lexicalEventHandles=[]}(t),null!=n&&t.classList.remove(...n)),null!==e){const t=$t(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=ae,ze(this),this._updateTags.add("history-merge"),Do(this),this._config.disableEvents||function(e,t){const n=e.ownerDocument,r=Xn.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",ur),Xn.set(n,(r||0)+1),e.__lexicalEditor=t;const o=lr(e);for(let n=0;n<Kn.length;n++){const[r,a]=Kn[n],i="function"==typeof a?e=>{fr(e)||(dr(e),(t.isEditable()||"click"===r)&&a(e,t))}:e=>{if(fr(e))return;dr(e);const n=t.isEditable();switch(r){case"cut":return n&&Zt(t,B,e);case"copy":return Zt(t,L,e);case"paste":return n&&Zt(t,f,e);case"dragstart":return n&&Zt(t,R,e);case"dragover":return n&&Zt(t,F,e);case"dragend":return n&&Zt(t,z,e);case"focus":return n&&Zt(t,H,e);case"blur":return n&&Zt(t,V,e);case"drop":return n&&Zt(t,A,e)}};e.addEventListener(r,i),o.push((()=>{e.removeEventListener(r,i)}))}}(e,this),null!=n&&e.classList.add(...n)}else this._window=null,this._updateTags.add("history-merge"),Do(this);Ao("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&je(38);let n=e;n._readOnly&&(n=qo(e),n._selection=e._selection?e._selection.clone():null),Fe(this);const r=this._pendingEditorState,o=this._updateTags,a=void 0!==t?t.tag:null;null===r||r.isEmpty()||(null!=a&&o.add(a),Do(this)),this._pendingEditorState=n,this._dirtyType=ae,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=a&&o.add(a),this._updating||Do(this)}parseEditorState(e,t){return function(e,t,n){const r=Uo(),o=ho,a=yo,i=vo,s=t._dirtyElements,l=t._dirtyLeaves,c=t._cloneNotNeeded,u=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,ho=r,yo=!1,vo=t;try{const o=t._nodes;To(e.root,o),n&&n(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=s,t._dirtyLeaves=l,t._cloneNotNeeded=c,t._dirtyType=u,ho=o,yo=a,vo=i}return r}("string"==typeof e?JSON.parse(e):e,this,t)}read(e){return Do(this),this.getEditorState().read(e,{editor:this})}update(e,t){zo(this,e,t)}focus(e,t={}){const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),zo(this,(()=>{const e=so(),n=pt();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=qt(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Ao("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}ca.version="0.23.1+prod.esm";var ua=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const da="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,fa=da&&"documentMode"in document?document.documentMode:null,pa=(da&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),da&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),!(!da||!("InputEvent"in window)||fa)&&new window.InputEvent("input"),da&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),da&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,da&&/Android/.test(navigator.userAgent),da&&/^(?=.*Chrome).*/i.test(navigator.userAgent));da&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);function ga(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}function ma(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}function ha(e,...t){const n=ga(...t);n.length>0&&e.classList.add(...n)}const va=(e,t)=>{let n=e;for(;n!==pt()&&null!=n;){if(t(n))return n;n=n.getParent()}return null};function ya(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name}n(15660),n(35433),n(39980),n(24335),n(24064),n(4279),n(15251),n(11426),n(99339),n(86862),n(80366),n(70767),n(90874),n(96836),n(52503),n(2731);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const ba=globalThis.Prism||window.Prism,xa=e=>{try{return!!e&&ba.languages.hasOwnProperty(e)}catch(e){return!1}};function _a(e,t){for(const n of e.childNodes){if(Ut(n)&&n.tagName===t)return!0;_a(n,t)}return!1}const wa="data-language",ka="data-highlight-language";class Ca extends $o{static getType(){return"code"}static clone(e){return new Ca(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=xa(e)}createDOM(e){const t=document.createElement("code");ha(t,e.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(wa,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(ka,n)),t}updateDOM(e,t,n){const r=this.__language,o=e.__language;return r?r!==o&&(t.setAttribute(wa,r),this.__isSyntaxHighlightSupported&&t.setAttribute(ka,r)):o&&(t.removeAttribute(wa),e.__isSyntaxHighlightSupported&&t.removeAttribute(ka)),!1}exportDOM(e){const t=document.createElement("pre");ha(t,e._config.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(wa,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(ka,n)),{element:t}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||_a(e,"BR"))?{conversion:Ea,priority:1}:null,div:()=>({conversion:ja,priority:1}),pre:()=>({conversion:Ea,priority:0}),table:e=>Ta(e)?{conversion:Ia,priority:3}:null,td:e=>{const t=e,n=t.closest("table");return t.classList.contains("js-file-line")||n&&Ta(n)?{conversion:Ma,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&Ta(t)?{conversion:Ma,priority:3}:null}}}static importJSON(e){return Sa().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e,t=!0){const n=this.getChildren(),r=n.length;if(r>=2&&"\n"===n[r-1].getTextContent()&&"\n"===n[r-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===r){n[r-1].remove(),n[r-2].remove();const e=na();return this.insertAfter(e,t),e}const{anchor:o,focus:a}=e,i=(o.isBefore(a)?o:a).getNode();if(Zr(i)){let e=Ra(i);const t=[];for(;;)if(Lr(e))t.push(zr()),e=e.getNextSibling();else{if(!Za(e))break;{let n=0;const r=e.getTextContent(),o=e.getTextContentSize();for(;n<o&&" "===r[n];)n++;if(0!==n&&t.push(Aa(" ".repeat(n))),n!==o)break;e=e.getNextSibling()}}const n=i.splitText(o.offset)[0],r=0===o.offset?0:1,a=n.getIndexWithinParent()+r,s=i.getParentOrThrow(),l=[vr(),...t];s.splice(a,0,l);const c=t[t.length-1];c?c.select():0===o.offset?n.selectPrevious():n.getNextSibling().selectNext(0,0)}if(Na(i)){const{offset:t}=e.anchor;i.splice(t,0,[vr()]),i.select(t+1,t+1)}return null}canIndent(){return!1}collapseAtStart(){const e=na();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t.__isSyntaxHighlightSupported=xa(e),t}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}}function Sa(e){return Wt(new Ca(e))}function Na(e){return e instanceof Ca}function Ea(e){return{node:Sa(e.getAttribute(wa))}}function ja(e){const t=e,n=Pa(t);return n||function(e){let t=e.parentElement;for(;null!==t;){if(Pa(t))return!0;t=t.parentElement}return!1}(t)?{node:n?Sa():null}:{node:null}}function Ia(){return{node:Sa()}}function Ma(){return{node:null}}function Pa(e){return null!==e.style.fontFamily.match("monospace")}function Ta(e){return e.classList.contains("js-file-line-container")}class Oa extends Nr{constructor(e="",t,n){super(e,n),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new Oa(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e);return ha(t,Da(e.theme,this.__highlightType)),t}updateDOM(e,t,n){const r=super.updateDOM(e,t,n),o=Da(n.theme,e.__highlightType),a=Da(n.theme,this.__highlightType);return o!==a&&(o&&function(e,...t){const n=ga(...t);n.length>0&&e.classList.remove(...n)}(t,o),a&&ha(t,a)),r}static importJSON(e){return Aa().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return Sa()}}function Da(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function Aa(e="",t){return Wt(new Oa(e,t))}function Za(e){return e instanceof Oa}function Ra(e){let t=e,n=e;for(;Za(n)||Lr(n);)t=n,n=n.getPreviousSibling();return t}new Set;var Fa=n(67294);var za=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const La=(0,Fa.createContext)(null);function Ba(){const e=(0,Fa.useContext)(La);return null==e&&za(8),e}var $a=n(85893);const Ha="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Va=Ha?Fa.useLayoutEffect:Fa.useEffect,Wa={tag:"history-merge"};function Ka({initialConfig:e,children:t}){const n=(0,Fa.useMemo)((()=>{const{theme:t,namespace:n,nodes:r,onError:o,editorState:a,html:i}=e,s=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}}(null,t),l=la({editable:e.editable,html:i,namespace:n,nodes:r,onError:e=>o(e,l),theme:t});return function(e,t){if(null!==t)if(void 0===t)e.update((()=>{const t=pt();if(t.isEmpty()){const n=na();t.append(n);const r=Ha?document.activeElement:null;(null!==so()||null!==r&&r===e.getRootElement())&&n.select()}}),Wa);else if(null!==t)switch(typeof t){case"string":{const n=e.parseEditorState(t);e.setEditorState(n,Wa);break}case"object":e.setEditorState(t,Wa);break;case"function":e.update((()=>{pt().isEmpty()&&t(e)}),Wa)}}(l,a),[l,s]}),[]);return Va((()=>{const t=e.editable,[r]=n;r.setEditable(void 0===t||t)}),[]),(0,$a.jsx)(La.Provider,{value:n,children:t})}function Ya(e,t=!0){if(e)return!1;let n=pt().getTextContent();return t&&(n=n.trim()),""===n}function Ga(e){return()=>function(e){if(!Ya(e,!1))return!1;const t=pt().getChildren(),n=t.length;if(n>1)return!1;for(let e=0;e<n;e++){const n=t[e];if(Ko(n))return!1;if(Ho(n)){if(!ra(n))return!1;if(0!==n.__indent)return!1;const t=n.getChildren(),r=t.length;for(let n=0;n<r;n++)if(!Zr(t[e]))return!1}}return!0}(e)}!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const qa="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Fa.useLayoutEffect:Fa.useEffect;const Ua=(0,Fa.forwardRef)((function({editor:e,ariaActiveDescendant:t,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:o,ariaErrorMessage:a,ariaExpanded:i,ariaInvalid:s,ariaLabel:l,ariaLabelledBy:c,ariaMultiline:u,ariaOwns:d,ariaRequired:f,autoCapitalize:p,className:g,id:m,role:h="textbox",spellCheck:v=!0,style:y,tabIndex:b,"data-testid":x,..._},w){const[k,C]=(0,Fa.useState)(e.isEditable()),S=(0,Fa.useCallback)((t=>{t&&t.ownerDocument&&t.ownerDocument.defaultView?e.setRootElement(t):e.setRootElement(null)}),[e]),N=(0,Fa.useMemo)((()=>function(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}(w,S)),[S,w]);return qa((()=>(C(e.isEditable()),e.registerEditableListener((e=>{C(e)})))),[e]),(0,$a.jsx)("div",{"aria-activedescendant":k?t:void 0,"aria-autocomplete":k?n:"none","aria-controls":k?r:void 0,"aria-describedby":o,...null!=a?{"aria-errormessage":a}:{},"aria-expanded":k&&"combobox"===h?!!i:void 0,...null!=s?{"aria-invalid":s}:{},"aria-label":l,"aria-labelledby":c,"aria-multiline":u,"aria-owns":k?d:void 0,"aria-readonly":!k||void 0,"aria-required":f,autoCapitalize:p,className:g,contentEditable:k,"data-testid":x,id:m,ref:N,role:k?h:void 0,spellCheck:v,style:y,tabIndex:b,..._})}));function Xa(e){return e.getEditorState().read(Ga(e.isComposing()))}const Ja=(0,Fa.forwardRef)((function(e,t){const{placeholder:n,...r}=e,[o]=Ba();return(0,$a.jsxs)($a.Fragment,{children:[(0,$a.jsx)(Ua,{editor:o,...r,ref:t}),null!=n&&(0,$a.jsx)(Qa,{editor:o,content:n})]})}));function Qa({content:e,editor:t}){const n=function(e){const[t,n]=(0,Fa.useState)((()=>Xa(e)));return qa((()=>{function t(){const t=Xa(e);n(t)}return t(),ma(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(t),[r,o]=(0,Fa.useState)(t.isEditable());if((0,Fa.useLayoutEffect)((()=>(o(t.isEditable()),t.registerEditableListener((e=>{o(e)})))),[t]),!n)return null;let a=null;return"function"==typeof e?a=e(r):null!==e&&(a=e),null===a?null:(0,$a.jsx)("div",{"aria-hidden":!0,children:a})}function ei(e,t){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ei(e,t)}var ti={error:null},ni=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=ti,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ei(t,n),r.getDerivedStateFromError=function(e){return{error:e}};var o=r.prototype;return o.reset=function(){this.setState(ti)},o.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},o.componentDidUpdate=function(e,t){var n,r,o,a,i=this.state.error,s=this.props.resetKeys;null!==i&&null!==t.error&&(void 0===(o=e.resetKeys)&&(o=[]),void 0===(a=s)&&(a=[]),o.length!==a.length||o.some((function(e,t){return!Object.is(e,a[t])})))&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,s),this.reset())},o.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,r=t.FallbackComponent,o=t.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(Fa.isValidElement(o))return o;if("function"==typeof n)return n(a);if(r)return Fa.createElement(r,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(Fa.Component);function ri({children:e,onError:t}){return(0,$a.jsx)(ni,{fallback:(0,$a.jsx)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:e})}const oi="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Fa.useLayoutEffect:Fa.useEffect;function ai(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}var ii=n(73935);!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const si=new Map;function li(e){const t={};if(!e)return t;const n=e.split(";");for(const e of n)if(""!==e){const[n,r]=e.split(/:([^]+)/);n&&r&&(t[n.trim()]=r.trim())}return t}function ci(e,t){const n=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&null!==n){const[r,o]=n,a=e.isBackward(),i=r.getNode(),s=o.getNode(),l=t.is(i),c=t.is(s);if(l||c){const[n,r]=Xr(e),o=i.is(s),l=t.is(a?s:i),c=t.is(a?i:s);let u,d=0;return o?(d=n>r?r:n,u=n>r?n:r):l?(d=a?r:n,u=void 0):c&&(d=0,u=a?n:r),t.__text=t.__text.slice(d,u),t}}return t}function ui(e){const t=e.getStyle(),n=li(t);si.set(t,n)}function di(e,t){const n=Dt(e.focus,t);return Ko(n)&&!n.isIsolated()||Ho(n)&&!n.isInline()&&!n.canBeEmpty()}function fi(e,t,n){const r=function(e){const t=e.anchor.getNode();return"rtl"===(Go(t)?t:t.getParentOrThrow()).getDirection()}(e);!function(e,t,n,r){e.modify(t?"extend":"move",n,r)}(e,t,n?!r:r,"character")}function pi(e,t,n,r=null){let o=null===r||t.isSelected(r);const a=Ho(t)&&t.excludeFromCopy("html");let i=t;if(null!==r){let e=sn(t);e=Zr(e)&&null!==r?ci(r,e):e,i=e}const s=Ho(i)?i.getChildren():[],l=e._nodes.get(i.getType());let c;c=l&&void 0!==l.exportDOM?l.exportDOM(e,i):i.exportDOM(e);const{element:u,after:d}=c;if(!u)return!1;const f=document.createDocumentFragment();for(let n=0;n<s.length;n++){const a=s[n],i=pi(e,a,f,r);!o&&Ho(t)&&i&&t.extractWithChild(a,r,"html")&&(o=!0)}if(o&&!a){if((Ut(u)||Jt(u))&&u.append(f),n.append(u),d){const e=d.call(i,u);e&&(Jt(u)?u.replaceChildren(e):u.replaceWith(e))}}else n.append(f);return o}const gi=new Set(["STYLE","SCRIPT"]);function mi(e,t,n,r,o=new Map,a){let i=[];if(gi.has(e.nodeName))return i;let s=null;const l=function(e,t){const{nodeName:n}=e,r=t._htmlConversions.get(n.toLowerCase());let o=null;if(void 0!==r)for(const t of r){const n=t(e);null!==n&&(null===o||(o.priority||0)<=(n.priority||0))&&(o=n)}return null!==o?o.conversion:null}(e,t),c=l?l(e):null;let u=null;if(null!==c){u=c.after;const t=c.node;if(s=Array.isArray(t)?t[t.length-1]:t,null!==s){for(const[,e]of o)if(s=e(s,a),!s)break;s&&i.push(...Array.isArray(t)?t:[s])}null!=c.forChild&&o.set(e.nodeName,c.forChild)}const d=e.childNodes;let f=[];const p=(null==s||!Vt(s))&&(null!=s&&ro(s)||r);for(let e=0;e<d.length;e++)f.push(...mi(d[e],t,n,p,new Map(o),s));return null!=u&&(f=u(f)),en(e)&&(f=function(e,t,n){const r=e.style.textAlign,o=[];let a=[];for(let e=0;e<t.length;e++){const i=t[e];if(ro(i))r&&!i.getFormat()&&i.setFormat(r),o.push(i);else if(a.push(i),e===t.length-1||e<t.length-1&&ro(t[e+1])){const e=n();e.setFormat(r),e.append(...a),o.push(e),a=[]}}return o}(e,f,p?()=>{const e=new Qo;return n.push(e),e}:na)),null==s?f.length>0?i=i.concat(f):en(e)&&function(e){return null!=e.nextSibling&&null!=e.previousSibling&&(Qt(e.nextSibling)&&Qt(e.previousSibling))}(e)&&(i=i.concat(vr())):Ho(s)&&s.append(...f),i}var hi=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function vi(e,t,n){const r=e.getData("application/x-lexical-editor");if(r)try{const e=JSON.parse(r);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes))return yi(n,function(e){const t=[];for(let n=0;n<e.length;n++){const r=Po(e[n]);Zr(r)&&ui(r),t.push(r)}return t}(e.nodes),t)}catch(e){}const o=e.getData("text/html");if(o)try{return yi(n,function(e,t){const n=t.body?t.body.childNodes:[];let r=[];const o=[];for(let t=0;t<n.length;t++){const a=n[t];if(!gi.has(a.nodeName)){const t=mi(a,e,o,!1);null!==t&&(r=r.concat(t))}}return function(e){for(const t of e)t.getNextSibling()instanceof Qo&&t.insertAfter(vr());for(const t of e){const e=t.getChildren();for(const n of e)t.insertBefore(n);t.remove()}}(o),r}(n,(new DOMParser).parseFromString(function(e){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:e=>e}).createHTML(e):e}(o),"text/html")),t)}catch(e){}const a=e.getData("text/plain")||e.getData("text/uri-list");if(null!=a)if(Yr(t)){const e=a.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let t=0;t<e.length;t++){const n=so();if(Yr(n)){const r=e[t];"\n"===r||"\r\n"===r?n.insertParagraph():"\t"===r?n.insertNodes([zr()]):n.insertText(r)}}}else t.insertRawText(a)}function yi(e,t,n){e.dispatchCommand(i,{nodes:t,selection:n})||n.insertNodes(t)}function bi(e,t,n,r=[]){let o=null===t||n.isSelected(t);const a=Ho(n)&&n.excludeFromCopy("html");let i=n;if(null!==t){let e=sn(n);e=Zr(e)&&null!==t?ci(t,e):e,i=e}const s=Ho(i)?i.getChildren():[],l=function(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&hi(58,n.name),Ho(e)){const e=t.children;Array.isArray(e)||hi(59,n.name)}return t}(i);if(Zr(i)){const e=i.__text;e.length>0?l.text=e:o=!1}for(let r=0;r<s.length;r++){const a=s[r],i=bi(e,t,a,l.children);!o&&Ho(n)&&i&&n.extractWithChild(a,t,"clone")&&(o=!0)}if(o&&!a)r.push(l);else if(Array.isArray(l.children))for(let e=0;e<l.children.length;e++){const t=l.children[e];r.push(t)}return o}let xi=null;async function _i(e,t,n){if(null!==xi)return!1;if(null!==t)return new Promise(((r,o)=>{e.update((()=>{r(wi(e,t,n))}))}));const r=e.getRootElement(),o=null==e._window?window.document:e._window.document,a=qt(e._window);if(null===r||null===a)return!1;const i=o.createElement("span");i.style.cssText="position: fixed; top: -1000px;",i.append(o.createTextNode("#")),r.append(i);const s=new Range;return s.setStart(i,0),s.setEnd(i,1),a.removeAllRanges(),a.addRange(s),new Promise(((t,r)=>{const a=e.registerCommand(L,(r=>(ya(r,ClipboardEvent)&&(a(),null!==xi&&(window.clearTimeout(xi),xi=null),t(wi(e,r,n))),!0)),ia);xi=window.setTimeout((()=>{a(),xi=null,t(!1)}),50),o.execCommand("copy"),i.remove()}))}function wi(e,t,n){if(void 0===n){const t=qt(e._window);if(!t)return!1;const r=t.anchorNode,o=t.focusNode;if(null!==r&&null!==o&&!Ge(e,r,o))return!1;const a=so();if(null===a)return!1;n=function(e=so()){const t={"text/plain":e?e.getTextContent():""};if(e){const n=No();for(const[r,o]of ki){const a=o(n,e);null!==a&&(t[r]=a)}}return t}(a)}t.preventDefault();const r=t.clipboardData;return null!==r&&(function(e,t){for(const n in t){const r=t[n];void 0!==r&&e.setData(n,r)}}(r,n),!0)}const ki=[["text/html",function(e,t=so()){return null==t&&hi(166),Yr(t)&&t.isCollapsed()||0===t.getNodes().length?"":function(e,t){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=pt().getChildren();for(let o=0;o<r.length;o++)pi(e,r[o],n,t);return n.innerHTML}(e,t)}],["application/x-lexical-editor",function(e,t=so()){return null==t&&hi(166),Yr(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(function(e,t){const n=[],r=pt().getChildren();for(let o=0;o<r.length;o++)bi(e,t,r[o],n);return{namespace:e._config.namespace,nodes:n}}(e,t))}]];function Ci(e,t){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}const Si="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ni=Si&&"documentMode"in document?document.documentMode:null,Ei=!(!Si||!("InputEvent"in window)||Ni)&&"getTargetRanges"in new window.InputEvent("input"),ji=Si&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Ii=Si&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Mi=Si&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Pi=Si&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Mi,Ti={};class Oi extends $o{static getType(){return"quote"}static clone(e){return new Oi(e.__key)}createDOM(e){const t=document.createElement("blockquote");return ha(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:Fi,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(Ut(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();t.style.textAlign=e;const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return Di().updateFromJSON(e)}insertNewAfter(e,t){const n=na(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,t),n}collapseAtStart(){const e=na();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function Di(){return Wt(new Oi)}class Ai extends $o{static getType(){return"heading"}static clone(e){return new Ai(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,n=document.createElement(t),r=e.theme.heading;if(void 0!==r){ha(n,r[t])}return n}updateDOM(e,t,n){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:Ri,priority:0}),h2:e=>({conversion:Ri,priority:0}),h3:e=>({conversion:Ri,priority:0}),h4:e=>({conversion:Ri,priority:0}),h5:e=>({conversion:Ri,priority:0}),h6:e=>({conversion:Ri,priority:0}),p:e=>{const t=e.firstChild;return null!==t&&Zi(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>Zi(e)?{conversion:e=>({node:zi("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(Ut(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();t.style.textAlign=e;const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return zi(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){const n=e?e.anchor.offset:0,r=this.getLastDescendant(),o=!r||e&&e.anchor.key===r.getKey()&&n===r.getTextContentSize()||!e?na():zi(this.getTag()),a=this.getDirection();if(o.setDirection(a),this.insertAfter(o,t),0===n&&!this.isEmpty()&&e){const e=na();e.select(),this.replace(e,!0)}return o}collapseAtStart(){const e=this.isEmpty()?na():zi(this.getTag());return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}extractWithChild(){return!0}}function Zi(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function Ri(e){const t=e.nodeName.toLowerCase();let n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=zi(t),null!==e.style&&(ln(e,n),n.setFormat(e.style.textAlign))),{node:n}}function Fi(e){const t=Di();return null!==e.style&&(t.setFormat(e.style.textAlign),ln(e,t)),{node:t}}function zi(e="h1"){return Wt(new Ai(e))}function Li(e){let t=null;if(ya(e,DragEvent)?t=e.dataTransfer:ya(e,ClipboardEvent)&&(t=e.clipboardData),null===t)return[!1,[],!1];const n=t.types,r=n.includes("Files"),o=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),o]}function Bi(e){const t=so();if(!Yr(t))return!1;const n=new Set,r=t.getNodes();for(let t=0;t<r.length;t++){const o=r[t],a=o.getKey();if(n.has(a))continue;const i=va(o,(e=>Ho(e)&&!e.isInline()));if(null===i)continue;const s=i.getKey();i.canIndent()&&!n.has(s)&&(n.add(s),e(i))}return n.size>0}function $i(e){return Ko(ut(e))}function Hi(e){for(const t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}function Vi(e){return ma(e.registerCommand(s,(e=>{const t=so();return!!qr(t)&&(t.clear(),!0)}),0),e.registerCommand(l,(e=>{const t=so();return!!Yr(t)&&(t.deleteCharacter(e),!0)}),oa),e.registerCommand(g,(e=>{const t=so();return!!Yr(t)&&(t.deleteWord(e),!0)}),oa),e.registerCommand(m,(e=>{const t=so();return!!Yr(t)&&(t.deleteLine(e),!0)}),oa),e.registerCommand(d,(t=>{const n=so();if("string"==typeof t)null!==n&&n.insertText(t);else{if(null===n)return!1;const r=t.dataTransfer;if(null!=r)vi(r,n,e);else if(Yr(n)){const e=t.data;return e&&n.insertText(e),!0}}return!0}),oa),e.registerCommand(p,(()=>{const e=so();return!!Yr(e)&&(e.removeText(),!0)}),oa),e.registerCommand(h,(e=>{const t=so();return!!Yr(t)&&(t.formatText(e),!0)}),oa),e.registerCommand(Z,(e=>{const t=so();if(!Yr(t)&&!qr(t))return!1;const n=t.getNodes();for(const t of n){const n=va(t,(e=>Ho(e)&&!e.isInline()));null!==n&&n.setFormat(e)}return!0}),oa),e.registerCommand(c,(e=>{const t=so();return!!Yr(t)&&(t.insertLineBreak(e),!0)}),oa),e.registerCommand(u,(()=>{const e=so();return!!Yr(e)&&(e.insertParagraph(),!0)}),oa),e.registerCommand(T,(()=>(function(e){let t=so()||lo();null===t&&(t=pt().selectEnd()),t.insertNodes(e)}([zr()]),!0)),oa),e.registerCommand(O,(()=>Bi((e=>{const t=e.getIndent();e.setIndent(t+1)}))),oa),e.registerCommand(D,(()=>Bi((e=>{const t=e.getIndent();t>0&&e.setIndent(t-1)}))),oa),e.registerCommand(C,(e=>{const t=so();if(qr(t)&&!$i(e.target)){const e=t.getNodes();if(e.length>0)return e[0].selectPrevious(),!0}else if(Yr(t)){const n=Dt(t.focus,!0);if(!e.shiftKey&&Ko(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1}),oa),e.registerCommand(S,(e=>{const t=so();if(qr(t)){const e=t.getNodes();if(e.length>0)return e[0].selectNext(0,0),!0}else if(Yr(t)){if(function(e){const t=e.focus;return"root"===t.key&&t.offset===pt().getChildrenSize()}(t))return e.preventDefault(),!0;const n=Dt(t.focus,!1);if(!e.shiftKey&&Ko(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1}),oa),e.registerCommand(w,(e=>{const t=so();if(qr(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}if(!Yr(t))return!1;if(di(t,!0)){const n=e.shiftKey;return e.preventDefault(),fi(t,n,!0),!0}return!1}),oa),e.registerCommand(x,(e=>{const t=so();if(qr(t)&&!$i(e.target)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}if(!Yr(t))return!1;const n=e.shiftKey;return!!di(t,!1)&&(e.preventDefault(),fi(t,n,!1),!0)}),oa),e.registerCommand(j,(t=>{if($i(t.target))return!1;const n=so();if(!Yr(n))return!1;const{anchor:r}=n,o=r.getNode();return n.isCollapsed()&&0===r.offset&&!Go(o)&&function(e){const t=va(e,(e=>Ho(e)&&!e.isInline()));return Ho(t)||ua(4,e.__key),t}(o).getIndent()>0?(t.preventDefault(),e.dispatchCommand(D,void 0)):(!Ii||"ko-KR"!==navigator.language)&&(t.preventDefault(),e.dispatchCommand(l,!0))}),oa),e.registerCommand(M,(t=>{if($i(t.target))return!1;return!!Yr(so())&&(t.preventDefault(),e.dispatchCommand(l,!1))}),oa),e.registerCommand(N,(t=>{const n=so();if(!Yr(n))return!1;if(Hi(n),null!==t){if((Ii||ji||Pi)&&Ei)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(c,!1)}return e.dispatchCommand(u,void 0)}),oa),e.registerCommand(I,(()=>!!Yr(so())&&(e.blur(),!0)),oa),e.registerCommand(A,(t=>{const[,n]=Li(t);if(n.length>0){const r=Ci(t.clientX,t.clientY);if(null!==r){const{offset:t,node:o}=r,a=ut(o);if(null!==a){const e=function(){const e=$r("root",0,"element"),t=$r("root",0,"element");return new Gr(e,t,0,"")}();if(Zr(a))e.anchor.set(a.getKey(),t,"text"),e.focus.set(a.getKey(),t,"text");else{const t=a.getParentOrThrow().getKey(),n=a.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}mt(He(e))}e.dispatchCommand(Ti,n)}return t.preventDefault(),!0}return!!Yr(so())}),oa),e.registerCommand(R,(e=>{const[t]=Li(e),n=so();return!(t&&!Yr(n))}),oa),e.registerCommand(F,(e=>{const[t]=Li(e),n=so();if(t&&!Yr(n))return!1;const r=Ci(e.clientX,e.clientY);if(null!==r){Ko(ut(r.node))&&e.preventDefault()}return!0}),oa),e.registerCommand($,(()=>(function(e){const t=pt();if(Yr(e)){const t=e.anchor,n=e.focus,r=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(r.getKey(),0,"element"),n.set(r.getKey(),r.getChildrenSize(),"element"),He(e),e}{const e=t.select(0,t.getChildrenSize());mt(He(e))}}(),!0)),oa),e.registerCommand(L,(t=>(_i(e,ya(t,ClipboardEvent)?t:null),!0)),oa),e.registerCommand(B,(t=>(async function(e,t){await _i(t,ya(e,ClipboardEvent)?e:null),t.update((()=>{const e=so();Yr(e)?e.removeText():qr(e)&&e.getNodes().forEach((e=>e.remove()))}))}(t,e),!0)),oa),e.registerCommand(f,(t=>{const[,n,r]=Li(t);return n.length>0&&!r?(e.dispatchCommand(Ti,n),!0):(!Xt(t.target)||!Ye(t.target))&&(null!==so()&&(function(e,t){e.preventDefault(),t.update((()=>{const n=so(),r=ya(e,InputEvent)||ya(e,KeyboardEvent)?null:e.clipboardData;null!=r&&null!==n&&vi(r,n,t)}),{tag:"paste"})}(t,e),!0))}),oa),e.registerCommand(E,(e=>{const t=so();return Yr(t)&&Hi(t),!1}),oa),e.registerCommand(P,(e=>{const t=so();return Yr(t)&&Hi(t),!1}),oa))}const Wi="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Fa.useLayoutEffect:Fa.useEffect;function Ki(e){return e.getEditorState().read(Ga(e.isComposing()))}function Yi({contentEditable:e,placeholder:t=null,ErrorBoundary:n}){const[r]=Ba(),o=function(e,t){const[n,r]=(0,Fa.useState)((()=>e.getDecorators()));return Wi((()=>e.registerDecoratorListener((e=>{(0,ii.flushSync)((()=>{r(e)}))}))),[e]),(0,Fa.useEffect)((()=>{r(e.getDecorators())}),[e]),(0,Fa.useMemo)((()=>{const r=[],o=Object.keys(n);for(let a=0;a<o.length;a++){const i=o[a],s=(0,$a.jsx)(t,{onError:t=>e._onError(t),children:(0,$a.jsx)(Fa.Suspense,{fallback:null,children:n[i]})}),l=e.getElementByKey(i);null!==l&&r.push((0,ii.createPortal)(s,l,i))}return r}),[t,n,e])}(r,n);return function(e){Wi((()=>ma(Vi(e),function(e){const t=window.location.origin,n=n=>{if(n.origin!==t)return;const r=e.getRootElement();if(document.activeElement!==r)return;const o=n.data;if("string"==typeof o){let t;try{t=JSON.parse(o)}catch(e){return}if(t&&"nuanria_messaging"===t.protocol&&"request"===t.type){const r=t.payload;if(r&&"makeChanges"===r.functionId){const t=r.args;if(t){const[r,o,a,i,s,l]=t;e.update((()=>{const e=so();if(Yr(e)){const t=e.anchor;let l=t.getNode(),c=0,u=0;if(Zr(l)&&r>=0&&o>=0&&(c=r,u=r+o,e.setTextNodeRange(l,c,l,u)),c===u&&""===a||(e.insertRawText(a),l=t.getNode()),Zr(l)){c=i,u=i+s;const t=l.getTextContentSize();c=c>t?t:c,u=u>t?t:u,e.setTextNodeRange(l,c,l,u)}n.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}(e))),[e])}(r),(0,$a.jsxs)($a.Fragment,{children:[e,(0,$a.jsx)(Gi,{content:t}),o]})}function Gi({content:e}){const[t]=Ba(),n=function(e){const[t,n]=(0,Fa.useState)((()=>Ki(e)));return Wi((()=>{function t(){const t=Ki(e);n(t)}return t(),ma(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(t),r=function(e){const[t]=Ba(),n=(0,Fa.useMemo)((()=>e(t)),[t,e]),[r,o]=(0,Fa.useState)((()=>n.initialValueFn())),a=(0,Fa.useRef)(r);return oi((()=>{const{initialValueFn:e,subscribe:t}=n,r=e();return a.current!==r&&(a.current=r,o(r)),t((e=>{a.current=e,o(e)}))}),[n,e]),r}(ai);return n?"function"==typeof e?e(r):e:null}var qi=n(27080);const Ui=(0,n(91373).Z)("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);var Xi=n(67421),Ji=n(3071),Qi={code:"editor-code",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},image:"editor-image",link:"editor-link",list:{listitem:"editor-listitem",nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul"},ltr:"ltr",paragraph:"editor-paragraph",placeholder:"editor-placeholder",quote:"editor-quote",rtl:"rtl",text:{bold:"editor-text-bold",code:"editor-text-code",hashtag:"editor-text-hashtag",italic:"editor-text-italic",overflowed:"editor-text-overflowed",strikethrough:"editor-text-strikethrough",underline:"editor-text-underline",underlineStrikethrough:"editor-text-underlineStrikethrough"}},es=n(12444),ts=n.n(es),ns=n(72004),rs=n.n(ns),os=n(25098),as=n.n(os),is=n(31996),ss=n.n(is),ls=n(26037),cs=n.n(ls),us=n(9783),ds=n.n(us),fs=n(54707),ps=n(38260).pj+"@",gs=function(e){ss()(n,e);var t=cs()(n);function n(e,r,o){var a;return ts()(this,n),a=t.call(this,o),ds()(as()(a),"__value",void 0),ds()(as()(a),"__label",void 0),a.__value=e,a.__label=r,a}return rs()(n,[{key:"createDOM",value:function(){var e=document.createElement("span");return e.className="mr-1",e}},{key:"updateDOM",value:function(){return!1}},{key:"decorate",value:function(){var e=(0,$a.jsx)("span",{className:"text-blue-600",children:this.__label});return this.__value.startsWith(ps)&&(e=(0,$a.jsxs)("div",{children:[(0,$a.jsx)("span",{children:fs.Z.t("flow.begin")})," / ",e]})),(0,$a.jsx)("div",{className:"bg-gray-200 dark:bg-gray-400 text-primary inline-flex items-center rounded-md px-2 py-0",children:e})}},{key:"getTextContent",value:function(){return"{".concat(this.__value,"}")}}],[{key:"getType",value:function(){return"variable"}},{key:"clone",value:function(e){return new n(e.__value,e.__label,e.__key)}}]),n}(Wo);function ms(e,t){return new gs(e,t)}var hs="programmatic";function vs(e){var t=e.onChange,n=Ba(),r=o()(n,1)[0];return(0,Fa.useEffect)((function(){return r.registerUpdateListener((function(e){var n=e.editorState,r=e.tags,o=e.dirtyElements,a=r.has(hs);o.size>0&&!a&&t(n)}))}),[r,t]),null}const ys="startTransition",bs="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,xs=bs?Fa.useLayoutEffect:Fa.useEffect;class _s{constructor(e){this.key=e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}}const ws=e=>{const t=document.getElementById("typeahead-menu");if(!t)return;const n=t.getBoundingClientRect();n.top+n.height>window.innerHeight&&t.scrollIntoView({block:"center"}),n.top<0&&t.scrollIntoView({block:"center"}),e.scrollIntoView({block:"nearest"})};function ks(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.top>r.top&&n.top<r.bottom}const Cs={};function Ss({close:e,editor:t,anchorElementRef:n,resolution:r,options:o,menuRenderFn:a,onSelectOption:i,shouldSplitNodeWithQuery:s=!1,commandPriority:l=aa}){const[c,u]=(0,Fa.useState)(null),d=r.match&&r.match.matchingString;(0,Fa.useEffect)((()=>{u(0)}),[d]);const f=(0,Fa.useCallback)((n=>{t.update((()=>{const t=null!=r.match&&s?function(e){const t=so();if(!Yr(t)||!t.isCollapsed())return null;const n=t.anchor;if("text"!==n.type)return null;const r=n.getNode();if(!r.isSimpleText())return null;const o=n.offset,a=r.getTextContent().slice(0,o),i=e.replaceableString.length,s=o-function(e,t,n){let r=n;for(let n=r;n<=t.length;n++)e.substr(-n)===t.substr(0,n)&&(r=n);return r}(a,e.matchingString,i);if(s<0)return null;let l;return 0===s?[l]=r.splitText(o):[,l]=r.splitText(s,o),l}(r.match):null;i(n,t,e,r.match?r.match.matchingString:"")}))}),[t,s,r.match,i,e]),p=(0,Fa.useCallback)((e=>{const n=t.getRootElement();null!==n&&(n.setAttribute("aria-activedescendant","typeahead-item-"+e),u(e))}),[t]);return(0,Fa.useEffect)((()=>()=>{const e=t.getRootElement();null!==e&&e.removeAttribute("aria-activedescendant")}),[t]),xs((()=>{null===o?u(null):null===c&&p(0)}),[o,c,p]),(0,Fa.useEffect)((()=>ma(t.registerCommand(Cs,(({option:e})=>!(!e.ref||null==e.ref.current||(ws(e.ref.current),0))),l))),[t,p,l]),(0,Fa.useEffect)((()=>ma(t.registerCommand(S,(e=>{const n=e;if(null!==o&&o.length&&null!==c){const e=c!==o.length-1?c+1:0;p(e);const r=o[e];null!=r.ref&&r.ref.current&&t.dispatchCommand(Cs,{index:e,option:r}),n.preventDefault(),n.stopImmediatePropagation()}return!0}),l),t.registerCommand(C,(e=>{const t=e;if(null!==o&&o.length&&null!==c){const e=0!==c?c-1:o.length-1;p(e);const n=o[e];null!=n.ref&&n.ref.current&&ws(n.ref.current),t.preventDefault(),t.stopImmediatePropagation()}return!0}),l),t.registerCommand(I,(t=>{const n=t;return n.preventDefault(),n.stopImmediatePropagation(),e(),!0}),l),t.registerCommand(P,(e=>{const t=e;return null!==o&&null!==c&&null!=o[c]&&(t.preventDefault(),t.stopImmediatePropagation(),f(o[c]),!0)}),l),t.registerCommand(N,(e=>null!==o&&null!==c&&null!=o[c]&&(null!==e&&(e.preventDefault(),e.stopImmediatePropagation()),f(o[c]),!0)),l))),[f,e,t,o,c,p,l]),a(n,(0,Fa.useMemo)((()=>({options:o,selectOptionAndCleanUp:f,selectedIndex:c,setHighlightedIndex:u})),[f,c,o]),r.match?r.match.matchingString:"")}const Ns="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";function Es({options:e,onQueryChange:t,onSelectOption:n,onOpen:r,onClose:o,menuRenderFn:a,triggerFn:i,anchorClassName:s,commandPriority:l=aa,parent:c}){const[u]=Ba(),[d,f]=(0,Fa.useState)(null),p=function(e,t,n,r=(bs?document.body:void 0),o=!0){const[a]=Ba(),i=(0,Fa.useRef)(bs?document.createElement("div"):null),s=(0,Fa.useCallback)((()=>{if(null===i.current||void 0===r)return;i.current.style.top=i.current.style.bottom;const t=a.getRootElement(),s=i.current,l=s.firstChild;if(null!==t&&null!==e){const{left:a,top:c,width:u,height:d}=e.getRect(),f=i.current.offsetHeight;if(s.style.top=`${c+f+3+(o?window.pageYOffset:0)}px`,s.style.left=`${a+window.pageXOffset}px`,s.style.height=`${d}px`,s.style.width=`${u}px`,null!==l){l.style.top=`${c}`;const e=l.getBoundingClientRect(),n=e.height,r=e.width,i=t.getBoundingClientRect();a+r>i.right&&(s.style.left=`${i.right-r+window.pageXOffset}px`),(c+n>window.innerHeight||c+n>i.bottom)&&c-i.top>n+d&&(s.style.top=`${c-n-d+(o?window.pageYOffset:0)}px`)}s.isConnected||(null!=n&&(s.className=n),s.setAttribute("aria-label","Typeahead menu"),s.setAttribute("id","typeahead-menu"),s.setAttribute("role","listbox"),s.style.display="block",s.style.position="absolute",r.append(s)),i.current=s,t.setAttribute("aria-controls","typeahead-menu")}}),[a,e,o,n,r]);(0,Fa.useEffect)((()=>{const t=a.getRootElement();if(null!==e)return s(),()=>{null!==t&&t.removeAttribute("aria-controls");const e=i.current;null!==e&&e.isConnected&&e.remove()}}),[a,s,e]);const l=(0,Fa.useCallback)((n=>{null!==e&&(n||t(null))}),[e,t]);return function(e,t,n,r){const[o]=Ba();(0,Fa.useEffect)((()=>{if(null!=t&&null!=e){const e=o.getRootElement(),a=null!=e?function(e){let t=getComputedStyle(e);const n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.body;for(let o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.body}(e):document.body;let i=!1,s=ks(t,a);const l=function(){i||(window.requestAnimationFrame((function(){n(),i=!1})),i=!0);const e=ks(t,a);e!==s&&(s=e,null!=r&&r(e))},c=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",l,{capture:!0,passive:!0}),c.observe(t),()=>{c.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",l,!0)}}}),[t,o,r,n,e])}(e,i.current,s,l),i}(d,f,s,c),g=(0,Fa.useCallback)((()=>{f(null),null!=o&&null!==d&&o()}),[o,d]),m=(0,Fa.useCallback)((e=>{f(e),null!=r&&null===d&&r(e)}),[r,d]);return(0,Fa.useEffect)((()=>{const e=u.registerUpdateListener((()=>{u.getEditorState().read((()=>{const e=u._window||window,n=e.document.createRange(),r=so(),o=function(e){let t=null;return e.getEditorState().read((()=>{const e=so();Yr(e)&&(t=function(e){const t=e.anchor;if("text"!==t.type)return null;const n=t.getNode();if(!n.isSimpleText())return null;const r=t.offset;return n.getTextContent().slice(0,r)}(e))})),t}(u);if(!Yr(r)||!r.isCollapsed()||null===o||null===n)return void g();const a=i(o,u);if(t(a?a.matchingString:null),null!==a&&!function(e,t){return 0===t&&e.getEditorState().read((()=>{const e=so();if(Yr(e)){const t=e.anchor.getNode().getPreviousSibling();return Zr(t)&&t.isTextEntity()}return!1}))}(u,a.leadOffset)){const t=function(e,t,n){const r=qt(n);if(null===r||!r.isCollapsed)return!1;const o=r.anchorNode,a=e,i=r.anchorOffset;if(null==o||null==i)return!1;try{t.setStart(o,a),t.setEnd(o,i)}catch(e){return!1}return!0}(a.leadOffset,n,e);if(null!==t)return s=()=>m({getRect:()=>n.getBoundingClientRect(),match:a}),void(ys in Fa?Fa[ys](s):s())}var s;g()}))}));return()=>{e()}}),[u,i,t,d,g,m]),null===d||null===u||null===p.current?null:(0,$a.jsx)(Ss,{close:g,resolution:d,editor:u,anchorElementRef:p,options:e,menuRenderFn:a,shouldSplitNodeWithQuery:!0,onSelectOption:n,commandPriority:l})}var js=n(40790),Is=n(45445),Ms=function(e){ss()(n,e);var t=cs()(n);function n(e,r){var o;return ts()(this,n),o=t.call(this,r),ds()(as()(o),"label",void 0),ds()(as()(o),"value",void 0),o.label=e,o.value=r,o}return rs()(n)}(_s),Ps=function(e){ss()(n,e);var t=cs()(n);function n(e,r,o){var a;return ts()(this,n),a=t.call(this,r),ds()(as()(a),"label",void 0),ds()(as()(a),"title",void 0),ds()(as()(a),"options",void 0),a.label=e,a.title=r,a.options=o,a}return rs()(n)}(_s);function Ts(e){var t=e.index,n=e.option,r=e.selectOptionAndCleanUp;return(0,$a.jsx)("li",{tabIndex:-1,ref:n.setRefElement,role:"option",id:"typeahead-item-"+t,children:(0,$a.jsxs)("div",{children:[(0,$a.jsx)("span",{className:"text text-slate-500",children:n.title}),(0,$a.jsx)("ul",{className:"pl-2 py-1",children:n.options.map((function(e){return(0,$a.jsx)("li",{onClick:function(){return r(e)},className:"hover:bg-slate-300 p-1",children:e.label},e.value)}))})]})},n.key)}function Os(e){var t=e.value,n=Ba(),r=o()(n,1)[0],a=(0,Fa.useRef)(!0),i=(0,Fa.useContext)(js.X),s=function(e,{minLength:t=1,maxLength:n=75}){return(0,Fa.useCallback)((r=>{const o=new RegExp("(^|\\s|\\()(["+e+"]((?:[^"+e+Ns+"\\s]){0,"+n+"}))$").exec(r);if(null!==o){const e=o[1],n=o[3];if(n.length>=t)return{leadOffset:o.index+e.length,matchingString:n,replaceableString:o[2]}}return null}),[n,t,e])}("/",{minLength:0}),l=(0,Fa.useCallback)((function(){}),[]),c=(0,Is.pI)(null==i?void 0:i.id,null==i?void 0:i.parentId),u=c.map((function(e){return new Ps(e.label,e.title,e.options.map((function(e){return new Ms(e.label,e.value)})))})),d=(0,Fa.useCallback)((function(e){var t;return null===(t=c.reduce((function(e,t){return e.concat(t.options)}),[]).find((function(t){return t.value===e})))||void 0===t?void 0:t.label}),[c]),f=(0,Fa.useCallback)((function(e,t,n){r.update((function(){var r=so();Yr(r)&&null!==e&&(t&&t.remove(),r.insertNodes([ms(e.value,e.label)]),n())}))}),[r]),p=(0,Fa.useCallback)((function(e){for(var t,n=na(),r=/{([^}]*)}/g,o=0;null!==(t=r.exec(e));){var a=t,i=a[1],s=a.index,l=a[0];if(s>o){var c=Ar(e.slice(o,s));n.append(c)}var u=d(i);u?n.append(ms(i,u)):n.append(Ar(l)),o=r.lastIndex}if(o<e.length){var f=Ar(e.slice(o));n.append(f)}pt().clear().append(n)}),[d]);return(0,Fa.useEffect)((function(){r&&t&&a.current&&(a.current=!1,r.update((function(){p(t)}),{tag:hs}))}),[p,r,t]),(0,$a.jsx)(Es,{onQueryChange:l,onSelectOption:f,triggerFn:s,options:u,menuRenderFn:function(e,t){var n=t.selectOptionAndCleanUp;return e.current&&c.length?ii.createPortal((0,$a.jsx)("div",{className:"typeahead-popover w-[200px] p-2",children:(0,$a.jsx)("ul",{children:u.map((function(e,t){return(0,$a.jsx)(Ts,{index:t,option:e,selectOptionAndCleanUp:n},e.key)}))})}),e.current):null}})}function Ds(e){console.error(e)}var As=[Ai,Oi,Oa,Ca,gs];function Zs(){var e=Ba(),t=o()(e,1)[0],n=(0,Fa.useState)(!1),r=o()(n,2),a=r[0],i=r[1],s=(0,Xi.$G)().t,l=(0,Fa.useCallback)((function(){t.update((function(){var e=so();null!==e&&e.insertText(" /")}))}),[t]),c=(0,Fa.useCallback)((function(){l()}),[l]),u=(0,Fa.useCallback)((function(){i(!0)}),[]),d=(0,Fa.useCallback)((function(){i(!1)}),[]);return(0,$a.jsxs)("section",{className:(0,qi.cn)("border rounded-sm ",{"border-blue-400":!a}),children:[(0,$a.jsx)("div",{className:"border-b px-2 py-2 justify-end flex",children:(0,$a.jsxs)(Ji.u,{children:[(0,$a.jsx)(Ji.aJ,{asChild:!0,children:(0,$a.jsx)("span",{className:"inline-block cursor-pointer cursor p-0.5 hover:bg-gray-100 dark:hover:bg-slate-800 rounded-sm",children:(0,$a.jsx)(Ui,{size:16,onClick:c})})}),(0,$a.jsx)(Ji._v,{children:(0,$a.jsx)("p",{children:s("flow.insertVariableTip")})})]})}),(0,$a.jsx)(Ja,{className:"min-h-40 relative px-2 py-1 focus-visible:outline-none",onBlur:u,onFocus:d})]})}function Rs(e){var t=e.value,n=e.onChange,r=(0,Xi.$G)().t,o={namespace:"PromptEditor",theme:Qi,onError:Ds,nodes:As},a=(0,Fa.useCallback)((function(e){null==e||e.read((function(){var e=function(e){const t=e.getType(),n=So();if(n._readOnly){const e=an(n).get(t);return e?Array.from(e.values()):[]}const r=n._nodeMap,o=[];for(const[,n]of r)n instanceof e&&n.__type===t&&n.isAttached()&&o.push(n);return o}(gs);console.log("🚀 ~ onChange ~ allNodes:",e);var t=pt().getTextContent();null==n||n(t)}))}),[n]);return(0,$a.jsxs)(Ka,{initialConfig:o,children:[(0,$a.jsx)(Yi,{contentEditable:(0,$a.jsx)(Zs,{}),placeholder:(0,$a.jsx)("div",{className:"absolute top-2 left-2",children:r("common.pleaseInput")}),ErrorBoundary:ri}),(0,$a.jsx)(Os,{value:t}),(0,$a.jsx)(vs,{onChange:a})]})}},87030:function(e,t,n){"use strict";n.d(t,{Ol:function(){return v},SZ:function(){return b},Zb:function(){return h},aY:function(){return x},ll:function(){return y}});var r=n(97857),o=n.n(r),a=n(13769),i=n.n(a),s=n(67294),l=n(27080),c=n(85893),u=["className"],d=["className"],f=["className"],p=["className"],g=["className"],m=["className"],h=s.forwardRef((function(e,t){var n=e.className,r=i()(e,u);return(0,c.jsx)("div",o()({ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n)},r))}));h.displayName="Card";var v=s.forwardRef((function(e,t){var n=e.className,r=i()(e,d);return(0,c.jsx)("div",o()({ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",n)},r))}));v.displayName="CardHeader";var y=s.forwardRef((function(e,t){var n=e.className,r=i()(e,f);return(0,c.jsx)("div",o()({ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",n)},r))}));y.displayName="CardTitle";var b=s.forwardRef((function(e,t){var n=e.className,r=i()(e,p);return(0,c.jsx)("div",o()({ref:t,className:(0,l.cn)("text-sm text-muted-foreground",n)},r))}));b.displayName="CardDescription";var x=s.forwardRef((function(e,t){var n=e.className,r=i()(e,g);return(0,c.jsx)("div",o()({ref:t,className:(0,l.cn)("p-6 pt-0",n)},r))}));x.displayName="CardContent",s.forwardRef((function(e,t){var n=e.className,r=i()(e,m);return(0,c.jsx)("div",o()({ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",n)},r))})).displayName="CardFooter"},25910:function(e,t,n){"use strict";n.d(t,{$F:function(){return k},AW:function(){return C},Ju:function(){return N},VD:function(){return E},Xi:function(){return S},h_:function(){return w}});var r=n(97857),o=n.n(r),a=n(13769),i=n.n(a),s=n(63482),l=n(64998),c=n(13742),u=n(50316),d=n(67294),f=n(27080),p=n(85893),g=["className","inset","children"],m=["className"],h=["className","sideOffset"],v=["className","inset"],y=["className","children","checked"],b=["className","children"],x=["className","inset"],_=["className"],w=s.fC,k=s.xz;s.ZA,s.Uv,s.Tr,s.Ee;d.forwardRef((function(e,t){var n=e.className,r=e.inset,a=e.children,c=i()(e,g);return(0,p.jsxs)(s.fF,o()(o()({ref:t,className:(0,f.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",n)},c),{},{children:[a,(0,p.jsx)(l.Z,{className:"ml-auto"})]}))})).displayName=s.fF.displayName,d.forwardRef((function(e,t){var n=e.className,r=i()(e,m);return(0,p.jsx)(s.tu,o()({ref:t,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},r))})).displayName=s.tu.displayName;var C=d.forwardRef((function(e,t){var n=e.className,r=e.sideOffset,a=void 0===r?4:r,l=i()(e,h);return(0,p.jsx)(s.Uv,{children:(0,p.jsx)(s.VY,o()({ref:t,sideOffset:a,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},l))})}));C.displayName=s.VY.displayName;var S=d.forwardRef((function(e,t){var n=e.className,r=e.inset,a=i()(e,v);return(0,p.jsx)(s.ck,o()({ref:t,className:(0,f.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",n)},a))}));S.displayName=s.ck.displayName,d.forwardRef((function(e,t){var n=e.className,r=e.children,a=e.checked,l=i()(e,y);return(0,p.jsxs)(s.oC,o()(o()({ref:t,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:a},l),{},{children:[(0,p.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,p.jsx)(s.wU,{children:(0,p.jsx)(c.Z,{className:"h-4 w-4"})})}),r]}))})).displayName=s.oC.displayName,d.forwardRef((function(e,t){var n=e.className,r=e.children,a=i()(e,b);return(0,p.jsxs)(s.Rk,o()(o()({ref:t,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},a),{},{children:[(0,p.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,p.jsx)(s.wU,{children:(0,p.jsx)(u.Z,{className:"h-2 w-2 fill-current"})})}),r]}))})).displayName=s.Rk.displayName;var N=d.forwardRef((function(e,t){var n=e.className,r=e.inset,a=i()(e,x);return(0,p.jsx)(s.__,o()({ref:t,className:(0,f.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",n)},a))}));N.displayName=s.__.displayName;var E=d.forwardRef((function(e,t){var n=e.className,r=i()(e,_);return(0,p.jsx)(s.Z0,o()({ref:t,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",n)},r))}));E.displayName=s.Z0.displayName},27591:function(e,t,n){"use strict";n.d(t,{II:function(){return m},Mj:function(){return v}});var r=n(9783),o=n.n(r),a=n(97857),i=n.n(a),s=n(13769),l=n.n(s),c=n(67294),u=n(27080),d=n(87764),f=n(85893),p=["className","type"],g=["suffix","prefix"],m=c.forwardRef((function(e,t){var n=e.className,r=e.type,o=l()(e,p);return(0,f.jsx)("input",i()({type:r,className:(0,u.cn)("flex h-10 w-full rounded-md border border-input bg-colors-background-inverse-weak px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},o))}));m.displayName="Input";var h=function(e){var t=e.suffix,n=e.prefix,r=l()(e,g);return(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("span",{className:(0,u.cn)(o()({},"absolute left-3 top-[50%] translate-y-[-50%]",n)),children:n}),(0,f.jsx)(m,i()({className:(0,u.cn)({"pr-10":t,"pl-10":n})},r)),(0,f.jsx)("span",{className:(0,u.cn)(o()({},"absolute right-3 top-[50%] translate-y-[-50%]",t)),children:t})]})},v=function(e){return(0,f.jsx)(h,i()({suffix:(0,f.jsx)(d.Z,{})},e))}},11524:function(e,t,n){"use strict";n.d(t,{f:function(){return m}});var r=n(97857),o=n.n(r),a=n(13769),i=n.n(a),s=n(27080),l=n(88426),c=n(12003),u=n(36316),d=n(67294),f=n(85893),p=["className","loading","children","disabled","variant","size","asChild"],g=(0,c.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",tertiary:"bg-colors-background-sentiment-solid-primary text-colors-text-persist-light hover:bg-colors-background-sentiment-solid-primary/80"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=d.forwardRef((function(e,t){var n=e.className,r=e.loading,a=void 0!==r&&r,c=e.children,d=e.disabled,m=e.variant,h=e.size,v=e.asChild,y=void 0!==v&&v,b=i()(e,p),x=y?l.g7:"button";return(0,f.jsxs)(x,o()(o()({className:(0,s.cn)(g({variant:m,size:h,className:n})),ref:t,disabled:a||d},b),{},{children:[a&&(0,f.jsx)(u.Z,{className:"mr-2 h-5 w-5 animate-spin"}),(0,f.jsx)(l.A4,{children:c})]}))}));m.displayName="LoadingButton"},87033:function(e,t,n){"use strict";n.d(t,{Od:function(){return u},q4:function(){return d}});var r=n(97857),o=n.n(r),a=n(13769),i=n.n(a),s=n(27080),l=n(85893),c=["className"];function u(e){var t=e.className,n=i()(e,c);return(0,l.jsx)("div",o()({className:(0,s.cn)("animate-pulse rounded-md bg-muted",t)},n))}function d(){return(0,l.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,l.jsx)(u,{className:"h-[125px] w-[250px] rounded-xl"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(u,{className:"h-4 w-[250px]"}),(0,l.jsx)(u,{className:"h-4 w-[200px]"})]})]})}},74590:function(e,t,n){"use strict";n.d(t,{A:function(){return g}});var r=n(97857),o=n.n(r),a=n(13769),i=n.n(a),s=n(68482),l=n(67294),c=n(27080),u=n(85893),d=["className"],f=["onChange","value"],p=l.forwardRef((function(e,t){var n=e.className,r=i()(e,d);return(0,u.jsxs)(s.fC,o()(o()({ref:t,className:(0,c.cn)("relative flex w-full touch-none select-none items-center",n)},r),{},{children:[(0,u.jsx)(s.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-colors-background-inverse-strong",children:(0,u.jsx)(s.e6,{className:"absolute h-full bg-primary"})}),(0,u.jsx)(s.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-colors-text-core-standard ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}))}));p.displayName=s.fC.displayName;var g=l.forwardRef((function(e,t){var n=e.onChange,r=e.value,a=i()(e,f);return(0,u.jsx)(p,o()(o()({ref:t},a),{},{value:[r],onValueChange:function(e){n(e[0])}}))}));p.displayName=s.fC.displayName},75269:function(e,t,n){"use strict";n.d(t,{RM:function(){return x},SC:function(){return _},iA:function(){return y},pj:function(){return k},ss:function(){return w},xD:function(){return b}});var r=n(97857),o=n.n(r),a=n(13769),i=n.n(a),s=n(67294),l=n(27080),c=n(85893),u=["className"],d=["className"],f=["className"],p=["className"],g=["className"],m=["className"],h=["className"],v=["className"],y=s.forwardRef((function(e,t){var n=e.className,r=i()(e,u);return(0,c.jsx)("div",{className:"relative w-full overflow-auto",children:(0,c.jsx)("table",o()({ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",n)},r))})}));y.displayName="Table";var b=s.forwardRef((function(e,t){var n=e.className,r=i()(e,d);return(0,c.jsx)("thead",o()({ref:t,className:(0,l.cn)("[&_tr]:border-b",n)},r))}));b.displayName="TableHeader";var x=s.forwardRef((function(e,t){var n=e.className,r=i()(e,f);return(0,c.jsx)("tbody",o()({ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",n)},r))}));x.displayName="TableBody",s.forwardRef((function(e,t){var n=e.className,r=i()(e,p);return(0,c.jsx)("tfoot",o()({ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n)},r))})).displayName="TableFooter";var _=s.forwardRef((function(e,t){var n=e.className,r=i()(e,g);return(0,c.jsx)("tr",o()({ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n)},r))}));_.displayName="TableRow";var w=s.forwardRef((function(e,t){var n=e.className,r=i()(e,m);return(0,c.jsx)("th",o()({ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n)},r))}));w.displayName="TableHead";var k=s.forwardRef((function(e,t){var n=e.className,r=i()(e,h);return(0,c.jsx)("td",o()({ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",n)},r))}));k.displayName="TableCell",s.forwardRef((function(e,t){var n=e.className,r=i()(e,v);return(0,c.jsx)("caption",o()({ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",n)},r))})).displayName="TableCaption"},79720:function(e,t,n){"use strict";n.d(t,{g:function(){return d}});var r=n(97857),o=n.n(r),a=n(13769),i=n.n(a),s=n(67294),l=n(27080),c=n(85893),u=["className"],d=s.forwardRef((function(e,t){var n=e.className,r=i()(e,u);return(0,c.jsx)("textarea",o()({className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-colors-background-inverse-weak px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm overflow-hidden",n),ref:t},r))}));d.displayName="Textarea"},93352:function(e,t,n){"use strict";n.d(t,{A3:function(){return M},GH:function(){return P},Hy:function(){return $},Mc:function(){return B},QG:function(){return A},Yb:function(){return D},an:function(){return F},hf:function(){return Z},jz:function(){return I},pC:function(){return N},tC:function(){return L},tl:function(){return E},ui:function(){return O},v3:function(){return j},wO:function(){return z},wk:function(){return T},x2:function(){return R}});var r=n(97857),o=n.n(r),a=n(15009),i=n.n(a),s=n(99289),l=n.n(s),c=n(5574),u=n.n(c),d=n(54707),f=n(53506),p=n(73955),g=n(60806),m=n(5089),h=n(78158),v=n(78551),y=n(30202),b=n(98029),x=n(45360),_=n(96486),w=n(67294),k=n(86004),C=n(2938),S=n(96100),N=function(e){return(0,w.useCallback)((function(t){return"".concat(g.N,"/document/get/").concat(e||t)}),[e])},E=function(e){var t=(0,w.useState)({width:849,height:1200}),n=u()(t,2),r=n[0],o=n[1];return{highlights:(0,w.useMemo)((function(){return(0,m.q1)(e,r)}),[e,r]),setWidthAndHeight:function(e,t){o((function(n){return n.height!==t||n.width!==e?{height:t,width:e}:n}))}}},j=function(){var e,t=(0,S.pE)().knowledgeId,n=(0,C.Qe)(),r=n.searchString,a=n.handleInputChange,s=(0,C.ye)(),c=s.pagination,u=s.setPagination,d=(0,k.UO)().id,f=(0,v.a)({queryKey:["fetchDocumentList",r,c],initialData:{docs:[],total:0},refetchInterval:15e3,enabled:!!t||!!d,queryFn:(e=l()(i()().mark((function e(){var n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.get_document_list({kb_id:t||d,keywords:r,page_size:c.pageSize,page:c.current});case 2:if(0!==(n=e.sent).data.code){e.next=5;break}return e.abrupt("return",n.data.data);case 5:return e.abrupt("return",{docs:[],total:0});case 6:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),g=f.data,m=f.isFetching,h=(0,w.useCallback)((function(e){u({page:1}),a(e)}),[a,u]);return{loading:m,searchString:r,documents:g.docs,pagination:o()(o()({},c),{},{total:null==g?void 0:g.total}),handleInputChange:h,setPagination:u}},I=function(){var e,t=(0,y.NL)(),n=(0,b.D)({mutationKey:["updateDocumentStatus"],mutationFn:(e=l()(i()().mark((function e(n){var r,o,a,s;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.status,o=n.documentId,e.next=3,p.ZP.document_change_status({doc_id:o,status:Number(r)});case 3:return a=e.sent,0===(s=a.data).code&&(x.ZP.success(d.Z.t("message.modified")),t.invalidateQueries({queryKey:["fetchDocumentList"]})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}),r=n.data,o=n.isPending;return{setDocumentStatus:n.mutateAsync,data:r,loading:o}},M=function(){var e,t=(0,y.NL)(),n=(0,b.D)({mutationKey:["saveDocumentName"],mutationFn:(e=l()(i()().mark((function e(n){var r,o,a,s;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.name,o=n.documentId,e.next=3,p.ZP.document_rename({doc_id:o,name:r});case 3:return a=e.sent,0===(s=a.data).code&&(x.ZP.success(d.Z.t("message.renamed")),t.invalidateQueries({queryKey:["fetchDocumentList"]})),e.abrupt("return",s.code);case 7:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}),r=n.data;return{loading:n.isPending,saveName:n.mutateAsync,data:r}},P=function(){var e,t=(0,S.pE)().knowledgeId,n=(0,S.fz)(),r=n.setPaginationParams,o=n.page,a=(0,y.NL)(),s=(0,b.D)({mutationKey:["createDocument"],mutationFn:(e=l()(i()().mark((function e(n){var s,l;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.document_create({name:n,kb_id:t});case 2:return s=e.sent,0===(l=s.data).code&&(1===o?a.invalidateQueries({queryKey:["fetchDocumentList"]}):r(),x.ZP.success(d.Z.t("message.created"))),e.abrupt("return",l.code);case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}),c=s.data,u=s.isPending;return{createDocument:s.mutateAsync,loading:u,data:c}},T=function(){var e,t=(0,y.NL)(),n=(0,b.D)({mutationKey:["setDocumentParser"],mutationFn:(e=l()(i()().mark((function e(n){var r,o,a,s,l;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.parserId,o=n.documentId,a=n.parserConfig,e.next=3,p.ZP.document_change_parser({parser_id:r,doc_id:o,parser_config:a});case 3:return s=e.sent,0===(l=s.data).code&&(t.invalidateQueries({queryKey:["fetchDocumentList"]}),x.ZP.success(d.Z.t("message.modified"))),e.abrupt("return",l.code);case 7:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}),r=n.data,o=n.isPending;return{setDocumentParser:n.mutateAsync,data:r,loading:o}},O=function(){var e,t=(0,y.NL)(),n=(0,S.pE)().knowledgeId,r=(0,b.D)({mutationKey:["uploadDocument"],mutationFn:(e=l()(i()().mark((function e(r){var o,a,s;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new FormData).append("kb_id",n),r.forEach((function(e){o.append("file",e)})),e.prev=3,e.next=6,p.ZP.document_upload(o);case 6:return a=e.sent,0!==(s=(0,_.get)(a,"data.code"))&&500!==s||t.invalidateQueries({queryKey:["fetchDocumentList"]}),e.abrupt("return",null==a?void 0:a.data);case 12:return e.prev=12,e.t0=e.catch(3),console.warn(e.t0),e.abrupt("return",{code:500,message:e.t0+""});case 16:case"end":return e.stop()}}),e,null,[[3,12]])}))),function(t){return e.apply(this,arguments)})}),o=r.data,a=r.isPending;return{uploadDocument:r.mutateAsync,loading:a,data:o}},D=function(){var e,t=(0,S.pE)().knowledgeId,n=(0,b.D)({mutationKey:["webCrawl"],mutationFn:(e=l()(i()().mark((function e(n){var r,o,a,s,l;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.name,o=n.url,(a=new FormData).append("name",r),a.append("url",o),a.append("kb_id",t),e.next=7,p.ZP.web_crawl(a);case 7:return s=e.sent,0===(l=(0,_.get)(s,"data.code"))&&x.ZP.success(d.Z.t("message.uploaded")),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,webCrawl:n.mutateAsync}},A=function(){var e,t=(0,y.NL)(),n=(0,b.D)({mutationKey:["runDocumentByIds"],mutationFn:(e=l()(i()().mark((function e(n){var r,o,a,s,l;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.documentIds,o=n.run,a=n.shouldDelete,e.next=3,p.ZP.document_run({doc_ids:r,run:o,delete:a});case 3:return s=e.sent,0===(l=(0,_.get)(s,"data.code"))&&(t.invalidateQueries({queryKey:["fetchDocumentList"]}),x.ZP.success(d.Z.t("message.operated"))),e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}),r=n.data,o=n.isPending;return{runDocumentByIds:n.mutateAsync,loading:o,data:r}},Z=function(){var e,t=(0,w.useState)([]),n=u()(t,2),r=n[0],o=n[1],a=(0,v.a)({queryKey:["fetchDocumentInfos",r],enabled:r.length>0,initialData:[],queryFn:(e=l()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.document_infos({doc_ids:r});case 2:if(t=e.sent,0!==(n=t.data).code){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:a.data,setDocumentIds:o}},R=function(){var e,t=(0,w.useState)([]),n=u()(t,2),r=n[0],o=n[1],a=(0,v.a)({queryKey:["fetchDocumentThumbnails",r],enabled:r.length>0,initialData:{},queryFn:(e=l()(i()().mark((function e(){var t,n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.document_thumbnails({doc_ids:r});case 2:if(t=e.sent,0!==(n=t.data).code){e.next=6;break}return e.abrupt("return",n.data);case 6:return e.abrupt("return",{});case 7:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:a.data,setDocumentIds:o}},F=function(){var e,t=(0,y.NL)(),n=(0,b.D)({mutationKey:["removeDocument"],mutationFn:(e=l()(i()().mark((function e(n){var r,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.document_rm({doc_id:n});case 2:return r=e.sent,0===(o=r.data).code&&(x.ZP.success(d.Z.t("message.deleted")),t.invalidateQueries({queryKey:["fetchDocumentList"]})),e.abrupt("return",o.code);case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,removeDocument:n.mutateAsync}},z=function(){var e,t=(0,b.D)({mutationKey:["deleteDocument"],mutationFn:(e=l()(i()().mark((function e(t){var n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.ZP.document_delete({doc_ids:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:t.data,loading:t.isPending,deleteDocument:t.mutateAsync}},L=function(e){var t,n=(0,b.D)({mutationKey:["uploadAndParseDocument"],mutationFn:(t=l()(i()().mark((function t(n){var r,o,a,s,l;return i()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.conversationId,o=n.fileList,t.prev=1,(a=new FormData).append("conversation_id",r),o.forEach((function(e){a.append("file",e)})),"upload_and_parse"!==e){t.next=10;break}return t.next=8,p.ZP.upload_and_parse(a);case 8:return s=t.sent,t.abrupt("return",null==s?void 0:s.data);case 10:return t.next=12,f.Z.uploadAndParseExternal(a);case 12:return l=t.sent,t.abrupt("return",null==l?void 0:l.data);case 16:t.prev=16,t.t0=t.catch(1);case 18:case"end":return t.stop()}}),t,null,[[1,16]])}))),function(e){return t.apply(this,arguments)})});return{data:n.data,loading:n.isPending,uploadAndParseDocument:n.mutateAsync}},B=function(){var e,t=(0,b.D)({mutationKey:["parseDocument"],mutationFn:(e=l()(i()().mark((function e(t){var n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.v_)(g.Z.parse,{url:t});case 3:return 0===(null==(n=e.sent)?void 0:n.code)&&x.ZP.success(d.Z.t("message.uploaded")),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),x.ZP.error("error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(t){return e.apply(this,arguments)})}),n=t.data,r=t.isPending;return{parseDocument:t.mutateAsync,data:n,loading:r}},$=function(){var e,t=(0,y.NL)(),n=(0,b.D)({mutationKey:["setDocumentMeta"],mutationFn:(e=l()(i()().mark((function e(n){var r,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.ZP.setMeta({meta:n.meta,doc_id:n.documentId});case 3:return r=e.sent,0===(null==(o=r.data)?void 0:o.code)&&(t.invalidateQueries({queryKey:["fetchDocumentList"]}),x.ZP.success(d.Z.t("message.modified"))),e.abrupt("return",null==o?void 0:o.code);case 9:e.prev=9,e.t0=e.catch(0),x.ZP.error("error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(t){return e.apply(this,arguments)})}),r=n.data,o=n.isPending;return{setDocumentMeta:n.mutateAsync,data:r,loading:o}}},704:function(e,t,n){"use strict";n.d(t,{$:function(){return d},t:function(){return u}});var r=n(9783),o=n.n(r),a=n(5574),i=n.n(a),s=n(23454),l=n(67294),c=n(86004),u=function(e){return e.KnowledgeId="knowledgeId",e}({}),d=function(){var e=(0,c.s0)(),t=(0,c.lr)(),n=i()(t,1)[0],r=(0,c.UO)().id,a=(0,l.useCallback)((function(){e(s.Z.Datasets)}),[e]),d=(0,l.useCallback)((function(t){return function(){e("".concat(s.Z.Dataset,"/").concat(t))}}),[e]),f=(0,l.useCallback)((function(){e(s.Z.Home)}),[e]),p=(0,l.useCallback)((function(){e(s.Z.ProfileSetting)}),[e]),g=(0,l.useCallback)((function(){e(s.Z.Chats)}),[e]),m=(0,l.useCallback)((function(){e(s.Z.Chat)}),[e]),h=(0,l.useCallback)((function(){e(s.Z.Agents)}),[e]),v=(0,l.useCallback)((function(t){return function(){e("".concat(s.Z.Agent,"/").concat(t))}}),[e]),y=(0,l.useCallback)((function(){e(s.Z.AgentTemplates)}),[e]),b=(0,l.useCallback)((function(){e(s.Z.Searches)}),[e]),x=(0,l.useCallback)((function(){e(s.Z.Search)}),[e]),_=(0,l.useCallback)((function(t,n){return function(){e("".concat(s.Z.ParsedResult,"/").concat(t,"?").concat(u.KnowledgeId,"=").concat(n))}}),[e]),w=(0,l.useCallback)((function(e){var t=o()({},u.KnowledgeId,n.get(u.KnowledgeId));return e?t[e]:t}),[n]),k=(0,l.useCallback)((function(t){e("".concat(t,"/").concat(r,"?").concat(u.KnowledgeId,"=").concat(w(u.KnowledgeId)))}),[w,r,e]);return{navigateToDatasetList:a,navigateToDataset:d,navigateToHome:f,navigateToProfile:p,navigateToChatList:g,navigateToChat:m,navigateToChunkParsedResult:_,getQueryString:w,navigateToChunk:k,navigateToAgentList:h,navigateToAgent:v,navigateToAgentTemplates:y,navigateToSearchList:b,navigateToSearch:x}}},51509:function(e,t,n){"use strict";n.d(t,{UK:function(){return x},aU:function(){return b},f0:function(){return v},mr:function(){return y}});var r=n(5574),o=n.n(r),a=n(15009),i=n.n(a),s=n(99289),l=n.n(s),c=n(39918),u=n(72668),d=n(61921),f=n(98029),p=n(45360),g=n(22150),m=n(67294),h=n(67421),v=function(){var e,t=(0,h.$G)().t,n=(0,f.D)({mutationKey:["login"],mutationFn:(e=l()(i()().mark((function e(n){var r,o,a,s,l,f,g,m;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.login(n);case 2:return r=e.sent,o=r.data,a=void 0===o?{}:o,s=r.response,0===a.code&&(l=a.data,p.ZP.success(t("message.logged")),f=s.headers.get(c._n),g=l.access_token,m={avatar:l.avatar,name:l.nickname,email:l.email},d.ZP.setItems({Authorization:f,userInfo:JSON.stringify(m),Token:g})),e.abrupt("return",a.code);case 8:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,login:n.mutateAsync}},y=function(){var e,t=(0,h.$G)().t,n=(0,f.D)({mutationKey:["register"],mutationFn:(e=l()(i()().mark((function e(n){var r,o,a;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.register(n);case 2:return r=e.sent,o=r.data,0===(a=void 0===o?{}:o).code?p.ZP.success(t("message.registered")):a.message&&a.message.includes("registration is disabled")&&p.ZP.error(t("message.registerDisabled")||"User registration is disabled"),e.abrupt("return",a.code);case 7:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,register:n.mutateAsync}},b=function(){var e,t=(0,h.$G)().t,n=(0,f.D)({mutationKey:["logout"],mutationFn:(e=l()(i()().mark((function e(){var n,r,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.logout();case 2:return n=e.sent,r=n.data,0===(o=void 0===r?{}:r).code&&(p.ZP.success(t("message.logout")),d.ZP.removeAll(),(0,d.rf)()),e.abrupt("return",o.code);case 7:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return{data:n.data,loading:n.isPending,logout:n.mutateAsync}},x=function(e){var t=(0,m.useState)(!1),n=o()(t,2),r=n[0],a=n[1],i=g.Z.useWatch([],e);return(0,m.useEffect)((function(){e.validateFields({validateOnly:!0}).then((function(){return a(!0)})).catch((function(){return a(!1)}))}),[e,i]),{submittable:r}}},8074:function(e,t,n){"use strict";n.d(t,{Rx:function(){return a.Rx},j$:function(){return s}});var r=n(9783),o=n.n(r),a=n(96330),i=(o()(o()(o()({},a.Rx.Dataset,"Dataset"),a.Rx.Testing,"Retrieval testing"),a.Rx.Configuration,"Configuration"),function(e){return e.Chunk="chunk",e.File="file",e}({})),s=(o()(o()({},i.Chunk,"Chunk"),i.File,"File Upload"),"tagRename")},26353:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ql}});var r=n(97857),o=n.n(r),a=n(13769),i=n.n(a),s=n(36646),l=n(57636),c=n(25910),u=n(49677),d=n.n(u),f=n(5574),p=n.n(f),g=n(88426),m=n(12003),h=n(91373);const v=(0,h.Z)("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);var y=n(67294);var b=n(27591),x=n(87959),_=n(83165),w=n(41352),k=n(27080),C=n(85893),S=["className"],N=["side","className","children","closeIcon"],E=["className"],j=["className"],I=["className"],M=_.fC,P=(_.xz,_.x8,_.h_),T=y.forwardRef((function(e,t){var n=e.className,r=i()(e,S);return(0,C.jsx)(_.aV,o()(o()({className:(0,k.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},r),{},{ref:t}))}));T.displayName=_.aV.displayName;var O=(0,m.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full   border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right w-1/3 max-w-[600px]"}},defaultVariants:{side:"right"}}),D=y.forwardRef((function(e,t){var n=e.side,r=void 0===n?"right":n,a=e.className,s=e.children,l=e.closeIcon,c=void 0===l||l,u=i()(e,N);return(0,C.jsxs)(P,{children:[(0,C.jsx)(T,{}),(0,C.jsxs)(_.VY,o()(o()({ref:t,className:(0,k.cn)(O({side:r}),a)},u),{},{children:[s,c?(0,C.jsxs)(_.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary ",children:[(0,C.jsx)(w.Z,{className:"h-4 w-4 "}),(0,C.jsx)("span",{className:"sr-only",children:"Close"})]}):null]}))]})}));D.displayName=_.VY.displayName;var A=function(e){var t=e.className,n=i()(e,E);return(0,C.jsx)("div",o()({className:(0,k.cn)("flex flex-col space-y-2 text-center sm:text-left",t)},n))};A.displayName="SheetHeader";var Z=y.forwardRef((function(e,t){var n=e.className,r=i()(e,j);return(0,C.jsx)(_.Dx,o()({ref:t,className:(0,k.cn)("text-lg font-semibold text-foreground",n)},r))}));Z.displayName=_.Dx.displayName,y.forwardRef((function(e,t){var n=e.className,r=i()(e,I);return(0,C.jsx)(_.dk,o()({ref:t,className:(0,k.cn)("text-sm text-muted-foreground",n)},r))})).displayName=_.dk.displayName;var R=n(87033),F=n(3071),z=["defaultOpen","open","onOpenChange","className","style","children"],L=["side","variant","collapsible","className","children"],B=["className","onClick"],$=["className"],H=["className"],V=["className"],W=["className"],K=["className"],Y=["className"],G=["className"],q=["className"],U=["className","asChild"],X=["className","asChild"],J=["className"],Q=["className"],ee=["className"],te=["asChild","isActive","variant","size","tooltip","className"],ne=["className","asChild","showOnHover"],re=["className"],oe=["className","showIcon"],ae=["className"],ie=["asChild","size","isActive","className"],se=y.createContext(null);function le(){var e=y.useContext(se);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}var ce=y.forwardRef((function(e,t){var n=e.defaultOpen,r=void 0===n||n,a=e.open,s=e.onOpenChange,l=e.className,c=e.style,u=e.children,d=i()(e,z),f=function(){var e=y.useState(void 0),t=p()(e,2),n=t[0],r=t[1];return y.useEffect((function(){var e=window.matchMedia("(max-width: ".concat(767,"px)")),t=function(){r(window.innerWidth<768)};return e.addEventListener("change",t),r(window.innerWidth<768),function(){return e.removeEventListener("change",t)}}),[]),!!n}(),g=y.useState(!1),m=p()(g,2),h=m[0],v=m[1],b=y.useState(r),x=p()(b,2),_=x[0],w=x[1],S=null!=a?a:_,N=y.useCallback((function(e){var t="function"==typeof e?e(S):e;s?s(t):w(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)}),[s,S]),E=y.useCallback((function(){return f?v((function(e){return!e})):N((function(e){return!e}))}),[f,N,v]);y.useEffect((function(){var e=function(e){"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),E())};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[E]);var j=S?"expanded":"collapsed",I=y.useMemo((function(){return{state:j,open:S,setOpen:N,isMobile:f,openMobile:h,setOpenMobile:v,toggleSidebar:E}}),[j,S,N,f,h,v,E]);return(0,C.jsx)(se.Provider,{value:I,children:(0,C.jsx)(F.pn,{delayDuration:0,children:(0,C.jsx)("div",o()(o()({style:o()({"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},c),className:(0,k.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",l),ref:t},d),{},{children:u}))})})}));ce.displayName="SidebarProvider";var ue=y.forwardRef((function(e,t){var n=e.side,r=void 0===n?"left":n,a=e.variant,s=void 0===a?"sidebar":a,l=e.collapsible,c=void 0===l?"offcanvas":l,u=e.className,d=e.children,f=i()(e,L),p=le(),g=p.isMobile,m=p.state,h=p.openMobile,v=p.setOpenMobile;return"none"===c?(0,C.jsx)("div",o()(o()({className:(0,k.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",u),ref:t},f),{},{children:d})):g?(0,C.jsx)(M,o()(o()({open:h,onOpenChange:v},f),{},{children:(0,C.jsx)(D,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:r,children:(0,C.jsx)("div",{className:"flex h-full w-full flex-col",children:d})})})):(0,C.jsxs)("div",{ref:t,className:"group peer hidden md:block text-sidebar-foreground","data-state":m,"data-collapsible":"collapsed"===m?c:"","data-variant":s,"data-side":r,children:[(0,C.jsx)("div",{className:(0,k.cn)("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===s||"inset"===s?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,C.jsx)("div",o()(o()({className:(0,k.cn)("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===r?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===s||"inset"===s?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",u)},f),{},{children:(0,C.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:d})}))]})}));ue.displayName="Sidebar";var de=y.forwardRef((function(e,t){var n=e.className,r=e.onClick,a=i()(e,B),s=le().toggleSidebar;return(0,C.jsxs)(l.z,o()(o()({ref:t,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,k.cn)("h-7 w-7",n),onClick:function(e){null==r||r(e),s()}},a),{},{children:[(0,C.jsx)(v,{}),(0,C.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]}))}));de.displayName="SidebarTrigger",y.forwardRef((function(e,t){var n=e.className,r=i()(e,$),a=le().toggleSidebar;return(0,C.jsx)("button",o()({ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:(0,k.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n)},r))})).displayName="SidebarRail",y.forwardRef((function(e,t){var n=e.className,r=i()(e,H);return(0,C.jsx)("main",o()({ref:t,className:(0,k.cn)("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",n)},r))})).displayName="SidebarInset",y.forwardRef((function(e,t){var n=e.className,r=i()(e,V);return(0,C.jsx)(b.II,o()({ref:t,"data-sidebar":"input",className:(0,k.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",n)},r))})).displayName="SidebarInput";var fe=y.forwardRef((function(e,t){var n=e.className,r=i()(e,W);return(0,C.jsx)("div",o()({ref:t,"data-sidebar":"header",className:(0,k.cn)("flex flex-col gap-2 p-2",n)},r))}));fe.displayName="SidebarHeader",y.forwardRef((function(e,t){var n=e.className,r=i()(e,K);return(0,C.jsx)("div",o()({ref:t,"data-sidebar":"footer",className:(0,k.cn)("flex flex-col gap-2 p-2",n)},r))})).displayName="SidebarFooter",y.forwardRef((function(e,t){var n=e.className,r=i()(e,Y);return(0,C.jsx)(x.Z,o()({ref:t,"data-sidebar":"separator",className:(0,k.cn)("mx-2 w-auto bg-sidebar-border",n)},r))})).displayName="SidebarSeparator";var pe=y.forwardRef((function(e,t){var n=e.className,r=i()(e,G);return(0,C.jsx)("div",o()({ref:t,"data-sidebar":"content",className:(0,k.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n)},r))}));pe.displayName="SidebarContent";var ge=y.forwardRef((function(e,t){var n=e.className,r=i()(e,q);return(0,C.jsx)("div",o()({ref:t,"data-sidebar":"group",className:(0,k.cn)("relative flex w-full min-w-0 flex-col p-2",n)},r))}));ge.displayName="SidebarGroup";var me=y.forwardRef((function(e,t){var n=e.className,r=e.asChild,a=void 0!==r&&r,s=i()(e,U),l=a?g.g7:"div";return(0,C.jsx)(l,o()({ref:t,"data-sidebar":"group-label",className:(0,k.cn)("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n)},s))}));me.displayName="SidebarGroupLabel",y.forwardRef((function(e,t){var n=e.className,r=e.asChild,a=void 0!==r&&r,s=i()(e,X),l=a?g.g7:"button";return(0,C.jsx)(l,o()({ref:t,"data-sidebar":"group-action",className:(0,k.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",n)},s))})).displayName="SidebarGroupAction";var he=y.forwardRef((function(e,t){var n=e.className,r=i()(e,J);return(0,C.jsx)("div",o()({ref:t,"data-sidebar":"group-content",className:(0,k.cn)("w-full text-sm",n)},r))}));he.displayName="SidebarGroupContent";var ve=y.forwardRef((function(e,t){var n=e.className,r=i()(e,Q);return(0,C.jsx)("ul",o()({ref:t,"data-sidebar":"menu",className:(0,k.cn)("flex w-full min-w-0 flex-col gap-1",n)},r))}));ve.displayName="SidebarMenu",y.forwardRef((function(e,t){var n=e.className,r=i()(e,ee);return(0,C.jsx)("li",o()({ref:t,"data-sidebar":"menu-item",className:(0,k.cn)("group/menu-item relative",n)},r))})).displayName="SidebarMenuItem";var ye=(0,m.j)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),be=y.forwardRef((function(e,t){var n=e.asChild,r=void 0!==n&&n,a=e.isActive,s=void 0!==a&&a,l=e.variant,c=void 0===l?"default":l,u=e.size,d=void 0===u?"default":u,f=e.tooltip,p=e.className,m=i()(e,te),h=r?g.g7:"button",v=le(),y=v.isMobile,b=v.state,x=(0,C.jsx)(h,o()({ref:t,"data-sidebar":"menu-button","data-size":d,"data-active":s,className:(0,k.cn)(ye({variant:c,size:d}),p)},m));return f?("string"==typeof f&&(f={children:f}),(0,C.jsxs)(F.u,{children:[(0,C.jsx)(F.aJ,{asChild:!0,children:x}),(0,C.jsx)(F._v,o()({side:"right",align:"center",hidden:"collapsed"!==b||y},f))]})):x}));be.displayName="SidebarMenuButton",y.forwardRef((function(e,t){var n=e.className,r=e.asChild,a=void 0!==r&&r,s=e.showOnHover,l=void 0!==s&&s,c=i()(e,ne),u=a?g.g7:"button";return(0,C.jsx)(u,o()({ref:t,"data-sidebar":"menu-action",className:(0,k.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",l&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",n)},c))})).displayName="SidebarMenuAction",y.forwardRef((function(e,t){var n=e.className,r=i()(e,re);return(0,C.jsx)("div",o()({ref:t,"data-sidebar":"menu-badge",className:(0,k.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n)},r))})).displayName="SidebarMenuBadge",y.forwardRef((function(e,t){var n=e.className,r=e.showIcon,a=void 0!==r&&r,s=i()(e,oe),l=y.useMemo((function(){return"".concat(Math.floor(40*Math.random())+50,"%")}),[]);return(0,C.jsxs)("div",o()(o()({ref:t,"data-sidebar":"menu-skeleton",className:(0,k.cn)("rounded-md h-8 flex gap-2 px-2 items-center",n)},s),{},{children:[a&&(0,C.jsx)(R.Od,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,C.jsx)(R.Od,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":l}})]}))})).displayName="SidebarMenuSkeleton",y.forwardRef((function(e,t){var n=e.className,r=i()(e,ae);return(0,C.jsx)("ul",o()({ref:t,"data-sidebar":"menu-sub",className:(0,k.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n)},r))})).displayName="SidebarMenuSub",y.forwardRef((function(e,t){var n=Object.assign({},(d()(e),e));return(0,C.jsx)("li",o()({ref:t},n))})).displayName="SidebarMenuSubItem",y.forwardRef((function(e,t){var n=e.asChild,r=void 0!==n&&n,a=e.size,s=void 0===a?"md":a,l=e.isActive,c=e.className,u=i()(e,ie),d=r?g.g7:"a";return(0,C.jsx)(d,o()({ref:t,"data-sidebar":"menu-sub-button","data-size":s,"data-active":l,className:(0,k.cn)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===s&&"text-xs","md"===s&&"text-sm","group-data-[collapsible=icon]:hidden",c)},u))})).displayName="SidebarMenuSubButton";var xe=n(86968),_e=n(704),we=n(86983),ke=n(95999),Ce=n(46609);const Se=(0,h.Z)("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]),Ne=(0,h.Z)("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]),Ee=(0,h.Z)("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);var je=n(67421),Ie=n(38520),Me=n(87030),Pe=n(36206),Te=n(25360),Oe=n(77342),De=n(9981),Ae=n(28771),Ze=n(75320),Re=n(29115),Fe=n(91276),ze="Collapsible",[Le,Be]=(0,Te.b)(ze),[$e,He]=Le(ze),Ve=y.forwardRef(((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:a,onOpenChange:i,...s}=e,[l=!1,c]=(0,Oe.T)({prop:r,defaultProp:o,onChange:i});return(0,C.jsx)($e,{scope:n,disabled:a,contentId:(0,Fe.M)(),open:l,onOpenToggle:y.useCallback((()=>c((e=>!e))),[c]),children:(0,C.jsx)(Ze.WV.div,{"data-state":Ue(l),"data-disabled":a?"":void 0,...s,ref:t})})}));Ve.displayName=ze;var We="CollapsibleTrigger",Ke=y.forwardRef(((e,t)=>{const{__scopeCollapsible:n,...r}=e,o=He(We,n);return(0,C.jsx)(Ze.WV.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Ue(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:t,onClick:(0,Pe.M)(e.onClick,o.onOpenToggle)})}));Ke.displayName=We;var Ye="CollapsibleContent",Ge=y.forwardRef(((e,t)=>{const{forceMount:n,...r}=e,o=He(Ye,e.__scopeCollapsible);return(0,C.jsx)(Re.z,{present:n||o.open,children:({present:e})=>(0,C.jsx)(qe,{...r,ref:t,present:e})})}));Ge.displayName=Ye;var qe=y.forwardRef(((e,t)=>{const{__scopeCollapsible:n,present:r,children:o,...a}=e,i=He(Ye,n),[s,l]=y.useState(r),c=y.useRef(null),u=(0,Ae.e)(t,c),d=y.useRef(0),f=d.current,p=y.useRef(0),g=p.current,m=i.open||s,h=y.useRef(m),v=y.useRef(void 0);return y.useEffect((()=>{const e=requestAnimationFrame((()=>h.current=!1));return()=>cancelAnimationFrame(e)}),[]),(0,De.b)((()=>{const e=c.current;if(e){v.current=v.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();d.current=t.height,p.current=t.width,h.current||(e.style.transitionDuration=v.current.transitionDuration,e.style.animationName=v.current.animationName),l(r)}}),[i.open,r]),(0,C.jsx)(Ze.WV.div,{"data-state":Ue(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!m,...a,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:m&&o})}));function Ue(e){return e?"open":"closed"}var Xe,Je,Qe,et,tt=Ve,nt=Ke,rt=Ge,ot=n(9783),at=n.n(ot),it=n(50098),st=n(93128),lt=n(66047),ct=n(91008),ut=n(92393),dt=n(45999),ft=n(83777),pt=n(25007),gt=n(34322),mt=n(18523),ht=n(29902),vt=n(58592),yt=n(83095),bt=n(9045),xt=n(58599),_t=n(62611),wt=n(39469),kt=n(77358),Ct=n(13932),St=n(28878),Nt=n(77186),Et=n(60773),jt=n(25442),It=n(1079),Mt=n(54707),Pt=n(71250),Tt=n(67841),Ot=n(82099),Dt=n(27496),At=n(13520),Zt=n(38545),Rt=n(65184),Ft=n(77123),zt=n(11700),Lt=n.n(zt),Bt=n(42989),$t=n(4755),Ht=n(57498),Vt=n(96749),Wt=n(77325),Kt=n(87756),Yt=n(84031),Gt=n(13318),qt=function(e){return e.Text="text",e.News="news",e}({}),Ut="begin",Xt=function(e){return e.Begin="Begin",e.Retrieval="Retrieval",e.Generate="Generate",e.Answer="Answer",e.Categorize="Categorize",e.Message="Message",e.Relevant="Relevant",e.RewriteQuestion="RewriteQuestion",e.KeywordExtract="KeywordExtract",e.Baidu="Baidu",e.DuckDuckGo="DuckDuckGo",e.Wikipedia="Wikipedia",e.PubMed="PubMed",e.ArXiv="ArXiv",e.Google="Google",e.Bing="Bing",e.GoogleScholar="GoogleScholar",e.DeepL="DeepL",e.GitHub="GitHub",e.BaiduFanyi="BaiduFanyi",e.QWeather="QWeather",e.ExeSQL="ExeSQL",e.Switch="Switch",e.WenCai="WenCai",e.AkShare="AkShare",e.YahooFinance="YahooFinance",e.Jin10="Jin10",e.Concentrator="Concentrator",e.TuShare="TuShare",e.Note="Note",e.Crawler="Crawler",e.Invoke="Invoke",e.Template="Template",e.Email="Email",e.Iteration="Iteration",e.IterationStart="IterationItem",e}({}),Jt=(Object.values(Xt).filter((function(e){return e!==Xt.Note})),[Xt.Retrieval,Xt.Generate,Xt.Answer,Xt.Categorize,Xt.Message,Xt.RewriteQuestion,Xt.KeywordExtract,Xt.Switch,Xt.Concentrator,Xt.Template,Xt.Iteration,Xt.Note]),Qt=(Xe={},at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(Xe,Xt.Retrieval,Tt.Z),Xt.Generate,Ot.Z),Xt.Answer,Dt.Z),Xt.Begin,ut.r),Xt.Categorize,At.Z),Xt.Message,Zt.Z),Xt.Relevant,Rt.Z),Xt.RewriteQuestion,Ft.Z),Xt.KeywordExtract,Ie.RH),Xt.DuckDuckGo,mt.r),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(Xe,Xt.Baidu,ct.r),Xt.Wikipedia,Ie.aU),Xt.PubMed,kt.r),Xt.ArXiv,st.r),Xt.Google,bt.r),Xt.Bing,dt.r),Xt.GoogleScholar,yt.r),Xt.DeepL,gt.r),Xt.GitHub,Ie.fy),Xt.BaiduFanyi,lt.r),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(Xe,Xt.QWeather,Ie.tO),Xt.ExeSQL,vt.r),Xt.Switch,Ct.r),Xt.WenCai,Et.r),Xt.AkShare,it.r),Xt.YahooFinance,jt.r),Xt.Jin10,_t.r),Xt.Concentrator,ft.r),Xt.TuShare,Nt.r),Xt.Note,wt.r),at()(at()(at()(at()(at()(at()(Xe,Xt.Crawler,pt.r),Xt.Invoke,xt.r),Xt.Template,St.r),Xt.Email,ht.r),Xt.Iteration,Bt.Z),Xt.IterationStart,$t.Z)),en=(Je={},at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(Je,Xt.Retrieval,{backgroundColor:"#cad6e0",color:"#385974"}),Xt.Generate,{backgroundColor:"#ebd6d6",width:150,height:150,fontSize:20,iconFontSize:30,color:"#996464"}),Xt.Answer,{backgroundColor:"#f4816d",color:"#f4816d"}),Xt.Begin,{backgroundColor:"#4f51d6"}),Xt.Categorize,{backgroundColor:"#ffebcd",color:"#cc8a26"}),Xt.Message,{backgroundColor:"#c5ddc7",color:"green"}),Xt.Relevant,{backgroundColor:"#9fd94d",color:"#8ef005",width:70,height:70,fontSize:12,iconFontSize:16}),Xt.RewriteQuestion,{backgroundColor:"#f8c7f8",color:"#f32bf3",width:70,height:70,fontSize:12,iconFontSize:16}),Xt.KeywordExtract,{width:70,height:70,backgroundColor:"#6E5494",color:"#6E5494",fontSize:12,iconWidth:16}),Xt.DuckDuckGo,{backgroundColor:"#e7e389",color:"#aea00c"}),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(Je,Xt.Baidu,{backgroundColor:"#d9e0f8"}),Xt.Wikipedia,{backgroundColor:"#dee0e2"}),Xt.PubMed,{backgroundColor:"#a2ccf0"}),Xt.ArXiv,{width:70,height:70,fontSize:12,iconWidth:16,iconFontSize:16,moreIconColor:"white",backgroundColor:"#b31b1b",color:"white"}),Xt.Google,{backgroundColor:"pink"}),Xt.Bing,{backgroundColor:"#c0dcc4"}),Xt.GoogleScholar,{backgroundColor:"#b4e4f6"}),Xt.DeepL,{backgroundColor:"#f5e8e6"}),Xt.GitHub,{backgroundColor:"purple",color:"purple"}),Xt.BaiduFanyi,{backgroundColor:"#e5f2d3"}),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(Je,Xt.QWeather,{backgroundColor:"#a4bbf3",color:"#a4bbf3"}),Xt.ExeSQL,{backgroundColor:"#b9efe8"}),Xt.Switch,{backgroundColor:"#dbaff6",color:"#dbaff6"}),Xt.WenCai,{backgroundColor:"#faac5b"}),Xt.AkShare,{backgroundColor:"#8085f5"}),Xt.YahooFinance,{backgroundColor:"#b474ff"}),Xt.Jin10,{backgroundColor:"#a0b9f8"}),Xt.Concentrator,{backgroundColor:"#32d2a3",color:"#32d2a3",width:70,height:70,fontSize:10,iconFontSize:16}),Xt.TuShare,{backgroundColor:"#f8cfa0"}),Xt.Note,{backgroundColor:"#f8cfa0"}),at()(at()(at()(at()(at()(at()(Je,Xt.Crawler,{backgroundColor:"#dee0e2"}),Xt.Invoke,{backgroundColor:"#dee0e2"}),Xt.Template,{backgroundColor:"#dee0e2"}),Xt.Email,{backgroundColor:"#e6f7ff"}),Xt.Iteration,{backgroundColor:"#e6f7ff"}),Xt.IterationStart,{backgroundColor:"#e6f7ff"})),tn=[{name:Xt.Retrieval},{name:Xt.Generate},{name:Xt.Answer},{name:Xt.Categorize},{name:Xt.Message},{name:Xt.RewriteQuestion},{name:Xt.KeywordExtract},{name:Xt.Switch},{name:Xt.Concentrator},{name:Xt.Template},{name:Xt.Iteration},{name:Xt.Note},{name:Xt.DuckDuckGo},{name:Xt.Baidu},{name:Xt.Wikipedia},{name:Xt.PubMed},{name:Xt.ArXiv},{name:Xt.Google},{name:Xt.Bing},{name:Xt.GoogleScholar},{name:Xt.DeepL},{name:Xt.GitHub},{name:Xt.BaiduFanyi},{name:Xt.QWeather},{name:Xt.ExeSQL},{name:Xt.WenCai},{name:Xt.AkShare},{name:Xt.YahooFinance},{name:Xt.Jin10},{name:Xt.TuShare},{name:Xt.Crawler},{name:Xt.Invoke},{name:Xt.Email}],nn={query:[]},rn=o()({similarity_threshold:.2,keywords_similarity_weight:.3,top_n:8},nn),on={prologue:"Hi! I'm your assistant, what can I do for you?"},an=Object.keys(It.vv).reduce((function(e,t){return e[t]=(0,Pt.mV)(t),e}),{}),sn=o()(o()({},an),{},{temperature:.1,top_p:.3,frequency_penalty:.7,presence_penalty:.4,max_tokens:256}),ln=o()(o()({},sn),{},{prompt:Mt.Z.t("flow.promptText"),cite:!0,message_history_window_size:12,parameters:[]}),cn=o()(o()({},sn),{},{language:"",message_history_window_size:6}),un=o()({},sn),dn=o()(o()({},sn),{},{message_history_window_size:1,category_description:{}},nn),fn={messages:[]},pn=o()(o()({},sn),{},{top_n:3},nn),gn=o()({top_n:10,channel:qt.Text},nn),mn=o()({top_n:10},nn),hn=o()({top_n:10,language:"en"},nn),vn=o()({top_n:10,email:""},nn),yn=o()({top_n:10,sort_by:"relevance"},nn),bn=o()({top_n:10,api_key:"YOUR_API_KEY (obtained from https://serpapi.com/manage-api-key)",country:"cn",language:"en"},nn),xn=o()({top_n:10,channel:"Webpages",api_key:"YOUR_API_KEY (obtained from https://www.microsoft.com/en-us/bing/apis/bing-web-search-api)",country:"CH",language:"en"},nn),_n=o()({top_n:5,sort_by:"relevance",patents:!0},nn),wn={top_n:5,auth_key:"relevance"},kn=o()({top_n:5},nn),Cn=o()({appid:"xxx",secret_key:"xxx",trans_type:"translate"},nn),Sn=o()({web_apikey:"xxx",type:"weather",user_type:"free",time_period:"now"},nn),Nn=o()(o()({},sn),{},{db_type:"mysql",database:"",username:"",host:"",port:3306,password:"",loop:3,top_n:30},nn),En={conditions:[]},jn=o()({top_n:20,query_type:"stock"},nn),In=o()({top_n:10},nn),Mn=o()({info:!0,history:!1,financials:!1,balance_sheet:!1,cash_flow_statement:!1,news:!0},nn),Pn=o()({type:"flash",secret_key:"xxx",flash_type:"1",contain:"",filter:""},nn),Tn={},On=o()({token:"xxx",src:"eastmoney",start_date:"2024-01-01 09:00:00"},nn),Dn={text:""},An=o()({extract_type:"markdown"},nn),Zn={url:"http://",method:"GET",timeout:60,headers:'{\n  "Accept": "*/*",\n  "Cache-Control": "no-cache",\n  "Connection": "keep-alive"\n}',proxy:"http://",clean_html:!1},Rn={content:"",parameters:[]},Fn={smtp_server:"",smtp_port:587,email:"",password:"",sender_name:"",to_email:"",cc_email:"",subject:"",content:""},zn={delimiter:","},Ln=(Qe={},at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(Qe,Xt.Begin,[Xt.Relevant]),Xt.Categorize,[Xt.Begin,Xt.Categorize,Xt.Answer,Xt.Relevant]),Xt.Answer,[Xt.Begin,Xt.Answer,Xt.Message,Xt.Relevant]),Xt.Retrieval,[Xt.Begin,Xt.Retrieval]),Xt.Generate,[Xt.Begin,Xt.Relevant]),Xt.Message,[Xt.Begin,Xt.Message,Xt.Generate,Xt.Retrieval,Xt.RewriteQuestion,Xt.Categorize,Xt.Relevant]),Xt.Relevant,[Xt.Begin,Xt.Answer,Xt.Relevant]),Xt.RewriteQuestion,[Xt.Begin,Xt.Message,Xt.RewriteQuestion,Xt.Relevant]),Xt.KeywordExtract,[Xt.Begin,Xt.Message,Xt.Relevant]),Xt.Baidu,[Xt.Begin,Xt.Retrieval]),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(Qe,Xt.DuckDuckGo,[Xt.Begin,Xt.Retrieval]),Xt.Wikipedia,[Xt.Begin,Xt.Retrieval]),Xt.PubMed,[Xt.Begin,Xt.Retrieval]),Xt.ArXiv,[Xt.Begin,Xt.Retrieval]),Xt.Google,[Xt.Begin,Xt.Retrieval]),Xt.Bing,[Xt.Begin,Xt.Retrieval]),Xt.GoogleScholar,[Xt.Begin,Xt.Retrieval]),Xt.DeepL,[Xt.Begin,Xt.Retrieval]),Xt.GitHub,[Xt.Begin,Xt.Retrieval]),Xt.BaiduFanyi,[Xt.Begin,Xt.Retrieval]),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(Qe,Xt.QWeather,[Xt.Begin,Xt.Retrieval]),Xt.ExeSQL,[Xt.Begin]),Xt.Switch,[Xt.Begin]),Xt.WenCai,[Xt.Begin]),Xt.AkShare,[Xt.Begin]),Xt.YahooFinance,[Xt.Begin]),Xt.Jin10,[Xt.Begin]),Xt.Concentrator,[Xt.Begin]),Xt.TuShare,[Xt.Begin]),Xt.Crawler,[Xt.Begin]),at()(at()(at()(at()(at()(at()(Qe,Xt.Note,[]),Xt.Invoke,[Xt.Begin]),Xt.Template,[Xt.Begin,Xt.Relevant]),Xt.Email,[Xt.Begin]),Xt.Iteration,[Xt.Begin]),Xt.IterationStart,[Xt.Begin])),Bn=(et={},at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(et,Xt.Begin,"beginNode"),Xt.Categorize,"categorizeNode"),Xt.Retrieval,"retrievalNode"),Xt.Generate,"generateNode"),Xt.Answer,"logicNode"),Xt.Message,"messageNode"),Xt.Relevant,"relevantNode"),Xt.RewriteQuestion,"rewriteNode"),Xt.KeywordExtract,"keywordNode"),Xt.DuckDuckGo,"ragNode"),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(et,Xt.Baidu,"ragNode"),Xt.Wikipedia,"ragNode"),Xt.PubMed,"ragNode"),Xt.ArXiv,"ragNode"),Xt.Google,"ragNode"),Xt.Bing,"ragNode"),Xt.GoogleScholar,"ragNode"),Xt.DeepL,"ragNode"),Xt.GitHub,"ragNode"),Xt.BaiduFanyi,"ragNode"),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(et,Xt.QWeather,"ragNode"),Xt.ExeSQL,"ragNode"),Xt.Switch,"switchNode"),Xt.Concentrator,"logicNode"),Xt.WenCai,"ragNode"),Xt.AkShare,"ragNode"),Xt.YahooFinance,"ragNode"),Xt.Jin10,"ragNode"),Xt.TuShare,"ragNode"),Xt.Note,"noteNode"),at()(at()(at()(at()(at()(at()(et,Xt.Crawler,"ragNode"),Xt.Invoke,"invokeNode"),Xt.Template,"templateNode"),Xt.Email,"emailNode"),Xt.Iteration,"group"),Xt.IterationStart,"iterationStartNode")),$n=[{value:"af",label:"Afrikaans"},{value:"pl",label:"Polski"},{value:"ar",label:"العربية"},{value:"ast",label:"Asturianu"},{value:"az",label:"Azərbaycanca"},{value:"bg",label:"Български"},{value:"nan",label:"閩南語 / Bân-lâm-gú"},{value:"bn",label:"বাংলা"},{value:"be",label:"Беларуская"},{value:"ca",label:"Català"},{value:"cs",label:"Čeština"},{value:"cy",label:"Cymraeg"},{value:"da",label:"Dansk"},{value:"de",label:"Deutsch"},{value:"et",label:"Eesti"},{value:"el",label:"Ελληνικά"},{value:"en",label:"English"},{value:"es",label:"Español"},{value:"eo",label:"Esperanto"},{value:"eu",label:"Euskara"},{value:"fa",label:"فارسی"},{value:"fr",label:"Français"},{value:"gl",label:"Galego"},{value:"ko",label:"한국어"},{value:"hy",label:"Հայերեն"},{value:"hi",label:"हिन्दी"},{value:"hr",label:"Hrvatski"},{value:"id",label:"Bahasa Indonesia"},{value:"it",label:"Italiano"},{value:"he",label:"עברית"},{value:"ka",label:"ქართული"},{value:"lld",label:"Ladin"},{value:"la",label:"Latina"},{value:"lv",label:"Latviešu"},{value:"lt",label:"Lietuvių"},{value:"hu",label:"Magyar"},{value:"mk",label:"Македонски"},{value:"arz",label:"مصرى"},{value:"ms",label:"Bahasa Melayu"},{value:"min",label:"Bahaso Minangkabau"},{value:"my",label:"မြန်မာဘာသာ"},{value:"nl",label:"Nederlands"},{value:"ja",label:"日本語"},{value:"no",label:"Norsk (bokmål)"},{value:"nn",label:"Norsk (nynorsk)"},{value:"ce",label:"Нохчийн"},{value:"uz",label:"Oʻzbekcha / Ўзбекча"},{value:"pt",label:"Português"},{value:"kk",label:"Қазақша / Qazaqşa / قازاقشا"},{value:"ro",label:"Română"},{value:"ru",label:"Русский"},{value:"ceb",label:"Sinugboanong Binisaya"},{value:"sk",label:"Slovenčina"},{value:"sl",label:"Slovenščina"},{value:"sr",label:"Српски / Srpski"},{value:"sh",label:"Srpskohrvatski / Српскохрватски"},{value:"fi",label:"Suomi"},{value:"sv",label:"Svenska"},{value:"ta",label:"தமிழ்"},{value:"tt",label:"Татарча / Tatarça"},{value:"th",label:"ภาษาไทย"},{value:"tg",label:"Тоҷикӣ"},{value:"azb",label:"تۆرکجه"},{value:"tr",label:"Türkçe"},{value:"uk",label:"Українська"},{value:"ur",label:"اردو"},{value:"vi",label:"Tiếng Việt"},{value:"war",label:"Winaray"},{value:"zh",label:"中文"},{value:"yue",label:"粵語"}],Hn=[{language_code:"af",language_name:"Afrikaans"},{language_code:"ak",language_name:"Akan"},{language_code:"sq",language_name:"Albanian"},{language_code:"ws",language_name:"Samoa"},{language_code:"am",language_name:"Amharic"},{language_code:"ar",language_name:"Arabic"},{language_code:"hy",language_name:"Armenian"},{language_code:"az",language_name:"Azerbaijani"},{language_code:"eu",language_name:"Basque"},{language_code:"be",language_name:"Belarusian"},{language_code:"bem",language_name:"Bemba"},{language_code:"bn",language_name:"Bengali"},{language_code:"bh",language_name:"Bihari"},{language_code:"xx-bork",language_name:"Bork, bork, bork!"},{language_code:"bs",language_name:"Bosnian"},{language_code:"br",language_name:"Breton"},{language_code:"bg",language_name:"Bulgarian"},{language_code:"bt",language_name:"Bhutanese"},{language_code:"km",language_name:"Cambodian"},{language_code:"ca",language_name:"Catalan"},{language_code:"chr",language_name:"Cherokee"},{language_code:"ny",language_name:"Chichewa"},{language_code:"zh-cn",language_name:"Chinese (Simplified)"},{language_code:"zh-tw",language_name:"Chinese (Traditional)"},{language_code:"co",language_name:"Corsican"},{language_code:"hr",language_name:"Croatian"},{language_code:"cs",language_name:"Czech"},{language_code:"da",language_name:"Danish"},{language_code:"nl",language_name:"Dutch"},{language_code:"xx-elmer",language_name:"Elmer Fudd"},{language_code:"en",language_name:"English"},{language_code:"eo",language_name:"Esperanto"},{language_code:"et",language_name:"Estonian"},{language_code:"ee",language_name:"Ewe"},{language_code:"fo",language_name:"Faroese"},{language_code:"tl",language_name:"Filipino"},{language_code:"fi",language_name:"Finnish"},{language_code:"fr",language_name:"French"},{language_code:"fy",language_name:"Frisian"},{language_code:"gaa",language_name:"Ga"},{language_code:"gl",language_name:"Galician"},{language_code:"ka",language_name:"Georgian"},{language_code:"de",language_name:"German"},{language_code:"el",language_name:"Greek"},{language_code:"kl",language_name:"Greenlandic"},{language_code:"gn",language_name:"Guarani"},{language_code:"gu",language_name:"Gujarati"},{language_code:"xx-hacker",language_name:"Hacker"},{language_code:"ht",language_name:"Haitian Creole"},{language_code:"ha",language_name:"Hausa"},{language_code:"haw",language_name:"Hawaiian"},{language_code:"iw",language_name:"Hebrew"},{language_code:"hi",language_name:"Hindi"},{language_code:"hu",language_name:"Hungarian"},{language_code:"is",language_name:"Icelandic"},{language_code:"ig",language_name:"Igbo"},{language_code:"id",language_name:"Indonesian"},{language_code:"ia",language_name:"Interlingua"},{language_code:"ga",language_name:"Irish"},{language_code:"it",language_name:"Italian"},{language_code:"ja",language_name:"Japanese"},{language_code:"jw",language_name:"Javanese"},{language_code:"kn",language_name:"Kannada"},{language_code:"kk",language_name:"Kazakh"},{language_code:"rw",language_name:"Kinyarwanda"},{language_code:"rn",language_name:"Kirundi"},{language_code:"xx-klingon",language_name:"Klingon"},{language_code:"kg",language_name:"Kongo"},{language_code:"ko",language_name:"Korean"},{language_code:"kri",language_name:"Krio (Sierra Leone)"},{language_code:"ku",language_name:"Kurdish"},{language_code:"ckb",language_name:"Kurdish (Soranî)"},{language_code:"ky",language_name:"Kyrgyz"},{language_code:"lo",language_name:"Laothian"},{language_code:"la",language_name:"Latin"},{language_code:"lv",language_name:"Latvian"},{language_code:"ln",language_name:"Lingala"},{language_code:"lt",language_name:"Lithuanian"},{language_code:"loz",language_name:"Lozi"},{language_code:"lg",language_name:"Luganda"},{language_code:"ach",language_name:"Luo"},{language_code:"mk",language_name:"Macedonian"},{language_code:"mg",language_name:"Malagasy"},{language_code:"ms",language_name:"Malay"},{language_code:"ml",language_name:"Malayalam"},{language_code:"mt",language_name:"Maltese"},{language_code:"mv",language_name:"Maldives"},{language_code:"mi",language_name:"Maori"},{language_code:"mr",language_name:"Marathi"},{language_code:"mfe",language_name:"Mauritian Creole"},{language_code:"mo",language_name:"Moldavian"},{language_code:"mn",language_name:"Mongolian"},{language_code:"sr-me",language_name:"Montenegrin"},{language_code:"my",language_name:"Myanmar"},{language_code:"ne",language_name:"Nepali"},{language_code:"pcm",language_name:"Nigerian Pidgin"},{language_code:"nso",language_name:"Northern Sotho"},{language_code:"no",language_name:"Norwegian"},{language_code:"nn",language_name:"Norwegian (Nynorsk)"},{language_code:"oc",language_name:"Occitan"},{language_code:"or",language_name:"Oriya"},{language_code:"om",language_name:"Oromo"},{language_code:"ps",language_name:"Pashto"},{language_code:"fa",language_name:"Persian"},{language_code:"xx-pirate",language_name:"Pirate"},{language_code:"pl",language_name:"Polish"},{language_code:"pt",language_name:"Portuguese"},{language_code:"pt-br",language_name:"Portuguese (Brazil)"},{language_code:"pt-pt",language_name:"Portuguese (Portugal)"},{language_code:"pa",language_name:"Punjabi"},{language_code:"qu",language_name:"Quechua"},{language_code:"ro",language_name:"Romanian"},{language_code:"rm",language_name:"Romansh"},{language_code:"nyn",language_name:"Runyakitara"},{language_code:"ru",language_name:"Russian"},{language_code:"gd",language_name:"Scots Gaelic"},{language_code:"sr",language_name:"Serbian"},{language_code:"sh",language_name:"Serbo-Croatian"},{language_code:"st",language_name:"Sesotho"},{language_code:"tn",language_name:"Setswana"},{language_code:"crs",language_name:"Seychellois Creole"},{language_code:"sn",language_name:"Shona"},{language_code:"sd",language_name:"Sindhi"},{language_code:"si",language_name:"Sinhalese"},{language_code:"sk",language_name:"Slovak"},{language_code:"sl",language_name:"Slovenian"},{language_code:"so",language_name:"Somali"},{language_code:"es",language_name:"Spanish"},{language_code:"es-419",language_name:"Spanish (Latin American)"},{language_code:"su",language_name:"Sundanese"},{language_code:"sw",language_name:"Swahili"},{language_code:"sv",language_name:"Swedish"},{language_code:"tg",language_name:"Tajik"},{language_code:"ta",language_name:"Tamil"},{language_code:"tt",language_name:"Tatar"},{language_code:"te",language_name:"Telugu"},{language_code:"th",language_name:"Thai"},{language_code:"ti",language_name:"Tigrinya"},{language_code:"to",language_name:"Tonga"},{language_code:"lua",language_name:"Tshiluba"},{language_code:"tum",language_name:"Tumbuka"},{language_code:"tr",language_name:"Turkish"},{language_code:"tk",language_name:"Turkmen"},{language_code:"tw",language_name:"Twi"},{language_code:"ug",language_name:"Uighur"},{language_code:"uk",language_name:"Ukrainian"},{language_code:"ur",language_name:"Urdu"},{language_code:"uz",language_name:"Uzbek"},{language_code:"vu",language_name:"Vanuatu"},{language_code:"vi",language_name:"Vietnamese"},{language_code:"cy",language_name:"Welsh"},{language_code:"wo",language_name:"Wolof"},{language_code:"xh",language_name:"Xhosa"},{language_code:"yi",language_name:"Yiddish"},{language_code:"yo",language_name:"Yoruba"},{language_code:"zu",language_name:"Zulu"}].map((function(e){return{label:e.language_name,value:e.language_code}})),Vn=[{country_code:"af",country_name:"Afghanistan"},{country_code:"al",country_name:"Albania"},{country_code:"dz",country_name:"Algeria"},{country_code:"as",country_name:"American Samoa"},{country_code:"ad",country_name:"Andorra"},{country_code:"ao",country_name:"Angola"},{country_code:"ai",country_name:"Anguilla"},{country_code:"aq",country_name:"Antarctica"},{country_code:"ag",country_name:"Antigua and Barbuda"},{country_code:"ar",country_name:"Argentina"},{country_code:"am",country_name:"Armenia"},{country_code:"aw",country_name:"Aruba"},{country_code:"au",country_name:"Australia"},{country_code:"at",country_name:"Austria"},{country_code:"az",country_name:"Azerbaijan"},{country_code:"bs",country_name:"Bahamas"},{country_code:"bh",country_name:"Bahrain"},{country_code:"bd",country_name:"Bangladesh"},{country_code:"bb",country_name:"Barbados"},{country_code:"by",country_name:"Belarus"},{country_code:"be",country_name:"Belgium"},{country_code:"bz",country_name:"Belize"},{country_code:"bj",country_name:"Benin"},{country_code:"bm",country_name:"Bermuda"},{country_code:"bt",country_name:"Bhutan"},{country_code:"bo",country_name:"Bolivia"},{country_code:"ba",country_name:"Bosnia and Herzegovina"},{country_code:"bw",country_name:"Botswana"},{country_code:"bv",country_name:"Bouvet Island"},{country_code:"br",country_name:"Brazil"},{country_code:"io",country_name:"British Indian Ocean Territory"},{country_code:"bn",country_name:"Brunei Darussalam"},{country_code:"bg",country_name:"Bulgaria"},{country_code:"bf",country_name:"Burkina Faso"},{country_code:"bi",country_name:"Burundi"},{country_code:"kh",country_name:"Cambodia"},{country_code:"cm",country_name:"Cameroon"},{country_code:"ca",country_name:"Canada"},{country_code:"cv",country_name:"Cape Verde"},{country_code:"ky",country_name:"Cayman Islands"},{country_code:"cf",country_name:"Central African Republic"},{country_code:"td",country_name:"Chad"},{country_code:"cl",country_name:"Chile"},{country_code:"cn",country_name:"China"},{country_code:"cx",country_name:"Christmas Island"},{country_code:"cc",country_name:"Cocos (Keeling) Islands"},{country_code:"co",country_name:"Colombia"},{country_code:"km",country_name:"Comoros"},{country_code:"cg",country_name:"Congo"},{country_code:"cd",country_name:"Congo, the Democratic Republic of the"},{country_code:"ck",country_name:"Cook Islands"},{country_code:"cr",country_name:"Costa Rica"},{country_code:"ci",country_name:"Cote D'ivoire"},{country_code:"hr",country_name:"Croatia"},{country_code:"cu",country_name:"Cuba"},{country_code:"cy",country_name:"Cyprus"},{country_code:"cz",country_name:"Czech Republic"},{country_code:"dk",country_name:"Denmark"},{country_code:"dj",country_name:"Djibouti"},{country_code:"dm",country_name:"Dominica"},{country_code:"do",country_name:"Dominican Republic"},{country_code:"ec",country_name:"Ecuador"},{country_code:"eg",country_name:"Egypt"},{country_code:"sv",country_name:"El Salvador"},{country_code:"gq",country_name:"Equatorial Guinea"},{country_code:"er",country_name:"Eritrea"},{country_code:"ee",country_name:"Estonia"},{country_code:"et",country_name:"Ethiopia"},{country_code:"fk",country_name:"Falkland Islands (Malvinas)"},{country_code:"fo",country_name:"Faroe Islands"},{country_code:"fj",country_name:"Fiji"},{country_code:"fi",country_name:"Finland"},{country_code:"fr",country_name:"France"},{country_code:"gf",country_name:"French Guiana"},{country_code:"pf",country_name:"French Polynesia"},{country_code:"tf",country_name:"French Southern Territories"},{country_code:"ga",country_name:"Gabon"},{country_code:"gm",country_name:"Gambia"},{country_code:"ge",country_name:"Georgia"},{country_code:"de",country_name:"Germany"},{country_code:"gh",country_name:"Ghana"},{country_code:"gi",country_name:"Gibraltar"},{country_code:"gr",country_name:"Greece"},{country_code:"gl",country_name:"Greenland"},{country_code:"gd",country_name:"Grenada"},{country_code:"gp",country_name:"Guadeloupe"},{country_code:"gu",country_name:"Guam"},{country_code:"gt",country_name:"Guatemala"},{country_code:"gn",country_name:"Guinea"},{country_code:"gw",country_name:"Guinea-Bissau"},{country_code:"gy",country_name:"Guyana"},{country_code:"ht",country_name:"Haiti"},{country_code:"hm",country_name:"Heard Island and Mcdonald Islands"},{country_code:"va",country_name:"Holy See (Vatican City State)"},{country_code:"hn",country_name:"Honduras"},{country_code:"hk",country_name:"Hong Kong"},{country_code:"hu",country_name:"Hungary"},{country_code:"is",country_name:"Iceland"},{country_code:"in",country_name:"India"},{country_code:"id",country_name:"Indonesia"},{country_code:"ir",country_name:"Iran, Islamic Republic of"},{country_code:"iq",country_name:"Iraq"},{country_code:"ie",country_name:"Ireland"},{country_code:"il",country_name:"Israel"},{country_code:"it",country_name:"Italy"},{country_code:"jm",country_name:"Jamaica"},{country_code:"jp",country_name:"Japan"},{country_code:"jo",country_name:"Jordan"},{country_code:"kz",country_name:"Kazakhstan"},{country_code:"ke",country_name:"Kenya"},{country_code:"ki",country_name:"Kiribati"},{country_code:"kp",country_name:"Korea, Democratic People's Republic of"},{country_code:"kr",country_name:"Korea, Republic of"},{country_code:"kw",country_name:"Kuwait"},{country_code:"kg",country_name:"Kyrgyzstan"},{country_code:"la",country_name:"Lao People's Democratic Republic"},{country_code:"lv",country_name:"Latvia"},{country_code:"lb",country_name:"Lebanon"},{country_code:"ls",country_name:"Lesotho"},{country_code:"lr",country_name:"Liberia"},{country_code:"ly",country_name:"Libyan Arab Jamahiriya"},{country_code:"li",country_name:"Liechtenstein"},{country_code:"lt",country_name:"Lithuania"},{country_code:"lu",country_name:"Luxembourg"},{country_code:"mo",country_name:"Macao"},{country_code:"mk",country_name:"Macedonia, the Former Yugosalv Republic of"},{country_code:"mg",country_name:"Madagascar"},{country_code:"mw",country_name:"Malawi"},{country_code:"my",country_name:"Malaysia"},{country_code:"mv",country_name:"Maldives"},{country_code:"ml",country_name:"Mali"},{country_code:"mt",country_name:"Malta"},{country_code:"mh",country_name:"Marshall Islands"},{country_code:"mq",country_name:"Martinique"},{country_code:"mr",country_name:"Mauritania"},{country_code:"mu",country_name:"Mauritius"},{country_code:"yt",country_name:"Mayotte"},{country_code:"mx",country_name:"Mexico"},{country_code:"fm",country_name:"Micronesia, Federated States of"},{country_code:"md",country_name:"Moldova, Republic of"},{country_code:"mc",country_name:"Monaco"},{country_code:"mn",country_name:"Mongolia"},{country_code:"ms",country_name:"Montserrat"},{country_code:"ma",country_name:"Morocco"},{country_code:"mz",country_name:"Mozambique"},{country_code:"mm",country_name:"Myanmar"},{country_code:"na",country_name:"Namibia"},{country_code:"nr",country_name:"Nauru"},{country_code:"np",country_name:"Nepal"},{country_code:"nl",country_name:"Netherlands"},{country_code:"an",country_name:"Netherlands Antilles"},{country_code:"nc",country_name:"New Caledonia"},{country_code:"nz",country_name:"New Zealand"},{country_code:"ni",country_name:"Nicaragua"},{country_code:"ne",country_name:"Niger"},{country_code:"ng",country_name:"Nigeria"},{country_code:"nu",country_name:"Niue"},{country_code:"nf",country_name:"Norfolk Island"},{country_code:"mp",country_name:"Northern Mariana Islands"},{country_code:"no",country_name:"Norway"},{country_code:"om",country_name:"Oman"},{country_code:"pk",country_name:"Pakistan"},{country_code:"pw",country_name:"Palau"},{country_code:"ps",country_name:"Palestinian Territory, Occupied"},{country_code:"pa",country_name:"Panama"},{country_code:"pg",country_name:"Papua New Guinea"},{country_code:"py",country_name:"Paraguay"},{country_code:"pe",country_name:"Peru"},{country_code:"ph",country_name:"Philippines"},{country_code:"pn",country_name:"Pitcairn"},{country_code:"pl",country_name:"Poland"},{country_code:"pt",country_name:"Portugal"},{country_code:"pr",country_name:"Puerto Rico"},{country_code:"qa",country_name:"Qatar"},{country_code:"re",country_name:"Reunion"},{country_code:"ro",country_name:"Romania"},{country_code:"ru",country_name:"Russian Federation"},{country_code:"rw",country_name:"Rwanda"},{country_code:"sh",country_name:"Saint Helena"},{country_code:"kn",country_name:"Saint Kitts and Nevis"},{country_code:"lc",country_name:"Saint Lucia"},{country_code:"pm",country_name:"Saint Pierre and Miquelon"},{country_code:"vc",country_name:"Saint Vincent and the Grenadines"},{country_code:"ws",country_name:"Samoa"},{country_code:"sm",country_name:"San Marino"},{country_code:"st",country_name:"Sao Tome and Principe"},{country_code:"sa",country_name:"Saudi Arabia"},{country_code:"sn",country_name:"Senegal"},{country_code:"rs",country_name:"Serbia and Montenegro"},{country_code:"sc",country_name:"Seychelles"},{country_code:"sl",country_name:"Sierra Leone"},{country_code:"sg",country_name:"Singapore"},{country_code:"sk",country_name:"Slovakia"},{country_code:"si",country_name:"Slovenia"},{country_code:"sb",country_name:"Solomon Islands"},{country_code:"so",country_name:"Somalia"},{country_code:"za",country_name:"South Africa"},{country_code:"gs",country_name:"South Georgia and the South Sandwich Islands"},{country_code:"es",country_name:"Spain"},{country_code:"lk",country_name:"Sri Lanka"},{country_code:"sd",country_name:"Sudan"},{country_code:"sr",country_name:"Suriname"},{country_code:"sj",country_name:"Svalbard and Jan Mayen"},{country_code:"sz",country_name:"Swaziland"},{country_code:"se",country_name:"Sweden"},{country_code:"ch",country_name:"Switzerland"},{country_code:"sy",country_name:"Syrian Arab Republic"},{country_code:"tw",country_name:"Taiwan, Province of China"},{country_code:"tj",country_name:"Tajikistan"},{country_code:"tz",country_name:"Tanzania, United Republic of"},{country_code:"th",country_name:"Thailand"},{country_code:"tl",country_name:"Timor-Leste"},{country_code:"tg",country_name:"Togo"},{country_code:"tk",country_name:"Tokelau"},{country_code:"to",country_name:"Tonga"},{country_code:"tt",country_name:"Trinidad and Tobago"},{country_code:"tn",country_name:"Tunisia"},{country_code:"tr",country_name:"Turkiye"},{country_code:"tm",country_name:"Turkmenistan"},{country_code:"tc",country_name:"Turks and Caicos Islands"},{country_code:"tv",country_name:"Tuvalu"},{country_code:"ug",country_name:"Uganda"},{country_code:"ua",country_name:"Ukraine"},{country_code:"ae",country_name:"United Arab Emirates"},{country_code:"uk",country_name:"United Kingdom"},{country_code:"gb",country_name:"United Kingdom"},{country_code:"us",country_name:"United States"},{country_code:"um",country_name:"United States Minor Outlying Islands"},{country_code:"uy",country_name:"Uruguay"},{country_code:"uz",country_name:"Uzbekistan"},{country_code:"vu",country_name:"Vanuatu"},{country_code:"ve",country_name:"Venezuela"},{country_code:"vn",country_name:"Viet Nam"},{country_code:"vg",country_name:"Virgin Islands, British"},{country_code:"vi",country_name:"Virgin Islands, U.S."},{country_code:"wf",country_name:"Wallis and Futuna"},{country_code:"eh",country_name:"Western Sahara"},{country_code:"ye",country_name:"Yemen"},{country_code:"zm",country_name:"Zambia"},{country_code:"zw",country_name:"Zimbabwe"}].map((function(e){return{label:e.country_name,value:e.country_code}})),Wn=[{label:"Argentina AR",value:"AR"},{label:"Australia AU",value:"AU"},{label:"Austria AT",value:"AT"},{label:"Belgium BE",value:"BE"},{label:"Brazil BR",value:"BR"},{label:"Canada CA",value:"CA"},{label:"Chile CL",value:"CL"},{label:"Denmark DK",value:"DK"},{label:"Finland FI",value:"FI"},{label:"France FR",value:"FR"},{label:"Germany DE",value:"DE"},{label:"Hong Kong SAR HK",value:"HK"},{label:"India IN",value:"IN"},{label:"Indonesia ID",value:"ID"},{label:"Italy IT",value:"IT"},{label:"Japan JP",value:"JP"},{label:"Korea KR",value:"KR"},{label:"Malaysia MY",value:"MY"},{label:"Mexico MX",value:"MX"},{label:"Netherlands NL",value:"NL"},{label:"New Zealand NZ",value:"NZ"},{label:"Norway NO",value:"NO"},{label:"People's Republic of China CN",value:"CN"},{label:"Poland PL",value:"PL"},{label:"Portugal PT",value:"PT"},{label:"Republic of the Philippines PH",value:"PH"},{label:"Russia RU",value:"RU"},{label:"Saudi Arabia SA",value:"SA"},{label:"South Africa ZA",value:"ZA"},{label:"Spain ES",value:"ES"},{label:"Sweden SE",value:"SE"},{label:"Switzerland CH",value:"CH"},{label:"Taiwan TW",value:"TW"},{label:"Türkiye TR",value:"TR"},{label:"United Kingdom GB",value:"GB"},{label:"United States US",value:"US"}],Kn=[{label:"Arabic ar",value:"ar"},{label:"Basque eu",value:"eu"},{label:"Bengali bn",value:"bn"},{label:"Bulgarian bg",value:"bg"},{label:"Catalan ca",value:"ca"},{label:"Chinese (Simplified) zh-hans",value:"ns"},{label:"Chinese (Traditional) zh-hant",value:"nt"},{label:"Croatian hr",value:"hr"},{label:"Czech cs",value:"cs"},{label:"Danish da",value:"da"},{label:"Dutch nl",value:"nl"},{label:"English en",value:"en"},{label:"English-United Kingdom en-gb",value:"gb"},{label:"Estonian et",value:"et"},{label:"Finnish fi",value:"fi"},{label:"French fr",value:"fr"},{label:"Galician gl",value:"gl"},{label:"German de",value:"de"},{label:"Gujarati gu",value:"gu"},{label:"Hebrew he",value:"he"},{label:"Hindi hi",value:"hi"},{label:"Hungarian hu",value:"hu"},{label:"Icelandic is",value:"is"},{label:"Italian it",value:"it"},{label:"Japanese jp",value:"jp"},{label:"Kannada kn",value:"kn"},{label:"Korean ko",value:"ko"},{label:"Latvian lv",value:"lv"},{label:"Lithuanian lt",value:"lt"},{label:"Malay ms",value:"ms"},{label:"Malayalam ml",value:"ml"},{label:"Marathi mr",value:"mr"},{label:"Norwegian (Bokmål) nb",value:"nb"},{label:"Polish pl",value:"pl"},{label:"Portuguese (Brazil) pt-br",value:"br"},{label:"Portuguese (Portugal) pt-pt",value:"pt"},{label:"Punjabi pa",value:"pa"},{label:"Romanian ro",value:"ro"},{label:"Russian ru",value:"ru"},{label:"Serbian (Cyrylic) sr",value:"sr"},{label:"Slovak sk",value:"sk"},{label:"Slovenian sl",value:"sl"},{label:"Spanish es",value:"es"},{label:"Swedish sv",value:"sv"},{label:"Tamil ta",value:"ta"},{label:"Telugu te",value:"te"},{label:"Thai th",value:"th"},{label:"Turkish tr",value:"tr"},{label:"Ukrainian uk",value:"uk"},{label:"Vietnamese vi",value:"vi"}],Yn=[{label:"Arabic [1]",value:"AR"},{label:"Bulgarian",value:"BG"},{label:"Czech",value:"CS"},{label:"Danish",value:"DA"},{label:"German",value:"DE"},{label:"Greek",value:"EL"},{label:"English",value:"EN"},{label:"Spanish",value:"ES"},{label:"Estonian",value:"ET"},{label:"Finnish",value:"FI"},{label:"French",value:"FR"},{label:"Hungarian",value:"HU"},{label:"Indonesian",value:"ID"},{label:"Italian",value:"IT"},{label:"Japanese",value:"JA"},{label:"Korean",value:"KO"},{label:"Lithuanian",value:"LT"},{label:"Latvian",value:"LV"},{label:"Norwegian Bokmål",value:"NB"},{label:"Dutch",value:"NL"},{label:"Polish",value:"PL"},{label:"Portuguese (all Portuguese varieties mixed)",value:"PT"},{label:"Romanian",value:"RO"},{label:"Russian",value:"RU"},{label:"Slovak",value:"SK"},{label:"Slovenian",value:"SL"},{label:"Swedish",value:"SV"},{label:"Turkish",value:"TR"},{label:"Ukrainian",value:"UK"},{label:"Chinese",value:"ZH"}],Gn=[{label:"Arabic [1]",value:"AR"},{label:"Bulgarian",value:"BG"},{label:"Czech",value:"CS"},{label:"Danish",value:"DA"},{label:"German",value:"DE"},{label:"Greek",value:"EL"},{label:"English (British)",value:"EN-GB"},{label:"English (American)",value:"EN-US"},{label:"Spanish",value:"ES"},{label:"Estonian",value:"ET"},{label:"Finnish",value:"FI"},{label:"French",value:"FR"},{label:"Hungarian",value:"HU"},{label:"Indonesian",value:"ID"},{label:"Italian",value:"IT"},{label:"Japanese",value:"JA"},{label:"Korean",value:"KO"},{label:"Lithuanian",value:"LT"},{label:"Latvian",value:"LV"},{label:"Norwegian Bokmål",value:"NB"},{label:"Dutch",value:"NL"},{label:"Polish",value:"PL"},{label:"Portuguese (Brazilian)",value:"PT-BR"},{label:"Portuguese (all Portuguese varieties excluding Brazilian Portuguese)",value:"PT-PT"},{label:"Romanian",value:"RO"},{label:"Russian",value:"RU"},{label:"Slovak",value:"SK"},{label:"Slovenian",value:"SL"},{label:"Swedish",value:"SV"},{label:"Turkish",value:"TR"},{label:"Ukrainian",value:"UK"},{label:"Chinese (simplified)",value:"ZH"}],qn=["it","finance","machinery","senimed","novel","academic","aerospace","wiki","news","law","contract"],Un=["auto","zh","en","yue","wyw","jp","kor","fra","spa","th","ara","ru","pt","de","it","el","nl","pl","bul","est","dan","fin","cs","rom","slo","swe","hu","cht","vie"],Xn=["zh","zh-hant","en","de","es","fr","it","ja","ko","ru","hi","th","ar","pt","bn","ms","nl","el","la","sv","id","pl","tr","cs","et","vi","fil","fi","he","is","nb"],Jn=["weather","indices","airquality"],Qn=["free","paid"],er=["now","3d","7d","10d","15d","30d"],tr=["mysql","postgresql","mariadb","mssql"].map((function(e){return{label:Lt()(e),value:e}})),nr="end_cpn_id",rr=[{value:"=",label:"equal"},{value:"≠",label:"notEqual"},{value:">",label:"gt"},{value:"≥",label:"ge"},{value:"<",label:"lt"},{value:"≤",label:"le"},{value:"contains",label:"contains"},{value:"not contains",label:"notContains"},{value:"start with",label:"startWith"},{value:"end with",label:"endWith"},{value:"empty",label:"empty"},{value:"not empty",label:"notEmpty"}],or=["and","or"],ar=["stock","zhishu","fund","hkstock","usstock","threeboard","conbond","insurance","futures","lccp","foreign_exchange"],ir=["flash","calendar","symbols","news"],sr=new Array(5).fill(1).map((function(e,t){return(t+1).toString()})),lr=["cj","qh","hk","us"],cr=["data","event","holiday"],ur=["GOODS","FOREX","FUTURE","CRYPTO"],dr=["symbols","quotes"],fr=["sina","wallstreetcn","10jqka","eastmoney","yuncaijing","fenghuang","jinrongjie"],pr=["markdown","html","content"],gr=function(e){return e.Line="line",e.Paragraph="paragraph",e.Options="options",e.File="file",e.Integer="integer",e.Boolean="boolean",e}({}),mr=at()(at()(at()(at()(at()(at()({},gr.Line,Ht.Z),gr.Paragraph,Vt.Z),gr.Options,Wt.Z),gr.File,Kt.Z),gr.Integer,Yt.Z),gr.Boolean,Gt.Z),hr=[Xt.Begin,Xt.Answer,Xt.Concentrator,Xt.Template,Xt.Message,Xt.RewriteQuestion,Xt.Switch,Xt.Iteration],vr=function(){return(0,C.jsx)("div",{className:"hidden"})},yr=function(e){var t=e.name,n=e.fontSize,r=e.width,o=e.color,a=Qt[t]||vr;return(0,C.jsx)(a,{className:"text-2xl max-h-6 max-w-6 text-[rgb(59, 118, 244)]",style:{fontSize:n,color:o},width:r})};function br(e){var t=e.name;return(0,C.jsx)(Me.Zb,{className:"bg-colors-background-inverse-weak  border-colors-outline-neutral-standard",children:(0,C.jsxs)(Me.aY,{className:"p-2 flex items-center gap-2",children:[(0,C.jsx)(yr,{name:t,color:en[t].color}),t]})})}function xr(e){var t=e.operatorList,n=e.title;return(0,C.jsx)(tt,{defaultOpen:!0,className:"group/collapsible",children:(0,C.jsxs)(ge,{children:[(0,C.jsx)(me,{asChild:!0,className:"mb-1",children:(0,C.jsxs)(nt,{children:[(0,C.jsx)("span",{className:"font-bold text-base",children:n}),(0,C.jsx)(Ie.Sb,{className:"ml-auto"})]})}),(0,C.jsx)(rt,{className:"px-2",children:(0,C.jsx)(he,{children:(0,C.jsx)(ve,{className:"gap-2",children:t.map((function(e){return(0,C.jsx)(br,{name:e.name},e.name)}))})})})]})})}function _r(){var e=(0,y.useMemo)((function(){return tn.filter((function(e){return Jt.some((function(t){return t===e.name}))}))}),[]),t=(0,y.useMemo)((function(){return tn.filter((function(e){return!Jt.some((function(t){return t===e.name}))}))}),[]);return(0,C.jsxs)(ue,{variant:"floating",className:"top-16",children:[(0,C.jsx)(fe,{children:(0,C.jsx)("p",{className:"font-bold text-2xl",children:"All nodes"})}),(0,C.jsxs)(pe,{children:[(0,C.jsx)(xr,{title:"Agent operator",operatorList:e}),(0,C.jsx)(xr,{title:"Third-party tools",operatorList:t})]})]})}var wr=n(83859),kr=(n(16091),n(56312)),Cr=n(96486),Sr=n(49482),Nr=n(87536),Er=(0,y.createContext)(void 0),jr=function(e){var t=e.children,n=(0,je.$G)().t;return(0,C.jsxs)(F.u,{children:[(0,C.jsx)(F.aJ,{children:t}),(0,C.jsx)(F._v,{children:(0,C.jsx)("p",{children:n("flow.testRun")})})]})},Ir=n(96330),Mr=n(2938),Pr=n(45360),Tr=n(99363),Or=n.n(Tr),Dr=n(92742),Ar=n.n(Dr),Zr=n(57632),Rr=n(19632),Fr=n.n(Rr),zr=n(29521),Lr=n.n(zr),Br=n(33856),$r=n.n(Br),Hr=n(36968),Vr=n.n(Hr),Wr=n(73445),Kr=n(782),Yr=n(91559),Gr=n(64599),qr=n.n(Gr),Ur=n(51418),Xr=n(46898),Jr=n.n(Xr),Qr=n(13218),eo=n.n(Qr),to=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.filter((function(e){return e[n?"source":"target"]===t})).map((function(e){return e[n?"target":"source"]}))},no=(0,Cr.curry)((function(e,t){return e===Xt.Generate||e===Xt.Categorize?(0,Ur.R)(t,""):t})),ro=function(e){return Jr()(no(e))},oo=function e(t,n){if(eo()(t)){var r=Array.isArray(t)?[]:{};return Object.keys(t).forEach((function(o){var a=t[o],i="string"==typeof a?n(a):void 0;r[o]=i||e(a,n)})),r}return t},ao=function(e,t){return e.source===t.source&&e.target===t.target&&e.sourceHandle===t.sourceHandle},io=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"items",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return(null!==(t=e.getFieldValue([n]))&&void 0!==t?t:[]).map((function(e){return(0,Cr.get)(e,o)})).filter((function(t){return t!==e.getFieldValue([n,r.name,o])}))},so=function(e){return"Case ".concat(e+1)},lo=function(e){return e===Xt.Note?".note-drag-handle":void 0},co=function(e){var t=e.split("_");return{type:t.at(0),index:Number(t.at(-1))}},uo=function(e,t){for(var n=t.filter((function(t){var n,r=t.data.name,o=co(r),a=o.type,i=o.index;return 1===(null===(n=r.match(/_/g))||void 0===n?void 0:n.length)&&a===e&&!isNaN(i)})).map((function(e){var t=e.data.name;return{idx:co(t).index,name:t}})).sort((function(e,t){return e.idx-t.idx})),r=0,o=0;o<n.length;o++){var a,i,s=null===(a=n[o])||void 0===a?void 0:a.idx;if(s+1!==(null===(i=n[o+1])||void 0===i?void 0:i.idx)){r=s+1;break}}return"".concat(e,"_").concat(r)},fo=function(e){var t,n=o()({},null!==(t=null==e?void 0:e.form)&&void 0!==t?t:{});return(null==e?void 0:e.label)===Xt.Categorize&&(n.category_description=Object.keys(n.category_description).reduce((function(e,t){return e[t]=o()(o()({},n.category_description[t]),{},{to:void 0}),e}),{})),(null==e?void 0:e.label)===Xt.Relevant&&(n.yes=void 0,n.no=void 0),o()(o()({},null!=e?e:{label:""}),{},{form:n})},po=function(e){return!hr.some((function(t){return e===t}))};var go=function(e,t){var n={x:((null==e?void 0:e.x)||0)+50,y:((null==e?void 0:e.y)||0)+50};return{selected:!1,dragging:!1,id:"".concat(t,":").concat((0,Tr.humanId)()),position:n,dragHandle:lo(t)}},mo=(0,Wr.Ue)()((0,Kr.mW)((0,Yr.n)((function(e,t){return{nodes:[],edges:[],selectedNodeIds:[],selectedEdgeIds:[],clickedNodeId:"",onNodesChange:function(n){e({nodes:(0,we.Fb)(n,t().nodes)})},onEdgesChange:function(n){e({edges:(0,we.yn)(n,t().edges)})},onConnect:function(n){var r=t(),o=r.deletePreviousEdgeOfClassificationNode,a=r.updateFormDataOnConnect;e({edges:(0,wr.Z_)(n,t().edges)}),o(n),a(n)},onSelectionChange:function(t){var n=t.nodes,r=t.edges;e({selectedEdgeIds:r.map((function(e){return e.id})),selectedNodeIds:n.map((function(e){return e.id}))})},setNodes:function(t){e({nodes:t})},setEdges:function(t){e({edges:t})},setEdgesByNodeId:function(e,n){var r=t(),o=r.edges,a=r.setEdges,i=o.filter((function(t){return t.source===e})),s=i.length!==n.length||!i.every((function(e){return n.some((function(t){return t.source===e.source&&t.target===e.target&&t.sourceHandle===e.sourceHandle}))}))||!n.every((function(e){return i.some((function(t){return t.source===e.source&&t.target===e.target&&t.sourceHandle===e.sourceHandle}))})),l=$r()(i,n,ao);if(s){var c=o.filter((function(t){return t.source!==e})),u=Lr()(n,l,ao);a([].concat(Fr()(c),Fr()(l),Fr()(u)))}},addNode:function(n){e({nodes:t().nodes.concat(n)})},getNode:function(e){return t().nodes.find((function(t){return t.id===e}))},getOperatorTypeFromId:function(e){var n;return null===(n=t().getNode(e))||void 0===n||null===(n=n.data)||void 0===n?void 0:n.label},getParentIdById:function(e){var n;return null===(n=t().getNode(e))||void 0===n?void 0:n.parentId},addEdge:function(n){e({edges:(0,wr.Z_)(n,t().edges)}),t().deletePreviousEdgeOfClassificationNode(n),t().updateFormDataOnConnect(n)},getEdge:function(e){return t().edges.find((function(t){return t.id===e}))},updateFormDataOnConnect:function(e){var n=t(),r=n.getOperatorTypeFromId,o=n.updateNodeForm,a=n.updateSwitchFormData,i=e.source,s=e.target,l=e.sourceHandle,c=r(i);if(i)switch(c){case Xt.Relevant:o(i,at()({},l,s));break;case Xt.Categorize:l&&o(i,s,["category_description",l,"to"]);break;case Xt.Switch:a(i,l,s)}},deletePreviousEdgeOfClassificationNode:function(e){var n=t(),r=n.edges,o=n.getOperatorTypeFromId,a=n.deleteEdgeById;if([Xt.Categorize,Xt.Relevant,Xt.Switch].some((function(t){return t===o(e.source)}))){var i=r.find((function(t){return t.source===e.source&&t.sourceHandle===e.sourceHandle&&t.target!==e.target}));i&&a(i.id)}},duplicateNode:function(e,n){var r,a=t(),i=a.getNode,s=a.addNode,l=a.generateNodeName,c=a.duplicateIterationNode,u=i(e);(null==u?void 0:u.data.label)!==Xt.Iteration?s(o()(o()({},u||{}),{},{data:o()(o()({},fo(null==u?void 0:u.data)),{},{name:l(n)})},go(null==u?void 0:u.position,null==u||null===(r=u.data)||void 0===r?void 0:r.label))):c(e,n)},duplicateIterationNode:function(n,r){var a,i=t(),s=i.getNode,l=i.generateNodeName,c=i.nodes,u=s(n),d=o()(o()({},u||{}),{},{data:o()(o()({},(null==u?void 0:u.data)||{label:Xt.Iteration,form:{}}),{},{name:l(r)})},go(null==u?void 0:u.position,null==u||null===(a=u.data)||void 0===a?void 0:a.label)),f=c.filter((function(e){return e.parentId===(null==u?void 0:u.id)})).map((function(e){var t;return o()(o()(o()({},e||{}),{},{data:o()(o()({},fo(null==e?void 0:e.data)),{},{name:l(e.data.name)})},(0,Cr.omit)(go(null==e?void 0:e.position,null==e||null===(t=e.data)||void 0===t?void 0:t.label),["position"])),{},{parentId:d.id})}));e({nodes:c.concat.apply(c,[d].concat(Fr()(f)))})},deleteEdge:function(){var n=t(),r=n.edges,o=n.selectedEdgeIds;e({edges:r.filter((function(e){return o.every((function(t){return t!==e.id}))}))})},deleteEdgeById:function(n){var r=t(),o=r.edges,a=r.updateNodeForm,i=r.getOperatorTypeFromId,s=r.updateSwitchFormData,l=o.find((function(e){return e.id===n}));if(l){var c=l.source,u=l.sourceHandle;switch(i(c)){case Xt.Relevant:a(c,at()({},u,void 0));break;case Xt.Categorize:u&&a(c,void 0,["category_description",u,"to"]);break;case Xt.Switch:s(c,u,void 0)}}e({edges:o.filter((function(e){return e.id!==n}))})},deleteEdgeBySourceAndSourceHandle:function(n){var r=n.source,o=n.sourceHandle,a=t().edges.filter((function(e){return e.source!==r||e.sourceHandle!==o}));e({edges:a})},deleteNodeById:function(n){var r=t(),o=r.nodes,a=r.edges;e({nodes:o.filter((function(e){return e.id!==n})),edges:a.filter((function(e){return e.source!==n})).filter((function(e){return e.target!==n}))})},deleteIterationNodeById:function(n){var r=t(),o=r.nodes,a=r.edges,i=o.filter((function(e){return e.parentId===n}));e({nodes:o.filter((function(e){return e.id!==n&&e.parentId!==n})),edges:a.filter((function(e){return e.source!==n&&e.target!==n&&!i.some((function(t){return e.source===t.id&&e.target===t.id}))}))})},findNodeByName:function(e){return t().nodes.find((function(t){return t.data.label===e}))},updateNodeForm:function(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t().nodes.map((function(e){if(e.id===n){var t=o()({},e.data.form);return 0===a.length?t=Object.assign(t,r):Vr()(t,a,r),o()(o()({},e),{},{data:o()(o()({},e.data),{},{form:t})})}return e}));return e({nodes:i}),i},updateSwitchFormData:function(e,n,r){var o=t().updateNodeForm;if(n)if(n===nr)o(e,r,[nr]);else{var a=n.split(" ").at(-1);a&&o(e,r,["conditions",Number(a)-1,"to"])}},updateMutableNodeFormItem:function(e,n,r){var o=t().nodes,a=o.findIndex((function(t){return t.id===e}));a&&Vr()(o,[a,"data","form",n],r)},updateNodeName:function(n,r){n&&e({nodes:t().nodes.map((function(e){return e.id===n&&(e.data.name=r),e}))})},setClickedNodeId:function(t){e({clickedNodeId:t})},generateNodeName:function(e){var n=t().nodes;return uo(e,n)}}})),{name:"graph"})),ho=mo,vo=function(e){return{nodes:e.nodes,edges:e.edges,onNodesChange:e.onNodesChange,onEdgesChange:e.onEdgesChange,onConnect:e.onConnect,setNodes:e.setNodes,onSelectionChange:e.onSelectionChange}},yo=function(){var e=(0,je.$G)().t;return function(t){return e("flow.".concat((0,Cr.lowerFirst)(t)))}},bo=function(){var e,t,n=ho((function(e){return e.addNode})),r=ho((function(e){return e.nodes})),a=(0,y.useState)(),i=p()(a,2),s=i[0],l=i[1],c=(e=(0,Mr.ox)(),t=(0,y.useMemo)((function(){var t;return t={},at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(t,Xt.Begin,on),Xt.Retrieval,rn),Xt.Generate,o()(o()({},ln),{},{llm_id:e})),Xt.Answer,{}),Xt.Categorize,o()(o()({},dn),{},{llm_id:e})),Xt.Relevant,o()(o()({},un),{},{llm_id:e})),Xt.RewriteQuestion,o()(o()({},cn),{},{llm_id:e})),Xt.Message,fn),Xt.KeywordExtract,o()(o()({},pn),{},{llm_id:e})),Xt.DuckDuckGo,gn),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(t,Xt.Baidu,mn),Xt.Wikipedia,hn),Xt.PubMed,vn),Xt.ArXiv,yn),Xt.Google,bn),Xt.Bing,xn),Xt.GoogleScholar,_n),Xt.DeepL,wn),Xt.GitHub,kn),Xt.BaiduFanyi,Cn),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(t,Xt.QWeather,Sn),Xt.ExeSQL,o()(o()({},Nn),{},{llm_id:e})),Xt.Switch,En),Xt.WenCai,jn),Xt.AkShare,In),Xt.YahooFinance,Mn),Xt.Jin10,Pn),Xt.Concentrator,Tn),Xt.TuShare,On),Xt.Note,Dn),at()(at()(at()(at()(at()(at()(t,Xt.Crawler,An),Xt.Invoke,Zn),Xt.Template,Rn),Xt.Email,Fn),Xt.Iteration,zn),Xt.IterationStart,zn)}),[e]),(0,y.useCallback)((function(e){return t[e]}),[t])),u=yo(),d=(0,y.useCallback)((function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}),[]),f=(0,y.useCallback)((function(e){e.preventDefault();var t=e.dataTransfer.getData("application/@xyflow/react");if(void 0!==t&&t){var o=null==s?void 0:s.screenToFlowPosition({x:e.clientX,y:e.clientY}),a={id:"".concat(t,":").concat((0,Tr.humanId)()),type:Bn[t]||"ragNode",position:o||{x:0,y:0},data:{label:"".concat(t),name:uo(u(t),r),form:c(t)},sourcePosition:wr.Ly.Right,targetPosition:wr.Ly.Left,dragHandle:lo(t)};if(t===Xt.Iteration){a.width=500,a.height=250;var i={id:"".concat(Xt.IterationStart,":").concat((0,Tr.humanId)()),type:"iterationStartNode",position:{x:50,y:100},data:{label:Xt.IterationStart,name:Xt.IterationStart,form:{}},parentId:a.id,extent:"parent"};n(a),n(i)}else{var l=function(e,t){if(t){var n,r=e.filter((function(e){return e.data.label===Xt.Iteration})),o=qr()(r);try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.position,s=i.x,l=i.y,c=a.width,u=a.height,d=(c||0)/2;if(t.x>=s-d&&t.x<=s+d&&t.y>=l&&t.y<=l+(u||0))return{parentId:a.id,position:{x:t.x-s+d,y:t.y-l}}}}catch(e){o.e(e)}finally{o.f()}}}(r,o);l&&(a.parentId=l.parentId,a.position=l.position,a.extent="parent"),n(a)}}}),[s,u,r,c,n]);return{onDrop:f,onDragOver:d,setReactFlowInstance:l}},xo=function(e,t,n){var r=ho((function(e){return e.updateNodeForm})),a=(0,y.useCallback)((function(e,n){var a=n;1===Object.keys(e).length&&"parameter"in e&&e.parameter in Ir.S8&&(a=o()(o()({},n),Ir.S8[e.parameter])),t&&r(t,a)}),[r,t]);return(0,y.useEffect)((function(){var a=null==n?void 0:n.watch((function(n,a){var i,s=a.name,l=a.type,c=a.values;if(t&&s){console.log("🚀 ~ useEffect ~ value:",l,c);var u=n;"parameter"===s&&n.parameter in Ir.S8&&(u=o()(o()({},n),Ir.S8[n.parameter]));e===Xt.Categorize&&/items\.\d+\.name/g.test(s)&&(u=o()(o()({},(0,Cr.omit)(n,"items")),{},{category_description:(i=n.items,i.reduce((function(e,t){return null!=t&&t.name&&(e[t.name]=(0,Cr.omit)(t,"name")),e}),{}))})),r(t,u)}}));return function(){return null==a?void 0:a.unsubscribe()}}),[n,null==n?void 0:n.watch,t,e,r]),{handleValuesChange:a}},_o=function(e){var t=e.id,n=e.data,r=(0,y.useState)(""),o=p()(r,2),a=o[0],i=o[1],s=ho((function(e){return e})),l=s.updateNodeName,c=s.nodes,u=null==n?void 0:n.name,d=(0,y.useCallback)((function(){var e=c.some((function(e){return e.data.name===a}));if(""===Ar()(a)||e)return e&&u!==a&&Pr.ZP.error("The name cannot be repeated"),void i(u);t&&l(t,a)}),[a,t,l,u,c]),f=(0,y.useCallback)((function(e){i(e.target.value)}),[]);return(0,y.useEffect)((function(){i(u)}),[u]),{name:a,handleNameBlur:d,handleNameChange:f}},wo=function(){var e=ho((function(e){return e.getNode}));return(0,y.useCallback)((function(t){var n;return null===(n=e(t))||void 0===n?void 0:n.data.name}),[e])},ko=function(){var e=ho((function(e){return e.duplicateNode})),t=yo();return(0,y.useCallback)((function(n,r){e(n,t(r))}),[e,t])},Co=n(33623),So=n(20334),No=n(97937),Eo=n(85265),jo=n(79123),Io=(n(20034),n(15009)),Mo=n.n(Io),Po=n(99289),To=n.n(Po),Oo=n(39918),Do=n(51509),Ao=n(60806),Zo=n(61921),Ro=n(88484),Fo=n(22150),zo=n(38289),Lo=n(34041),Bo=n(84553),$o=n(77683),Ho=n(24435),Vo=n(72269),Wo=n(71787),Ko=n(93352),Yo=n(55241),Go=/^(((ht|f)tps?):\/\/)?([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/,qo=function(e){var t=e.children,n=e.visible,r=e.switchVisible,o=Fo.Z.useForm(),a=p()(o,1)[0],i=(0,Ko.Mc)(),s=i.parseDocument,l=i.loading,c=(0,je.$G)().t;(0,Mr.Y2)({form:a,visible:n});var u=function(){var e=To()(Mo()().mark((function e(){var t,n,r,o,i;return Mo()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.validateFields();case 2:if(t=e.sent,n=t.url,!Go.test(n)){e.next=9;break}return e.next=7,s(n);case 7:0===(null==(o=e.sent)||null===(r=o.data)||void 0===r?void 0:r.code)&&(a.setFieldValue("result",null==o||null===(i=o.data)||void 0===i?void 0:i.data),a.submit());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=(0,C.jsxs)(Fo.Z,{form:a,name:"urlForm",children:[(0,C.jsx)(Fo.Z.Item,{name:"url",rules:[{required:!0,type:"url"}],className:"m-0",children:(0,C.jsx)(zo.Z,{onPressEnter:function(e){return e.preventDefault()},placeholder:c("flow.pasteFileLink"),suffix:(0,C.jsx)($o.ZP,{type:"primary",onClick:u,size:"small",loading:l,children:c("common.submit")})})}),(0,C.jsx)(Fo.Z.Item,{name:"result",noStyle:!0})]});return(0,C.jsx)(Yo.Z,{content:d,open:n,trigger:"click",onOpenChange:r,children:t})},Uo="formWrapper___g7GIW",Xo=function(e){var t=e.parameters,n=e.ok,r=e.isNext,a=void 0===r||r,i=e.loading,s=void 0!==i&&i,l=e.submitButtonDisabled,c=void 0!==l&&l,u=(0,je.$G)().t,d=Fo.Z.useForm(),f=p()(d,1)[0],g=(0,xe.pG)(),m=g.visible,h=g.hideModal,v=g.switchVisible,b=g.showModal,x=(0,Mr.cE)(),_=x.setRecord,w=x.currentRecord,k=(0,Do.UK)(f).submittable,S=(0,y.useState)(!1),N=p()(S,2),E=N[0],j=N[1],I=(0,y.useCallback)((function(e){return function(){_(e),b()}}),[_,b]),M=function(e){return Array.isArray(e)?e:null==e?void 0:e.fileList},P=(0,y.useCallback)((function(e){return function(t){var n=t.fileList;e||j(n.some((function(e){return"uploading"===e.status})))}}),[]),T=(0,y.useCallback)((function(e,t){var n,r,a,i,s,l={key:t,label:null!==(n=e.name)&&void 0!==n?n:e.key,name:t};!1===e.optional&&(l.rules=[{required:!0}]);var c=f.getFieldValue(t)||[],d=at()(at()(at()(at()(at()(at()({},gr.Line,(0,C.jsx)(Fo.Z.Item,o()(o()({},l),{},{children:(0,C.jsx)(zo.Z,{})}))),gr.Paragraph,(0,C.jsx)(Fo.Z.Item,o()(o()({},l),{},{children:(0,C.jsx)(zo.Z.TextArea,{rows:1})}))),gr.Options,(0,C.jsx)(Fo.Z.Item,o()(o()({},l),{},{children:(0,C.jsx)(Lo.Z,{allowClear:!0,options:null!==(r=null===(a=e.options)||void 0===a?void 0:a.map((function(e){return{label:e,value:e}})))&&void 0!==r?r:[]})}))),gr.File,(0,C.jsxs)(y.Fragment,{children:[(0,C.jsx)(Fo.Z.Item,{label:null!==(i=e.name)&&void 0!==i?i:e.key,required:!e.optional,children:(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)(Fo.Z.Item,o()(o()({},l),{},{valuePropName:"fileList",getValueFromEvent:M,noStyle:!0,children:(0,C.jsx)(Bo.Z,{name:"file",action:Ao.Z.parse,multiple:!0,headers:at()({},Oo._n,(0,Zo.cD)()),onChange:P(e.optional),children:(0,C.jsx)($o.ZP,{icon:(0,C.jsx)(Ro.Z,{}),children:u("common.upload")})})})),(0,C.jsx)(Fo.Z.Item,o()(o()({},(0,Cr.pick)(l,["key","label","rules"])),{},{required:!e.optional,className:c.length>0?"mb-1":"",noStyle:!0,children:(0,C.jsx)(qo,{visible:m,switchVisible:v,children:(0,C.jsx)($o.ZP,{onClick:I(t),className:"absolute left-1/2 top-0",icon:(0,C.jsx)(Wo.Z,{className:"size-3"}),children:u("flow.pasteFileLink")})})}))]})}),(0,C.jsx)(Fo.Z.Item,o()({name:t,noStyle:!0},(0,Cr.pick)(l,["rules"])))]},t)),gr.Integer,(0,C.jsx)(Fo.Z.Item,o()(o()({},l),{},{children:(0,C.jsx)(Ho.Z,{})}))),gr.Boolean,(0,C.jsx)(Fo.Z.Item,o()(o()({valuePropName:"checked"},l),{},{children:(0,C.jsx)(Vo.Z,{})})));return null!==(s=d[e.type])&&void 0!==s?s:d[gr.Paragraph]}),[f,I,P,v,u,m]),O=(0,y.useCallback)(To()(Mo()().mark((function e(){var r,a;return Mo()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.validateFields();case 2:r=e.sent,a=Object.entries(r).map((function(e){var n=p()(e,2),r=n[0],a=n[1],i=t[Number(r)],s=a;return Array.isArray(a)&&(s="",a.forEach((function(e){var t;s+=(null==e?void 0:e.originFileObj)instanceof File?"".concat(e.name,"\n").concat(null===(t=e.response)||void 0===t?void 0:t.data,"\n----\n"):"".concat(e.url,"\n").concat(e.result,"\n----\n")}))),o()(o()({},i),{},{value:s})})),n(a);case 5:case"end":return e.stop()}}),e)}))),[f,n,t]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("section",{className:Uo,children:(0,C.jsx)(Fo.Z.Provider,{onFormFinish:function(e,t){var n=t.values,r=t.forms;if("urlForm"===e){var a=r.basicForm,i=a.getFieldValue(w)||[];a.setFieldsValue(at()({},w,[].concat(Fr()(i),[o()(o()({},n),{},{name:n.url})]))),h()}},children:(0,C.jsx)(Fo.Z,{name:"basicForm",autoComplete:"off",layout:"vertical",form:f,children:t.map((function(e,t){return T(e,t)}))})})}),(0,C.jsx)($o.ZP,{type:"primary",block:!0,onClick:O,loading:s,disabled:!k||E||c,children:u(a?"common.next":"flow.run")})]})},Jo=function(e){var t=e.componentId,n=e.visible,r=e.hideModal,o=(0,je.$G)().t,a=(0,So.XZ)(t).data,i=(0,So.mo)(),s=i.debugSingle,l=i.data,c=i.loading,u=(0,y.useCallback)((function(e){t&&s({component_id:t,params:e})}),[t,s]),d=JSON.stringify(l,null,2);return(0,C.jsx)(Eo.Z,{title:(0,C.jsxs)("div",{className:"flex justify-between",children:[o("flow.testRun"),(0,C.jsx)(No.Z,{onClick:r})]}),width:"100%",onClose:r,open:n,getContainer:!1,mask:!1,placement:"bottom",height:"95%",closeIcon:null,children:(0,C.jsxs)("section",{className:"overflow-y-auto",children:[(0,C.jsx)(Xo,{parameters:a,ok:u,isNext:!1,loading:c,submitButtonDisabled:0===a.length}),(0,Cr.isEmpty)(l)?null:(0,C.jsxs)("div",{className:"mt-4 rounded-md bg-slate-200 border border-neutral-200",children:[(0,C.jsxs)("div",{className:"flex justify-between p-2",children:[(0,C.jsx)("span",{children:"JSON"}),(0,C.jsx)(Co.Z,{text:d})]}),(0,C.jsx)(jo.ZP,{src:l,displaySize:!0,collapseStringsAfterLength:1e11,className:"w-full h-[800px] break-words overflow-auto p-2 bg-slate-100"})]})]})})},Qo=n(1604),ea=n(84676),ta=n(80499),na=n(84586),ra=n(13718),oa=n(31012),aa=n(27361),ia=n.n(aa),sa=function(){var e=ho((function(e){return e.getNode}));return(0,y.useCallback)((function(){return ia()(e(Ut),"data.form.query",[])}),[e])},la=[Xt.Categorize,Xt.Relevant,Xt.Begin,Xt.Note],ca=function(e,t){var n=ho((function(e){return e.nodes})),r=sa()(),o=(0,y.useCallback)((function(e){return t?(e.parentId===t||void 0===e.parentId)&&e.id!==t:void 0===e.parentId}),[t]),a=(0,y.useMemo)((function(){return n.filter((function(t){return t.id!==e&&!la.some((function(e){return e===t.data.label}))&&o(t)})).map((function(e){return{label:e.data.name,value:e.id}}))}),[n,e,o]),i=[{label:(0,C.jsx)("span",{children:"Component Output"}),title:"Component Output",options:a},{label:(0,C.jsx)("span",{children:"Begin Input"}),title:"Begin Input",options:r.map((function(e){return{label:e.name,value:"begin@".concat(e.key)}}))}];return i},ua=function(e){var t=ca(e),n=(0,y.useMemo)((function(){return t.reduce((function(e,t){return[].concat(Fr()(e),Fr()(t.options))}),[])}),[t]),r=(0,y.useCallback)((function(e){var t;return null===(t=n.find((function(t){return t.value===e})))||void 0===t?void 0:t.label}),[n]);return r},da=function(e){return e.Reference="reference",e.Input="input",e}(da||{});function fa(e){var t=e.node,n=(0,je.$G)().t,r=(0,Nr.Gc)(),a=(0,Nr.Dq)({name:"query",control:r.control}),i=a.fields,s=a.remove,c=a.append,u=ca(null==t?void 0:t.id,null==t?void 0:t.parentId),d=[{value:da.Reference,label:n("flow.reference")},{value:da.Input,label:n("flow.text")}];return(0,C.jsxs)("div",{children:[i.map((function(e,t){var a,i="query.".concat(t,".type"),l=r.watch(i);return(0,C.jsxs)("div",{className:"flex items-center gap-1",children:[(0,C.jsx)(ta.Wi,{control:r.control,name:i,render:function(e){var a=e.field;return(0,C.jsxs)(ta.xJ,{className:"w-2/5",children:[(0,C.jsx)(ta.pf,{}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()(o()({},a),{},{placeholder:n("common.pleaseSelect"),options:d,onChange:function(e){a.onChange(e),r.resetField("query.".concat(t,".value")),r.resetField("query.".concat(t,".component_id"))}}))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:r.control,name:"query.".concat(t,".").concat((a=l,a===da.Reference?"component_id":"value")),render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{className:"flex-1",children:[(0,C.jsx)(ta.pf,{}),(0,C.jsx)(ta.NI,{children:l===da.Reference?(0,C.jsx)(na.vM,o()(o()({placeholder:n("common.pleaseSelect")},t),{},{options:u})):(0,C.jsx)(b.II,o()({placeholder:n("common.pleaseInput")},t))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ra.Z,{className:"cursor-pointer mx-3 size-4 text-colors-text-functional-danger",onClick:function(){return s(t)}})]},e.id)})),(0,C.jsxs)(l.z,{onClick:c,className:"mt-4",variant:"outline",size:"sm",children:[(0,C.jsx)(oa.Z,{}),n("flow.addVariable")]})]})}function pa(e){var t=e.node,n=(0,je.$G)().t;return(0,C.jsxs)(tt,{defaultOpen:!0,className:"group/collapsible",children:[(0,C.jsxs)(nt,{className:"flex justify-between w-full pb-2",children:[(0,C.jsx)("span",{className:"font-bold text-2xl text-colors-text-neutral-strong",children:n("flow.input")}),(0,C.jsx)(l.z,{variant:"icon",size:"icon",children:(0,C.jsx)(Ie.Sb,{})})]}),(0,C.jsx)(rt,{children:(0,C.jsx)(fa,{node:t})})]})}var ga=function(e){var t=e.form,n=e.node;return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(pa,{node:n}),(0,C.jsx)(ea._,{max:99})]})}))},ma=function(){return(0,C.jsx)("div",{})},ha=n(3089),va=n(24969),ya=n(86250),ba=n(47221),xa="dynamicInputVariable___HoxrY",_a="title___fyFgo",wa="variableType___jaIkd",ka="variableValue___O7vs6",Ca="addButton___uKYND",Sa=["key","name"],Na=function(e){return e.Reference="reference",e.Input="input",e}(Na||{}),Ea=function(e){return e===Na.Reference?"component_id":"value"},ja=function(e){var t=e.node,n=(0,je.$G)().t,r=ca(null==t?void 0:t.id,null==t?void 0:t.parentId),a=Fo.Z.useFormInstance(),s=[{value:Na.Reference,label:n("flow.reference")},{value:Na.Input,label:n("flow.text")}],l=(0,y.useCallback)((function(e){return function(){setTimeout((function(){a.setFieldValue(["query",e,"component_id"],void 0),a.setFieldValue(["query",e,"value"],void 0)}),0)}}),[a]);return(0,C.jsx)(Fo.Z.List,{name:"query",children:function(e,t){var a=t.add,c=t.remove;return(0,C.jsxs)(C.Fragment,{children:[e.map((function(e){var t=e.key,a=e.name,u=i()(e,Sa);return(0,C.jsxs)(ya.Z,{gap:10,align:"baseline",children:[(0,C.jsx)(Fo.Z.Item,o()(o()({},u),{},{name:[a,"type"],className:wa,children:(0,C.jsx)(Lo.Z,{options:s,onChange:l(a)})})),(0,C.jsx)(Fo.Z.Item,{noStyle:!0,dependencies:[a,"type"],children:function(e){var t=(0,e.getFieldValue)(["query",a,"type"]);return(0,C.jsx)(Fo.Z.Item,o()(o()({},u),{},{name:[a,Ea(t)],className:ka,children:t===Na.Reference?(0,C.jsx)(Lo.Z,{placeholder:n("common.pleaseSelect"),options:r}):(0,C.jsx)(zo.Z,{placeholder:n("common.pleaseInput")})}))}}),(0,C.jsx)(ha.Z,{onClick:function(){return c(a)}})]},t)})),(0,C.jsx)(Fo.Z.Item,{children:(0,C.jsx)($o.ZP,{type:"dashed",onClick:function(){return a({type:Na.Reference})},block:!0,icon:(0,C.jsx)(va.Z,{}),className:Ca,children:n("flow.addVariable")})})]})}})};function Ia(e){var t=e.children,n=e.title;return(0,C.jsx)(ba.Z,{className:xa,defaultActiveKey:["1"],items:[{key:"1",label:(0,C.jsx)("span",{className:_a,children:n}),children:t}]})}var Ma=function(e){var t=e.node,n=(0,je.$G)().t;return(0,C.jsx)(Ia,{title:n("flow.input"),children:(0,C.jsx)(ja,{node:t})})},Pa=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t,a=(0,y.useMemo)((function(){return["submittedDate","lastUpdatedDate","relevance"].map((function(e){return{value:e,label:o(e)}}))}),[o]);return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(ea.Z,{initialValue:10}),(0,C.jsx)(Fo.Z.Item,{label:o("sortBy"),name:"sort_by",children:(0,C.jsx)(Lo.Z,{options:a})})]})},Ta=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t,a=(0,y.useMemo)((function(){return["translate","fieldtranslate"].map((function(e){return{value:e,label:o("baiduSecretKeyOptions.".concat(e))}}))}),[o]),i=(0,y.useMemo)((function(){return qn.map((function(e){return{value:e,label:o("baiduDomainOptions.".concat(e))}}))}),[o]),s=(0,y.useMemo)((function(){return Un.map((function(e){return{value:e,label:o("baiduSourceLangOptions.".concat(e))}}))}),[o]);return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(Fo.Z.Item,{label:o("appid"),name:"appid",children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("secretKey"),name:"secret_key",children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("transType"),name:"trans_type",children:(0,C.jsx)(Lo.Z,{options:a})}),(0,C.jsx)(Fo.Z.Item,{noStyle:!0,dependencies:["model_type"],children:function(e){return"fieldtranslate"===(0,e.getFieldValue)("trans_type")&&(0,C.jsx)(Fo.Z.Item,{label:o("domain"),name:"domain",children:(0,C.jsx)(Lo.Z,{options:i})})}}),(0,C.jsx)(Fo.Z.Item,{label:o("sourceLang"),name:"source_lang",children:(0,C.jsx)(Lo.Z,{options:s})}),(0,C.jsx)(Fo.Z.Item,{label:o("targetLang"),name:"target_lang",children:(0,C.jsx)(Lo.Z,{options:s})})]})},Oa=function(e){var t=e.form,n=e.node;return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(pa,{node:n}),(0,C.jsx)(ea._,{})]})}))},Da=n(85576),Aa=function(){return(0,C.jsx)(Fo.Z.List,{name:"options",rules:[{validator:(e=To()(Mo()().mark((function e(t,n){return Mo()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&!(n.length<1)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("At least 1 option")));case 2:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)})}],children:function(e,t,n){var r=t.add,a=t.remove,i=n.errors;return(0,C.jsxs)(C.Fragment,{children:[e.map((function(t,n){return(0,C.jsxs)(Fo.Z.Item,{label:0===n?"Options":"",required:!1,children:[(0,C.jsx)(Fo.Z.Item,o()(o()({},t),{},{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input option or delete this field."}],noStyle:!0,children:(0,C.jsx)(zo.Z,{placeholder:"option",style:{width:"90%",marginRight:16}})})),e.length>1?(0,C.jsx)(ha.Z,{className:"dynamic-delete-button",onClick:function(){return a(t.name)}}):null]},t.key)})),(0,C.jsxs)(Fo.Z.Item,{children:[(0,C.jsx)($o.ZP,{type:"dashed",onClick:function(){return r()},icon:(0,C.jsx)(va.Z,{}),block:!0,children:"Add option"}),(0,C.jsx)(Fo.Z.ErrorList,{errors:i})]})]})}});var e},Za=function(e){var t=e.visible,n=e.initialValue,r=e.hideModal,o=e.otherThanCurrentQuery,a=(0,je.$G)().t,i=Fo.Z.useForm(),s=p()(i,1)[0],l=(0,y.useMemo)((function(){return Object.values(gr).reduce((function(e,t){var n=mr[t];return[].concat(Fr()(e),[{label:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(n,{className:"size-".concat(t===gr.Options?4:5)}),t]}),value:t}])}),[])}),[]);(0,Mr.Y2)({form:s,visible:t}),(0,y.useEffect)((function(){s.setFieldsValue(n)}),[s,n]);return(0,C.jsx)(Da.Z,{title:a("flow.variableSettings"),open:t,onOk:function(){s.submit()},onCancel:r,centered:!0,children:(0,C.jsxs)(Fo.Z,{form:s,layout:"vertical",name:"queryForm",autoComplete:"false",children:[(0,C.jsx)(Fo.Z.Item,{name:"type",label:"Type",rules:[{required:!0}],initialValue:gr.Line,children:(0,C.jsx)(Lo.Z,{options:l})}),(0,C.jsx)(Fo.Z.Item,{name:"key",label:"Key",rules:[{required:!0},function(){return{validator:function(e,t){return t&&o.some((function(e){return e.key===t}))?Promise.reject(new Error("The key cannot be repeated!")):Promise.resolve()}}}],children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{name:"name",label:"Name",rules:[{required:!0}],children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{name:"optional",label:"Optional",valuePropName:"checked",initialValue:!1,children:(0,C.jsx)(Vo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{shouldUpdate:function(e,t){return e.type!==t.type},children:function(e){return(0,e.getFieldValue)("type")===gr.Options&&(0,C.jsx)(Aa,{})}})]})})},Ra=n(86548),Fa=n(48689),za=n(83062),La=n(42075),Ba=n(70229),$a="dynamicInputVariable___eq1iJ",Ha="title___QQvqD",Va="addButton___DjkKw",Wa=function(e){var t=e.data,n=e.deleteRecord,r=e.showModal,o=(0,je.$G)().t,a=[{title:"Key",dataIndex:"key",key:"key",ellipsis:{showTitle:!1},render:function(e){return(0,C.jsx)(za.Z,{placement:"topLeft",title:e,children:e})}},{title:o("flow.name"),dataIndex:"name",key:"name",ellipsis:{showTitle:!1},render:function(e){return(0,C.jsx)(za.Z,{placement:"topLeft",title:e,children:e})}},{title:o("flow.type"),dataIndex:"type",key:"type"},{title:o("flow.optional"),dataIndex:"optional",key:"optional",render:function(e){return e?"Yes":"No"}},{title:o("common.action"),key:"action",render:function(e,t,o){return(0,C.jsxs)(La.Z,{children:[(0,C.jsx)(Ra.Z,{onClick:function(){return r(o,t)}}),(0,C.jsx)(Fa.Z,{className:"cursor-pointer",onClick:function(){return n(o)}})]})}}];return(0,C.jsx)(ba.Z,{defaultActiveKey:["1"],className:$a,items:[{key:"1",label:(0,C.jsx)("span",{className:Ha,children:o("flow.input")}),children:(0,C.jsx)(Ba.Z,{columns:a,dataSource:t,pagination:!1})}]})},Ka=function(e){var t=e.onValuesChange,n=e.form,r=(0,je.$G)().t,o=function(e){var t=e.form,n=e.onValuesChange,r=(0,Mr.cE)(),o=r.setRecord,a=r.currentRecord,i=(0,xe.pG)(),s=i.visible,l=i.hideModal,c=i.showModal,u=(0,y.useState)(-1),d=p()(u,2),f=d[0],g=d[1],m=(0,y.useMemo)((function(){return((null==t?void 0:t.getFieldValue("query"))||[]).filter((function(e,t){return t!==f}))}),[t,f]),h=(0,y.useCallback)((function(e){var r=(null==t?void 0:t.getFieldValue("query"))||[],o=f>-1?r.toSpliced(f,1,e):[].concat(Fr()(r),[e]);null==n||n({query:o},{query:o,prologue:null==t?void 0:t.getFieldValue("prologue")}),l()}),[t,l,f,n]),v=(0,y.useCallback)((function(e,t){g(null!=e?e:-1),o(null!=t?t:{}),c()}),[o,c]);return{ok:h,currentRecord:a,setRecord:o,visible:s,hideModal:l,showModal:v,otherThanCurrentQuery:m}}({form:n,onValuesChange:t}),a=o.ok,i=o.currentRecord,s=o.visible,l=o.hideModal,c=o.showModal,u=o.otherThanCurrentQuery,d=(0,y.useCallback)((function(e){var r=((null==n?void 0:n.getFieldValue("query"))||[]).filter((function(t,n){return n!==e}));null==t||t({query:r},{query:r,prologue:null==n?void 0:n.getFieldValue("prologue")})}),[n,t]);return(0,C.jsx)(Fo.Z.Provider,{onFormFinish:function(e,t){var n=t.values;"queryForm"===e&&a(n)},children:(0,C.jsxs)(Fo.Z,{name:"basicForm",onValuesChange:t,autoComplete:"off",form:n,layout:"vertical",children:[(0,C.jsx)(Fo.Z.Item,{name:"prologue",label:r("chat.setAnOpener"),tooltip:r("chat.setAnOpenerTip"),initialValue:r("chat.setAnOpenerInitial"),children:(0,C.jsx)(zo.Z.TextArea,{autoSize:{minRows:5}})}),(0,C.jsx)(Fo.Z.Item,{name:"query",noStyle:!0}),(0,C.jsx)(Fo.Z.Item,{shouldUpdate:function(e,t){return e.query!==t.query},children:function(e){var t=(0,e.getFieldValue)("query")||[];return(0,C.jsx)(Wa,{data:t,showModal:c,deleteRecord:d})}}),(0,C.jsx)($o.ZP,{htmlType:"button",style:{margin:"0 8px"},onClick:function(){return c()},icon:(0,C.jsx)(va.Z,{}),block:!0,className:Va,children:r("flow.addItem")}),s&&(0,C.jsx)(Za,{visible:s,hideModal:l,initialValue:i,onOk:a,otherThanCurrentQuery:u})]})})},Ya=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t,a=(0,y.useMemo)((function(){return["Webpages","News"].map((function(e){return{label:e,value:e}}))}),[]);return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(ea.Z,{initialValue:10}),(0,C.jsx)(Fo.Z.Item,{label:o("channel"),name:"channel",children:(0,C.jsx)(Lo.Z,{options:a})}),(0,C.jsx)(Fo.Z.Item,{label:o("apiKey"),name:"api_key",children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("country"),name:"country",children:(0,C.jsx)(Lo.Z,{options:Wn})}),(0,C.jsx)(Fo.Z.Item,{label:o("language"),name:"language",children:(0,C.jsx)(Lo.Z,{options:Kn})})]})},Ga=n(45015);function qa(){var e=(0,Nr.Gc)(),t=(0,je.$G)().t;return(0,C.jsx)(ta.Wi,{control:e.control,name:"llm_id",render:function(e){var n=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{tooltip:t("chat.modelTip"),children:t("chat.model")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(Ga.U,o()({},n))}),(0,C.jsx)(ta.zG,{})]})}})}var Ua=n(13917),Xa=n(79720);const Ja=(0,h.Z)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var Qa=function(e,t){var n=ho((function(e){return e.nodes})),r=(0,y.useCallback)((function(r){var o,a=[Xt.Note].concat(Fr()(null!==(o=Ln[e])&&void 0!==o?o:[]));return n.filter((function(e){return a.every((function(t){return t!==e.data.label}))&&e.id!==t&&!r.some((function(t){return t===e.id}))})).map((function(e){return{label:e.data.name,value:e.id}}))}),[n,e,t]);return r},ei=function(){var e=(0,xe.qM)("flow").t,t=(0,y.useMemo)((function(){return["data","relevance"].map((function(t){return{value:t,label:e(t)}}))}),[e]);return t},ti=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"items",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return(null!==(t=e.getValues(n))&&void 0!==t?t:[]).map((function(e){return e[o]})).filter((function(t){return t!==e.getValues("".concat(n,".").concat(r,".").concat(o))}))},ni=function(e){var t=e.value,n=e.onChange,r=e.otherNames,o=e.validate,a=(0,y.useState)(),i=p()(a,2),s=i[0],l=i[1],c=(0,xe.qM)("flow").t,u=(0,y.useCallback)((function(e){var t=e.target.value;l(t);var n=Ar()(t);null!=r&&r.some((function(e){return e===n}))?o(c("nameRepeatedMsg")):o(""===n?c("nameRequiredMsg"):"")}),[r,o,c]),d=(0,y.useCallback)((function(e){var t=e.target.value;null!=r&&r.every((function(e){return e!==t}))&&""!==Ar()(t)&&(null==n||n(t))}),[n,r]);return(0,y.useEffect)((function(){l(t)}),[t]),(0,C.jsx)(b.II,{value:s,onChange:u,onBlur:d})},ri=function(e){var t=e.nodeId,n=e.index,r=(0,Nr.Gc)(),a=(0,xe.qM)("flow").t,i=Qa(Xt.Categorize,t),s=(0,y.useCallback)((function(e){return"items.".concat(n,".").concat(e)}),[n]);return(0,C.jsxs)("section",{className:"space-y-4",children:[(0,C.jsx)(ta.Wi,{control:r.control,name:s("name"),render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:a("categoryName")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(ni,o()(o()({},t),{},{otherNames:ti(r,"items",n,"name"),validate:function(e){var t=s("name");e?r.setError(t,{message:e}):r.clearErrors(t)}}))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:r.control,name:s("description"),render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:a("description")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(Xa.g,o()(o()({},t),{},{rows:3}))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:r.control,name:s("examples"),render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:a("examples")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(Xa.g,o()(o()({},t),{},{rows:3}))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:r.control,name:s("to"),render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:a("nextStep")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()(o()({},t),{},{allowClear:!0,options:i(ti(r,"items",n,"to"))}))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:r.control,name:"index",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{className:"hidden",children:[(0,C.jsx)(ta.lX,{children:a("examples")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(b.II,o()({},t))}),(0,C.jsx)(ta.zG,{})]})}})]})},oi=function(e){var t=e.nodeId,n=(0,we.Bn)(),r=(0,Nr.Gc)(),o=(0,xe.qM)("flow").t,a=(0,Nr.Dq)({name:"items",control:r.control}),i=a.fields,s=a.remove,c=a.append;return(0,C.jsxs)("div",{className:"flex flex-col gap-4 ",children:[i.map((function(e,n){return(0,C.jsxs)(tt,{children:[(0,C.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,C.jsx)("h4",{className:"font-bold",children:r.getValues("items.".concat(n,".name"))}),(0,C.jsx)(nt,{asChild:!0,children:(0,C.jsxs)("div",{className:"flex gap-4",children:[(0,C.jsx)(l.z,{variant:"ghost",size:"sm",className:"w-9 p-0",onClick:function(){return s(n)},children:(0,C.jsx)(w.Z,{className:"h-4 w-4"})}),(0,C.jsxs)(l.z,{variant:"ghost",size:"sm",className:"w-9 p-0",children:[(0,C.jsx)(Ja,{className:"h-4 w-4"}),(0,C.jsx)("span",{className:"sr-only",children:"Toggle"})]})]})})]}),(0,C.jsx)(rt,{children:(0,C.jsx)(ri,{nodeId:t,index:n})})]},e.id)})),(0,C.jsxs)(l.z,{type:"button",onClick:function(){c({name:Or()()}),t&&n(t)},children:[(0,C.jsx)(va.Z,{}),o("addCategory")]})]})},ai=function(e){var t=e.form,n=e.node;return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6 p-5 overflow-auto max-h-[76vh]",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(pa,{node:n}),(0,C.jsx)(qa,{}),(0,C.jsx)(Ua.s,{}),(0,C.jsx)(oi,{nodeId:null==n?void 0:n.id})]})}))},ii=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t,a=(0,y.useMemo)((function(){return pr.map((function(e){return{value:e,label:o("crawlerResultOptions.".concat(e))}}))}),[o]);return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(Fo.Z.Item,{label:o("proxy"),name:"proxy",children:(0,C.jsx)(zo.Z,{placeholder:"like: http://127.0.0.1:8888"})}),(0,C.jsx)(Fo.Z.Item,{label:o("extractType"),name:"extract_type",initialValue:"markdown",children:(0,C.jsx)(Lo.Z,{options:a})})]})},si=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t,a=ei();return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(ea.Z,{initialValue:5}),(0,C.jsx)(Fo.Z.Item,{label:o("authKey"),name:"auth_key",children:(0,C.jsx)(Lo.Z,{options:a})}),(0,C.jsx)(Fo.Z.Item,{label:o("sourceLang"),name:"source_lang",children:(0,C.jsx)(Lo.Z,{options:Yn})}),(0,C.jsx)(Fo.Z.Item,{label:o("targetLang"),name:"target_lang",children:(0,C.jsx)(Lo.Z,{options:Gn})})]})},li=function(e){var t=e.form,n=e.node,r=(0,xe.qM)("flow").t,a=(0,y.useMemo)((function(){return Object.values(qt).map((function(e){return{value:e,label:r(e)}}))}),[r]);return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(pa,{node:n}),(0,C.jsx)(ea._,{}),(0,C.jsx)(ta.Wi,{control:t.control,name:"channel",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{tooltip:r("channelTip"),children:r("channel")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()(o()({},t),{},{options:a}))}),(0,C.jsx)(ta.zG,{})]})}})]})}))},ci=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t;return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(Fo.Z.Item,{label:o("smtpServer"),name:"smtp_server",children:(0,C.jsx)(zo.Z,{placeholder:"smtp.example.com"})}),(0,C.jsx)(Fo.Z.Item,{label:o("smtpPort"),name:"smtp_port",children:(0,C.jsx)(zo.Z,{type:"number",placeholder:"587"})}),(0,C.jsx)(Fo.Z.Item,{label:o("senderEmail"),name:"email",children:(0,C.jsx)(zo.Z,{placeholder:"sender@example.com"})}),(0,C.jsx)(Fo.Z.Item,{label:o("authCode"),name:"password",children:(0,C.jsx)(zo.Z.Password,{placeholder:"your_password"})}),(0,C.jsx)(Fo.Z.Item,{label:o("senderName"),name:"sender_name",children:(0,C.jsx)(zo.Z,{placeholder:"Sender Name"})}),(0,C.jsxs)("div",{style:{marginBottom:24},children:[(0,C.jsx)("h4",{children:o("dynamicParameters")}),(0,C.jsx)("div",{children:o("jsonFormatTip")}),(0,C.jsx)("pre",{style:{background:"#f5f5f5",padding:12,borderRadius:4},children:'{\n  "to_email": "recipient@example.com",  \n  "cc_email": "cc@example.com",\n  "subject": "Email Subject",           \n  "content": "Email Content"            \n}'})]})]})},ui=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t,a=(0,So.OX)(),i=a.testDbConnect,s=a.loading,l=(0,y.useCallback)(To()(Mo()().mark((function e(){var t;return Mo()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==n?void 0:n.validateFields();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)}))),[n,i]);return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(Fo.Z.Item,{name:"llm_id",label:o("model",{keyPrefix:"chat"}),tooltip:o("modelTip",{keyPrefix:"chat"}),children:(0,C.jsx)(Ga.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("dbType"),name:"db_type",rules:[{required:!0}],children:(0,C.jsx)(Lo.Z,{options:tr})}),(0,C.jsx)(Fo.Z.Item,{label:o("database"),name:"database",rules:[{required:!0}],children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("username"),name:"username",rules:[{required:!0}],children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("host"),name:"host",rules:[{required:!0}],children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("port"),name:"port",rules:[{required:!0}],children:(0,C.jsx)(Ho.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("password"),name:"password",rules:[{required:!0}],children:(0,C.jsx)(zo.Z.Password,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("loop"),name:"loop",tooltip:o("loopTip"),rules:[{required:!0}],children:(0,C.jsx)(Ho.Z,{})}),(0,C.jsx)(ea.Z,{initialValue:30,max:1e3}),(0,C.jsx)(ya.Z,{justify:"end",children:(0,C.jsx)($o.ZP,{type:"primary",loading:s,onClick:l,children:"Test"})})]})},di=n(74369),fi=n(2834),pi=function(e){var t=e.form,n=(0,je.$G)().t;return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(ta.Wi,{control:t.control,name:"llm_id",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{tooltip:n("chat.modelTip"),children:n("chat.model")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(Ga.U,o()({},t))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:t.control,name:"prompt",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{tooltip:n("knowledgeConfiguration.promptTip"),children:n("flow.systemPrompt")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(di.Q,o()({},t))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:t.control,name:"cite",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{tooltip:n("flow.citeTip"),children:n("flow.cite")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(fi.r,o()({},t))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(Ua.s,{})]})}))},gi=function(e){var t=e.onValuesChange,n=e.form,r=e.node;return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(ea.Z,{initialValue:5})]})},mi=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t;return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(ea.Z,{initialValue:10}),(0,C.jsx)(Fo.Z.Item,{label:o("apiKey"),name:"api_key",children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("country"),name:"country",children:(0,C.jsx)(Lo.Z,{options:Vn})}),(0,C.jsx)(Fo.Z.Item,{label:o("language"),name:"language",children:(0,C.jsx)(Lo.Z,{options:Hn})})]})},hi=n(4638),vi=n(27484),yi=n.n(vi),bi=function(e){var t=e.onChange,n=e.value,r=(0,y.useCallback)((function(e){var n=null==e?void 0:e.format("YYYY");null==t||t(n?Number(n):void 0)}),[t]),o=(0,y.useMemo)((function(){if(n)return yi()(n.toString())}),[n]);return(0,C.jsx)(hi.Z,{picker:"year",onChange:r,value:o})},xi=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t,a=ei();return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(ea.Z,{initialValue:5}),(0,C.jsx)(Fo.Z.Item,{label:o("sortBy"),name:"sort_by",initialValue:"relevance",children:(0,C.jsx)(Lo.Z,{options:a})}),(0,C.jsx)(Fo.Z.Item,{label:o("yearLow"),name:"year_low",children:(0,C.jsx)(bi,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("yearHigh"),name:"year_high",children:(0,C.jsx)(bi,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("patents"),name:"patents",valuePropName:"checked",initialValue:!0,children:(0,C.jsx)(Vo.Z,{})})]})},_i=n(63764),wi=n(97681),ki="editableRow___Ba0pp",Ci="dynamicParameterVariable___KcJhK",Si="title___ZGuAo",Ni={body:{row:wi.D,cell:wi.n}},Ei=function(e){var t=e.node,n=null==t?void 0:t.id,r=(0,xe.qM)("flow").t,a=ca(n,null==t?void 0:t.parentId),i=function(e){var t=ho((function(e){return e})),n=t.getNode,r=t.updateNodeForm,a=n(e),i=(0,y.useMemo)((function(){return ia()(a,"data.form.variables",[])}),[a]),s=(0,y.useCallback)((function(t,n,a){var s=Fr()(i),l=s.findIndex((function(e){return t.id===e.id})),c=s[l];s.splice(l,1,o()(o()({},c),{},at()({},n,a))),r(e,{variables:s})}),[i,e,r]),l=(0,y.useCallback)((function(e){return function(t){s(e,"component_id",t)}}),[s]),c=(0,y.useCallback)((function(e){return function(t){s(e,"value",t.target.value)}}),[s]),u=(0,y.useCallback)((function(t){return function(){var n=i.filter((function(e){return e.id!==t}));r(e,{variables:n})}}),[r,e,i]);return{handleAdd:(0,y.useCallback)((function(t){t.preventDefault(),t.stopPropagation(),r(e,{variables:[].concat(Fr()(i),[{id:(0,Zr.Z)(),key:"",component_id:void 0,value:""}])})}),[i,e,r]),handleRemove:u,handleComponentIdChange:l,handleValueChange:c,handleSave:function(t){var n=Fr()(i),a=n.findIndex((function(e){return t.id===e.id})),s=n[a];n.splice(a,1,o()(o()({},s),t)),r(e,{variables:n})},dataSource:i}}(n),s=i.dataSource,l=i.handleAdd,c=i.handleRemove,u=i.handleSave,d=i.handleComponentIdChange,f=i.handleValueChange,p=[{title:r("key"),dataIndex:"key",key:"key",onCell:function(e){return{record:e,editable:!0,dataIndex:"key",title:"key",handleSave:u}}},{title:r("componentId"),dataIndex:"component_id",key:"component_id",align:"center",width:140,render:function(e,t){return(0,C.jsx)(Lo.Z,{style:{width:"100%"},allowClear:!0,options:a,value:e,disabled:""!==(0,Cr.trim)(t.value),onChange:d(t)})}},{title:r("value"),dataIndex:"value",key:"value",align:"center",width:140,render:function(e,t){return(0,C.jsx)(zo.Z,{value:e,disabled:!!t.component_id,onChange:f(t)})}},{title:r("operation"),dataIndex:"operation",width:20,key:"operation",align:"center",fixed:"right",render:function(e,t){return(0,C.jsx)(Fa.Z,{onClick:c(t.id)})}}];return(0,C.jsx)(ba.Z,{className:Ci,defaultActiveKey:["1"],items:[{key:"1",label:(0,C.jsxs)(ya.Z,{justify:"space-between",children:[(0,C.jsx)("span",{className:Si,children:r("parameter")}),(0,C.jsx)($o.ZP,{size:"small",onClick:l,children:r("add")})]}),children:(0,C.jsx)(Ba.Z,{dataSource:s,columns:p,rowKey:"id",components:Ni,rowClassName:function(){return ki},scroll:{x:!0},bordered:!0})}]})};_i._m.config({paths:{vs:"/vs"}});var ji=function(e){return e.GET="GET",e.POST="POST",e.PUT="PUT",e}(ji||{}),Ii=[ji.GET,ji.POST,ji.PUT].map((function(e){return{label:e,value:e}})),Mi=function(e){var t=e.value,n=e.onChange,r=(0,je.$G)().t;return(0,C.jsxs)(La.Z,{children:[(0,C.jsx)(Ho.Z,{value:t,onChange:n})," ",r("common.s")]})},Pi=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,je.$G)().t;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Fo.Z.Item,{name:"url",label:o("flow.url"),children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{name:"method",label:o("flow.method"),initialValue:ji.GET,children:(0,C.jsx)(Lo.Z,{options:Ii})}),(0,C.jsx)(Fo.Z.Item,{name:"timeout",label:o("flow.timeout"),children:(0,C.jsx)(Mi,{})}),(0,C.jsx)(Fo.Z.Item,{name:"headers",label:o("flow.headers"),children:(0,C.jsx)(_i.ZP,{height:200,defaultLanguage:"json",theme:"vs-dark"})}),(0,C.jsx)(Fo.Z.Item,{name:"proxy",label:o("flow.proxy"),children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{name:"clean_html",label:o("flow.cleanHtml"),tooltip:o("flow.cleanHtmlTip"),children:(0,C.jsx)(Vo.Z,{})}),(0,C.jsx)(Ei,{node:r})]})})},Ti=n(69035),Oi=n(38560),Di=n(6598),Ai=n(92817),Zi=n(7314),Ri=[{value:",",icon:Ie.bJ,text:"comma"},{value:"\n",icon:Ti.Z,text:"lineBreak"},{value:"tab",icon:Oi.Z,text:"tab"},{value:"_",icon:Di.Z,text:"underline"},{value:"/",icon:Ai.Z,text:"diagonal"},{value:"-",icon:Zi.Z,text:"minus"},{value:";",icon:Ie.MM,text:"semicolon"}],Fi=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,je.$G)().t,a=(0,y.useMemo)((function(){return Ri.map((function(e){var t=e.icon;return{value:e.value,label:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)(t,{className:"size-4"}),o("flow.delimiterOptions.".concat(e.text))]})}}))}),[o]);return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(Fo.Z.Item,{name:["delimiter"],label:o("knowledgeDetails.delimiter"),initialValue:"\\n!?;。；！？",rules:[{required:!0}],tooltip:o("flow.delimiterTip"),children:(0,C.jsx)(Lo.Z,{options:a})})]})},zi=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t,a=(0,y.useMemo)((function(){return ir.map((function(e){return{value:e,label:o("jin10TypeOptions.".concat(e))}}))}),[o]),i=(0,y.useMemo)((function(){return sr.map((function(e){return{value:e,label:o("jin10FlashTypeOptions.".concat(e))}}))}),[o]),s=(0,y.useMemo)((function(){return lr.map((function(e){return{value:e,label:o("jin10CalendarTypeOptions.".concat(e))}}))}),[o]),l=(0,y.useMemo)((function(){return cr.map((function(e){return{value:e,label:o("jin10CalendarDatashapeOptions.".concat(e))}}))}),[o]),c=(0,y.useMemo)((function(){return ur.map((function(e){return{value:e,label:o("jin10SymbolsTypeOptions.".concat(e))}}))}),[o]),u=(0,y.useMemo)((function(){return dr.map((function(e){return{value:e,label:o("jin10SymbolsDatatypeOptions.".concat(e))}}))}),[o]);return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(Fo.Z.Item,{label:o("type"),name:"type",initialValue:"flash",children:(0,C.jsx)(Lo.Z,{options:a})}),(0,C.jsx)(Fo.Z.Item,{label:o("secretKey"),name:"secret_key",children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{noStyle:!0,dependencies:["type"],children:function(e){switch((0,e.getFieldValue)("type")){case"flash":return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Fo.Z.Item,{label:o("flashType"),name:"flash_type",children:(0,C.jsx)(Lo.Z,{options:i})}),(0,C.jsx)(Fo.Z.Item,{label:o("contain"),name:"contain",children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("filter"),name:"filter",children:(0,C.jsx)(zo.Z,{})})]});case"calendar":return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Fo.Z.Item,{label:o("calendarType"),name:"calendar_type",children:(0,C.jsx)(Lo.Z,{options:s})}),(0,C.jsx)(Fo.Z.Item,{label:o("calendarDatashape"),name:"calendar_datashape",children:(0,C.jsx)(Lo.Z,{options:l})})]});case"symbols":return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Fo.Z.Item,{label:o("symbolsType"),name:"symbols_type",children:(0,C.jsx)(Lo.Z,{options:c})}),(0,C.jsx)(Fo.Z.Item,{label:o("symbolsDatatype"),name:"symbols_datatype",children:(0,C.jsx)(Lo.Z,{options:u})})]});case"news":return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Fo.Z.Item,{label:o("contain"),name:"contain",children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("filter"),name:"filter",children:(0,C.jsx)(zo.Z,{})})]});default:return(0,C.jsx)(C.Fragment,{})}}})]})},Li=function(e){var t=e.form,n=e.node,r=(0,je.$G)().t;return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(pa,{node:n}),(0,C.jsx)(ta.Wi,{control:t.control,name:"llm_id",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{tooltip:r("chat.modelTip"),children:r("chat.model")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(Ga.U,o()({},t))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ea._,{})]})}))};const Bi=(0,h.Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var $i=function(e){var t=e.form,n=(0,je.$G)().t,r=(0,Nr.Dq)({name:"messages",control:t.control}),a=r.fields,i=r.append,s=r.remove;return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsx)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:n("flow.msg")}),(0,C.jsxs)("div",{className:"space-y-4",children:[a.map((function(e,r){return(0,C.jsxs)("div",{className:"flex items-start gap-2",children:[(0,C.jsx)(ta.Wi,{control:t.control,name:"messages.".concat(r),render:function(e){var t=e.field;return(0,C.jsx)(ta.xJ,{className:"flex-1",children:(0,C.jsx)(ta.NI,{children:(0,C.jsx)(Xa.g,o()(o()({},t),{},{placeholder:n("flow.messagePlaceholder"),rows:5}))})})}}),a.length>1&&(0,C.jsx)(l.z,{variant:"ghost",size:"icon",type:"button",onClick:function(){return s(r)},className:"cursor-pointer text-colors-text-functional-danger",children:(0,C.jsx)(ra.Z,{className:"h-4 w-4"})})]},e.id)})),(0,C.jsxs)(l.z,{type:"button",variant:"outline",onClick:function(){return i(" ")},className:"w-full mt-4",children:[(0,C.jsx)(Bi,{className:"mr-2 h-4 w-4"}),n("flow.addMessage")]})]}),(0,C.jsx)(ta.zG,{})]})})}))},Hi=function(e){var t=e.form,n=e.node,r=(0,xe.qM)("flow").t;return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(pa,{node:n}),(0,C.jsx)(ea._,{}),(0,C.jsx)(ta.Wi,{control:t.control,name:"email",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{tooltip:r("emailTip"),children:r("email")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(b.II,o()({},t))}),(0,C.jsx)(ta.zG,{})]})}})]})}))},Vi=function(e){return e.Type="type",e.UserType="user_type",e}(Vi||{}),Wi=function(e){var t=e.form,n=e.node,r=(0,je.$G)().t,a=t.watch(Vi.Type),i=(0,y.useMemo)((function(){return Xn.map((function(e){return{value:e,label:r("flow.qWeatherLangOptions.".concat(e))}}))}),[r]),s=(0,y.useMemo)((function(){return Jn.map((function(e){return{value:e,label:r("flow.qWeatherTypeOptions.".concat(e))}}))}),[r]),l=(0,y.useMemo)((function(){return Qn.map((function(e){return{value:e,label:r("flow.qWeatherUserTypeOptions.".concat(e))}}))}),[r]),c=(0,y.useCallback)((function(){var e=er;return"free"===t.getValues(Vi.UserType)&&(e=e.slice(0,3)),e.map((function(e){return{value:e,label:r("flow.qWeatherTimePeriodOptions.".concat(e))}}))}),[t,r]);return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(pa,{node:n}),(0,C.jsx)(ta.Wi,{control:t.control,name:"web_apikey",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:r("flow.webApiKey")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(b.II,o()({},t))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:t.control,name:"lang",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:r("flow.lang")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()(o()({},t),{},{options:i}))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:t.control,name:Vi.Type,render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:r("flow.type")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()(o()({},t),{},{options:s}))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:t.control,name:Vi.UserType,render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:r("flow.userType")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()(o()({},t),{},{options:l}))}),(0,C.jsx)(ta.zG,{})]})}}),"weather"===a&&(0,C.jsx)(ta.Wi,{control:t.control,name:"time_period",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:r("flow.timePeriod")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()(o()({},t),{},{options:c()}))}),(0,C.jsx)(ta.zG,{})]})}})]})}))},Ki=n(78718),Yi=n.n(Ki),Gi=function(e,t){var n;return null===(n=e.find((function(e){return e.sourceHandle===t})))||void 0===n?void 0:n.target},qi=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t,a=Qa(Xt.Relevant,null==r?void 0:r.id);return function(e){var t=e.nodeId,n=e.form,r=ho((function(e){return e.edges})),o=ho((function(e){return e.getNode}))(t),a=(0,y.useCallback)((function(){o&&(null==n||n.setFieldsValue(Yi()(o,["yes","no"])))}),[o,n]);(0,y.useCallback)((function(){var e=r.filter((function(e){return e.source===t})),o=Gi(e,"yes"),a=Gi(e,"no");null==n||n.setFieldsValue({yes:o,no:a})}),[r,t,n]),(0,y.useEffect)((function(){a()}),[a])}({nodeId:null==r?void 0:r.id,form:n}),(0,C.jsxs)(Fo.Z,{name:"basic",labelCol:{span:4},wrapperCol:{span:20},onValuesChange:t,autoComplete:"off",form:n,children:[(0,C.jsx)(Fo.Z.Item,{name:"llm_id",label:o("model",{keyPrefix:"chat"}),tooltip:o("modelTip",{keyPrefix:"chat"}),children:(0,C.jsx)(Ga.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("yes"),name:"yes",children:(0,C.jsx)(Lo.Z,{allowClear:!0,options:a([null==n?void 0:n.getFieldValue("no")])})}),(0,C.jsx)(Fo.Z.Item,{label:o("no"),name:"no",children:(0,C.jsx)(Lo.Z,{allowClear:!0,options:a([null==n?void 0:n.getFieldValue("yes")])})})]})},Ui=n(91929),Xi=n(77567),Ji=n(32739),Qi=function(e){var t=e.form,n=e.node,r=(0,je.$G)().t;return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(pa,{node:n}),(0,C.jsx)(Ji.F,{vectorSimilarityWeightName:"keywords_similarity_weight",isTooltipShown:!0}),(0,C.jsx)(ea._,{}),(0,C.jsx)(Xi.eT,{}),(0,C.jsx)(Ui.p,{}),(0,C.jsx)(ta.Wi,{control:t.control,name:"empty_response",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:r("chat.emptyResponse")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(Xa.g,o()(o()({placeholder:r("common.namePlaceholder")},t),{},{autoComplete:"off",rows:4}))}),(0,C.jsx)(ta.zG,{})]})}})]})}))},es=function(e){var t=e.form,n=(0,je.$G)().t;return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(ta.Wi,{control:t.control,name:"llm_id",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{tooltip:n("chat.modelTip"),children:n("chat.model")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(Ga.U,o()({},t))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:t.control,name:"language",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{tooltip:n("chat.languageTip"),children:n("chat.language")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()({options:Hn,allowClear:!0},t))}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(Ua.s,{})]})}))},ts=n(4393),ns=n(96074),rs="caseCard___O5x8z",os="conditionCard___YLYXC",as="elseCase___No4VP",is="addButton___pBtNC",ss=function(e){var t,n,r=e.onValuesChange,o=e.node,a=e.form,i=(0,je.$G)().t,s=Qa(Xt.Switch,null==o?void 0:o.id),l=(0,y.useMemo)((function(){return rr.map((function(e){return{value:e.value,label:i("flow.switchOperatorOptions.".concat(e.label))}}))}),[i]),c=(0,y.useMemo)((function(){return or.map((function(e){return{value:e,label:i("flow.switchLogicOperatorOptions.".concat(e))}}))}),[i]),u=ca(null==o?void 0:o.id,null==o?void 0:o.parentId);return(0,C.jsxs)(Fo.Z,{form:a,name:"dynamic_form_complex",autoComplete:"off",initialValues:{conditions:[{}]},onValuesChange:r,layout:"vertical",children:[(0,C.jsx)(Fo.Z.List,{name:"conditions",children:function(e,t){var n=t.add,r=t.remove;return(0,C.jsxs)("div",{style:{display:"flex",rowGap:16,flexDirection:"column"},children:[e.map((function(e){return(0,C.jsxs)(ts.Z,{size:"small",title:"Case ".concat(e.name+1),className:rs,extra:(0,C.jsx)(No.Z,{onClick:function(){r(e.name)}}),children:[(0,C.jsx)(Fo.Z.Item,{noStyle:!0,dependencies:[e.name,"items"],children:function(t){var n;return(null===(n=(0,t.getFieldValue)(["conditions",e.name,"items"]))||void 0===n?void 0:n.length)>1&&(0,C.jsx)(Fo.Z.Item,{label:i("flow.logicalOperator"),name:[e.name,"logical_operator"],children:(0,C.jsx)(Lo.Z,{options:c})})}}),(0,C.jsx)(Fo.Z.Item,{label:i("flow.nextStep"),name:[e.name,"to"],children:(0,C.jsx)(Lo.Z,{allowClear:!0,options:s([null==a?void 0:a.getFieldValue(nr)].concat(Fr()(io(a,"conditions",e,"to"))))})}),(0,C.jsx)(Fo.Z.Item,{label:"Condition",children:(0,C.jsx)(Fo.Z.List,{name:[e.name,"items"],children:function(t,n){return(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:16},children:[t.map((function(e){return(0,C.jsxs)(ts.Z,{title:null,size:"small",className:os,bordered:!0,extra:(0,C.jsx)(No.Z,{onClick:function(){n.remove(e.name)}}),children:[(0,C.jsx)(Fo.Z.Item,{label:i("flow.componentId"),name:[e.name,"cpn_id"],children:(0,C.jsx)(Lo.Z,{placeholder:i("flow.componentId"),options:u})}),(0,C.jsx)(Fo.Z.Item,{label:i("flow.operator"),name:[e.name,"operator"],children:(0,C.jsx)(Lo.Z,{placeholder:i("flow.operator"),options:l})}),(0,C.jsx)(Fo.Z.Item,{label:i("flow.value"),name:[e.name,"value"],children:(0,C.jsx)(zo.Z,{placeholder:i("flow.value")})})]},e.key)})),(0,C.jsx)($o.ZP,{onClick:function(){null==a||a.setFieldValue(["conditions",e.name,"logical_operator"],or[0]),n.add({operator:rr[0].value})},block:!0,className:is,children:"+ Add Condition"})]})}})})]},e.key)})),(0,C.jsx)($o.ZP,{onClick:function(){return n()},block:!0,className:is,children:"+ Add Case"})]})}}),(0,C.jsx)(ns.Z,{}),(0,C.jsx)(Fo.Z.Item,{label:"ELSE",name:[nr],className:as,children:(0,C.jsx)(Lo.Z,{allowClear:!0,options:s((n=null==a?void 0:a.getFieldValue("conditions"),null!==(t=null==n?void 0:n.filter((function(e){return!!e})).map((function(e){return null==e?void 0:e.to})))&&void 0!==t?t:[]))})})]})},ls=function(e){var t=e.onValuesChange,n=e.form,r=(0,je.$G)().t;return(0,C.jsx)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:(0,C.jsx)(Fo.Z.Item,{name:["content"],label:r("flow.content"),children:(0,C.jsx)(di.Q,{})})})},cs=function(e){var t=e.onChange,n=e.value,r=(0,y.useCallback)((function(e){var n=null==e?void 0:e.format("YYYY-MM-DD HH:mm:ss");null==t||t(n||void 0)}),[t]),o=(0,y.useMemo)((function(){if(n)return yi()(n)}),[n]);return(0,C.jsx)(hi.Z,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",onChange:r,value:o})},us=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t,a=(0,y.useMemo)((function(){return fr.map((function(e){return{value:e,label:o("tuShareSrcOptions.".concat(e))}}))}),[o]);return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(Fo.Z.Item,{label:o("token"),name:"token",tooltip:"Get from https://tushare.pro/",children:(0,C.jsx)(zo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("src"),name:"src",children:(0,C.jsx)(Lo.Z,{options:a})}),(0,C.jsx)(Fo.Z.Item,{label:o("startDate"),name:"start_date",children:(0,C.jsx)(cs,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("endDate"),name:"end_date",children:(0,C.jsx)(cs,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("keyword"),name:"keyword",children:(0,C.jsx)(zo.Z,{})})]})},ds=function(e){var t=e.form,n=e.node,r=(0,je.$G)().t,a=(0,y.useMemo)((function(){return ar.map((function(e){return{value:e,label:r("flow.wenCaiQueryTypeOptions.".concat(e))}}))}),[r]);return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(pa,{node:n}),(0,C.jsx)(ea._,{max:99}),(0,C.jsx)(ta.Wi,{control:t.control,name:"query_type",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:r("flow.queryType")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()(o()({},t),{},{options:a}))}),(0,C.jsx)(ta.zG,{})]})}})]})}))},fs=function(e){var t=e.form,n=e.node,r=(0,xe.qM)("common").t;return(0,C.jsx)(ta.l0,o()(o()({},t),{},{children:(0,C.jsxs)("form",{className:"space-y-6",onSubmit:function(e){e.preventDefault()},children:[(0,C.jsx)(pa,{node:n}),(0,C.jsx)(ea._,{}),(0,C.jsx)(ta.Wi,{control:t.control,name:"language",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:r("language")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()(o()({},t),{},{options:$n}))}),(0,C.jsx)(ta.zG,{})]})}})]})}))},ps=function(e){var t=e.onValuesChange,n=e.form,r=e.node,o=(0,xe.qM)("flow").t;return(0,C.jsxs)(Fo.Z,{name:"basic",autoComplete:"off",form:n,onValuesChange:t,layout:"vertical",children:[(0,C.jsx)(Ma,{node:r}),(0,C.jsx)(Fo.Z.Item,{label:o("info"),name:"info",children:(0,C.jsx)(Vo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("history"),name:"history",children:(0,C.jsx)(Vo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("financials"),name:"financials",children:(0,C.jsx)(Vo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("balanceSheet"),name:"balance_sheet",children:(0,C.jsx)(Vo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("cashFlowStatement"),name:"cash_flow_statement",children:(0,C.jsx)(Vo.Z,{})}),(0,C.jsx)(Fo.Z.Item,{label:o("news"),name:"news",children:(0,C.jsx)(Vo.Z,{})})]})};var gs=function(){return(0,C.jsx)("div",{})},ms=function(e){var t,n,r,a=e.visible,i=e.hideModal,s=e.node,l=e.singleDebugDrawerVisible,c=e.hideSingleDebugDrawer,u=e.showSingleDebugDrawer,d=null==s?void 0:s.data.label,f=function(){var e,t=(0,je.$G)().t;return e={},at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(e,Xt.Begin,{component:Ka,defaultValues:{},schema:Qo.z.object({name:Qo.z.string().min(1,{message:t("common.namePlaceholder")}).trim(),age:Qo.z.string().min(1,{message:t("common.namePlaceholder")}).trim()})}),Xt.Retrieval,{component:Qi,defaultValues:{query:[]},schema:Qo.z.object({name:Qo.z.string().min(1,{message:t("common.namePlaceholder")}).trim(),age:Qo.z.string().min(1,{message:t("common.namePlaceholder")}).trim(),query:Qo.z.array(Qo.z.object({type:Qo.z.string()}))})}),Xt.Generate,{component:pi,defaultValues:{cite:!0,prompt:t("flow.promptText")},schema:Qo.z.object({prompt:Qo.z.string().min(1,{message:t("flow.promptMessage")})})}),Xt.Answer,{component:ma,defaultValues:{},schema:Qo.z.object({})}),Xt.Categorize,{component:ai,defaultValues:{message_history_window_size:1},schema:Qo.z.object({message_history_window_size:Qo.z.number(),items:Qo.z.array(Qo.z.object({name:Qo.z.string().min(1,t("flow.nameMessage")).trim()}))})}),Xt.Message,{component:$i,defaultValues:{},schema:Qo.z.object({})}),Xt.Relevant,{component:qi,defaultValues:{},schema:Qo.z.object({})}),Xt.RewriteQuestion,{component:es,defaultValues:{message_history_window_size:6},schema:Qo.z.object({llm_id:Qo.z.string(),message_history_window_size:Qo.z.number(),language:Qo.z.string()})}),Xt.Baidu,{component:Oa,defaultValues:{top_n:10},schema:Qo.z.object({top_n:Qo.z.number()})}),Xt.DuckDuckGo,{component:li,defaultValues:{top_n:10,channel:"text"},schema:Qo.z.object({top_n:Qo.z.number()})}),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(e,Xt.KeywordExtract,{component:Li,defaultValues:{top_n:3},schema:Qo.z.object({llm_id:Qo.z.string(),top_n:Qo.z.number()})}),Xt.Wikipedia,{component:fs,defaultValues:{top_n:10},schema:Qo.z.object({language:Qo.z.string(),top_n:Qo.z.number()})}),Xt.PubMed,{component:Hi,defaultValues:{top_n:10},schema:Qo.z.object({top_n:Qo.z.number(),email:Qo.z.string()})}),Xt.ArXiv,{component:Pa,defaultValues:{},schema:Qo.z.object({})}),Xt.Google,{component:mi,defaultValues:{},schema:Qo.z.object({})}),Xt.Bing,{component:Ya,defaultValues:{},schema:Qo.z.object({})}),Xt.GoogleScholar,{component:xi,defaultValues:{},schema:Qo.z.object({})}),Xt.DeepL,{component:si,defaultValues:{},schema:Qo.z.object({})}),Xt.GitHub,{component:gi,defaultValues:{},schema:Qo.z.object({})}),Xt.BaiduFanyi,{component:Ta,defaultValues:{},schema:Qo.z.object({})}),at()(at()(at()(at()(at()(at()(at()(at()(at()(at()(e,Xt.QWeather,{component:Wi,defaultValues:{},schema:Qo.z.object({web_apikey:Qo.z.string(),lang:Qo.z.string(),type:Qo.z.string(),user_type:Qo.z.string(),time_period:Qo.z.string().optional()})}),Xt.ExeSQL,{component:ui,defaultValues:{},schema:Qo.z.object({})}),Xt.Switch,{component:ss,defaultValues:{},schema:Qo.z.object({})}),Xt.WenCai,{component:ds,defaultValues:{top_n:20},schema:Qo.z.object({top_n:Qo.z.number(),query_type:Qo.z.string()})}),Xt.AkShare,{component:ga,defaultValues:{top_n:10},schema:Qo.z.object({top_n:Qo.z.number()})}),Xt.YahooFinance,{component:ps,defaultValues:{},schema:Qo.z.object({})}),Xt.Jin10,{component:zi,defaultValues:{},schema:Qo.z.object({})}),Xt.TuShare,{component:us,defaultValues:{},schema:Qo.z.object({})}),Xt.Crawler,{component:ii,defaultValues:{},schema:Qo.z.object({})}),Xt.Invoke,{component:Pi,defaultValues:{},schema:Qo.z.object({})}),at()(at()(at()(at()(at()(at()(e,Xt.Concentrator,{component:function(){return(0,C.jsx)(C.Fragment,{})},defaultValues:{},schema:Qo.z.object({})}),Xt.Note,{component:function(){return(0,C.jsx)(C.Fragment,{})},defaultValues:{},schema:Qo.z.object({})}),Xt.Template,{component:ls,defaultValues:{},schema:Qo.z.object({})}),Xt.Email,{component:ci,defaultValues:{},schema:Qo.z.object({})}),Xt.Iteration,{component:Fi,defaultValues:{},schema:Qo.z.object({})}),Xt.IterationStart,{component:function(){return(0,C.jsx)(C.Fragment,{})},defaultValues:{},schema:Qo.z.object({})})}(),p=f[d],g=null!==(t=p.component)&&void 0!==t?t:gs,m=(0,Nr.cI)({defaultValues:p.defaultValues,resolver:(0,kr.F)(p.schema)}),h=_o({id:null==s?void 0:s.id,data:null==s?void 0:s.data}),v=h.name,x=h.handleNameBlur,_=h.handleNameChange,S=(0,y.useRef)(null==s?void 0:s.id),N=(0,xe.qM)("flow").t,E=xo(d,null==s?void 0:s.id,m).handleValuesChange;return(0,y.useEffect)((function(){if(a&&!m.formState.isDirty){if((null==s?void 0:s.id)!==S.current&&(m.reset(),m.clearErrors()),d===Xt.Categorize){var e,t=(i=(0,Cr.get)(s,"data.form.category_description",{}),Object.keys(i).reduce((function(e,t){return e.push(o()({name:t},i[t])),e}),[]).sort((function(e,t){return e.index-t.index}))),n=null==s||null===(e=s.data)||void 0===e?void 0:e.form;(0,Cr.isPlainObject)(n)&&m.reset(o()(o()({},n),{},{items:t}))}else{var r;m.reset(null==s||null===(r=s.data)||void 0===r?void 0:r.form)}S.current=null==s?void 0:s.id}var i}),[a,m,null==s||null===(n=s.data)||void 0===n?void 0:n.form,null==s?void 0:s.id,s,d]),(0,C.jsxs)(M,{open:a,modal:!1,children:[(0,C.jsx)(Z,{className:"hidden"}),(0,C.jsxs)(D,{className:(0,k.cn)("bg-white top-20 p-0"),closeIcon:!1,children:[(0,C.jsx)(A,{children:(0,C.jsxs)("section",{className:"flex-col border-b py-2 px-5",children:[(0,C.jsxs)("div",{className:"flex items-center gap-2 pb-3",children:[(0,C.jsx)(yr,{name:d,color:null===(r=en[d])||void 0===r?void 0:r.color}),(0,C.jsxs)("div",{className:"flex items-center gap-1 flex-1",children:[(0,C.jsx)("label",{htmlFor:"",children:N("title")}),(null==s?void 0:s.id)===Ut?(0,C.jsx)("span",{children:N(Ut)}):(0,C.jsx)(b.II,{value:v,onBlur:x,onChange:_})]}),po(d)&&(0,C.jsx)(jr,{children:(0,C.jsx)(Sr.Z,{className:"size-5 cursor-pointer",onClick:u})}),(0,C.jsx)(w.Z,{onClick:i})]}),(0,C.jsx)("span",{children:N("".concat((0,Cr.lowerFirst)(d),"Description"))})]})}),(0,C.jsx)("section",{className:"pt-4",children:a&&(0,C.jsx)(Er.Provider,{value:s,children:(0,C.jsx)(g,{onValuesChange:E,form:m,node:s})})})]}),l&&(0,C.jsx)(Jo,{visible:l,hideModal:c,componentId:null==s?void 0:s.id})]})},hs=[Xt.Begin,Xt.IterationStart];var vs=n(86004),ys=function(){var e=(0,So.eL)().data,t=ho((function(e){return e})),n=t.nodes,r=t.edges,a=(0,y.useCallback)((function(t){var a=function(e,t,n){var r={};return null==e||e.filter((function(e){return e.data.label!==Xt.Note})).forEach((function(e){var a,i,s,l=e.id,c=e.data.label;r[l]={obj:o()(o()({},null!==(a=null===(i=n[l])||void 0===i?void 0:i.obj)&&void 0!==a?a:{}),{},{component_name:c,params:null!==(s=ro(c)(e.data.form))&&void 0!==s?s:{}}),downstream:to(t,l,!0),upstream:to(t,l,!1),parent_id:null==e?void 0:e.parentId}})),r}(null!=t?t:n,r,e.dsl.components);return o()(o()({},e.dsl),{},{graph:{nodes:null!=t?t:n,edges:r},components:a})}),[e.dsl,r,n]);return{buildDslData:a}},bs=function(){var e=(0,So.eL)().data,t=(0,So.LI)(),n=t.setFlow,r=t.loading,o=(0,vs.UO)().id,a=ys().buildDslData,i=(0,y.useCallback)(function(){var t=To()(Mo()().mark((function t(r){return Mo()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n({id:o,title:e.title,dsl:a(r)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,o,e.title,a]);return{saveGraph:i,loading:r}},xs=[Xt.IterationStart,Xt.Note];function _s(e){var t,n,r,o,a,i=e.drawerVisible,s=e.hideDrawer,l=(0,xe.pG)(),c=l.visible,u=l.showModal,d=l.hideModal,f=(0,xe.pG)(),p=f.visible,g=f.showModal,m=f.hideModal,h=(t=(0,xe.pG)(),n=t.visible,r=t.showModal,o=t.hideModal,a=bs().saveGraph,{singleDebugDrawerVisible:n,hideSingleDebugDrawer:o,showSingleDebugDrawer:(0,y.useCallback)(To()(Mo()().mark((function e(){var t;return Mo()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:0===(null==(t=e.sent)?void 0:t.code)&&r();case 4:case"end":return e.stop()}}),e)}))),[a,r])}),v=h.singleDebugDrawerVisible,b=h.showSingleDebugDrawer,x=h.hideSingleDebugDrawer,_=function(){var e=ho((function(e){return e})),t=e.clickedNodeId,n=e.setClickedNodeId,r=e.getNode,o=(0,xe.pG)(),a=o.visible,i=o.hideModal,s=o.showModal;return{formDrawerVisible:a,hideFormDrawer:i,showFormDrawer:(0,y.useCallback)((function(e){n(e.id),s()}),[s,n]),clickedNode:r(t)}}(),w=_.formDrawerVisible,k=_.hideFormDrawer,C=_.showFormDrawer,S=_.clickedNode,N=sa();(0,y.useEffect)((function(){i&&(N().length>0?(u(),m()):(g(),d()))}),[m,d,g,u,i,N]);var E=(0,y.useCallback)((function(){m(),d(),s()}),[m,s,d]),j=(0,y.useCallback)((function(){k()}),[k]),I=(0,y.useCallback)((function(e,t){xs.some((function(e){return e===t.data.label}))||(x(),E(),C(t)),"true"!==ia()(e.target,"dataset.play")&&"true"!==ia()(e.target,"parentNode.dataset.play")||b()}),[E,x,C,b]);return{chatVisible:p,runVisible:c,onPaneClick:j,singleDebugDrawerVisible:v,showSingleDebugDrawer:b,hideSingleDebugDrawer:x,formDrawerVisible:w,showFormDrawer:C,clickedNode:S,onNodeClick:I,hideFormDrawer:k,hideRunOrChatDrawer:E,showChatModal:g}}var ws=n(98236),ks="edgeButton___Wwn0I",Cs="edgeButtonDark___gFa2B";var Ss="canvasWrapper___n6Ob0",Ns=n(93967),Es=n.n(Ns),js={right:0},Is={left:0},Ms="dark___J1mO7",Ps="ragNode___bzCJf",Ts="selectedNode___zVVrx",Os="selectedIterationNode___WMeMl",Ds="iterationHeader___AqQSm",As="selectedHeader___VK4W7",Zs="handle___XiDAQ",Rs="logicNode___U3JCc",Fs="noteNode___yXKkk",zs="noteForm___Bynhl",Ls="noteName___Efioh",Bs="noteTextarea___RrKDc",$s="iterationNode___o0A2a",Hs="nodeText___Cy3Mh",Vs="nodeHeader___pvmz7",Ws="zeroDivider___TNsMj",Ks="conditionBlock___boMdB",Ys="conditionLine___uCnIF",Gs="conditionKey___QyUlY",qs="conditionOperator___bT192",Us="relevantLabel___BYeBz",Xs="knowledgeNodeName___iMmJ7",Js="messageNodeContainer___oq5qj",Qs="generateParameters___nQaio",el="parameterValue___uqYEv",tl="emailNodeContainer___EfHvF",nl="emailConfig___aweoP",rl="configItem___uZQkQ",ol="configLabel___tGiNp",al="configValue___ZnT2o",il="expandIcon___nJN4E",sl="jsonExample___u_6Ao",ll="jsonTitle___gnEB8",cl="jsonContent___iCin2",ul=n(65862),dl=n(57132),fl=function(e){var t=e.id,n=e.iconFontColor,r=e.label,o=(0,je.$G)().t,a=ho((function(e){return e.deleteNodeById})),i=ho((function(e){return e.deleteIterationNodeById})),s=(0,y.useCallback)((function(){r===Xt.Iteration?i(t):a(t)}),[r,i,t,a]),l=ko(),c=[{key:"2",onClick:function(){return l(t,r)},label:(0,C.jsxs)(ya.Z,{justify:"space-between",children:[o("common.copy"),(0,C.jsx)(dl.Z,{})]})}];return(0,C.jsx)(ul.Z,{iconFontSize:22,height:14,deleteItem:s,items:c,needsDeletionValidation:!1,iconFontColor:n})},pl=n(23499),gl=n(75269);function ml(e){var t=e.children,n=e.nodeId,r=e.name,o=(0,xe.qM)("flow").t,a=(0,So.eL)().data,i=(0,ws.Fg)().theme,s=(0,y.useMemo)((function(){return ia()(a,["dsl","components",n],{})}),[n,a]),l=ia()(s,["obj","inputs"],[]),c=function(e){var t=wo();return{replacedOutput:oo(e,t),getNameById:t}}(ia()(s,["obj","output"],{})),u=c.replacedOutput,d=(0,y.useCallback)((function(e){e.stopPropagation()}),[]),f=ua(n);return(0,C.jsxs)(pl.J2,{children:[(0,C.jsx)(pl.xo,{onClick:d,asChild:!0,children:t}),(0,C.jsxs)(pl.yk,{align:"start",side:"right",sideOffset:20,onClick:d,className:"w-[400px]",children:[(0,C.jsxs)("div",{className:"mb-3 font-semibold text-[16px]",children:[r," ",o("operationResults")]}),(0,C.jsxs)("div",{className:"flex w-full gap-4 flex-col",children:[(0,C.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,C.jsx)("span",{className:"font-semibold text-[14px]",children:o("input")}),(0,C.jsx)("div",{style:"dark"===i?{backgroundColor:"rgba(150, 150, 150, 0.2)"}:{},className:"bg-gray-100 p-1 rounded",children:(0,C.jsxs)(gl.iA,{children:[(0,C.jsx)(gl.xD,{children:(0,C.jsxs)(gl.SC,{children:[(0,C.jsx)(gl.ss,{children:o("componentId")}),(0,C.jsx)(gl.ss,{className:"w-[60px]",children:o("content")})]})}),(0,C.jsx)(gl.RM,{children:l.map((function(e,t){return(0,C.jsxs)(gl.SC,{children:[(0,C.jsx)(gl.pj,{children:f(e.component_id)}),(0,C.jsx)(gl.pj,{className:"truncate",children:e.content})]},t)}))})]})})]}),(0,C.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,C.jsx)("span",{className:"font-semibold text-[14px]",children:o("output")}),(0,C.jsx)("div",{style:"dark"===i?{backgroundColor:"rgba(150, 150, 150, 0.2)"}:{},className:"bg-gray-100 p-1 rounded",children:(0,C.jsx)(jo.ZP,{src:u,displaySize:30,className:"w-full max-h-[300px] break-words overflow-auto"})})]})]})]})]})}var hl=[Xt.Answer];function vl(e){var t=e.id,n=e.name,r=e.label,o=(0,xe.qM)("flow").t;return(0,C.jsxs)("section",{className:"flex  justify-end items-center pb-1 gap-2 text-blue-600",children:[po(r)&&(0,C.jsx)(jr,{children:(0,C.jsx)(Sr.Z,{className:"size-3 cursor-pointer","data-play":!0})}),(0,C.jsx)(ml,{nodeId:t,name:n,children:(0,C.jsx)("span",{className:"cursor-pointer text-[10px]",children:o("operationResults")})})]})}var yl=function(e){var t,n=e.label,r=e.id,o=e.name,a=e.gap,i=void 0===a?4:a,s=e.className,l=e.wrapperClassName;return(0,C.jsxs)("section",{className:l,children:[!hl.includes(n)&&(0,C.jsx)(vl,{id:r,name:o,label:n}),(0,C.jsxs)(ya.Z,{flex:1,align:"center",justify:"space-between",gap:i,className:s,children:[(0,C.jsx)(yr,{name:n,color:null===(t=en[n])||void 0===t?void 0:t.color}),(0,C.jsx)("span",{className:"truncate text-center font-semibold text-sm",children:o}),(0,C.jsx)(fl,{id:r,label:n})]})]})};var bl=n(14015);var xl=n(35415);function _l(){return(0,C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"#5025f9",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",style:{position:"absolute",right:5,bottom:5},children:[(0,C.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,C.jsx)("polyline",{points:"16 20 20 20 20 16"}),(0,C.jsx)("line",{x1:"14",y1:"14",x2:"20",y2:"20"}),(0,C.jsx)("polyline",{points:"8 4 4 4 4 8"}),(0,C.jsx)("line",{x1:"4",y1:"4",x2:"10",y2:"10"})]})}var wl={background:"transparent",border:"none",cursor:"nwse-resize"};var kl=n(46693),Cl=zo.Z.TextArea,Sl={background:"transparent",border:"none"};function Nl(e){var t=e.data,n=e.id,r=(0,je.$G)().t,o=Fo.Z.useForm(),a=p()(o,1)[0],i=(0,ws.Fg)().theme,s=_o({id:n,data:t}),l=s.name,c=s.handleNameBlur,u=s.handleNameChange,d=xo(n).handleValuesChange;return(0,y.useEffect)((function(){a.setFieldsValue(null==t?void 0:t.form)}),[a,null==t?void 0:t.form]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(we.KP,{style:Sl,minWidth:190,minHeight:128,children:(0,C.jsx)(kl.Z,{name:"resize",width:12,style:{position:"absolute",right:5,bottom:5,cursor:"nwse-resize"}})}),(0,C.jsxs)("section",{className:Es()(Fs,"dark"===i?Ms:""),children:[(0,C.jsxs)(ya.Z,{justify:"space-between",className:Es()("note-drag-handle"),align:"center",gap:6,children:[(0,C.jsx)(kl.Z,{name:"note",width:14}),(0,C.jsx)(zo.Z,{value:null!=l?l:r("flow.note"),onBlur:c,onChange:u,className:Ls}),(0,C.jsx)(fl,{id:n,label:t.label})]}),(0,C.jsx)(Fo.Z,{onValuesChange:d,form:a,className:zs,children:(0,C.jsx)(Fo.Z.Item,{name:"text",noStyle:!0,children:(0,C.jsx)(Cl,{rows:3,placeholder:r("flow.notePlaceholder"),className:Bs})})})]})]})}var El=(0,y.memo)(Nl);var jl=n(10541),Il=n(87547),Ml=n(68997);var Pl=function(e,t){return 0===e&&1!==t?"If":e===t-1?"Else":"ElseIf"},Tl=function(e){var t,n=e.condition,r=e.nodeId,o=null!==(t=null==n?void 0:n.items)&&void 0!==t?t:[],a=ua(r);return(0,C.jsx)(ya.Z,{vertical:!0,className:Ks,children:o.map((function(e,t){return(0,C.jsxs)("div",{children:[(0,C.jsxs)(ya.Z,{children:[(0,C.jsx)("div",{className:Es()(Ys,Gs),children:a(null==e?void 0:e.cpn_id)}),(0,C.jsx)("span",{className:qs,children:null==e?void 0:e.operator}),(0,C.jsx)(ya.Z,{flex:1,className:Ys,children:null==e?void 0:e.value})]}),t+1<o.length&&(0,C.jsx)(ns.Z,{orientationMargin:"0",className:Ws,children:null==n?void 0:n.logical_operator})]},t)}))})};var Ol={ragNode:function(e){var t=e.id,n=e.data,r=e.isConnectable,o=void 0===r||r,a=e.selected,i=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Ps,"dark"===i?Ms:"",at()({},Ts,a)),children:[(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:o,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:o,className:Zs,id:"b",style:js}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label})]})},categorizeNode:function(e){var t=e.id,n=e.data,r=e.selected,a=function(e){var t=e.data,n=e.id,r=(0,we.Bn)(),o=(0,y.useMemo)((function(){return ia()(t,"form.category_description",{})}),[t]),a=(0,y.useMemo)((function(){var e=[];return Object.keys(o).sort((function(e,t){return o[e].index-o[t].index})).forEach((function(t,n){e.push({text:t,idx:n,top:0===n?118:e[n-1].top+8+26})})),e}),[o]);return(0,y.useEffect)((function(){r(n)}),[n,r,o]),{positions:a}}({data:n,id:t}),i=a.positions,s=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Rs,"dark"===s?Ms:"",at()({},Ts,r)),children:[(0,C.jsx)(we.HH,{type:"target",position:wr.Ly.Left,isConnectable:!0,className:Zs,id:"a"}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,className:Vs}),(0,C.jsxs)(ya.Z,{vertical:!0,gap:8,children:[(0,C.jsx)("div",{className:Hs,children:(0,C.jsx)(bl.Z,{value:(0,Cr.get)(n,"form.llm_id")})}),i.map((function(e,t){return(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:Hs,children:e.text}),(0,C.jsx)(we.HH,{id:e.text,type:"source",position:wr.Ly.Right,isConnectable:!0,className:Zs,style:o()(o()({},js),{},{top:e.top})},e.text)]},t)}))]})]})},beginNode:function(e){var t=e.selected,n=e.data,r=(0,je.$G)().t,o=ia()(n,"form.query",[]),a=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Ps,"dark"===a?Ms:"",at()({},Ts,t)),children:[(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:!0,className:Zs,style:js}),(0,C.jsxs)(ya.Z,{align:"center",justify:"center",gap:10,children:[(0,C.jsx)(yr,{name:n.label,fontSize:24,color:en[n.label].color}),(0,C.jsx)("div",{className:"truncate text-center font-semibold text-sm",children:r("flow.begin")})]}),(0,C.jsx)(ya.Z,{gap:8,vertical:!0,className:Qs,children:o.map((function(e,t){var n=mr[e.type];return(0,C.jsxs)(ya.Z,{align:"center",gap:6,className:Ks,children:[(0,C.jsx)(n,{className:"size-4"}),(0,C.jsx)("label",{htmlFor:"",children:e.key}),(0,C.jsx)("span",{className:el,children:e.name}),(0,C.jsx)("span",{className:"flex-1",children:e.optional?"Yes":"No"})]},t)}))})]})},relevantNode:function(e){var t=e.id,n=e.data,r=e.selected,a=(0,Cr.get)(n,"form.yes"),i=(0,Cr.get)(n,"form.no"),s=wo(),l=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Rs,"dark"===l?Ms:"",at()({},Ts,r)),children:[(0,C.jsx)(we.HH,{type:"target",position:wr.Ly.Left,isConnectable:!0,className:Zs,id:"a"}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:!0,className:Zs,id:"yes",style:o()(o()({},js),{},{top:77})}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:!0,className:Zs,id:"no",style:o()(o()({},js),{},{top:135})}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,className:Vs}),(0,C.jsxs)(ya.Z,{vertical:!0,gap:10,children:[(0,C.jsxs)(ya.Z,{vertical:!0,children:[(0,C.jsx)("div",{className:Us,children:"Yes"}),(0,C.jsx)("div",{className:Hs,children:s(a)})]}),(0,C.jsxs)(ya.Z,{vertical:!0,children:[(0,C.jsx)("div",{className:Us,children:"No"}),(0,C.jsx)("div",{className:Hs,children:s(i)})]})]})]})},logicNode:function(e){var t=e.id,n=e.data,r=e.isConnectable,o=void 0===r||r,a=e.selected,i=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Rs,"dark"===i?Ms:"",at()({},Ts,a)),children:[(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:o,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:o,className:Zs,style:js,id:"b"}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label})]})},noteNode:El,switchNode:function(e){var t=e.id,n=e.data,r=e.selected,a=function(e){var t=e.data,n=e.id,r=(0,we.Bn)(),o=(0,y.useMemo)((function(){return ia()(t,"form.conditions",[])}),[t]),a=(0,y.useMemo)((function(){var e=[];return[].concat(Fr()(o),[""]).forEach((function(t,n){var r=0===n?78:e[n-1].top+32;if(n-1>=0){var a,i,s=null!==(a=null===(i=o[n-1])||void 0===i?void 0:i.items)&&void 0!==a?a:[];s.length>0&&(r+=12,r+=22*s.length,r+=25*(s.length-1))}e.push({text:n<o.length?so(n):nr,idx:n,top:r,condition:"string"==typeof t?void 0:t})})),e}),[o]);return(0,y.useEffect)((function(){r(n)}),[n,r,o]),{positions:a}}({data:n,id:t}),i=a.positions,s=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Rs,"dark"===s?Ms:"",at()({},Ts,r)),children:[(0,C.jsx)(we.HH,{type:"target",position:wr.Ly.Left,isConnectable:!0,className:Zs,id:"a"}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,className:Vs}),(0,C.jsx)(ya.Z,{vertical:!0,gap:10,children:i.map((function(e,n){return(0,C.jsxs)("div",{children:[(0,C.jsxs)(ya.Z,{vertical:!0,children:[(0,C.jsxs)(ya.Z,{justify:"space-between",children:[(0,C.jsx)("span",{children:n<i.length-1&&e.text}),(0,C.jsx)("span",{children:Pl(n,i.length)})]}),e.condition&&(0,C.jsx)(Tl,{nodeId:t,condition:e.condition})]}),(0,C.jsx)(we.HH,{id:e.text,type:"source",position:wr.Ly.Right,isConnectable:!0,className:Zs,style:o()(o()({},js),{},{top:e.top})},e.text)]},n)}))})]})},generateNode:function(e){var t=e.id,n=e.data,r=e.isConnectable,o=void 0===r||r,a=e.selected,i=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Rs,"dark"===i?Ms:"",at()({},Ts,a)),children:[(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:o,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:o,className:Zs,style:js,id:"b"}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,className:Vs}),(0,C.jsx)("div",{className:Hs,children:(0,C.jsx)(bl.Z,{value:(0,Cr.get)(n,"form.llm_id")})})]})},retrievalNode:function(e){var t=e.id,n=e.data,r=e.isConnectable,o=void 0===r||r,a=e.selected,i=(0,Cr.get)(n,"form.kb_ids",[]),s=(0,ws.Fg)().theme,l=(0,jl.VJ)(!0).list,c=(0,y.useMemo)((function(){return i.map((function(e){var t=l.find((function(t){return e===t.id}));return{name:null==t?void 0:t.name,avatar:null==t?void 0:t.avatar,id:e}}))}),[l,i]);return(0,C.jsxs)("section",{className:Es()(Rs,"dark"===s?Ms:"",at()({},Ts,a)),children:[(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:o,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:o,className:Zs,style:js,id:"b"}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,className:Es()(at()({},Vs,i.length>0))}),(0,C.jsx)(ya.Z,{vertical:!0,gap:8,children:c.map((function(e){return(0,C.jsx)("div",{className:Hs,children:(0,C.jsxs)(ya.Z,{align:"center",gap:6,children:[(0,C.jsx)(Ml.Z,{size:26,icon:(0,C.jsx)(Il.Z,{}),src:e.avatar}),(0,C.jsx)(ya.Z,{className:Xs,flex:1,children:e.name})]})},e.id)}))})]})},messageNode:function(e){var t=e.id,n=e.data,r=e.isConnectable,o=void 0===r||r,a=e.selected,i=(0,Cr.get)(n,"form.messages",[]),s=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Rs,"dark"===s?Ms:"",at()({},Ts,a)),children:[(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:o,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:o,className:Zs,style:js,id:"b"}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,className:Es()(at()({},Vs,i.length>0))}),(0,C.jsx)(ya.Z,{vertical:!0,gap:8,className:Js,children:i.map((function(e,t){return(0,C.jsx)("div",{className:Hs,children:e},t)}))})]})},rewriteNode:function(e){var t=e.id,n=e.data,r=e.isConnectable,o=void 0===r||r,a=e.selected,i=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Rs,"dark"===i?Ms:"",at()({},Ts,a)),children:[(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:o,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:o,className:Zs,style:js,id:"b"}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,className:Vs}),(0,C.jsx)("div",{className:Hs,children:(0,C.jsx)(bl.Z,{value:(0,Cr.get)(n,"form.llm_id")})})]})},keywordNode:function(e){var t=e.id,n=e.data,r=e.isConnectable,o=void 0===r||r,a=e.selected,i=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Rs,"dark"===i?Ms:"",at()({},Ts,a)),children:[(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:o,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:o,className:Zs,style:js,id:"b"}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,className:Vs}),(0,C.jsx)("div",{className:Hs,children:(0,C.jsx)(bl.Z,{value:(0,Cr.get)(n,"form.llm_id")})})]})},invokeNode:function(e){var t=e.id,n=e.data,r=e.isConnectable,o=void 0===r||r,a=e.selected,i=(0,je.$G)().t,s=(0,ws.Fg)().theme,l=(0,Cr.get)(n,"form.url");return(0,C.jsxs)("section",{className:Es()(Ps,"dark"===s?Ms:"",at()({},Ts,a)),children:[(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:o,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:o,className:Zs,id:"b",style:js}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,className:Vs}),(0,C.jsxs)(ya.Z,{vertical:!0,children:[(0,C.jsx)("div",{children:i("flow.url")}),(0,C.jsx)("div",{className:Hs,children:l})]})]})},templateNode:function(e){var t=e.id,n=e.data,r=e.isConnectable,o=void 0===r||r,a=e.selected,i=(0,Cr.get)(n,"form.parameters",[]),s=ua(t),l=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:Es()(Rs,"dark"===l?Ms:"",at()({},Ts,a)),children:[(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:o,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:o,className:Zs,style:js,id:"b"}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,className:Vs}),(0,C.jsx)(ya.Z,{gap:8,vertical:!0,className:Qs,children:i.map((function(e){return(0,C.jsxs)(ya.Z,{align:"center",gap:6,className:Ks,children:[(0,C.jsx)("label",{htmlFor:"",children:e.key}),(0,C.jsx)("span",{className:el,children:s(e.component_id)})]},e.id)}))})]})},emailNode:function(e){var t,n,r,o=e.id,a=e.data,i=e.isConnectable,s=void 0===i||i,l=e.selected,c=(0,y.useState)(!1),u=p()(c,2),d=u[0],f=u[1];return(0,C.jsxs)("section",{className:Es()(Ps,at()({},Ts,l)),children:[(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:s,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:s,className:Zs,style:js,id:"b"}),(0,C.jsx)(yl,{id:o,name:a.name,label:a.label}),(0,C.jsxs)(ya.Z,{vertical:!0,gap:8,className:tl,children:[(0,C.jsxs)("div",{className:nl,onClick:function(){return f(!d)},children:[(0,C.jsxs)("div",{className:rl,children:[(0,C.jsx)("span",{className:ol,children:"SMTP:"}),(0,C.jsx)("span",{className:al,children:null===(t=a.form)||void 0===t?void 0:t.smtp_server})]}),(0,C.jsxs)("div",{className:rl,children:[(0,C.jsx)("span",{className:ol,children:"Port:"}),(0,C.jsx)("span",{className:al,children:null===(n=a.form)||void 0===n?void 0:n.smtp_port})]}),(0,C.jsxs)("div",{className:rl,children:[(0,C.jsx)("span",{className:ol,children:"From:"}),(0,C.jsx)("span",{className:al,children:null===(r=a.form)||void 0===r?void 0:r.email})]}),(0,C.jsx)("div",{className:il,children:d?"▼":"▶"})]}),d&&(0,C.jsxs)("div",{className:sl,children:[(0,C.jsx)("div",{className:ll,children:"Expected Input JSON:"}),(0,C.jsx)("pre",{className:cl,children:'{\n  "to_email": "...",\n  "cc_email": "...", \n  "subject": "...",\n  "content": "..."\n}'})]})]})]})},group:function(e){var t=e.id,n=e.data,r=e.isConnectable,o=void 0===r||r,a=e.selected,i=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:(0,k.cn)("w-full h-full bg-zinc-200 opacity-70",$s,at()(at()({},"bg-gray-800","dark"===i),Os,a)),children:[(0,C.jsx)(we.KP,{style:wl,minWidth:100,minHeight:50,children:(0,C.jsx)(_l,{})}),(0,C.jsx)(we.HH,{id:"c",type:"source",position:wr.Ly.Left,isConnectable:o,className:Zs,style:Is}),(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:o,className:Zs,id:"b",style:js}),(0,C.jsx)(yl,{id:t,name:n.name,label:n.label,wrapperClassName:(0,k.cn)("p-2 bg-white rounded-t-[10px] absolute w-full top-[-60px] left-[-0.3px]",Ds,at()(at()({},"".concat(Ms," text-white"),"dark"===i),As,a))})]})},iterationStartNode:function(e){var t=e.isConnectable,n=void 0===t||t,r=e.selected,o=(0,ws.Fg)().theme;return(0,C.jsxs)("section",{className:(0,k.cn)("bg-white p-2 rounded-xl",at()(at()({},Ms,"dark"===o),Ts,r)),children:[(0,C.jsx)(we.HH,{type:"source",position:wr.Ly.Right,isConnectable:n,className:Zs,style:js,isConnectableEnd:!1}),(0,C.jsx)("div",{children:(0,C.jsx)(xl.Z,{className:"size-7"})})]})}},Dl={buttonEdge:function(e){var t,n=e.id,r=e.sourceX,a=e.sourceY,i=e.targetX,s=e.targetY,l=e.sourcePosition,c=e.targetPosition,u=e.source,d=e.target,f=e.style,g=void 0===f?{}:f,m=e.markerEnd,h=e.selected,v=ho((function(e){return e.deleteEdgeById})),b=(0,wr.OQ)({sourceX:r,sourceY:a,sourcePosition:l,targetX:i,targetY:s,targetPosition:c}),x=p()(b,3),_=x[0],w=x[1],k=x[2],S=(0,ws.Fg)().theme,N=(0,y.useMemo)((function(){return h?{strokeWidth:2,stroke:"#1677ff"}:{}}),[h]),E=(0,So.eL)().data,j=(0,y.useMemo)((function(){var e,t,n,r,o=null!==(e=null==E||null===(t=E.dsl)||void 0===t?void 0:t.path)&&void 0!==e?e:[],a=null!==(n=o.at(-2))&&void 0!==n?n:[],i=null!==(r=o.at(-1))&&void 0!==r?r:[],s=a.at(-1);return a.length>0&&s&&(i=[s].concat(Fr()(i))),i}),[null===(t=E.dsl)||void 0===t?void 0:t.path]),I=(0,y.useMemo)((function(){var e=j.findIndex((function(e){return e===u}));if(-1!==e&&j.slice(e+1).some((function(e){return e===d})))return{strokeWidth:2,stroke:"red"};return{}}),[u,d,j]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(we.u5,{path:_,markerEnd:m,style:o()(o()(o()({},g),N),I)}),(0,C.jsx)(we.XQ,{children:(0,C.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -50%) translate(".concat(w,"px,").concat(k,"px)"),fontSize:12,pointerEvents:"all",zIndex:1001},className:"nodrag nopan",children:(0,C.jsx)("button",{className:"dark"===S?Cs:ks,type:"button",onClick:function(){v(n)},children:"×"})})})]})}};var Al=function(e){var t=e.drawerVisible,n=e.hideDrawer,r=ho(vo),o=r.nodes,a=r.edges,i=r.onConnect,s=r.onEdgesChange,l=r.onNodesChange,c=r.onSelectionChange,u=function(){var e=ho((function(e){return e})),t=e.edges,n=e.getOperatorTypeFromId,r=e.getParentIdById,o=(0,y.useCallback)((function(e){var t=r(e.source),n=r(e.target);return!t&&!n||t===n}),[r]),a=(0,y.useCallback)((function(e){var r,a=e.target===e.source,i=t.some((function(t){return t.source===e.source&&t.target===e.target})),s=!a&&!i&&(null===(r=Ln[n(e.source)])||void 0===r?void 0:r.every((function(t){return t!==n(e.target)})))&&o(e);return s}),[t,n,o]);return a}(),d=bo(),f=d.onDrop,p=d.onDragOver,g=d.setReactFlowInstance,m=_s({drawerVisible:t,hideDrawer:n}),h=m.onNodeClick,v=m.onPaneClick,b=m.clickedNode,x=m.formDrawerVisible,_=m.hideFormDrawer,w=m.singleDebugDrawerVisible,k=m.hideSingleDebugDrawer,S=m.showSingleDebugDrawer,N=(m.chatVisible,m.runVisible,m.hideRunOrChatDrawer,m.showChatModal,function(){var e=ho((function(e){return e.getOperatorTypeFromId})),t=function(){var t=To()(Mo()().mark((function t(n){var r,o,a,i;return Mo()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.nodes,o=n.edges,a=r.filter((function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.label;return n!==Xt.Begin&&!(n===Xt.IterationStart&&!r.some((function(t){return t.id===e.parentId})))})),i=o.filter((function(t){var n=e(t.source),o=r.filter((function(e){return e.id===t.target}));return!hs.includes(n)||0!==o.length||!r.some((function(e){return e.id===t.source}))})),t.abrupt("return",{nodes:a,edges:i});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{handleBeforeDelete:t}}()),E=N.handleBeforeDelete;return function(){var e=ho((function(e){return e})),t=e.getNode,n=e.nodes,r=e.setEdgesByNodeId,o=(0,y.useCallback)((function(e,t){var n=t.category_description,o=Object.keys(n).reduce((function(t,r){var o,a=null===(o=n[r])||void 0===o?void 0:o.to;return a&&t.push({id:(0,Zr.Z)(),source:e,target:a,sourceHandle:r}),t}),[]);r(e,o)}),[r]),a=(0,y.useCallback)((function(e,t){var n=["yes","no"].reduce((function(n,r){var o=t[r];return o&&n.push({id:(0,Zr.Z)(),source:e,target:o,sourceHandle:r}),n}),[]);r(e,n)}),[r]),i=(0,y.useCallback)((function(e,t){var n=t.conditions,o=n.reduce((function(t,r,o){var a,i=null===(a=n[o])||void 0===a?void 0:a.to;return i&&t.push({id:(0,Zr.Z)(),source:e,target:i,sourceHandle:so(o)}),t}),[]),a=t[nr];a&&o.push({id:(0,Zr.Z)(),source:e,target:a,sourceHandle:nr}),r(e,o)}),[r]);(0,y.useEffect)((function(){n.forEach((function(e){var n,r=t(e.id),s=null!==(n=null==r?void 0:r.data.form)&&void 0!==n?n:{};switch(null==r?void 0:r.data.label){case Xt.Relevant:a(e.id,s);break;case Xt.Categorize:o(e.id,s);break;case Xt.Switch:i(e.id,s)}}))}),[n,o,t,a,i])}(),(0,C.jsxs)("div",{className:Ss,children:[(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:10,left:0},children:(0,C.jsx)("defs",{children:(0,C.jsx)("marker",{fill:"rgb(157 149 225)",id:"logo",viewBox:"0 0 40 40",refX:"8",refY:"5",markerUnits:"strokeWidth",markerWidth:"20",markerHeight:"20",orient:"auto-start-reverse",children:(0,C.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z"})})})}),(0,C.jsx)(we.x$,{connectionMode:wr.jD.Loose,nodes:o,onNodesChange:l,edges:a,onEdgesChange:s,fitView:!0,onConnect:i,nodeTypes:Ol,edgeTypes:Dl,onDrop:f,onDragOver:p,onNodeClick:h,onPaneClick:v,onInit:g,onSelectionChange:c,nodeOrigin:[.5,0],isValidConnection:u,defaultEdgeOptions:{type:"buttonEdge",markerEnd:"logo",style:{strokeWidth:2,stroke:"rgb(202 197 245)"},zIndex:1001},deleteKeyCode:["Delete","Backspace"],onBeforeDelete:E,children:(0,C.jsx)(we.Aq,{})}),x&&(0,C.jsx)(ms,{node:b,visible:x,hideModal:_,singleDebugDrawerVisible:w,hideSingleDebugDrawer:k,showSingleDebugDrawer:S})]})},Zl=n(80316),Rl=n(40169),Fl=n(51331),zl=n(41609),Ll=n.n(zl),Bl=function(){var e=ho((function(e){return e})),t=e.setEdges,n=e.setNodes;return(0,y.useCallback)((function(e){var r=e.nodes,o=void 0===r?[]:r,a=e.edges,i=void 0===a?[]:a;(o.length||i.length)&&(n(o),t(i))}),[t,n])},$l=function(){var e=ys().buildDslData,t=(0,xe.pG)(),n=t.visible,r=t.hideModal,o=t.showModal,a=Bl(),i=(0,So.eL)().data,s=(0,je.$G)().t,l=(0,Zl.pm)().toast,c=(0,y.useCallback)(function(){var e=To()(Mo()().mark((function e(t){var n,o,i,c,u,d;return Mo()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fileList,o=t.platform,console.log("🚀 ~ useHandleExportOrImportJsonFile ~ platform:",o),!(n.length>0)){e.next=12;break}if((i=n[0]).type===Rl.nK.Json){e.next=7;break}return l({title:s("flow.jsonUploadTypeErrorMessage")}),e.abrupt("return");case 7:return e.next=9,i.text();case 9:c=e.sent,u=s("flow.jsonUploadContentErrorMessage");try{d=JSON.parse(c),c&&!Ll()(d)&&Array.isArray(null==d?void 0:d.nodes)?(a(null!=d?d:{}),r()):Pr.ZP.error(u)}catch(e){Pr.ZP.error(u)}case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,a,s,l]);return{fileUploadVisible:n,handleExportJson:(0,y.useCallback)((function(){(0,Fl.De)(e().graph,"".concat(i.title,".json"))}),[e,i.title]),handleImportJson:o,hideFileUploadModal:r,onFileUploadOk:c}},Hl=function(){var e=(0,So.eL)(),t=e.loading,n=e.data,r=e.refetch,o=Bl();return(0,y.useEffect)((function(){var e,t;o(null!==(e=null==n||null===(t=n.dsl)||void 0===t?void 0:t.graph)&&void 0!==e?e:{})}),[o,n]),(0,y.useEffect)((function(){r()}),[r]),{loading:t,flowDetail:n}};var Vl=n(28993),Wl=n(11524),Kl=n(8074),Yl=n(48347),Gl=Object.values(Rl.t4).map((function(e){return{label:e,value:e}}));function ql(e){var t=e.hideModal,n=e.onOk,r=(0,je.$G)().t,a=Qo.z.object({platform:Qo.z.string().min(1,{message:r("common.namePlaceholder")}).trim(),fileList:Qo.z.array(Qo.z.instanceof(File))}),i=(0,Nr.cI)({resolver:(0,kr.F)(a),defaultValues:{platform:Rl.t4.RAGFlow}});function s(){return(s=To()(Mo()().mark((function e(r){return Mo()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("🚀 ~ onSubmit ~ data:",r),e.next=3,null==n?void 0:n(r);case 3:e.sent&&(null==t||t());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,C.jsx)(ta.l0,o()(o()({},i),{},{children:(0,C.jsxs)("form",{onSubmit:i.handleSubmit((function(e){return s.apply(this,arguments)})),className:"space-y-6",id:Kl.j$,children:[(0,C.jsx)(ta.Wi,{control:i.control,name:"fileList",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:r("common.name")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(Yl.b,{value:t.value,onValueChange:t.onChange,maxFileCount:1,maxSize:4194304,accept:{"*.json":[Rl.nK.Json]}})}),(0,C.jsx)(ta.zG,{})]})}}),(0,C.jsx)(ta.Wi,{control:i.control,name:"platform",render:function(e){var t=e.field;return(0,C.jsxs)(ta.xJ,{children:[(0,C.jsx)(ta.lX,{children:r("common.name")}),(0,C.jsx)(ta.NI,{children:(0,C.jsx)(na.vM,o()(o()({},t),{},{options:Gl}))}),(0,C.jsx)(ta.zG,{})]})}})]})}))}function Ul(e){var t=e.hideModal,n=e.onOk,r=e.loading,o=(0,je.$G)().t;return(0,C.jsx)(Vl.Vq,{open:!0,onOpenChange:t,children:(0,C.jsxs)(Vl.cZ,{className:"sm:max-w-[425px]",children:[(0,C.jsx)(Vl.fK,{children:(0,C.jsx)(Vl.$N,{children:o("fileManager.uploadFile")})}),(0,C.jsx)(ql,{hideModal:t,onOk:n}),(0,C.jsx)(Vl.cN,{children:(0,C.jsx)(Wl.f,{type:"submit",form:Kl.j$,loading:r,children:o("common.save")})})]})})}var Xl=["children"];function Jl(e){var t=e.children,n=i()(e,Xl);return(0,C.jsx)(c.Xi,o()(o()({className:"flex justify-between items-center"},n),{},{children:t}))}function Ql(){var e=(0,_e.$)().navigateToAgentList,t=(0,xe.pG)(),n=t.visible,r=t.hideModal,o=(t.showModal,(0,je.$G)().t),a=(0,y.useCallback)((function(){window.open("https://ragflow.io/docs/dev/category/agent-components","_blank")}),[]),i=$l(),u=i.handleExportJson,d=i.handleImportJson,f=i.fileUploadVisible,p=i.onFileUploadOk,g=i.hideFileUploadModal,m=Hl().flowDetail;return(0,C.jsxs)("section",{children:[(0,C.jsx)(s.m,{back:e,title:m.title,children:(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsxs)(c.h_,{children:[(0,C.jsx)(c.$F,{asChild:!0,children:(0,C.jsx)(l.z,{variant:"icon",size:"icon",children:(0,C.jsx)(ke.Z,{})})}),(0,C.jsxs)(c.AW,{children:[(0,C.jsxs)(Jl,{onClick:a,children:["API",(0,C.jsx)(Ce.Z,{})]}),(0,C.jsx)(c.VD,{}),(0,C.jsxs)(Jl,{onClick:d,children:["Import",(0,C.jsx)(Se,{})]}),(0,C.jsx)(c.VD,{}),(0,C.jsxs)(Jl,{onClick:u,children:["Export",(0,C.jsx)(Ne,{})]}),(0,C.jsx)(c.VD,{}),(0,C.jsxs)(Jl,{children:[o("common.embedIntoSite"),(0,C.jsx)(Ee,{})]})]})]}),(0,C.jsx)(l.z,{variant:"outline",size:"sm",children:"Save"}),(0,C.jsx)(l.z,{variant:"outline",size:"sm",children:"Run app"}),(0,C.jsx)(l.z,{variant:"tertiary",size:"sm",children:"Publish"})]})}),(0,C.jsx)(we.tV,{children:(0,C.jsx)("div",{children:(0,C.jsxs)(ce,{children:[(0,C.jsx)(_r,{}),(0,C.jsxs)("div",{className:"w-full",children:[(0,C.jsx)(de,{}),(0,C.jsx)("div",{className:"w-full h-full",children:(0,C.jsx)(Al,{drawerVisible:n,hideDrawer:r})})]})]})})}),f&&(0,C.jsx)(Ul,{hideModal:g,onOk:p})]})}},40790:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r=(0,n(67294).createContext)(void 0)},45445:function(e,t,n){"use strict";n.d(t,{cA:function(){return v},cH:function(){return p},mK:function(){return g},pI:function(){return h}});var r=n(19632),o=n.n(r),a=n(5574),i=n.n(a),s=n(27361),l=n.n(s),c=n(67294),u=n(38260),d=n(12938),f=n(85893),p=function(){var e=(0,d.Z)((function(e){return e.getNode}));return(0,c.useCallback)((function(){return l()(e(u.pj),"data.form.query",[])}),[e])},g=function(){var e=(0,c.useState)(!1),t=i()(e,2),n=t[0],r=t[1],o=p(),a=(0,d.Z)((function(e){return e.nodes}));return(0,c.useEffect)((function(){var e=!o().some((function(e){return!e.optional&&"file"===e.type}));r(e)}),[o,a]),n},m=[u.EF.Categorize,u.EF.Relevant,u.EF.Begin,u.EF.Note],h=function(e,t){var n=(0,d.Z)((function(e){return e.nodes})),r=p()(),o=(0,c.useCallback)((function(e){return t?(e.parentId===t||void 0===e.parentId)&&e.id!==t:void 0===e.parentId}),[t]),a=(0,c.useMemo)((function(){return n.filter((function(t){return t.id!==e&&!m.some((function(e){return e===t.data.label}))&&o(t)})).map((function(e){return{label:e.data.name,value:e.id}}))}),[n,e,o]);return[{label:(0,f.jsx)("span",{children:"Component Output"}),title:"Component Output",options:a},{label:(0,f.jsx)("span",{children:"Begin Input"}),title:"Begin Input",options:r.map((function(e){return{label:e.name,value:"begin@".concat(e.key)}}))}]},v=function(e){var t=h(e),n=(0,c.useMemo)((function(){return t.reduce((function(e,t){return[].concat(o()(e),o()(t.options))}),[])}),[t]);return(0,c.useCallback)((function(e){var t;return null===(t=n.find((function(t){return t.value===e})))||void 0===t?void 0:t.label}),[n])}},12938:function(e,t,n){"use strict";var r=n(97857),o=n.n(r),a=n(9783),i=n.n(a),s=n(19632),l=n.n(s),c=n(86983),u=n(83859),d=n(96486),f=n(29521),p=n.n(f),g=n(33856),m=n.n(g),h=n(36968),v=n.n(h),y=n(73445),b=n(782),x=n(91559),_=n(38260),w=n(4925),k=(0,y.Ue)()((0,b.mW)((0,x.n)((function(e,t){return{nodes:[],edges:[],selectedNodeIds:[],selectedEdgeIds:[],clickedNodeId:"",onNodesChange:function(n){e({nodes:(0,c.Fb)(n,t().nodes)})},onEdgesChange:function(n){e({edges:(0,c.yn)(n,t().edges)})},onConnect:function(n){var r=t(),o=r.deletePreviousEdgeOfClassificationNode,a=r.updateFormDataOnConnect;e({edges:(0,u.Z_)(n,t().edges)}),o(n),a(n)},onSelectionChange:function(t){var n=t.nodes,r=t.edges;e({selectedEdgeIds:r.map((function(e){return e.id})),selectedNodeIds:n.map((function(e){return e.id}))})},setNodes:function(t){e({nodes:t})},setEdges:function(t){e({edges:t})},setEdgesByNodeId:function(e,n){var r=t(),o=r.edges,a=r.setEdges,i=o.filter((function(t){return t.source===e})),s=i.length!==n.length||!i.every((function(e){return n.some((function(t){return t.source===e.source&&t.target===e.target&&t.sourceHandle===e.sourceHandle}))}))||!n.every((function(e){return i.some((function(t){return t.source===e.source&&t.target===e.target&&t.sourceHandle===e.sourceHandle}))})),c=m()(i,n,w.Pc);if(s){var u=o.filter((function(t){return t.source!==e})),d=p()(n,c,w.Pc);a([].concat(l()(u),l()(c),l()(d)))}},addNode:function(n){e({nodes:t().nodes.concat(n)})},getNode:function(e){return t().nodes.find((function(t){return t.id===e}))},getOperatorTypeFromId:function(e){var n;return null===(n=t().getNode(e))||void 0===n||null===(n=n.data)||void 0===n?void 0:n.label},getParentIdById:function(e){var n;return null===(n=t().getNode(e))||void 0===n?void 0:n.parentId},addEdge:function(n){e({edges:(0,u.Z_)(n,t().edges)}),t().deletePreviousEdgeOfClassificationNode(n),t().updateFormDataOnConnect(n)},getEdge:function(e){return t().edges.find((function(t){return t.id===e}))},updateFormDataOnConnect:function(e){var n=t(),r=n.getOperatorTypeFromId,o=n.updateNodeForm,a=n.updateSwitchFormData,s=e.source,l=e.target,c=e.sourceHandle,u=r(s);if(s)switch(u){case _.EF.Relevant:o(s,i()({},c,l));break;case _.EF.Categorize:c&&o(s,l,["category_description",c,"to"]);break;case _.EF.Switch:a(s,c,l)}},deletePreviousEdgeOfClassificationNode:function(e){var n=t(),r=n.edges,o=n.getOperatorTypeFromId,a=n.deleteEdgeById;if([_.EF.Categorize,_.EF.Relevant,_.EF.Switch].some((function(t){return t===o(e.source)}))){var i=r.find((function(t){return t.source===e.source&&t.sourceHandle===e.sourceHandle&&t.target!==e.target}));i&&a(i.id)}},duplicateNode:function(e,n){var r,a=t(),i=a.getNode,s=a.addNode,l=a.generateNodeName,c=a.duplicateIterationNode,u=i(e);(null==u?void 0:u.data.label)!==_.EF.Iteration?s(o()(o()({},u||{}),{},{data:o()(o()({},(0,w.dK)(null==u?void 0:u.data)),{},{name:l(n)})},(0,w.fP)(null==u?void 0:u.position,null==u||null===(r=u.data)||void 0===r?void 0:r.label))):c(e,n)},duplicateIterationNode:function(n,r){var a,i=t(),s=i.getNode,c=i.generateNodeName,u=i.nodes,f=s(n),p=o()(o()({},f||{}),{},{data:o()(o()({},(null==f?void 0:f.data)||{label:_.EF.Iteration,form:{}}),{},{name:c(r)})},(0,w.fP)(null==f?void 0:f.position,null==f||null===(a=f.data)||void 0===a?void 0:a.label)),g=u.filter((function(e){return e.parentId===(null==f?void 0:f.id)})).map((function(e){var t;return o()(o()(o()({},e||{}),{},{data:o()(o()({},(0,w.dK)(null==e?void 0:e.data)),{},{name:c(e.data.name)})},(0,d.omit)((0,w.fP)(null==e?void 0:e.position,null==e||null===(t=e.data)||void 0===t?void 0:t.label),["position"])),{},{parentId:p.id})}));e({nodes:u.concat.apply(u,[p].concat(l()(g)))})},deleteEdge:function(){var n=t(),r=n.edges,o=n.selectedEdgeIds;e({edges:r.filter((function(e){return o.every((function(t){return t!==e.id}))}))})},deleteEdgeById:function(n){var r=t(),o=r.edges,a=r.updateNodeForm,s=r.getOperatorTypeFromId,l=r.updateSwitchFormData,c=o.find((function(e){return e.id===n}));if(c){var u=c.source,d=c.sourceHandle;switch(s(u)){case _.EF.Relevant:a(u,i()({},d,void 0));break;case _.EF.Categorize:d&&a(u,void 0,["category_description",d,"to"]);break;case _.EF.Switch:l(u,d,void 0)}}e({edges:o.filter((function(e){return e.id!==n}))})},deleteEdgeBySourceAndSourceHandle:function(n){var r=n.source,o=n.sourceHandle,a=t().edges.filter((function(e){return e.source!==r||e.sourceHandle!==o}));e({edges:a})},deleteNodeById:function(n){var r=t(),o=r.nodes,a=r.edges;e({nodes:o.filter((function(e){return e.id!==n})),edges:a.filter((function(e){return e.source!==n})).filter((function(e){return e.target!==n}))})},deleteIterationNodeById:function(n){var r=t(),o=r.nodes,a=r.edges,i=o.filter((function(e){return e.parentId===n}));e({nodes:o.filter((function(e){return e.id!==n&&e.parentId!==n})),edges:a.filter((function(e){return e.source!==n&&e.target!==n&&!i.some((function(t){return e.source===t.id&&e.target===t.id}))}))})},findNodeByName:function(e){return t().nodes.find((function(t){return t.data.label===e}))},updateNodeForm:function(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=t().nodes.map((function(e){if(e.id===n){var t=o()({},e.data.form);return 0===a.length?t=Object.assign(t,r):v()(t,a,r),o()(o()({},e),{},{data:o()(o()({},e.data),{},{form:t})})}return e}));return e({nodes:i}),i},updateSwitchFormData:function(e,n,r){var o=t().updateNodeForm;if(n)if(n===_.ky)o(e,r,[_.ky]);else{var a=(0,w.MY)(n);a&&o(e,r,["conditions",Number(a)-1,"to"])}},updateMutableNodeFormItem:function(e,n,r){var o=t().nodes,a=o.findIndex((function(t){return t.id===e}));a&&v()(o,[a,"data","form",n],r)},updateNodeName:function(n,r){n&&e({nodes:t().nodes.map((function(e){return e.id===n&&(e.data.name=r),e}))})},setClickedNodeId:function(t){e({clickedNodeId:t})},generateNodeName:function(e){var n=t().nodes;return(0,w.oN)(e,n)}}})),{name:"graph"}));t.Z=k},4925:function(e,t,n){"use strict";n.d(t,{LK:function(){return I},ML:function(){return C},MY:function(){return w},Pc:function(){return _},RV:function(){return S},UE:function(){return y},Ym:function(){return M},aY:function(){return k},dK:function(){return j},dw:function(){return O},fP:function(){return T},ge:function(){return b},jW:function(){return P},oN:function(){return E},zv:function(){return x}});var r=n(64599),o=n.n(r),a=n(97857),i=n.n(a),s=(n(19632),n(5574),n(51418)),l=n(99363),c=n(96486),u=n(46898),d=n.n(u),f=n(13218),p=n.n(f),g=n(38260),m=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.filter((function(e){return e[n?"source":"target"]===t})).map((function(e){return e[n?"target":"source"]}))},h=(0,c.curry)((function(e,t){return e===g.EF.Generate||e===g.EF.Categorize?(0,s.R)(t,""):t})),v=function(e){return d()(h(e))},y=function(e,t,n){var r={};return null==e||e.filter((function(e){return e.data.label!==g.EF.Note})).forEach((function(e){var o,a,s,l=e.id,c=e.data.label;r[l]={obj:i()(i()({},null!==(o=null===(a=n[l])||void 0===a?void 0:a.obj)&&void 0!==o?o:{}),{},{component_name:c,params:null!==(s=v(c)(e.data.form))&&void 0!==s?s:{}}),downstream:m(t,l,!0),upstream:m(t,l,!1),parent_id:null==e?void 0:e.parentId}})),r},b=function(e){var t;return e&&(200!==(null==e?void 0:e.response.status)||0!==(null==e||null===(t=e.data)||void 0===t?void 0:t.code))},x=function e(t,n){if(p()(t)){var r=Array.isArray(t)?[]:{};return Object.keys(t).forEach((function(o){var a=t[o],i="string"==typeof a?n(a):void 0;r[o]=i||e(a,n)})),r}return t},_=function(e,t){return e.source===t.source&&e.target===t.target&&e.sourceHandle===t.sourceHandle},w=function(e){return e.split(" ").at(-1)},k=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"items",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return(null!==(t=e.getFieldValue([n]))&&void 0!==t?t:[]).map((function(e){return(0,c.get)(e,o)})).filter((function(t){return t!==e.getFieldValue([n,r.name,o])}))},C=function(e){return"Case ".concat(e+1)},S=function(e){return e===g.EF.Note?".note-drag-handle":void 0},N=function(e){var t=e.split("_");return{type:t.at(0),index:Number(t.at(-1))}},E=function(e,t){for(var n=t.filter((function(t){var n,r=t.data.name,o=N(r),a=o.type,i=o.index;return 1===(null===(n=r.match(/_/g))||void 0===n?void 0:n.length)&&a===e&&!isNaN(i)})).map((function(e){var t=e.data.name;return{idx:N(t).index,name:t}})).sort((function(e,t){return e.idx-t.idx})),r=0,o=0;o<n.length;o++){var a,i,s=null===(a=n[o])||void 0===a?void 0:a.idx;if(s+1!==(null===(i=n[o+1])||void 0===i?void 0:i.idx)){r=s+1;break}}return"".concat(e,"_").concat(r)},j=function(e){var t,n=i()({},null!==(t=null==e?void 0:e.form)&&void 0!==t?t:{});return(null==e?void 0:e.label)===g.EF.Categorize&&(n.category_description=Object.keys(n.category_description).reduce((function(e,t){return e[t]=i()(i()({},n.category_description[t]),{},{to:void 0}),e}),{})),(null==e?void 0:e.label)===g.EF.Relevant&&(n.yes=void 0,n.no=void 0),i()(i()({},null!=e?e:{label:""}),{},{form:n})},I=function(){return window.innerWidth>1278?"40%":470},M=function(e){return!g.zJ.some((function(t){return e===t}))};function P(e,t){if(t){var n,r=e.filter((function(e){return e.data.label===g.EF.Iteration})),a=o()(r);try{for(a.s();!(n=a.n()).done;){var i=n.value,s=i.position,l=s.x,c=s.y,u=i.width,d=i.height,f=(u||0)/2;if(t.x>=l-f&&t.x<=l+f&&t.y>=c&&t.y<=c+(d||0))return{parentId:i.id,position:{x:t.x-l+f,y:t.y-c}}}}catch(e){a.e(e)}finally{a.f()}}}var T=function(e,t){var n={x:((null==e?void 0:e.x)||0)+50,y:((null==e?void 0:e.y)||0)+50};return{selected:!1,dragging:!1,id:"".concat(t,":").concat((0,l.humanId)()),position:n,dragHandle:S(t)}},O=function(e){return Object.keys(e).reduce((function(t,n){return t.push(i()({name:n},e[n])),t}),[]).sort((function(e,t){return e.index-t.index}))}},23454:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=function(e){return e.Login="/login",e.Home="/home",e.Datasets="/datasets",e.DatasetBase="/dataset",e[e.Dataset="".concat(e.DatasetBase).concat(e.DatasetBase)]="Dataset",e.Agent="/agent",e.AgentTemplates="/agent-templates",e.Agents="/agents",e.Searches="/next-searches",e.Search="/next-search",e.Chats="/next-chats",e.Chat="/next-chat",e.Files="/files",e.ProfileSetting="/profile-setting",e.DatasetTesting="/testing",e.DatasetSetting="/setting",e.Chunk="/chunk",e.ChunkResult="/chunk/chunk",e.Parsed="/parsed",e.ParsedResult="/chunk/parsed",e.Result="/result",e.ResultView="/chunk/result",e}({});r.Home,r.Home,"@/pages".concat(r.Home),r.Datasets,r.Datasets,"@/pages".concat(r.Datasets),r.Chats,r.Chats,"@/pages".concat(r.Chats),r.Chat,"@/pages".concat(r.Chats,"/chat"),r.Searches,r.Searches,"@/pages".concat(r.Searches),r.Search,"@/pages".concat(r.Search),r.Agents,r.Agents,"@/pages".concat(r.Agents),"".concat(r.Agent,"/:id"),"@/pages".concat(r.Agent),r.AgentTemplates,"@/pages".concat(r.Agents).concat(r.AgentTemplates),r.Files,r.Files,"@/pages".concat(r.Files),r.DatasetBase,r.DatasetBase,r.Dataset,r.DatasetBase,"@/pages".concat(r.DatasetBase),"".concat(r.Dataset,"/:id"),"@/pages".concat(r.Dataset),"".concat(r.DatasetBase).concat(r.DatasetSetting,"/:id"),"@/pages".concat(r.DatasetBase).concat(r.DatasetSetting),"".concat(r.DatasetBase).concat(r.DatasetTesting,"/:id"),"@/pages".concat(r.DatasetBase).concat(r.DatasetTesting),r.Chunk,r.Chunk,"@/pages".concat(r.Chunk),"".concat(r.ParsedResult,"/:id"),"@/pages".concat(r.Chunk,"/parsed-result"),"".concat(r.ChunkResult,"/:id"),"@/pages".concat(r.Chunk,"/chunk-result"),"".concat(r.ResultView,"/:id"),"@/pages".concat(r.Chunk,"/result-view"),r.Chunk,"@/pages".concat(r.Chunk),r.ProfileSetting,"@/pages".concat(r.ProfileSetting),r.ProfileSetting,"".concat(r.ProfileSetting,"/profile"),"".concat(r.ProfileSetting,"/profile"),"@/pages".concat(r.ProfileSetting,"/profile"),"".concat(r.ProfileSetting,"/team"),"@/pages".concat(r.ProfileSetting,"/team"),"".concat(r.ProfileSetting,"/plan"),"@/pages".concat(r.ProfileSetting,"/plan"),"".concat(r.ProfileSetting,"/model"),"@/pages".concat(r.ProfileSetting,"/model"),"".concat(r.ProfileSetting,"/prompt"),"@/pages".concat(r.ProfileSetting,"/prompt")},62386:function(e,t,n){"use strict";var r=n(60806),o=n(66582),a=n(78158),i=r.Z.listFile,s=r.Z.removeFile,l=r.Z.uploadFile,c=r.Z.renameFile,u=r.Z.getAllParentFolder,d=r.Z.createFolder,f=r.Z.connectFileToKnowledge,p=r.Z.get_document_file,g={listFile:{url:i,method:"get"},removeFile:{url:s,method:"post"},uploadFile:{url:l,method:"post"},renameFile:{url:c,method:"post"},getAllParentFolder:{url:u,method:"get"},createFolder:{url:d,method:"post"},connectFileToKnowledge:{url:f,method:"post"},getFile:{url:r.Z.getFile,method:"get",responseType:"blob"},getDocumentFile:{url:p,method:"get",responseType:"blob"},moveFile:{url:r.Z.moveFile,method:"post"}},m=(0,o.Z)(g,a.ZP);t.Z=m},5089:function(e,t,n){"use strict";n.d(t,{Ep:function(){return d},Or:function(){return f},RT:function(){return c},YC:function(){return u},q1:function(){return l}});var r=n(19632),o=n.n(r),a=n(40169),i=n(96486),s=n(57632),l=function(e,t){var n;return Array.isArray(null==e?void 0:e.positions)&&e.positions.every((function(e){return Array.isArray(e)}))?null==e||null===(n=e.positions)||void 0===n?void 0:n.map((function(n){var r={width:t.width,height:t.height,x1:n[1],x2:n[2],y1:n[3],y2:n[4]};return{id:(0,s.Z)(),comment:{text:"",emoji:""},content:{text:(0,i.get)(e,"content_with_weight")||(0,i.get)(e,"content","")},position:{boundingRect:r,rects:[r],pageNumber:n[0]}}})):[]},c=function(e){var t;return null!==(t=null==e?void 0:e.slice(e.lastIndexOf(".")+1).toLowerCase())&&void 0!==t?t:""},u=function(e){return e.split("\n").length},d=function(e){return a.ru.includes(e)},f=function(e){return[].concat(o()(a.rU),["svg"]).some((function(t){return t===e}))}},51331:function(e,t,n){"use strict";n.d(t,{AG:function(){return y},De:function(){return _},P2:function(){return d},Ph:function(){return u},qh:function(){return m},td:function(){return x},uA:function(){return v},vn:function(){return f}});var r=n(15009),o=n.n(r),a=n(99289),i=n.n(a),s=n(40169),l=n(62386),c=function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){var e=new Image;e.src=r.result,e.onload=function(){var n=document.createElement("canvas"),r=n.getContext("2d"),o=e.width,a=e.height,i=100;o>a&&o>i?(a=a*i/o,o=i):a>i&&(o=o*i/a,a=i),n.width=o,n.height=a,null==r||r.drawImage(e,0,0,o,a);var s=n.toDataURL("image/png");t(s)},e.onerror=n},r.onerror=n}))},u=function(e){return Array.isArray(e)?e:null==e?void 0:e.fileList},d=function(e){var t=[];return e&&(t=[{uid:"1",name:"file",thumbUrl:e,status:"done"}]),t},f=function(){var e=i()(o()().mark((function e(t){var n,r,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Array.isArray(t)&&t.length>0)){e.next=11;break}if(n=t[0],!(r=n.originFileObj)){e.next=10;break}return e.next=6,c(r);case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.abrupt("return",n.thumbUrl);case 11:return e.abrupt("return","");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function p(e,t){return g.apply(this,arguments)}function g(){return(g=i()(o()().mark((function e(t,n){var r,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.getDocumentFile({},t);case 2:return r=e.sent,a=new Blob([r.data],{type:n||r.data.type}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=i()(o()().mark((function e(t){var n,r,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,s.nK.Html);case 2:n=e.sent,r=URL.createObjectURL(n),(a=document.createElement("a")).href=r,a.click(),URL.revokeObjectURL(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e,t){var n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,t&&(r.download=t),r.click(),window.URL.revokeObjectURL(n)},y=function(){var e=i()(o()().mark((function e(t){var n,r,a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.filename,e.next=3,p(n);case 3:a=e.sent,v(a,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],x=function(e){for(var t=0,n=("string"==typeof e?parseInt(e,10):e)||0;n>=1024&&++t;)n/=1024;return n.toFixed(n<10&&t>0?1:0)+" "+b[t]},_=function(){var e=i()(o()().mark((function e(t,n){var r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Blob([JSON.stringify(t)],{type:s.nK.Json}),v(r,n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},51418:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var r=n(19632),o=n.n(r),a=n(1079),i=n(57557),s=n.n(i),l=function(e,t){var n=s()(e,[].concat(o()(Object.keys(a.vv)),["parameter"],o()(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"llm_setting.";return Object.keys(a.vv).filter((function(t){return!e[t]})).map((function(e){return"".concat(t).concat(a.vv[e])}))}(e,t))));return n}},16091:function(){},86983:function(e,t,n){"use strict";n.d(t,{Aq:function(){return Xt},u5:function(){return qe},Bw:function(){return rn},ZX:function(){return sn},XQ:function(){return Ht},HH:function(){return je},KP:function(){return hn},x$:function(){return Bt},tV:function(){return Ft},yn:function(){return X},Fb:function(){return U},Bn:function(){return Vt}});var r=n(85893),o=n(67294);function a(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=a(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var i=n(83859),s=n(52798),l=n(43973);const{useDebugValue:c}=o,{useSyncExternalStoreWithSelector:u}=s,d=e=>e;function f(e,t=d,n){const r=u(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c(r),r}const p=(e,t)=>{const n=(0,l.M)(e),r=(e,r=t)=>f(n,e,r);return Object.assign(r,n),r};function g(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var m=n(73935);const h=(0,o.createContext)(null),v=h.Provider,y=i.Qj.error001();function b(e,t){const n=(0,o.useContext)(h);if(null===n)throw new Error(y);return f(n,e,t)}function x(){const e=(0,o.useContext)(h);if(null===e)throw new Error(y);return(0,o.useMemo)((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe})),[e])}const _={display:"none"},w={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},k="react-flow__node-desc",C="react-flow__edge-desc",S=e=>e.ariaLiveMessage;function N({rfId:e}){const t=b(S);return(0,r.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:w,children:t})}function E({rfId:e,disableKeyboardA11y:t}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{id:`${k}-${e}`,style:_,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,r.jsx)("div",{id:`${C}-${e}`,style:_,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&(0,r.jsx)(N,{rfId:e})]})}const j=e=>e.userSelectionActive?"none":"all",I=(0,o.forwardRef)((({position:e="top-left",children:t,className:n,style:o,...i},s)=>{const l=b(j),c=`${e}`.split("-");return(0,r.jsx)("div",{className:a(["react-flow__panel",n,...c]),style:{...o,pointerEvents:l},ref:s,...i,children:t})}));function M({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,r.jsx)(I,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,r.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}I.displayName="Panel";const P=e=>{const t=[],n=[];for(const[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(const[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},T=e=>e.id;function O(e,t){return g(e.selectedNodes.map(T),t.selectedNodes.map(T))&&g(e.selectedEdges.map(T),t.selectedEdges.map(T))}function D({onSelectionChange:e}){const t=x(),{selectedNodes:n,selectedEdges:r}=b(P,O);return(0,o.useEffect)((()=>{const o={nodes:n,edges:r};e?.(o),t.getState().onSelectionChangeHandlers.forEach((e=>e(o)))}),[n,r,e]),null}const A=e=>!!e.onSelectionChangeHandlers;function Z({onSelectionChange:e}){const t=b(A);return e||t?(0,r.jsx)(D,{onSelectionChange:e}):null}const R=[0,0],F={x:0,y:0,zoom:1},z=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","rfId"],L=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),B={translateExtent:i.k5,nodeOrigin:R,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function $(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:a,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:u}=b(L,g),d=x();(0,o.useEffect)((()=>(c(e.defaultNodes,e.defaultEdges),()=>{f.current=B,l()})),[]);const f=(0,o.useRef)(B);return(0,o.useEffect)((()=>{for(const o of z){const l=e[o];l!==f.current[o]&&(void 0!==e[o]&&("nodes"===o?t(l):"edges"===o?n(l):"minZoom"===o?r(l):"maxZoom"===o?a(l):"translateExtent"===o?i(l):"nodeExtent"===o?s(l):"paneClickDistance"===o?u(l):"fitView"===o?d.setState({fitViewQueued:l}):"fitViewOptions"===o?d.setState({fitViewOptions:l}):d.setState({[o]:l})))}f.current=e}),z.map((t=>e[t]))),null}function H(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}const V="undefined"!=typeof document?document:null;function W(e=null,t={target:V,actInsideInputWithModifier:!0}){const[n,r]=(0,o.useState)(!1),a=(0,o.useRef)(!1),s=(0,o.useRef)(new Set([])),[l,c]=(0,o.useMemo)((()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter((e=>"string"==typeof e)).map((e=>e.replace("+","\n").replace("\n\n","\n+").split("\n"))),n=t.reduce(((e,t)=>e.concat(...t)),[]);return[t,n]}return[[],[]]}),[e]);return(0,o.useEffect)((()=>{const n=t?.target||V;if(null!==e){const e=e=>{a.current=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey;if((!a.current||a.current&&!t.actInsideInputWithModifier)&&(0,i.s$)(e))return!1;const n=Y(e.code,c);if(s.current.add(e[n]),K(l,s.current,!1)){const n=e.composedPath?.()?.[0]||e.target,o="BUTTON"===n?.nodeName||"A"===n?.nodeName;!1===t.preventDefault||!a.current&&o||e.preventDefault(),r(!0)}},o=e=>{const t=Y(e.code,c);K(l,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(e[t]),"Meta"===e.key&&s.current.clear(),a.current=!1},u=()=>{s.current.clear(),r(!1)};return n?.addEventListener("keydown",e),n?.addEventListener("keyup",o),window.addEventListener("blur",u),window.addEventListener("contextmenu",u),()=>{n?.removeEventListener("keydown",e),n?.removeEventListener("keyup",o),window.removeEventListener("blur",u),window.removeEventListener("contextmenu",u)}}}),[e,r]),n}function K(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function Y(e,t){return t.includes(e)?"code":"key"}function G(e,t){const n=[],r=new Map,o=[];for(const t of e)if("add"!==t.type)if("remove"===t.type||"replace"===t.type)r.set(t.id,[t]);else{const e=r.get(t.id);e?e.push(t):r.set(t.id,[t])}else o.push(t);for(const e of t){const t=r.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}const o={...e};for(const e of t)q(e,o);n.push(o)}return o.length&&o.forEach((e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})})),n}function q(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":void 0!==e.dimensions&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(!0!==e.setAttributes&&"width"!==e.setAttributes||(t.width=e.dimensions.width),!0!==e.setAttributes&&"height"!==e.setAttributes||(t.height=e.dimensions.height))),"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}}function U(e,t){return G(e,t)}function X(e,t){return G(e,t)}function J(e,t){return{id:e,type:"select",selected:t}}function Q(e,t=new Set,n=!1){const r=[];for(const[o,a]of e){const e=t.has(o);void 0===a.selected&&!e||a.selected===e||(n&&(a.selected=e),r.push(J(a.id,e)))}return r}function ee({items:e=[],lookup:t}){const n=[],r=new Map(e.map((e=>[e.id,e])));for(const[r,o]of e.entries()){const e=t.get(o.id),a=e?.internals?.userNode??e;void 0!==a&&a!==o&&n.push({id:o.id,item:o,type:"replace"}),void 0===a&&n.push({item:o,type:"add",index:r})}for(const[e]of t){void 0===r.get(e)&&n.push({id:e,type:"remove"})}return n}function te(e){return{id:e.id,type:"remove"}}const ne=e=>(0,i.Vt)(e);function re(e){return(0,o.forwardRef)(e)}const oe="undefined"!=typeof window?o.useLayoutEffect:o.useEffect;function ae(e){const[t,n]=(0,o.useState)(BigInt(0)),[r]=(0,o.useState)((()=>function(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}((()=>n((e=>e+BigInt(1)))))));return oe((()=>{const t=r.get();t.length&&(e(t),r.reset())}),[t]),r}const ie=(0,o.createContext)(null);function se({children:e}){const t=x(),n=ae((0,o.useCallback)((e=>{const{nodes:n=[],setNodes:r,hasDefaultNodes:o,onNodesChange:a,nodeLookup:i,fitViewQueued:s}=t.getState();let l=n;for(const t of e)l="function"==typeof t?t(l):t;if(o)r(l);else{const e=ee({items:l,lookup:i});e.length>0?a?.(e):s&&window.requestAnimationFrame((()=>{const{fitViewQueued:e,nodes:n,setNodes:r}=t.getState();e&&r(n)}))}}),[])),a=ae((0,o.useCallback)((e=>{const{edges:n=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:a,edgeLookup:i}=t.getState();let s=n;for(const t of e)s="function"==typeof t?t(s):t;o?r(s):a&&a(ee({items:s,lookup:i}))}),[])),i=(0,o.useMemo)((()=>({nodeQueue:n,edgeQueue:a})),[]);return(0,r.jsx)(ie.Provider,{value:i,children:e})}const le=e=>!!e.panZoom;function ce(){const e=(()=>{const e=x();return(0,o.useMemo)((()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,a],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??a},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:o,height:a,maxZoom:i,panZoom:s}=e.getState(),l=void 0!==r?.zoom?r.zoom:i,c=o/2-t*l,u=a/2-n*l;return s?(await s.setViewport({x:c,y:u,zoom:l},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:a,maxZoom:s,panZoom:l}=e.getState(),c=(0,i.$i)(t,r,o,a,s,n?.padding??.1);return l?(await l.setViewport(c,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:a,domNode:s}=e.getState();if(!s)return t;const{x:l,y:c}=s.getBoundingClientRect(),u={x:t.x-l,y:t.y-c},d=n.snapGrid??o,f=n.snapToGrid??a;return(0,i.m)(u,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:a}=r.getBoundingClientRect(),s=(0,i.oj)(t,n);return{x:s.x+o,y:s.y+a}}})),[])})(),t=x(),n=function(){const e=(0,o.useContext)(ie);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}(),r=b(le),a=(0,o.useMemo)((()=>{const e=e=>t.getState().nodeLookup.get(e),r=e=>{n.nodeQueue.push(e)},o=e=>{n.edgeQueue.push(e)},a=e=>{const{nodeLookup:n,nodeOrigin:r}=t.getState(),o=ne(e)?e:n.get(e.id),a=o.parentId?(0,i.ZB)(o.position,o.measured,o.parentId,n,r):o.position,s={...o,position:a,width:o.measured?.width??o.width,height:o.measured?.height??o.height};return(0,i.PS)(s)},s=(e,t,n={replace:!1})=>{r((r=>r.map((r=>{if(r.id===e){const e="function"==typeof t?t(r):t;return n.replace&&ne(e)?e:{...r,...e}}return r}))))},l=(e,t,n={replace:!1})=>{o((r=>r.map((r=>{if(r.id===e){const e="function"==typeof t?t(r):t;return n.replace&&(o=e,(0,i.J3)(o))?e:{...r,...e}}var o;return r}))))};return{getNodes:()=>t.getState().nodes.map((e=>({...e}))),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{const{edges:e=[]}=t.getState();return e.map((e=>({...e})))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:r,setEdges:o,addNodes:e=>{const t=Array.isArray(e)?e:[e];n.nodeQueue.push((e=>[...e,...t]))},addEdges:e=>{const t=Array.isArray(e)?e:[e];n.edgeQueue.push((e=>[...e,...t]))},toObject:()=>{const{nodes:e=[],edges:n=[],transform:r}=t.getState(),[o,a,i]=r;return{nodes:e.map((e=>({...e}))),edges:n.map((e=>({...e}))),viewport:{x:o,y:a,zoom:i}}},deleteElements:async({nodes:e=[],edges:n=[]})=>{const{nodes:r,edges:o,onNodesDelete:a,onEdgesDelete:s,triggerNodeChanges:l,triggerEdgeChanges:c,onDelete:u,onBeforeDelete:d}=t.getState(),{nodes:f,edges:p}=await(0,i.WD)({nodesToRemove:e,edgesToRemove:n,nodes:r,edges:o,onBeforeDelete:d}),g=p.length>0,m=f.length>0;if(g){const e=p.map(te);s?.(p),c(e)}if(m){const e=f.map(te);a?.(f),l(e)}return(m||g)&&u?.({nodes:f,edges:p}),{deletedNodes:f,deletedEdges:p}},getIntersectingNodes:(e,n=!0,r)=>{const o=(0,i.J$)(e),s=o?e:a(e),l=void 0!==r;return s?(r||t.getState().nodes).filter((r=>{const a=t.getState().nodeLookup.get(r.id);if(a&&!o&&(r.id===e.id||!a.internals.positionAbsolute))return!1;const c=(0,i.PS)(l?r:a),u=(0,i.lp)(c,s);return n&&u>0||u>=s.width*s.height})):[]},isNodeIntersecting:(e,t,n=!0)=>{const r=(0,i.J$)(e)?e:a(e);if(!r)return!1;const o=(0,i.lp)(r,t);return n&&o>0||o>=r.width*r.height},updateNode:s,updateNodeData:(e,t,n={replace:!1})=>{s(e,(e=>{const r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}}),n)},updateEdge:l,updateEdgeData:(e,t,n={replace:!1})=>{l(e,(e=>{const r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}}),n)},getNodesBounds:e=>{const{nodeLookup:n,nodeOrigin:r}=t.getState();return(0,i.RX)(e,{nodeLookup:n,nodeOrigin:r})},getHandleConnections:({type:e,id:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}-${e}${n?`-${n}`:""}`)?.values()??[]),getNodeConnections:({type:e,handleId:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}${e?n?`-${e}-${n}`:`-${e}`:""}`)?.values()??[]),fitView:async e=>{const r=t.getState().fitViewResolver??(0,i.nu)();return t.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:r}),n.nodeQueue.push((e=>[...e])),r.promise}}}),[]);return(0,o.useMemo)((()=>({...a,...e,viewportInitialized:r})),[r])}const ue=e=>e.selected,de={actInsideInputWithModifier:!1},fe="undefined"!=typeof window?window:void 0;const pe={position:"absolute",width:"100%",height:"100%",top:0,left:0},ge=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function me({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:a=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=i.IY.Free,zoomOnDoubleClick:c=!0,panOnDrag:u=!0,defaultViewport:d,translateExtent:f,minZoom:p,maxZoom:m,zoomActivationKeyCode:h,preventScrolling:v=!0,children:y,noWheelClassName:_,noPanClassName:w,onViewportChange:k,isControlledViewport:C,paneClickDistance:S}){const N=x(),E=(0,o.useRef)(null),{userSelectionActive:j,lib:I}=b(ge,g),M=W(h),P=(0,o.useRef)();!function(e){const t=x();(0,o.useEffect)((()=>{const n=()=>{if(!e.current)return!1;const n=(0,i.t_)(e.current);0!==n.height&&0!==n.width||t.getState().onError?.("004",i.Qj.error004()),t.setState({width:n.width||500,height:n.height||500})};if(e.current){n(),window.addEventListener("resize",n);const t=new ResizeObserver((()=>n()));return t.observe(e.current),()=>{window.removeEventListener("resize",n),t&&e.current&&t.unobserve(e.current)}}}),[])}(E);const T=(0,o.useCallback)((e=>{k?.({x:e[0],y:e[1],zoom:e[2]}),C||N.setState({transform:e})}),[k,C]);return(0,o.useEffect)((()=>{if(E.current){P.current=(0,i.X6)({domNode:E.current,minZoom:p,maxZoom:m,translateExtent:f,viewport:d,paneClickDistance:S,onDraggingChange:e=>N.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{const{onViewportChangeStart:n,onMoveStart:r}=N.getState();r?.(e,t),n?.(t)},onPanZoom:(e,t)=>{const{onViewportChange:n,onMove:r}=N.getState();r?.(e,t),n?.(t)},onPanZoomEnd:(e,t)=>{const{onViewportChangeEnd:n,onMoveEnd:r}=N.getState();r?.(e,t),n?.(t)}});const{x:e,y:t,zoom:n}=P.current.getViewport();return N.setState({panZoom:P.current,transform:[e,t,n],domNode:E.current.closest(".react-flow")}),()=>{P.current?.destroy()}}}),[]),(0,o.useEffect)((()=>{P.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:a,panOnScrollSpeed:s,panOnScrollMode:l,zoomOnDoubleClick:c,panOnDrag:u,zoomActivationKeyPressed:M,preventScrolling:v,noPanClassName:w,userSelectionActive:j,noWheelClassName:_,lib:I,onTransformChange:T})}),[e,t,n,a,s,l,c,u,M,v,w,j,_,I,T]),(0,r.jsx)("div",{className:"react-flow__renderer",ref:E,style:pe,children:y})}const he=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ve(){const{userSelectionActive:e,userSelectionRect:t}=b(he,g);return e&&t?(0,r.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const ye=(e,t)=>n=>{n.target===t.current&&e?.(n)},be=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function xe({isSelecting:e,selectionKeyPressed:t,selectionMode:n=i.oW.Full,panOnDrag:s,selectionOnDrag:l,onSelectionStart:c,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:p,onPaneMouseEnter:m,onPaneMouseMove:h,onPaneMouseLeave:v,children:y}){const _=x(),{userSelectionActive:w,elementsSelectable:k,dragging:C,connectionInProgress:S}=b(be,g),N=k&&(e||w),E=(0,o.useRef)(null),j=(0,o.useRef)(),I=(0,o.useRef)(new Set),M=(0,o.useRef)(new Set),P=(0,o.useRef)(!1),T=(0,o.useRef)(!1),O=e=>{P.current||S?P.current=!1:(d?.(e),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1}))},D=p?e=>p(e):void 0,A=!0===s||Array.isArray(s)&&s.includes(0);return(0,r.jsxs)("div",{className:a(["react-flow__pane",{draggable:A,dragging:C,selection:e}]),onClick:N?void 0:ye(O,E),onContextMenu:ye((e=>{Array.isArray(s)&&s?.includes(2)?e.preventDefault():f?.(e)}),E),onWheel:ye(D,E),onPointerEnter:N?void 0:m,onPointerDown:N?t=>{const{resetSelectedElements:n,domNode:r}=_.getState();if(j.current=r?.getBoundingClientRect(),!k||!e||0!==t.button||t.target!==E.current||!j.current)return;t.target?.setPointerCapture?.(t.pointerId),T.current=!0,P.current=!1;const{x:o,y:a}=(0,i.wv)(t.nativeEvent,j.current);n(),_.setState({userSelectionRect:{width:0,height:0,startX:o,startY:a,x:o,y:a}}),c?.(t)}:h,onPointerMove:N?e=>{const{userSelectionRect:t,transform:r,nodeLookup:o,edgeLookup:a,connectionLookup:s,triggerNodeChanges:l,triggerEdgeChanges:c,defaultEdgeOptions:u}=_.getState();if(!j.current||!t)return;P.current=!0;const{x:d,y:f}=(0,i.wv)(e.nativeEvent,j.current),{startX:p,startY:g}=t,m={startX:p,startY:g,x:d<p?d:p,y:f<g?f:g,width:Math.abs(d-p),height:Math.abs(f-g)},h=I.current,v=M.current;I.current=new Set((0,i.f5)(o,m,r,n===i.oW.Partial,!0).map((e=>e.id))),M.current=new Set;const y=u?.selectable??!0;for(const e of I.current){const t=s.get(e);if(t)for(const{edgeId:e}of t.values()){const t=a.get(e);t&&(t.selectable??y)&&M.current.add(e)}}if(!(0,i.OL)(h,I.current)){l(Q(o,I.current,!0))}if(!(0,i.OL)(v,M.current)){c(Q(a,M.current))}_.setState({userSelectionRect:m,userSelectionActive:!0,nodesSelectionActive:!1})}:h,onPointerUp:N?e=>{if(0!==e.button||!T.current)return;e.target?.releasePointerCapture?.(e.pointerId);const{userSelectionRect:n}=_.getState();!w&&n&&e.target===E.current&&O?.(e),_.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:I.current.size>0}),u?.(e),(t||l)&&(P.current=!1),T.current=!1}:void 0,onPointerLeave:v,ref:E,style:pe,children:[y,(0,r.jsx)(ve,{})]})}function _e({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:s,nodeLookup:l,onError:c}=t.getState(),u=l.get(e);u?(t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(a({nodes:[u],edges:[]}),requestAnimationFrame((()=>r?.current?.blur()))):o([e])):c?.("012",i.Qj.error012(e))}function we({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:s,nodeClickDistance:l}){const c=x(),[u,d]=(0,o.useState)(!1),f=(0,o.useRef)();return(0,o.useEffect)((()=>{f.current=(0,i.oC)({getStoreItems:()=>c.getState(),onNodeMouseDown:t=>{_e({id:t,store:c,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})}),[]),(0,o.useEffect)((()=>{if(t)f.current?.destroy();else if(e.current)return f.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:s,nodeId:a,nodeClickDistance:l}),()=>{f.current?.destroy()}}),[n,r,t,s,e,a]),u}function ke(){const e=x();return(0,o.useCallback)((t=>{const{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:a,onError:s,updateNodePositions:l,nodeLookup:c,nodeOrigin:u}=e.getState(),d=new Map,f=(e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable))(a),p=r?o[0]:5,g=r?o[1]:5,m=t.direction.x*p*t.factor,h=t.direction.y*g*t.factor;for(const[,e]of c){if(!f(e))continue;let t={x:e.internals.positionAbsolute.x+m,y:e.internals.positionAbsolute.y+h};r&&(t=(0,i._2)(t,o));const{position:a,positionAbsolute:l}=(0,i.q7)({nodeId:e.id,nextPosition:t,nodeLookup:c,nodeExtent:n,nodeOrigin:u,onError:s});e.position=a,e.internals.positionAbsolute=l,d.set(e.id,e)}l(d)}),[])}const Ce=(0,o.createContext)(null),Se=Ce.Provider;Ce.Consumer;const Ne=()=>(0,o.useContext)(Ce),Ee=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId});const je=(0,o.memo)(re((function({type:e="source",position:t=i.Ly.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:l=!0,id:c,onConnect:u,children:d,className:f,onMouseDown:p,onTouchStart:m,...h},v){const y=c||null,_="target"===e,w=x(),k=Ne(),{connectOnClick:C,noPanClassName:S,rfId:N}=b(Ee,g),{connectingFrom:E,connectingTo:j,clickConnecting:I,isPossibleEndHandle:M,connectionInProcess:P,clickConnectionInProcess:T,valid:O}=b(((e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:a,connection:s}=r,{fromHandle:l,toHandle:c,isValid:u}=s,d=c?.nodeId===e&&c?.id===t&&c?.type===n;return{connectingFrom:l?.nodeId===e&&l?.id===t&&l?.type===n,connectingTo:d,clickConnecting:o?.nodeId===e&&o?.id===t&&o?.type===n,isPossibleEndHandle:a===i.jD.Strict?l?.type!==n:e!==l?.nodeId||t!==l?.id,connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:d&&u}})(k,y,e),g);k||w.getState().onError?.("010",i.Qj.error010());const D=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=w.getState(),o={...t,...e};if(r){const{edges:e,setEdges:t}=w.getState();t((0,i.Z_)(o,e))}n?.(o),u?.(o)},A=e=>{if(!k)return;const t=(0,i.N5)(e.nativeEvent);if(s&&(t&&0===e.button||!t)){const t=w.getState();i.Ql.onPointerDown(e.nativeEvent,{autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:_,handleId:y,nodeId:k,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:D,isValidConnection:n||t.isValidConnection,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed})}t?p?.(e):m?.(e)};return(0,r.jsx)("div",{"data-handleid":y,"data-nodeid":k,"data-handlepos":t,"data-id":`${N}-${k}-${y}-${e}`,className:a(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,f,{source:!_,target:_,connectable:o,connectablestart:s,connectableend:l,clickconnecting:I,connectingfrom:E,connectingto:j,valid:O,connectionindicator:o&&(!P||M)&&(P||T?l:s)}]),onMouseDown:A,onTouchStart:A,onClick:C?t=>{const{onClickConnectStart:r,onClickConnectEnd:o,connectionClickStartHandle:a,connectionMode:l,isValidConnection:c,lib:u,rfId:d,nodeLookup:f,connection:p}=w.getState();if(!k||!a&&!s)return;if(!a)return r?.(t.nativeEvent,{nodeId:k,handleId:y,handleType:e}),void w.setState({connectionClickStartHandle:{nodeId:k,type:e,id:y}});const g=(0,i.S2)(t.target),m=n||c,{connection:h,isValid:v}=i.Ql.isValid(t.nativeEvent,{handle:{nodeId:k,id:y,type:e},connectionMode:l,fromNodeId:a.nodeId,fromHandleId:a.id||null,fromType:a.type,isValidConnection:m,flowId:d,doc:g,lib:u,nodeLookup:f});v&&h&&D(h);const b=structuredClone(p);delete b.inProgress,b.toPosition=b.toHandle?b.toHandle.position:null,o?.(t,b),w.setState({connectionClickStartHandle:null})}:void 0,ref:v,...h,children:d})})));const Ie={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Me={input:function({data:e,isConnectable:t,sourcePosition:n=i.Ly.Bottom}){return(0,r.jsxs)(r.Fragment,{children:[e?.label,(0,r.jsx)(je,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=i.Ly.Top,sourcePosition:o=i.Ly.Bottom}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(je,{type:"target",position:n,isConnectable:t}),e?.label,(0,r.jsx)(je,{type:"source",position:o,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=i.Ly.Top}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(je,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}};const Pe=e=>{const{width:t,height:n,x:r,y:o}=(0,i.W0)(e.nodeLookup,{filter:e=>!!e.selected});return{width:(0,i.kE)(t)?t:null,height:(0,i.kE)(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function Te({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const i=x(),{width:s,height:l,transformString:c,userSelectionActive:u}=b(Pe,g),d=ke(),f=(0,o.useRef)(null);if((0,o.useEffect)((()=>{n||f.current?.focus({preventScroll:!0})}),[n]),we({nodeRef:f}),u||!s||!l)return null;const p=e?t=>{const n=i.getState().nodes.filter((e=>e.selected));e(t,n)}:void 0;return(0,r.jsx)("div",{className:a(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c},children:(0,r.jsx)("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(Ie,e.key)&&(e.preventDefault(),d({direction:Ie[e.key],factor:e.shiftKey?4:1}))},style:{width:s,height:l}})})}const Oe="undefined"!=typeof window?window:void 0,De=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Ae({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:u,selectionKeyCode:d,selectionOnDrag:f,selectionMode:p,onSelectionStart:g,onSelectionEnd:m,multiSelectionKeyCode:h,panActivationKeyCode:v,zoomActivationKeyCode:y,elementsSelectable:_,zoomOnScroll:w,zoomOnPinch:k,panOnScroll:C,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:E,panOnDrag:j,defaultViewport:I,translateExtent:M,minZoom:P,maxZoom:T,preventScrolling:O,onSelectionContextMenu:D,noWheelClassName:A,noPanClassName:Z,disableKeyboardA11y:R,onViewportChange:F,isControlledViewport:z}){const{nodesSelectionActive:L,userSelectionActive:B}=b(De),$=W(d,{target:Oe}),H=W(v,{target:Oe}),V=H||j,K=H||C,Y=f&&!0!==V,G=$||B||Y;return function({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=x(),{deleteElements:r}=ce(),a=W(e,de),i=W(t,{target:fe});(0,o.useEffect)((()=>{if(a){const{edges:e,nodes:t}=n.getState();r({nodes:t.filter(ue),edges:e.filter(ue)}),n.setState({nodesSelectionActive:!1})}}),[a]),(0,o.useEffect)((()=>{n.setState({multiSelectionActive:i})}),[i])}({deleteKeyCode:u,multiSelectionKeyCode:h}),(0,r.jsx)(me,{onPaneContextMenu:s,elementsSelectable:_,zoomOnScroll:w,zoomOnPinch:k,panOnScroll:K,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:E,panOnDrag:!$&&V,defaultViewport:I,translateExtent:M,minZoom:P,maxZoom:T,zoomActivationKeyCode:y,preventScrolling:O,noWheelClassName:A,noPanClassName:Z,onViewportChange:F,isControlledViewport:z,paneClickDistance:c,children:(0,r.jsxs)(xe,{onSelectionStart:g,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:a,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:V,isSelecting:!!G,selectionMode:p,selectionKeyPressed:$,selectionOnDrag:Y,children:[e,L&&(0,r.jsx)(Te,{onSelectionContextMenu:D,noPanClassName:Z,disableKeyboardA11y:R})]})})}Ae.displayName="FlowRenderer";const Ze=(0,o.memo)(Ae);function Re(e){return b((0,o.useCallback)((e=>t=>e?(0,i.f5)(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map((e=>e.id)):Array.from(t.nodeLookup.keys()))(e),[e]),g)}const Fe=e=>e.updateNodeInternals;function ze({id:e,onClick:t,onMouseEnter:n,onMouseMove:s,onMouseLeave:l,onContextMenu:c,onDoubleClick:u,nodesDraggable:d,elementsSelectable:f,nodesConnectable:p,nodesFocusable:m,resizeObserver:h,noDragClassName:v,noPanClassName:y,disableKeyboardA11y:_,rfId:w,nodeTypes:C,nodeClickDistance:S,onError:N}){const{node:E,internals:j,isParent:I}=b((t=>{const n=t.nodeLookup.get(e),r=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:r}}),g);let M=E.type||"default",P=C?.[M]||Me[M];void 0===P&&(N?.("003",i.Qj.error003(M)),M="default",P=Me.default);const T=!!(E.draggable||d&&void 0===E.draggable),O=!!(E.selectable||f&&void 0===E.selectable),D=!!(E.connectable||p&&void 0===E.connectable),A=!!(E.focusable||m&&void 0===E.focusable),Z=x(),R=(0,i.nb)(E),F=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const a=x(),i=(0,o.useRef)(null),s=(0,o.useRef)(null),l=(0,o.useRef)(e.sourcePosition),c=(0,o.useRef)(e.targetPosition),u=(0,o.useRef)(t),d=n&&!!e.internals.handleBounds;return(0,o.useEffect)((()=>{!i.current||e.hidden||d&&s.current===i.current||(s.current&&r?.unobserve(s.current),r?.observe(i.current),s.current=i.current)}),[d,e.hidden]),(0,o.useEffect)((()=>()=>{s.current&&(r?.unobserve(s.current),s.current=null)}),[]),(0,o.useEffect)((()=>{if(i.current){const n=u.current!==t,r=l.current!==e.sourcePosition,o=c.current!==e.targetPosition;(n||r||o)&&(u.current=t,l.current=e.sourcePosition,c.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}}),[e.id,t,e.sourcePosition,e.targetPosition]),i}({node:E,nodeType:M,hasDimensions:R,resizeObserver:h}),z=we({nodeRef:F,disabled:E.hidden||!T,noDragClassName:v,handleSelector:E.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:S}),L=ke();if(E.hidden)return null;const B=(0,i.Rf)(E),$=function(e){return void 0===e.internals.handleBounds?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}(E),H=O||T||t||n||s||l,V=n?e=>n(e,{...j.userNode}):void 0,W=s?e=>s(e,{...j.userNode}):void 0,K=l?e=>l(e,{...j.userNode}):void 0,Y=c?e=>c(e,{...j.userNode}):void 0,G=u?e=>u(e,{...j.userNode}):void 0;return(0,r.jsx)("div",{className:a(["react-flow__node",`react-flow__node-${M}`,{[y]:T},E.className,{selected:E.selected,selectable:O,parent:I,draggable:T,dragging:z}]),ref:F,style:{zIndex:j.z,transform:`translate(${j.positionAbsolute.x}px,${j.positionAbsolute.y}px)`,pointerEvents:H?"all":"none",visibility:R?"visible":"hidden",...E.style,...$},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:V,onMouseMove:W,onMouseLeave:K,onContextMenu:Y,onClick:n=>{const{selectNodesOnDrag:r,nodeDragThreshold:o}=Z.getState();O&&(!r||!T||o>0)&&_e({id:e,store:Z,nodeRef:F}),t&&t(n,{...j.userNode})},onDoubleClick:G,onKeyDown:A?t=>{if(!(0,i.s$)(t.nativeEvent)&&!_)if(i.wQ.includes(t.key)&&O){const n="Escape"===t.key;_e({id:e,store:Z,unselect:n,nodeRef:F})}else T&&E.selected&&Object.prototype.hasOwnProperty.call(Ie,t.key)&&(t.preventDefault(),Z.setState({ariaLiveMessage:`Moved selected node ${t.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~j.positionAbsolute.x}, y: ${~~j.positionAbsolute.y}`}),L({direction:Ie[t.key],factor:t.shiftKey?4:1}))}:void 0,tabIndex:A?0:void 0,role:A?"button":void 0,"aria-describedby":_?void 0:`${k}-${w}`,"aria-label":E.ariaLabel,children:(0,r.jsx)(Se,{value:e,children:(0,r.jsx)(P,{id:e,data:E.data,type:M,positionAbsoluteX:j.positionAbsolute.x,positionAbsoluteY:j.positionAbsolute.y,selected:E.selected??!1,selectable:O,draggable:T,deletable:E.deletable??!0,isConnectable:D,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:z,dragHandle:E.dragHandle,zIndex:j.z,parentId:E.parentId,...B})})})}const Le=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Be(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:a,elementsSelectable:i,onError:s}=b(Le,g),l=Re(e.onlyRenderVisibleElements),c=function(){const e=b(Fe),[t]=(0,o.useState)((()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver((t=>{const n=new Map;t.forEach((e=>{const t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})})),e(n)}))));return(0,o.useEffect)((()=>()=>{t?.disconnect()}),[t]),t}();return(0,r.jsx)("div",{className:"react-flow__nodes",style:pe,children:l.map((o=>(0,r.jsx)(ze,{id:o,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:t,nodesConnectable:n,nodesFocusable:a,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:s},o)))})}Be.displayName="NodeRenderer";const $e=(0,o.memo)(Be);const He={[i.QZ.Arrow]:({color:e="none",strokeWidth:t=1})=>(0,r.jsx)("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[i.QZ.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>(0,r.jsx)("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})};const Ve=({id:e,type:t,color:n,width:a=12.5,height:s=12.5,markerUnits:l="strokeWidth",strokeWidth:c,orient:u="auto-start-reverse"})=>{const d=function(e){const t=x();return(0,o.useMemo)((()=>Object.prototype.hasOwnProperty.call(He,e)?He[e]:(t.getState().onError?.("009",i.Qj.error009(e)),null)),[e])}(t);return d?(0,r.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:u,refX:"0",refY:"0",children:(0,r.jsx)(d,{color:n,strokeWidth:c})}):null},We=({defaultColor:e,rfId:t})=>{const n=b((e=>e.edges)),a=b((e=>e.defaultEdgeOptions)),s=(0,o.useMemo)((()=>(0,i.n3)(n,{id:t,defaultColor:e,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd})),[n,a,t,e]);return s.length?(0,r.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,r.jsx)("defs",{children:s.map((e=>(0,r.jsx)(Ve,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id)))})}):null};We.displayName="MarkerDefinitions";var Ke=(0,o.memo)(We);function Ye({x:e,y:t,label:n,labelStyle:i,labelShowBg:s=!0,labelBgStyle:l,labelBgPadding:c=[2,4],labelBgBorderRadius:u=2,children:d,className:f,...p}){const[g,m]=(0,o.useState)({x:1,y:0,width:0,height:0}),h=a(["react-flow__edge-textwrapper",f]),v=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(v.current){const e=v.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}}),[n]),n?(0,r.jsxs)("g",{transform:`translate(${e-g.width/2} ${t-g.height/2})`,className:h,visibility:g.width?"visible":"hidden",...p,children:[s&&(0,r.jsx)("rect",{width:g.width+2*c[0],x:-c[0],y:-c[1],height:g.height+2*c[1],className:"react-flow__edge-textbg",style:l,rx:u,ry:u}),(0,r.jsx)("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:v,style:i,children:n}),d]}):null}Ye.displayName="EdgeText";const Ge=(0,o.memo)(Ye);function qe({path:e,labelX:t,labelY:n,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,interactionWidth:f=20,...p}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{...p,d:e,fill:"none",className:a(["react-flow__edge-path",p.className])}),f&&(0,r.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),o&&(0,i.kE)(t)&&(0,i.kE)(n)?(0,r.jsx)(Ge,{x:t,y:n,label:o,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d}):null]})}function Ue({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===i.Ly.Left||e===i.Ly.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Xe({sourceX:e,sourceY:t,sourcePosition:n=i.Ly.Bottom,targetX:r,targetY:o,targetPosition:a=i.Ly.Top}){const[s,l]=Ue({pos:n,x1:e,y1:t,x2:r,y2:o}),[c,u]=Ue({pos:a,x1:r,y1:o,x2:e,y2:t}),[d,f,p,g]=(0,i.lM)({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${r},${o}`,d,f,p,g]}function Je(e){return(0,o.memo)((({id:t,sourceX:n,sourceY:o,targetX:a,targetY:i,sourcePosition:s,targetPosition:l,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:h,markerStart:v,interactionWidth:y})=>{const[b,x,_]=Xe({sourceX:n,sourceY:o,sourcePosition:s,targetX:a,targetY:i,targetPosition:l}),w=e.isInternal?void 0:t;return(0,r.jsx)(qe,{id:w,path:b,labelX:x,labelY:_,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:h,markerStart:v,interactionWidth:y})}))}const Qe=Je({isInternal:!1}),et=Je({isInternal:!0});function tt(e){return(0,o.memo)((({id:t,sourceX:n,sourceY:o,targetX:a,targetY:s,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,sourcePosition:m=i.Ly.Bottom,targetPosition:h=i.Ly.Top,markerEnd:v,markerStart:y,pathOptions:b,interactionWidth:x})=>{const[_,w,k]=(0,i.OW)({sourceX:n,sourceY:o,sourcePosition:m,targetX:a,targetY:s,targetPosition:h,borderRadius:b?.borderRadius,offset:b?.offset}),C=e.isInternal?void 0:t;return(0,r.jsx)(qe,{id:C,path:_,labelX:w,labelY:k,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:v,markerStart:y,interactionWidth:x})}))}Qe.displayName="SimpleBezierEdge",et.displayName="SimpleBezierEdgeInternal";const nt=tt({isInternal:!1}),rt=tt({isInternal:!0});function ot(e){return(0,o.memo)((({id:t,...n})=>{const a=e.isInternal?void 0:t;return(0,r.jsx)(nt,{...n,id:a,pathOptions:(0,o.useMemo)((()=>({borderRadius:0,offset:n.pathOptions?.offset})),[n.pathOptions?.offset])})}))}nt.displayName="SmoothStepEdge",rt.displayName="SmoothStepEdgeInternal";const at=ot({isInternal:!1}),it=ot({isInternal:!0});function st(e){return(0,o.memo)((({id:t,sourceX:n,sourceY:o,targetX:a,targetY:s,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:h,interactionWidth:v})=>{const[y,b,x]=(0,i.Hm)({sourceX:n,sourceY:o,targetX:a,targetY:s}),_=e.isInternal?void 0:t;return(0,r.jsx)(qe,{id:_,path:y,labelX:b,labelY:x,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:g,markerEnd:m,markerStart:h,interactionWidth:v})}))}at.displayName="StepEdge",it.displayName="StepEdgeInternal";const lt=st({isInternal:!1}),ct=st({isInternal:!0});function ut(e){return(0,o.memo)((({id:t,sourceX:n,sourceY:o,targetX:a,targetY:s,sourcePosition:l=i.Ly.Bottom,targetPosition:c=i.Ly.Top,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:m,style:h,markerEnd:v,markerStart:y,pathOptions:b,interactionWidth:x})=>{const[_,w,k]=(0,i.OQ)({sourceX:n,sourceY:o,sourcePosition:l,targetX:a,targetY:s,targetPosition:c,curvature:b?.curvature}),C=e.isInternal?void 0:t;return(0,r.jsx)(qe,{id:C,path:_,labelX:w,labelY:k,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:m,style:h,markerEnd:v,markerStart:y,interactionWidth:x})}))}lt.displayName="StraightEdge",ct.displayName="StraightEdgeInternal";const dt=ut({isInternal:!1}),ft=ut({isInternal:!0});dt.displayName="BezierEdge",ft.displayName="BezierEdgeInternal";const pt={default:ft,straight:ct,step:it,smoothstep:rt,simplebezier:et},gt={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},mt=(e,t,n)=>n===i.Ly.Left?e-t:n===i.Ly.Right?e+t:e,ht=(e,t,n)=>n===i.Ly.Top?e-t:n===i.Ly.Bottom?e+t:e,vt="react-flow__edgeupdater";function yt({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:i,onMouseEnter:s,onMouseOut:l,type:c}){return(0,r.jsx)("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:l,className:a([vt,`${vt}-${c}`]),cx:mt(t,o,e),cy:ht(n,o,e),r:o,stroke:"transparent",fill:"transparent"})}function bt({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:a,targetX:s,targetY:l,sourcePosition:c,targetPosition:u,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,setReconnecting:g,setUpdateHover:m}){const h=x(),v=(e,t)=>{if(0!==e.button)return;const{autoPanOnConnect:r,domNode:o,isValidConnection:a,connectionMode:s,connectionRadius:l,lib:c,onConnectStart:u,onConnectEnd:m,cancelConnection:v,nodeLookup:y,rfId:b,panBy:x,updateConnection:_}=h.getState(),w="target"===t.type;g(!0),f?.(e,n,t.type);i.Ql.onPointerDown(e.nativeEvent,{autoPanOnConnect:r,connectionMode:s,connectionRadius:l,domNode:o,handleId:t.id,nodeId:t.nodeId,nodeLookup:y,isTarget:w,edgeUpdaterType:t.type,lib:c,flowId:b,cancelConnection:v,panBy:x,isValidConnection:a,onConnect:e=>d?.(n,e),onConnectStart:u,onConnectEnd:m,onReconnectEnd:(e,r)=>{g(!1),p?.(e,n,t.type,r)},updateConnection:_,getTransform:()=>h.getState().transform,getFromHandle:()=>h.getState().connection.fromHandle})},y=()=>m(!0),b=()=>m(!1);return(0,r.jsxs)(r.Fragment,{children:[(!0===e||"source"===e)&&(0,r.jsx)(yt,{position:c,centerX:o,centerY:a,radius:t,onMouseDown:e=>v(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:y,onMouseOut:b,type:"source"}),(!0===e||"target"===e)&&(0,r.jsx)(yt,{position:u,centerX:s,centerY:l,radius:t,onMouseDown:e=>v(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:y,onMouseOut:b,type:"target"})]})}function xt({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:s,onClick:l,onDoubleClick:c,onContextMenu:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:p,reconnectRadius:m,onReconnect:h,onReconnectStart:v,onReconnectEnd:y,rfId:_,edgeTypes:w,noPanClassName:k,onError:S,disableKeyboardA11y:N}){let E=b((t=>t.edgeLookup.get(e)));const j=b((e=>e.defaultEdgeOptions));E=j?{...j,...E}:E;let I=E.type||"default",M=w?.[I]||pt[I];void 0===M&&(S?.("011",i.Qj.error011(I)),I="default",M=pt.default);const P=!!(E.focusable||t&&void 0===E.focusable),T=void 0!==h&&(E.reconnectable||n&&void 0===E.reconnectable),O=!!(E.selectable||s&&void 0===E.selectable),D=(0,o.useRef)(null),[A,Z]=(0,o.useState)(!1),[R,F]=(0,o.useState)(!1),z=x(),{zIndex:L,sourceX:B,sourceY:$,targetX:H,targetY:V,sourcePosition:W,targetPosition:K}=b((0,o.useCallback)((t=>{const n=t.nodeLookup.get(E.source),r=t.nodeLookup.get(E.target);if(!n||!r)return{zIndex:E.zIndex,...gt};const o=(0,i.JU)({id:e,sourceNode:n,targetNode:r,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:t.connectionMode,onError:S});return{zIndex:(0,i.xx)({selected:E.selected,zIndex:E.zIndex,sourceNode:n,targetNode:r,elevateOnSelect:t.elevateEdgesOnSelect}),...o||gt}}),[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),g),Y=(0,o.useMemo)((()=>E.markerStart?`url('#${(0,i.dW)(E.markerStart,_)}')`:void 0),[E.markerStart,_]),G=(0,o.useMemo)((()=>E.markerEnd?`url('#${(0,i.dW)(E.markerEnd,_)}')`:void 0),[E.markerEnd,_]);if(E.hidden||null===B||null===$||null===H||null===V)return null;const q=c?e=>{c(e,{...E})}:void 0,U=u?e=>{u(e,{...E})}:void 0,X=d?e=>{d(e,{...E})}:void 0,J=f?e=>{f(e,{...E})}:void 0,Q=p?e=>{p(e,{...E})}:void 0;return(0,r.jsx)("svg",{style:{zIndex:L},children:(0,r.jsxs)("g",{className:a(["react-flow__edge",`react-flow__edge-${I}`,E.className,k,{selected:E.selected,animated:E.animated,inactive:!O&&!l,updating:A,selectable:O}]),onClick:t=>{const{addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:o}=z.getState();O&&(z.setState({nodesSelectionActive:!1}),E.selected&&o?(r({nodes:[],edges:[E]}),D.current?.blur()):n([e])),l&&l(t,E)},onDoubleClick:q,onContextMenu:U,onMouseEnter:X,onMouseMove:J,onMouseLeave:Q,onKeyDown:P?t=>{if(!N&&i.wQ.includes(t.key)&&O){const{unselectNodesAndEdges:n,addSelectedEdges:r}=z.getState();"Escape"===t.key?(D.current?.blur(),n({edges:[E]})):r([e])}}:void 0,tabIndex:P?0:void 0,role:P?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===E.ariaLabel?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":P?`${C}-${_}`:void 0,ref:D,children:[!R&&(0,r.jsx)(M,{id:e,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:O,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:B,sourceY:$,targetX:H,targetY:V,sourcePosition:W,targetPosition:K,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:Y,markerEnd:G,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),T&&(0,r.jsx)(bt,{edge:E,isReconnectable:T,reconnectRadius:m,onReconnect:h,onReconnectStart:v,onReconnectEnd:y,sourceX:B,sourceY:$,targetX:H,targetY:V,sourcePosition:W,targetPosition:K,setUpdateHover:Z,setReconnecting:F})]})})}const _t=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function wt({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:a,noPanClassName:s,onReconnect:l,onEdgeContextMenu:c,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:p,reconnectRadius:m,onEdgeDoubleClick:h,onReconnectStart:v,onReconnectEnd:y,disableKeyboardA11y:x}){const{edgesFocusable:_,edgesReconnectable:w,elementsSelectable:k,onError:C}=b(_t,g),S=(N=t,b((0,o.useCallback)((e=>{if(!N)return e.edges.map((e=>e.id));const t=[];if(e.width&&e.height)for(const n of e.edges){const r=e.nodeLookup.get(n.source),o=e.nodeLookup.get(n.target);r&&o&&(0,i.RY)({sourceNode:r,targetNode:o,width:e.width,height:e.height,transform:e.transform})&&t.push(n.id)}return t}),[N]),g));var N;return(0,r.jsxs)("div",{className:"react-flow__edges",children:[(0,r.jsx)(Ke,{defaultColor:e,rfId:n}),S.map((e=>(0,r.jsx)(xt,{id:e,edgesFocusable:_,edgesReconnectable:w,elementsSelectable:k,noPanClassName:s,onReconnect:l,onContextMenu:c,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,onClick:p,reconnectRadius:m,onDoubleClick:h,onReconnectStart:v,onReconnectEnd:y,rfId:n,onError:C,edgeTypes:a,disableKeyboardA11y:x},e)))]})}wt.displayName="EdgeRenderer";const kt=(0,o.memo)(wt),Ct=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function St({children:e}){const t=b(Ct);return(0,r.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}const Nt=e=>e.panZoom?.syncViewport;function Et(e){return e.connection.inProgress?{...e.connection,to:(0,i.m)(e.connection.to,e.transform)}:{...e.connection}}function jt(e){const t=function(e){if(e)return t=>{const n=Et(t);return e(n)};return Et}(e);return b(t,g)}const It=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Mt({containerStyle:e,style:t,type:n,component:o}){const{nodesConnectable:s,width:l,height:c,isValid:u,inProgress:d}=b(It,g);return!!(l&&s&&d)?(0,r.jsx)("svg",{style:e,width:l,height:c,className:"react-flow__connectionline react-flow__container",children:(0,r.jsx)("g",{className:a(["react-flow__connection",(0,i.Zp)(u)]),children:(0,r.jsx)(Pt,{style:t,type:n,CustomComponent:o,isValid:u})})}):null}const Pt=({style:e,type:t=i.t8.Bezier,CustomComponent:n,isValid:o})=>{const{inProgress:a,from:s,fromNode:l,fromHandle:c,fromPosition:u,to:d,toNode:f,toHandle:p,toPosition:g}=jt();if(!a)return;if(n)return(0,r.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:c,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:u,toPosition:g,connectionStatus:(0,i.Zp)(o),toNode:f,toHandle:p});let m="";const h={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:d.x,targetY:d.y,targetPosition:g};switch(t){case i.t8.Bezier:[m]=(0,i.OQ)(h);break;case i.t8.SimpleBezier:[m]=Xe(h);break;case i.t8.Step:[m]=(0,i.OW)({...h,borderRadius:0});break;case i.t8.SmoothStep:[m]=(0,i.OW)(h);break;default:[m]=(0,i.Hm)(h)}return(0,r.jsx)("path",{d:m,fill:"none",className:"react-flow__connection-path",style:e})};Pt.displayName="ConnectionLine";const Tt={};function Ot(e=Tt){(0,o.useRef)(e),x();(0,o.useEffect)((()=>{0}),[e])}function Dt({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:a,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:m,connectionLineType:h,connectionLineStyle:v,connectionLineComponent:y,connectionLineContainerStyle:_,selectionKeyCode:w,selectionOnDrag:k,selectionMode:C,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:E,deleteKeyCode:j,onlyRenderVisibleElements:I,elementsSelectable:M,defaultViewport:P,translateExtent:T,minZoom:O,maxZoom:D,preventScrolling:A,defaultMarkerColor:Z,zoomOnScroll:R,zoomOnPinch:F,panOnScroll:z,panOnScrollSpeed:L,panOnScrollMode:B,zoomOnDoubleClick:$,panOnDrag:H,onPaneClick:V,onPaneMouseEnter:W,onPaneMouseMove:K,onPaneMouseLeave:Y,onPaneScroll:G,onPaneContextMenu:q,paneClickDistance:U,nodeClickDistance:X,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,reconnectRadius:ne,onReconnect:re,onReconnectStart:oe,onReconnectEnd:ae,noDragClassName:ie,noWheelClassName:se,noPanClassName:le,disableKeyboardA11y:ue,nodeExtent:de,rfId:fe,viewport:pe,onViewportChange:ge}){return Ot(e),Ot(t),x(),(0,o.useRef)(!1),(0,o.useEffect)((()=>{}),[]),function(e){const t=ce(),n=(0,o.useRef)(!1);(0,o.useEffect)((()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout((()=>e(t)),1),n.current=!0)}),[e,t.viewportInitialized])}(n),function(e){const t=b(Nt),n=x();(0,o.useEffect)((()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))}),[e,t])}(pe),(0,r.jsx)(Ze,{onPaneClick:V,onPaneMouseEnter:W,onPaneMouseMove:K,onPaneMouseLeave:Y,onPaneContextMenu:q,onPaneScroll:G,paneClickDistance:U,deleteKeyCode:j,selectionKeyCode:w,selectionOnDrag:k,selectionMode:C,onSelectionStart:g,onSelectionEnd:m,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:E,elementsSelectable:M,zoomOnScroll:R,zoomOnPinch:F,zoomOnDoubleClick:$,panOnScroll:z,panOnScrollSpeed:L,panOnScrollMode:B,panOnDrag:H,defaultViewport:P,translateExtent:T,minZoom:O,maxZoom:D,onSelectionContextMenu:p,preventScrolling:A,noDragClassName:ie,noWheelClassName:se,noPanClassName:le,disableKeyboardA11y:ue,onViewportChange:ge,isControlledViewport:!!pe,children:(0,r.jsxs)(St,{children:[(0,r.jsx)(kt,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:re,onReconnectStart:oe,onReconnectEnd:ae,onlyRenderVisibleElements:I,onEdgeContextMenu:J,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,reconnectRadius:ne,defaultMarkerColor:Z,noPanClassName:le,disableKeyboardA11y:ue,rfId:fe}),(0,r.jsx)(Mt,{style:v,type:h,component:y,containerStyle:_}),(0,r.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,r.jsx)($e,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:X,onlyRenderVisibleElements:I,noPanClassName:le,noDragClassName:ie,disableKeyboardA11y:ue,nodeExtent:de,rfId:fe}),(0,r.jsx)("div",{className:"react-flow__viewport-portal"})]})})}Dt.displayName="GraphView";const At=(0,o.memo)(Dt),Zt=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:a,fitView:s,fitViewOptions:l,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f}={})=>{const p=new Map,g=new Map,m=new Map,h=new Map,v=r??t??[],y=n??e??[],b=d??[0,0],x=f??i.k5;(0,i.be)(m,h,v);const _=(0,i.yF)(y,p,g,{nodeOrigin:b,nodeExtent:x,elevateNodesOnSelect:!1});let w=[0,0,1];if(s&&o&&a){const e=(0,i.W0)(p,{filter:e=>!(!e.width&&!e.initialWidth||!e.height&&!e.initialHeight)}),{x:t,y:n,zoom:r}=(0,i.$i)(e,o,a,c,u,l?.padding??.1);w=[t,n,r]}return{rfId:"1",width:0,height:0,transform:w,nodes:y,nodesInitialized:_,nodeLookup:p,parentLookup:g,edges:v,edgeLookup:h,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:c,maxZoom:u,translateExtent:i.k5,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:i.jD.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:b,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:l,fitViewResolver:null,connection:{...i.Ky},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:i.Ki,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Rt=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:a,fitView:s,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f})=>{return g=(p,g)=>{async function m(){const{nodeLookup:e,panZoom:t,fitViewOptions:n,fitViewResolver:r,width:o,height:a,minZoom:s,maxZoom:l}=g();t&&(await(0,i.Eg)({nodes:e,width:o,height:a,panZoom:t,minZoom:s,maxZoom:l},n),r?.resolve(!0),p({fitViewResolver:null}))}return{...Zt({nodes:e,edges:t,width:o,height:a,fitView:s,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:e=>{const{nodeLookup:t,parentLookup:n,nodeOrigin:r,elevateNodesOnSelect:o,fitViewQueued:a}=g(),s=(0,i.yF)(e,t,n,{nodeOrigin:r,nodeExtent:f,elevateNodesOnSelect:o,checkEquality:!0});a&&s?(m(),p({nodes:e,nodesInitialized:s,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:e,nodesInitialized:s})},setEdges:e=>{const{connectionLookup:t,edgeLookup:n}=g();(0,i.be)(t,n,e),p({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){const{setNodes:t}=g();t(e),p({hasDefaultNodes:!0})}if(t){const{setEdges:e}=g();e(t),p({hasDefaultEdges:!0})}},updateNodeInternals:e=>{const{triggerNodeChanges:t,nodeLookup:n,parentLookup:r,domNode:o,nodeOrigin:a,nodeExtent:s,debug:l,fitViewQueued:c}=g(),{changes:u,updatedInternals:d}=(0,i.B1)(e,n,r,o,a,s);d&&((0,i.VV)(n,r,{nodeOrigin:a,nodeExtent:s}),c?(m(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),u?.length>0&&(l&&console.log("React Flow: trigger node changes",u),t?.(u)))},updateNodePositions:(e,t=!1)=>{const n=[],r=[],{nodeLookup:o,triggerNodeChanges:a}=g();for(const[a,i]of e){const e=o.get(a),s=!!(e?.expandParent&&e?.parentId&&i?.position),l={id:a,type:"position",position:s?{x:Math.max(0,i.position.x),y:Math.max(0,i.position.y)}:i.position,dragging:t};s&&e.parentId&&n.push({id:a,parentId:e.parentId,rect:{...i.internals.positionAbsolute,width:i.measured.width??0,height:i.measured.height??0}}),r.push(l)}if(n.length>0){const{parentLookup:e,nodeOrigin:t}=g(),a=(0,i.so)(n,o,e,t);r.push(...a)}a(r)},triggerNodeChanges:e=>{const{onNodesChange:t,setNodes:n,nodes:r,hasDefaultNodes:o,debug:a}=g();e?.length&&(o&&n(U(e,r)),a&&console.log("React Flow: trigger node changes",e),t?.(e))},triggerEdgeChanges:e=>{const{onEdgesChange:t,setEdges:n,edges:r,hasDefaultEdges:o,debug:a}=g();e?.length&&(o&&n(X(e,r)),a&&console.log("React Flow: trigger edge changes",e),t?.(e))},addSelectedNodes:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:a}=g();t?o(e.map((e=>J(e,!0)))):(o(Q(r,new Set([...e]),!0)),a(Q(n)))},addSelectedEdges:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:a}=g();t?a(e.map((e=>J(e,!0)))):(a(Q(n,new Set([...e]))),o(Q(r,new Set,!0)))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{const{edges:n,nodes:r,nodeLookup:o,triggerNodeChanges:a,triggerEdgeChanges:i}=g(),s=t||n,l=(e||r).map((e=>{const t=o.get(e.id);return t&&(t.selected=!1),J(e.id,!1)})),c=s.map((e=>J(e.id,!1)));a(l),i(c)},setMinZoom:e=>{const{panZoom:t,maxZoom:n}=g();t?.setScaleExtent([e,n]),p({minZoom:e})},setMaxZoom:e=>{const{panZoom:t,minZoom:n}=g();t?.setScaleExtent([n,e]),p({maxZoom:e})},setTranslateExtent:e=>{g().panZoom?.setTranslateExtent(e),p({translateExtent:e})},setPaneClickDistance:e=>{g().panZoom?.setClickDistance(e)},resetSelectedElements:()=>{const{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:r,elementsSelectable:o}=g();if(!o)return;const a=t.reduce(((e,t)=>t.selected?[...e,J(t.id,!1)]:e),[]),i=e.reduce(((e,t)=>t.selected?[...e,J(t.id,!1)]:e),[]);n(a),r(i)},setNodeExtent:e=>{const{nodes:t,nodeLookup:n,parentLookup:r,nodeOrigin:o,elevateNodesOnSelect:a,nodeExtent:s}=g();e[0][0]===s[0][0]&&e[0][1]===s[0][1]&&e[1][0]===s[1][0]&&e[1][1]===s[1][1]||((0,i.yF)(t,n,r,{nodeOrigin:o,nodeExtent:e,elevateNodesOnSelect:a,checkEquality:!1}),p({nodeExtent:e}))},panBy:e=>{const{transform:t,width:n,height:r,panZoom:o,translateExtent:a}=g();return(0,i.hO)({delta:e,panZoom:o,transform:t,translateExtent:a,width:n,height:r})},cancelConnection:()=>{p({connection:{...i.Ky}})},updateConnection:e=>{p({connection:e})},reset:()=>p({...Zt()})}},m=Object.is,g?p(g,m):p;var g,m};function Ft({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:a,initialWidth:i,initialHeight:s,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:u,fitView:d,nodeOrigin:f,nodeExtent:p,children:g}){const[m]=(0,o.useState)((()=>Rt({nodes:e,edges:t,defaultNodes:n,defaultEdges:a,width:i,height:s,fitView:d,minZoom:l,maxZoom:c,fitViewOptions:u,nodeOrigin:f,nodeExtent:p})));return(0,r.jsx)(v,{value:m,children:(0,r.jsx)(se,{children:g})})}function zt({children:e,nodes:t,edges:n,defaultNodes:a,defaultEdges:i,width:s,height:l,fitView:c,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:p,nodeExtent:g}){return(0,o.useContext)(h)?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)(Ft,{initialNodes:t,initialEdges:n,defaultNodes:a,defaultEdges:i,initialWidth:s,initialHeight:l,fitView:c,initialFitViewOptions:u,initialMinZoom:d,initialMaxZoom:f,nodeOrigin:p,nodeExtent:g,children:e})}const Lt={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var Bt=re((function({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:l,nodeTypes:c,edgeTypes:u,onNodeClick:d,onEdgeClick:f,onInit:p,onMove:g,onMoveStart:m,onMoveEnd:h,onConnect:v,onConnectStart:y,onConnectEnd:b,onClickConnectStart:x,onClickConnectEnd:_,onNodeMouseEnter:w,onNodeMouseMove:k,onNodeMouseLeave:C,onNodeContextMenu:S,onNodeDoubleClick:N,onNodeDragStart:j,onNodeDrag:I,onNodeDragStop:P,onNodesDelete:T,onEdgesDelete:O,onDelete:D,onSelectionChange:A,onSelectionDragStart:z,onSelectionDrag:L,onSelectionDragStop:B,onSelectionContextMenu:V,onSelectionStart:W,onSelectionEnd:K,onBeforeDelete:Y,connectionMode:G,connectionLineType:q=i.t8.Bezier,connectionLineStyle:U,connectionLineComponent:X,connectionLineContainerStyle:J,deleteKeyCode:Q="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:te=!1,selectionMode:ne=i.oW.Full,panActivationKeyCode:re="Space",multiSelectionKeyCode:oe=((0,i.Q5)()?"Meta":"Control"),zoomActivationKeyCode:ae=((0,i.Q5)()?"Meta":"Control"),snapToGrid:ie,snapGrid:se,onlyRenderVisibleElements:le=!1,selectNodesOnDrag:ce,nodesDraggable:ue,nodesConnectable:de,nodesFocusable:fe,nodeOrigin:pe=R,edgesFocusable:ge,edgesReconnectable:me,elementsSelectable:he=!0,defaultViewport:ve=F,minZoom:ye=.5,maxZoom:be=2,translateExtent:xe=i.k5,preventScrolling:_e=!0,nodeExtent:we,defaultMarkerColor:ke="#b1b1b7",zoomOnScroll:Ce=!0,zoomOnPinch:Se=!0,panOnScroll:Ne=!1,panOnScrollSpeed:Ee=.5,panOnScrollMode:je=i.IY.Free,zoomOnDoubleClick:Ie=!0,panOnDrag:Me=!0,onPaneClick:Pe,onPaneMouseEnter:Te,onPaneMouseMove:Oe,onPaneMouseLeave:De,onPaneScroll:Ae,onPaneContextMenu:Ze,paneClickDistance:Re=0,nodeClickDistance:Fe=0,children:ze,onReconnect:Le,onReconnectStart:Be,onReconnectEnd:$e,onEdgeContextMenu:He,onEdgeDoubleClick:Ve,onEdgeMouseEnter:We,onEdgeMouseMove:Ke,onEdgeMouseLeave:Ye,reconnectRadius:Ge=10,onNodesChange:qe,onEdgesChange:Ue,noDragClassName:Xe="nodrag",noWheelClassName:Je="nowheel",noPanClassName:Qe="nopan",fitView:et,fitViewOptions:tt,connectOnClick:nt,attributionPosition:rt,proOptions:ot,defaultEdgeOptions:at,elevateNodesOnSelect:it,elevateEdgesOnSelect:st,disableKeyboardA11y:lt=!1,autoPanOnConnect:ct,autoPanOnNodeDrag:ut,autoPanSpeed:dt,connectionRadius:ft,isValidConnection:pt,onError:gt,style:mt,id:ht,nodeDragThreshold:vt,viewport:yt,onViewportChange:bt,width:xt,height:_t,colorMode:wt="light",debug:kt,onScroll:Ct,...St},Nt){const Et=ht||"1",jt=function(e){const[t,n]=(0,o.useState)("system"===e?null:e);return(0,o.useEffect)((()=>{if("system"!==e)return void n(e);const t=H(),r=()=>n(t?.matches?"dark":"light");return r(),t?.addEventListener("change",r),()=>{t?.removeEventListener("change",r)}}),[e]),null!==t?t:H()?.matches?"dark":"light"}(wt),It=(0,o.useCallback)((e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Ct?.(e)}),[Ct]);return(0,r.jsx)("div",{"data-testid":"rf__wrapper",...St,onScroll:It,style:{...mt,...Lt},ref:Nt,className:a(["react-flow",l,jt]),id:ht,children:(0,r.jsxs)(zt,{nodes:e,edges:t,width:xt,height:_t,fitView:et,fitViewOptions:tt,minZoom:ye,maxZoom:be,nodeOrigin:pe,nodeExtent:we,children:[(0,r.jsx)(At,{onInit:p,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:w,onNodeMouseMove:k,onNodeMouseLeave:C,onNodeContextMenu:S,onNodeDoubleClick:N,nodeTypes:c,edgeTypes:u,connectionLineType:q,connectionLineStyle:U,connectionLineComponent:X,connectionLineContainerStyle:J,selectionKeyCode:ee,selectionOnDrag:te,selectionMode:ne,deleteKeyCode:Q,multiSelectionKeyCode:oe,panActivationKeyCode:re,zoomActivationKeyCode:ae,onlyRenderVisibleElements:le,defaultViewport:ve,translateExtent:xe,minZoom:ye,maxZoom:be,preventScrolling:_e,zoomOnScroll:Ce,zoomOnPinch:Se,zoomOnDoubleClick:Ie,panOnScroll:Ne,panOnScrollSpeed:Ee,panOnScrollMode:je,panOnDrag:Me,onPaneClick:Pe,onPaneMouseEnter:Te,onPaneMouseMove:Oe,onPaneMouseLeave:De,onPaneScroll:Ae,onPaneContextMenu:Ze,paneClickDistance:Re,nodeClickDistance:Fe,onSelectionContextMenu:V,onSelectionStart:W,onSelectionEnd:K,onReconnect:Le,onReconnectStart:Be,onReconnectEnd:$e,onEdgeContextMenu:He,onEdgeDoubleClick:Ve,onEdgeMouseEnter:We,onEdgeMouseMove:Ke,onEdgeMouseLeave:Ye,reconnectRadius:Ge,defaultMarkerColor:ke,noDragClassName:Xe,noWheelClassName:Je,noPanClassName:Qe,rfId:Et,disableKeyboardA11y:lt,nodeExtent:we,viewport:yt,onViewportChange:bt}),(0,r.jsx)($,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:v,onConnectStart:y,onConnectEnd:b,onClickConnectStart:x,onClickConnectEnd:_,nodesDraggable:ue,nodesConnectable:de,nodesFocusable:fe,edgesFocusable:ge,edgesReconnectable:me,elementsSelectable:he,elevateNodesOnSelect:it,elevateEdgesOnSelect:st,minZoom:ye,maxZoom:be,nodeExtent:we,onNodesChange:qe,onEdgesChange:Ue,snapToGrid:ie,snapGrid:se,connectionMode:G,translateExtent:xe,connectOnClick:nt,defaultEdgeOptions:at,fitView:et,fitViewOptions:tt,onNodesDelete:T,onEdgesDelete:O,onDelete:D,onNodeDragStart:j,onNodeDrag:I,onNodeDragStop:P,onSelectionDrag:L,onSelectionDragStart:z,onSelectionDragStop:B,onMove:g,onMoveStart:m,onMoveEnd:h,noPanClassName:Qe,nodeOrigin:pe,rfId:Et,autoPanOnConnect:ct,autoPanOnNodeDrag:ut,autoPanSpeed:dt,onError:gt,connectionRadius:ft,isValidConnection:pt,selectNodesOnDrag:ce,nodeDragThreshold:vt,onBeforeDelete:Y,paneClickDistance:Re,debug:kt}),(0,r.jsx)(Z,{onSelectionChange:A}),ze,(0,r.jsx)(M,{proOptions:ot,position:rt}),(0,r.jsx)(E,{rfId:Et,disableKeyboardA11y:lt})]})})}));const $t=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function Ht({children:e}){const t=b($t);return t?(0,m.createPortal)(e,t):null}function Vt(){const e=x();return(0,o.useCallback)((t=>{const{domNode:n,updateNodeInternals:r}=e.getState(),o=Array.isArray(t)?t:[t],a=new Map;o.forEach((e=>{const t=n?.querySelector(`.react-flow__node[data-id="${e}"]`);t&&a.set(e,{id:e,nodeElement:t,force:!0})})),requestAnimationFrame((()=>r(a,{triggerFitView:!1})))}),[])}i.Qj.error014();function Wt({dimensions:e,lineWidth:t,variant:n,className:o}){return(0,r.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:a(["react-flow__background-pattern",n,o])})}function Kt({radius:e,className:t}){return(0,r.jsx)("circle",{cx:e,cy:e,r:e,className:a(["react-flow__background-pattern","dots",t])})}var Yt;!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(Yt||(Yt={}));const Gt={[Yt.Dots]:1,[Yt.Lines]:1,[Yt.Cross]:6},qt=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Ut({id:e,variant:t=Yt.Dots,gap:n=20,size:i,lineWidth:s=1,offset:l=0,color:c,bgColor:u,style:d,className:f,patternClassName:p}){const m=(0,o.useRef)(null),{transform:h,patternId:v}=b(qt,g),y=i||Gt[t],x=t===Yt.Dots,_=t===Yt.Cross,w=Array.isArray(n)?n:[n,n],k=[w[0]*h[2]||1,w[1]*h[2]||1],C=y*h[2],S=Array.isArray(l)?l:[l,l],N=_?[C,C]:k,E=[S[0]*h[2]||1+N[0]/2,S[1]*h[2]||1+N[1]/2],j=`${v}${e||""}`;return(0,r.jsxs)("svg",{className:a(["react-flow__background",f]),style:{...d,...pe,"--xy-background-color-props":u,"--xy-background-pattern-color-props":c},ref:m,"data-testid":"rf__background",children:[(0,r.jsx)("pattern",{id:j,x:h[0]%k[0],y:h[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:x?(0,r.jsx)(Kt,{radius:C/2,className:p}):(0,r.jsx)(Wt,{dimensions:N,lineWidth:s,variant:t,className:p})}),(0,r.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${j})`})]})}Ut.displayName="Background";const Xt=(0,o.memo)(Ut);function Jt(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,r.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Qt(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,r.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function en(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,r.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function tn(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,r.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function nn(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,r.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function rn({children:e,className:t,...n}){return(0,r.jsx)("button",{type:"button",className:a(["react-flow__controls-button",t]),...n,children:e})}const on=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function an({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:d,children:f,position:p="bottom-left",orientation:m="vertical","aria-label":h="React Flow controls"}){const v=x(),{isInteractive:y,minZoomReached:_,maxZoomReached:w}=b(on,g),{zoomIn:k,zoomOut:C,fitView:S}=ce(),N="horizontal"===m?"horizontal":"vertical";return(0,r.jsxs)(I,{className:a(["react-flow__controls",N,d]),position:p,style:e,"data-testid":"rf__controls","aria-label":h,children:[t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(rn,{onClick:()=>{k(),s?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:w,children:(0,r.jsx)(Jt,{})}),(0,r.jsx)(rn,{onClick:()=>{C(),l?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_,children:(0,r.jsx)(Qt,{})})]}),n&&(0,r.jsx)(rn,{className:"react-flow__controls-fitview",onClick:()=>{S(i),c?.()},title:"fit view","aria-label":"fit view",children:(0,r.jsx)(en,{})}),o&&(0,r.jsx)(rn,{className:"react-flow__controls-interactive",onClick:()=>{v.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),u?.(!y)},title:"toggle interactivity","aria-label":"toggle interactivity",children:y?(0,r.jsx)(nn,{}):(0,r.jsx)(tn,{})}),f]})}an.displayName="Controls";const sn=(0,o.memo)(an);const ln=(0,o.memo)((function({id:e,x:t,y:n,width:o,height:i,style:s,color:l,strokeColor:c,strokeWidth:u,className:d,borderRadius:f,shapeRendering:p,selected:g,onClick:m}){const{background:h,backgroundColor:v}=s||{},y=l||h||v;return(0,r.jsx)("rect",{className:a(["react-flow__minimap-node",{selected:g},d]),x:t,y:n,rx:f,ry:f,width:o,height:i,style:{fill:y,stroke:c,strokeWidth:u},shapeRendering:p,onClick:m?t=>m(t,e):void 0})})),cn=e=>e.nodes.map((e=>e.id)),un=e=>e instanceof Function?e:()=>e;const dn=(0,o.memo)((function({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:a,nodeStrokeWidth:s,shapeRendering:l,NodeComponent:c,onClick:u}){const{node:d,x:f,y:p,width:m,height:h}=b((t=>{const{internals:n}=t.nodeLookup.get(e),r=n.userNode,{x:o,y:a}=n.positionAbsolute,{width:s,height:l}=(0,i.Rf)(r);return{node:r,x:o,y:a,width:s,height:l}}),g);return d&&!d.hidden&&(0,i.nb)(d)?(0,r.jsx)(c,{x:f,y:p,width:m,height:h,style:d.style,selected:!!d.selected,className:o(d),color:t(d),borderRadius:a,strokeColor:n(d),strokeWidth:s,shapeRendering:l,onClick:u,id:d.id}):null}));var fn=(0,o.memo)((function({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:i=ln,onClick:s}){const l=b(cn,g),c=un(t),u=un(e),d=un(n),f="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,r.jsx)(r.Fragment,{children:l.map((e=>(0,r.jsx)(dn,{id:e,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:o,nodeStrokeWidth:a,NodeComponent:i,onClick:s,shapeRendering:f},e)))})}));const pn=e=>!e.hidden,gn=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?(0,i.oI)((0,i.W0)(e.nodeLookup,{filter:pn}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}};function mn({style:e,className:t,nodeStrokeColor:n,nodeColor:s,nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:u,nodeComponent:d,bgColor:f,maskColor:p,maskStrokeColor:m,maskStrokeWidth:h,position:v="bottom-right",onClick:y,onNodeClick:_,pannable:w=!1,zoomable:k=!1,ariaLabel:C="React Flow mini map",inversePan:S,zoomStep:N=10,offsetScale:E=5}){const j=x(),M=(0,o.useRef)(null),{boundingRect:P,viewBB:T,rfId:O,panZoom:D,translateExtent:A,flowWidth:Z,flowHeight:R}=b(gn,g),F=e?.width??200,z=e?.height??150,L=P.width/F,B=P.height/z,$=Math.max(L,B),H=$*F,V=$*z,W=E*$,K=P.x-(H-P.width)/2-W,Y=P.y-(V-P.height)/2-W,G=H+2*W,q=V+2*W,U=`react-flow__minimap-desc-${O}`,X=(0,o.useRef)(0),J=(0,o.useRef)();X.current=$,(0,o.useEffect)((()=>{if(M.current&&D)return J.current=(0,i.FD)({domNode:M.current,panZoom:D,getTransform:()=>j.getState().transform,getViewScale:()=>X.current}),()=>{J.current?.destroy()}}),[D]),(0,o.useEffect)((()=>{J.current?.update({translateExtent:A,width:Z,height:R,inversePan:S,pannable:w,zoomStep:N,zoomable:k})}),[w,k,S,N,A,Z,R]);const Q=y?e=>{const[t,n]=J.current?.pointer(e)||[0,0];y(e,{x:t,y:n})}:void 0,ee=_?(0,o.useCallback)(((e,t)=>{const n=j.getState().nodeLookup.get(t).internals.userNode;_(e,n)}),[]):void 0;return(0,r.jsx)(I,{position:v,style:{...e,"--xy-minimap-background-color-props":"string"==typeof f?f:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof p?p:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof m?m:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof h?h*$:void 0,"--xy-minimap-node-background-color-props":"string"==typeof s?s:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof n?n:void 0,"--xy-minimap-node-stroke-width-props":"number"==typeof u?u:void 0},className:a(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:(0,r.jsxs)("svg",{width:F,height:z,viewBox:`${K} ${Y} ${G} ${q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":U,ref:M,onClick:Q,children:[C&&(0,r.jsx)("title",{id:U,children:C}),(0,r.jsx)(fn,{onClick:ee,nodeColor:s,nodeStrokeColor:n,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:u,nodeComponent:d}),(0,r.jsx)("path",{className:"react-flow__minimap-mask",d:`M${K-W},${Y-W}h${G+2*W}v${q+2*W}h${-G-2*W}z\n        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}mn.displayName="MiniMap";(0,o.memo)(mn);const hn=(0,o.memo)((function({nodeId:e,position:t,variant:n=i.pB.Handle,className:s,style:l={},children:c,color:u,minWidth:d=10,minHeight:f=10,maxWidth:p=Number.MAX_VALUE,maxHeight:g=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:h,shouldResize:v,onResizeStart:y,onResize:b,onResizeEnd:_}){const w=Ne(),k="string"==typeof e?e:w,C=x(),S=(0,o.useRef)(null),N=n===i.pB.Line?"right":"bottom-right",E=t??N,j=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(S.current&&k)return j.current||(j.current=(0,i.Cz)({domNode:S.current,nodeId:k,getStoreItems:()=>{const{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,domNode:a}=C.getState();return{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,paneDomNode:a}},onChange:(e,t)=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,nodeOrigin:a}=C.getState(),s=[],l={x:e.x,y:e.y},c=r.get(k);if(c&&c.expandParent&&c.parentId){const t=c.origin??a,n=e.width??c.measured.width??0,u=e.height??c.measured.height??0,d={id:c.id,parentId:c.parentId,rect:{width:n,height:u,...(0,i.ZB)({x:e.x??c.position.x,y:e.y??c.position.y},{width:n,height:u},c.parentId,r,t)}},f=(0,i.so)([d],r,o,a);s.push(...f),l.x=e.x?Math.max(t[0]*n,e.x):void 0,l.y=e.y?Math.max(t[1]*u,e.y):void 0}if(void 0!==l.x&&void 0!==l.y){const e={id:k,type:"position",position:{...l}};s.push(e)}if(void 0!==e.width&&void 0!==e.height){const t={id:k,type:"dimensions",resizing:!0,setAttributes:!h||("horizontal"===h?"width":"height"),dimensions:{width:e.width,height:e.height}};s.push(t)}for(const e of t){const t={...e,type:"position"};s.push(t)}n(s)},onEnd:({width:e,height:t})=>{const n={id:k,type:"dimensions",resizing:!1,dimensions:{width:e,height:t}};C.getState().triggerNodeChanges([n])}})),j.current.update({controlPosition:E,boundaries:{minWidth:d,minHeight:f,maxWidth:p,maxHeight:g},keepAspectRatio:m,resizeDirection:h,onResizeStart:y,onResize:b,onResizeEnd:_,shouldResize:v}),()=>{j.current?.destroy()}}),[E,d,f,p,g,m,y,b,_,v]);const I=E.split("-"),M=n===i.pB.Line?"borderColor":"backgroundColor",P=u?{...l,[M]:u}:l;return(0,r.jsx)("div",{className:a(["react-flow__resize-control","nodrag",...I,n,s]),ref:S,style:P,children:c})}))},83859:function(e,t,n){"use strict";n.d(t,{t8:function(){return Gt},jD:function(){return Vt},QZ:function(){return qt},IY:function(){return Wt},Ly:function(){return Ut},pB:function(){return Vr},oW:function(){return Kt},oC:function(){return jr},Ql:function(){return Dr},FD:function(){return Ar},X6:function(){return Hr},Cz:function(){return Jr},Z_:function(){return er},yF:function(){return vr},OL:function(){return Zn},q7:function(){return cn},n3:function(){return fr},Ki:function(){return Sn},wQ:function(){return Ht},Qj:function(){return Bt},ZB:function(){return An},Eg:function(){return ln},lM:function(){return Kn},OQ:function(){return qn},oI:function(){return _n},Zp:function(){return Jt},t_:function(){return zn},JU:function(){return sr},WD:function(){return un},xx:function(){return Xn},wv:function(){return Vn},S2:function(){return Ln},W0:function(){return on},dW:function(){return dr},Rf:function(){return On},RX:function(){return rn},f5:function(){return an},lp:function(){return wn},OW:function(){return ar},Hm:function(){return tr},$i:function(){return Mn},so:function(){return xr},k5:function(){return $t},Ky:function(){return Yt},J3:function(){return Qt},RY:function(){return Jn},s$:function(){return $n},Q5:function(){return Pn},N5:function(){return Hn},Vt:function(){return en},kE:function(){return Cn},J$:function(){return kn},nb:function(){return Dn},PS:function(){return bn},hO:function(){return wr},m:function(){return En},oj:function(){return jn},_2:function(){return Nn},VV:function(){return hr},be:function(){return Cr},B1:function(){return _r},nu:function(){return Rn}});var r=n(17049);function o(){}function a(e){return null==e?o:function(){return this.querySelector(e)}}function i(){return[]}function s(e){return null==e?i:function(){return this.querySelectorAll(e)}}function l(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function c(e){return function(){return this.matches(e)}}function u(e){return function(t){return t.matches(e)}}var d=Array.prototype.find;function f(){return this.firstElementChild}var p=Array.prototype.filter;function g(){return Array.from(this.children)}function m(e){return new Array(e.length)}function h(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function v(e,t,n,r,o,a){for(var i,s=0,l=t.length,c=a.length;s<c;++s)(i=t[s])?(i.__data__=a[s],r[s]=i):n[s]=new h(e,a[s]);for(;s<l;++s)(i=t[s])&&(o[s]=i)}function y(e,t,n,r,o,a,i){var s,l,c,u=new Map,d=t.length,f=a.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c=i.call(l,l.__data__,s,t)+"",u.has(c)?o[s]=l:u.set(c,l));for(s=0;s<f;++s)c=i.call(e,a[s],s,a)+"",(l=u.get(c))?(r[s]=l,l.__data__=a[s],u.delete(c)):n[s]=new h(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&u.get(p[s])===l&&(o[s]=l)}function b(e){return e.__data__}function x(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function _(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}h.prototype={constructor:h,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var w="http://www.w3.org/1999/xhtml",k={svg:"http://www.w3.org/2000/svg",xhtml:w,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function C(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),k.hasOwnProperty(t)?{space:k[t],local:e}:e}function S(e){return function(){this.removeAttribute(e)}}function N(e){return function(){this.removeAttributeNS(e.space,e.local)}}function E(e,t){return function(){this.setAttribute(e,t)}}function j(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function I(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function M(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function P(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function T(e){return function(){this.style.removeProperty(e)}}function O(e,t,n){return function(){this.style.setProperty(e,t,n)}}function D(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function A(e,t){return e.style.getPropertyValue(t)||P(e).getComputedStyle(e,null).getPropertyValue(t)}function Z(e){return function(){delete this[e]}}function R(e,t){return function(){this[e]=t}}function F(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function z(e){return e.trim().split(/^|\s+/)}function L(e){return e.classList||new B(e)}function B(e){this._node=e,this._names=z(e.getAttribute("class")||"")}function $(e,t){for(var n=L(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function H(e,t){for(var n=L(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function V(e){return function(){$(this,e)}}function W(e){return function(){H(this,e)}}function K(e,t){return function(){(t.apply(this,arguments)?$:H)(this,e)}}function Y(){this.textContent=""}function G(e){return function(){this.textContent=e}}function q(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function U(){this.innerHTML=""}function X(e){return function(){this.innerHTML=e}}function J(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Q(){this.nextSibling&&this.parentNode.appendChild(this)}function ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function te(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===w&&t.documentElement.namespaceURI===w?t.createElement(e):t.createElementNS(n,e)}}function ne(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function re(e){var t=C(e);return(t.local?ne:te)(t)}function oe(){return null}function ae(){var e=this.parentNode;e&&e.removeChild(this)}function ie(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function se(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function le(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function ce(e,t,n){return function(){var r,o=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var i=0,s=o.length;i<s;++i)if((r=o[i]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},o?o.push(r):this.__on=[r]}}function ue(e,t,n){var r=P(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function de(e,t){return function(){return ue(this,e,t)}}function fe(e,t){return function(){return ue(this,e,t.apply(this,arguments))}}B.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var pe=[null];function ge(e,t){this._groups=e,this._parents=t}function me(){return new ge([[document.documentElement]],pe)}ge.prototype=me.prototype={constructor:ge,select:function(e){"function"!=typeof e&&(e=a(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s,l=t[o],c=l.length,u=r[o]=new Array(c),d=0;d<c;++d)(i=l[d])&&(s=e.call(i,i.__data__,d,l))&&("__data__"in i&&(s.__data__=i.__data__),u[d]=s);return new ge(r,this._parents)},selectAll:function(e){e="function"==typeof e?l(e):s(e);for(var t=this._groups,n=t.length,r=[],o=[],a=0;a<n;++a)for(var i,c=t[a],u=c.length,d=0;d<u;++d)(i=c[d])&&(r.push(e.call(i,i.__data__,d,c)),o.push(i));return new ge(r,o)},selectChild:function(e){return this.select(null==e?f:function(e){return function(){return d.call(this.children,e)}}("function"==typeof e?e:u(e)))},selectChildren:function(e){return this.selectAll(null==e?g:function(e){return function(){return p.call(this.children,e)}}("function"==typeof e?e:u(e)))},filter:function(e){"function"!=typeof e&&(e=c(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,i=t[o],s=i.length,l=r[o]=[],u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new ge(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,b);var n=t?y:v,r=this._parents,o=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var a=o.length,i=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],d=o[c],f=d.length,p=x(e.call(u,u&&u.__data__,c,r)),g=p.length,m=s[c]=new Array(g),h=i[c]=new Array(g);n(u,d,m,h,l[c]=new Array(f),p,t);for(var _,w,k=0,C=0;k<g;++k)if(_=m[k]){for(k>=C&&(C=k+1);!(w=h[C])&&++C<g;);_._next=w||null}}return(i=new ge(i,r))._enter=s,i._exit=l,i},enter:function(){return new ge(this._enter||this._groups.map(m),this._parents)},exit:function(){return new ge(this._exit||this._groups.map(m),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?a.remove():n(a),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,a=r.length,i=Math.min(o,a),s=new Array(o),l=0;l<i;++l)for(var c,u=n[l],d=r[l],f=u.length,p=s[l]=new Array(f),g=0;g<f;++g)(c=u[g]||d[g])&&(p[g]=c);for(;l<o;++l)s[l]=n[l];return new ge(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],a=o.length-1,i=o[a];--a>=0;)(r=o[a])&&(i&&4^r.compareDocumentPosition(i)&&i.parentNode.insertBefore(r,i),i=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=_);for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a){for(var i,s=n[a],l=s.length,c=o[a]=new Array(l),u=0;u<l;++u)(i=s[u])&&(c[u]=i);c.sort(t)}return new ge(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length;o<a;++o){var i=r[o];if(i)return i}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,a=t[n],i=0,s=a.length;i<s;++i)(o=a[i])&&e.call(o,o.__data__,i,a);return this},attr:function(e,t){var n=C(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?N:S:"function"==typeof t?n.local?M:I:n.local?j:E)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?T:"function"==typeof t?D:O)(e,t,null==n?"":n)):A(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Z:"function"==typeof t?F:R)(e,t)):this.node()[e]},classed:function(e,t){var n=z(e+"");if(arguments.length<2){for(var r=L(this.node()),o=-1,a=n.length;++o<a;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?K:t?V:W)(n,t))},text:function(e){return arguments.length?this.each(null==e?Y:("function"==typeof e?q:G)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?U:("function"==typeof e?J:X)(e)):this.node().innerHTML},raise:function(){return this.each(Q)},lower:function(){return this.each(ee)},append:function(e){var t="function"==typeof e?e:re(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:re(e),r=null==t?oe:"function"==typeof t?t:a(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ae)},clone:function(e){return this.select(e?se:ie)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),i=a.length;if(!(arguments.length<2)){for(s=t?ce:le,r=0;r<i;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<i;++r)if((o=a[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?fe:de)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],a=0,i=o.length;a<i;++a)(r=o[a])&&(yield r)}};var he=me;function ve(e){return"string"==typeof e?new ge([[document.querySelector(e)]],[document.documentElement]):new ge([[e]],pe)}function ye(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const be={passive:!1},xe={capture:!0,passive:!1};function _e(e){e.stopImmediatePropagation()}function we(e){e.preventDefault(),e.stopImmediatePropagation()}function ke(e){var t=e.document.documentElement,n=ve(e).on("dragstart.drag",we,xe);"onselectstart"in t?n.on("selectstart.drag",we,xe):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ce(e,t){var n=e.document.documentElement,r=ve(e).on("dragstart.drag",null);t&&(r.on("click.drag",we,xe),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Se=e=>()=>e;function Ne(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:a,x:i,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function Ee(e){return!e.ctrlKey&&!e.button}function je(){return this.parentNode}function Ie(e,t){return null==t?{x:e.x,y:e.y}:t}function Me(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pe(){var e,t,n,o,a=Ee,i=je,s=Ie,l=Me,c={},u=(0,r.Z)("start","drag","end"),d=0,f=0;function p(e){e.on("mousedown.drag",g).filter(l).on("touchstart.drag",v).on("touchmove.drag",y,be).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(r,s){if(!o&&a.call(this,r,s)){var l=x(this,i.call(this,r,s),r,s,"mouse");l&&(ve(r.view).on("mousemove.drag",m,xe).on("mouseup.drag",h,xe),ke(r.view),_e(r),n=!1,e=r.clientX,t=r.clientY,l("start",r))}}function m(r){if(we(r),!n){var o=r.clientX-e,a=r.clientY-t;n=o*o+a*a>f}c.mouse("drag",r)}function h(e){ve(e.view).on("mousemove.drag mouseup.drag",null),Ce(e.view,n),we(e),c.mouse("end",e)}function v(e,t){if(a.call(this,e,t)){var n,r,o=e.changedTouches,s=i.call(this,e,t),l=o.length;for(n=0;n<l;++n)(r=x(this,s,e,t,o[n].identifier,o[n]))&&(_e(e),r("start",e,o[n]))}}function y(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=c[r[t].identifier])&&(we(e),n("drag",e,r[t]))}function b(e){var t,n,r=e.changedTouches,a=r.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),t=0;t<a;++t)(n=c[r[t].identifier])&&(_e(e),n("end",e,r[t]))}function x(e,t,n,r,o,a){var i,l,f,g=u.copy(),m=ye(a||n,t);if(null!=(f=s.call(e,new Ne("beforestart",{sourceEvent:n,target:p,identifier:o,active:d,x:m[0],y:m[1],dx:0,dy:0,dispatch:g}),r)))return i=f.x-m[0]||0,l=f.y-m[1]||0,function n(a,s,u){var h,v=m;switch(a){case"start":c[o]=n,h=d++;break;case"end":delete c[o],--d;case"drag":m=ye(u||s,t),h=d}g.call(a,e,new Ne(a,{sourceEvent:s,subject:f,target:p,identifier:o,active:h,x:m[0]+i,y:m[1]+l,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:g}),r)}}return p.filter=function(e){return arguments.length?(a="function"==typeof e?e:Se(!!e),p):a},p.container=function(e){return arguments.length?(i="function"==typeof e?e:Se(e),p):i},p.subject=function(e){return arguments.length?(s="function"==typeof e?e:Se(e),p):s},p.touchable=function(e){return arguments.length?(l="function"==typeof e?e:Se(!!e),p):l},p.on=function(){var e=u.on.apply(u,arguments);return e===u?p:e},p.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,p):Math.sqrt(f)},p}Ne.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Te(e){return((e=Math.exp(e))+1/e)/2}var Oe=function e(t,n,r){function o(e,o){var a,i,s=e[0],l=e[1],c=e[2],u=o[0],d=o[1],f=o[2],p=u-s,g=d-l,m=p*p+g*g;if(m<1e-12)i=Math.log(f/c)/t,a=function(e){return[s+e*p,l+e*g,c*Math.exp(t*e*i)]};else{var h=Math.sqrt(m),v=(f*f-c*c+r*m)/(2*c*n*h),y=(f*f-c*c-r*m)/(2*f*n*h),b=Math.log(Math.sqrt(v*v+1)-v),x=Math.log(Math.sqrt(y*y+1)-y);i=(x-b)/t,a=function(e){var r=e*i,o=Te(b),a=c/(n*h)*(o*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+a*p,l+a*g,c*o/Te(t*r+b)]}}return a.duration=1e3*i*t/Math.SQRT2,a}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4),De=n(91739);function Ae(e,t,n){var r=new De.B7;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}var Ze=(0,r.Z)("start","end","cancel","interrupt"),Re=[],Fe=2,ze=5,Le=6;function Be(e,t,n,r,o,a){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function a(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(a){var c,u,d,f;if(1!==n.state)return l();for(c in o)if((f=o[c]).name===n.name){if(3===f.state)return Ae(i);4===f.state?(f.state=Le,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=Le,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[c])}if(Ae((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=Fe,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Fe){for(n.state=3,r=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function s(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=ze,1),a=-1,i=r.length;++a<i;)r[a].call(e,o);n.state===ze&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=Le,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=(0,De.HT)(a,0,n.time)}(e,n,{name:t,index:r,group:o,on:Ze,tween:Re,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function $e(e,t){var n=Ve(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function He(e,t){var n=Ve(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Ve(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function We(e,t){var n,r,o,a=e.__transition,i=!0;if(a){for(o in t=null==t?null:t+"",a)(n=a[o]).name===t?(r=n.state>Fe&&n.state<ze,n.state=Le,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[o]):i=!1;i&&delete e.__transition}}var Ke,Ye=n(79848),Ge=180/Math.PI,qe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ue(e,t,n,r,o,a){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*Ge,skewX:Math.atan(l)*Ge,scaleX:i,scaleY:s}}function Xe(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(a,i){var s=[],l=[];return a=e(a),i=e(i),function(e,r,o,a,i,s){if(e!==o||r!==a){var l=i.push("translate(",null,t,null,n);s.push({i:l-4,x:(0,Ye.Z)(e,o)},{i:l-2,x:(0,Ye.Z)(r,a)})}else(o||a)&&i.push("translate("+o+t+a+n)}(a.translateX,a.translateY,i.translateX,i.translateY,s,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:(0,Ye.Z)(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(a.rotate,i.rotate,s,l),function(e,t,n,a){e!==t?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:(0,Ye.Z)(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(a.skewX,i.skewX,s,l),function(e,t,n,r,a,i){if(e!==n||t!==r){var s=a.push(o(a)+"scale(",null,",",null,")");i.push({i:s-4,x:(0,Ye.Z)(e,n)},{i:s-2,x:(0,Ye.Z)(t,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,i.scaleX,i.scaleY,s,l),a=i=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Je=Xe((function(e){var t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?qe:Ue(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Qe=Xe((function(e){return null==e?qe:(Ke||(Ke=document.createElementNS("http://www.w3.org/2000/svg","g")),Ke.setAttribute("transform",e),(e=Ke.transform.baseVal.consolidate())?Ue((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):qe)}),", ",")",")");function et(e,t){var n,r;return function(){var o=He(this,e),a=o.tween;if(a!==n)for(var i=0,s=(r=n=a).length;i<s;++i)if(r[i].name===t){(r=r.slice()).splice(i,1);break}o.tween=r}}function tt(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var a=He(this,e),i=a.tween;if(i!==r){o=(r=i).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}a.tween=o}}function nt(e,t,n){var r=e._id;return e.each((function(){var e=He(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Ve(e,r).value[t]}}var rt=n(96683),ot=n(47844),at=n(20823);function it(e,t){var n;return("number"==typeof t?Ye.Z:t instanceof rt.ZP?ot.ZP:(n=(0,rt.ZP)(t))?(t=n,ot.ZP):at.Z)(e,t)}function st(e){return function(){this.removeAttribute(e)}}function lt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ct(e,t,n){var r,o,a=n+"";return function(){var i=this.getAttribute(e);return i===a?null:i===r?o:o=t(r=i,n)}}function ut(e,t,n){var r,o,a=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===r?o:o=t(r=i,n)}}function dt(e,t,n){var r,o,a;return function(){var i,s,l=n(this);if(null!=l)return(i=this.getAttribute(e))===(s=l+"")?null:i===r&&s===o?a:(o=s,a=t(r=i,l));this.removeAttribute(e)}}function ft(e,t,n){var r,o,a;return function(){var i,s,l=n(this);if(null!=l)return(i=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:i===r&&s===o?a:(o=s,a=t(r=i,l));this.removeAttributeNS(e.space,e.local)}}function pt(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function gt(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function mt(e,t){return function(){$e(this,e).delay=+t.apply(this,arguments)}}function ht(e,t){return t=+t,function(){$e(this,e).delay=t}}function vt(e,t){return function(){He(this,e).duration=+t.apply(this,arguments)}}function yt(e,t){return t=+t,function(){He(this,e).duration=t}}var bt=he.prototype.constructor;function xt(e){return function(){this.style.removeProperty(e)}}var _t=0;function wt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function kt(){return++_t}var Ct=he.prototype;wt.prototype=function(e){return he().transition(e)}.prototype={constructor:wt,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=a(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var l,c,u=r[s],d=u.length,f=i[s]=new Array(d),p=0;p<d;++p)(l=u[p])&&(c=e.call(l,l.__data__,p,u))&&("__data__"in l&&(c.__data__=l.__data__),f[p]=c,Be(f[p],t,n,p,f,Ve(l,n)));return new wt(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=s(e));for(var r=this._groups,o=r.length,a=[],i=[],l=0;l<o;++l)for(var c,u=r[l],d=u.length,f=0;f<d;++f)if(c=u[f]){for(var p,g=e.call(c,c.__data__,f,u),m=Ve(c,n),h=0,v=g.length;h<v;++h)(p=g[h])&&Be(p,t,n,h,g,m);a.push(g),i.push(c)}return new wt(a,i,t,n)},selectChild:Ct.selectChild,selectChildren:Ct.selectChildren,filter:function(e){"function"!=typeof e&&(e=c(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,i=t[o],s=i.length,l=r[o]=[],u=0;u<s;++u)(a=i[u])&&e.call(a,a.__data__,u,i)&&l.push(a);return new wt(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),i=new Array(r),s=0;s<a;++s)for(var l,c=t[s],u=n[s],d=c.length,f=i[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(f[p]=l);for(;s<r;++s)i[s]=t[s];return new wt(i,this._parents,this._name,this._id)},selection:function(){return new bt(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=kt(),r=this._groups,o=r.length,a=0;a<o;++a)for(var i,s=r[a],l=s.length,c=0;c<l;++c)if(i=s[c]){var u=Ve(i,t);Be(i,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new wt(r,this._parents,e,n)},call:Ct.call,nodes:Ct.nodes,node:Ct.node,size:Ct.size,empty:Ct.empty,each:Ct.each,on:function(e,t){var n=this._id;return arguments.length<2?Ve(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?$e:He;return function(){var i=a(this,e),s=i.on;s!==r&&(o=(r=s).copy()).on(t,n),i.on=o}}(n,e,t))},attr:function(e,t){var n=C(e),r="transform"===n?Qe:it;return this.attrTween(e,"function"==typeof t?(n.local?ft:dt)(n,r,nt(this,"attr."+e,t)):null==t?(n.local?lt:st)(n):(n.local?ut:ct)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=C(e);return this.tween(n,(r.local?pt:gt)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Je:it;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var a=A(this,e),i=(this.style.removeProperty(e),A(this,e));return a===i?null:a===n&&i===r?o:o=t(n=a,r=i)}}(e,r)).on("end.style."+e,xt(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,a;return function(){var i=A(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=A(this,e)),i===l?null:i===r&&l===o?a:(o=l,a=t(r=i,s))}}(e,r,nt(this,"style."+e,t))).each(function(e,t){var n,r,o,a,i="style."+t,s="end."+i;return function(){var l=He(this,e),c=l.on,u=null==l.value[i]?a||(a=xt(t)):void 0;c===n&&o===u||(r=(n=c).copy()).on(s,o=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,a=n+"";return function(){var i=A(this,e);return i===a?null:i===r?o:o=t(r=i,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function a(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(nt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=Ve(this.node(),n).tween,a=0,i=o.length;a<i;++a)if((r=o[a]).name===e)return r.value;return null}return this.each((null==t?et:tt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?mt:ht)(t,e)):Ve(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?vt:yt)(t,e)):Ve(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){He(this,e).ease=t}}(t,e)):Ve(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;He(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(a,i){var s={value:i},l={value:function(){0==--o&&a()}};n.each((function(){var n=He(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===o&&a()}))},[Symbol.iterator]:Ct[Symbol.iterator]};var St={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Nt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}he.prototype.interrupt=function(e){return this.each((function(){We(this,e)}))},he.prototype.transition=function(e){var t,n;e instanceof wt?(t=e._id,e=e._name):(t=kt(),(n=St).time=(0,De.zO)(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var i,s=r[a],l=s.length,c=0;c<l;++c)(i=s[c])&&Be(i,e,t,c,s,n||Nt(i,t));return new wt(r,this._parents,e,t)};var Et=e=>()=>e;function jt(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function It(e,t,n){this.k=e,this.x=t,this.y=n}It.prototype={constructor:It,scale:function(e){return 1===e?this:new It(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new It(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Mt=new It(1,0,0);function Pt(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Mt;return e.__zoom}function Tt(e){e.stopImmediatePropagation()}function Ot(e){e.preventDefault(),e.stopImmediatePropagation()}function Dt(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function At(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Zt(){return this.__zoom||Mt}function Rt(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ft(){return navigator.maxTouchPoints||"ontouchstart"in this}function zt(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function Lt(){var e,t,n,o=Dt,a=At,i=zt,s=Rt,l=Ft,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],d=250,f=Oe,p=(0,r.Z)("start","zoom","end"),g=0,m=10;function h(e){e.property("__zoom",Zt).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",S).filter(l).on("touchstart.zoom",N).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return(t=Math.max(c[0],Math.min(c[1],t)))===e.k?e:new It(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new It(e.k,r,o)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,o=arguments,i=_(e,o).event(r),s=a.apply(e,o),l=null==n?b(s):"function"==typeof n?n.apply(e,o):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,d="function"==typeof t?t.apply(e,o):t,p=f(u.invert(l).concat(c/u.k),d.invert(l).concat(c/d.k));return function(e){if(1===e)e=d;else{var t=p(e),n=c/t[2];e=new It(n,l[0]-t[0]*n,l[1]-t[1]*n)}i.zoom(null,e)}}))}function _(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=a.apply(e,t),this.taps=0}function k(e,...t){if(o.apply(this,arguments)){var n=_(this,t).event(e),r=this.__zoom,a=Math.max(c[0],Math.min(c[1],r.k*Math.pow(2,s.apply(this,arguments)))),l=ye(e);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=r.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(r.k===a)return;n.mouse=[l,r.invert(l)],We(this),n.start()}Ot(e),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),150),n.zoom("mouse",i(y(v(r,a),n.mouse[0],n.mouse[1]),n.extent,u))}}function C(e,...t){if(!n&&o.apply(this,arguments)){var r=e.currentTarget,a=_(this,t,!0).event(e),s=ve(e.view).on("mousemove.zoom",(function(e){if(Ot(e),!a.moved){var t=e.clientX-c,n=e.clientY-d;a.moved=t*t+n*n>g}a.event(e).zoom("mouse",i(y(a.that.__zoom,a.mouse[0]=ye(e,r),a.mouse[1]),a.extent,u))}),!0).on("mouseup.zoom",(function(e){s.on("mousemove.zoom mouseup.zoom",null),Ce(e.view,a.moved),Ot(e),a.event(e).end()}),!0),l=ye(e,r),c=e.clientX,d=e.clientY;ke(e.view),Tt(e),a.mouse=[l,this.__zoom.invert(l)],We(this),a.start()}}function S(e,...t){if(o.apply(this,arguments)){var n=this.__zoom,r=ye(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(r),l=n.k*(e.shiftKey?.5:2),c=i(y(v(n,l),r,s),a.apply(this,t),u);Ot(e),d>0?ve(this).transition().duration(d).call(x,c,r,e):ve(this).call(h.transform,c,r,e)}}function N(n,...r){if(o.apply(this,arguments)){var a,i,s,l,c=n.touches,u=c.length,d=_(this,r,n.changedTouches.length===u).event(n);for(Tt(n),i=0;i<u;++i)l=[l=ye(s=c[i],this),this.__zoom.invert(l),s.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,a=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(d.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),500)),We(this),d.start())}}function E(e,...t){if(this.__zooming){var n,r,o,a,s=_(this,t).event(e),l=e.changedTouches,c=l.length;for(Ot(e),n=0;n<c;++n)o=ye(r=l[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],f=s.touch0[1],p=s.touch1[0],g=s.touch1[1],m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m,h=(h=g[0]-f[0])*h+(h=g[1]-f[1])*h;r=v(r,Math.sqrt(m/h)),o=[(d[0]+p[0])/2,(d[1]+p[1])/2],a=[(f[0]+g[0])/2,(f[1]+g[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],a=s.touch0[1]}s.zoom("touch",i(y(r,o,a),s.extent,u))}}function j(e,...r){if(this.__zooming){var o,a,i=_(this,r).event(e),s=e.changedTouches,l=s.length;for(Tt(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),o=0;o<l;++o)a=s[o],i.touch0&&i.touch0[2]===a.identifier?delete i.touch0:i.touch1&&i.touch1[2]===a.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps&&(a=ye(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<m)){var c=ve(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return h.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",Zt),e!==o?x(e,t,n,r):o.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},h.scaleBy=function(e,t,n,r){h.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},h.scaleTo=function(e,t,n,r){h.transform(e,(function(){var e=a.apply(this,arguments),r=this.__zoom,o=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(o),l="function"==typeof t?t.apply(this,arguments):t;return i(y(v(r,l),o,s),e,u)}),n,r)},h.translateBy=function(e,t,n,r){h.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),a.apply(this,arguments),u)}),null,r)},h.translateTo=function(e,t,n,r,o){h.transform(e,(function(){var e=a.apply(this,arguments),o=this.__zoom,s=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return i(Mt.translate(s[0],s[1]).scale(o.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,u)}),r,o)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=ve(this.that).datum();p.call(e,this.that,new jt(e,{sourceEvent:this.sourceEvent,target:h,type:e,transform:this.that.__zoom,dispatch:p}),t)}},h.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:Et(+e),h):s},h.filter=function(e){return arguments.length?(o="function"==typeof e?e:Et(!!e),h):o},h.touchable=function(e){return arguments.length?(l="function"==typeof e?e:Et(!!e),h):l},h.extent=function(e){return arguments.length?(a="function"==typeof e?e:Et([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),h):a},h.scaleExtent=function(e){return arguments.length?(c[0]=+e[0],c[1]=+e[1],h):[c[0],c[1]]},h.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],h):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},h.constrain=function(e){return arguments.length?(i=e,h):i},h.duration=function(e){return arguments.length?(d=+e,h):d},h.interpolate=function(e){return arguments.length?(f=e,h):f},h.on=function(){var e=p.on.apply(p,arguments);return e===p?h:e},h.clickDistance=function(e){return arguments.length?(g=(e=+e)*e,h):Math.sqrt(g)},h.tapDistance=function(e){return arguments.length?(m=+e,h):m},h}Pt.prototype=It.prototype;const Bt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},$t=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ht=["Enter"," ","Escape"];var Vt,Wt,Kt;!function(e){e.Strict="strict",e.Loose="loose"}(Vt||(Vt={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(Wt||(Wt={})),function(e){e.Partial="partial",e.Full="full"}(Kt||(Kt={}));const Yt={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Gt,qt,Ut;!function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(Gt||(Gt={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(qt||(qt={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Ut||(Ut={}));const Xt={[Ut.Left]:Ut.Right,[Ut.Right]:Ut.Left,[Ut.Top]:Ut.Bottom,[Ut.Bottom]:Ut.Top};function Jt(e){return null===e?null:e?"valid":"invalid"}const Qt=e=>"id"in e&&"source"in e&&"target"in e,en=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),tn=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),nn=(e,t=[0,0])=>{const{width:n,height:r}=On(e),o=e.origin??t,a=n*o[0],i=r*o[1];return{x:e.position.x-a,y:e.position.y-i}},rn=(e,t={nodeOrigin:[0,0]})=>{if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const r="string"==typeof n;let o=t.nodeLookup||r?void 0:n;t.nodeLookup&&(o=r?t.nodeLookup.get(n):tn(n)?n:t.nodeLookup.get(n.id));const a=o?xn(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return hn(e,a)}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return yn(n)},on=(e,t={})=>{if(0===e.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach((e=>{if(void 0===t.filter||t.filter(e)){const t=xn(e);n=hn(n,t)}})),yn(n)},an=(e,t,[n,r,o]=[0,0,1],a=!1,i=!1)=>{const s={...En(t,[n,r,o]),width:t.width/o,height:t.height/o},l=[];for(const t of e.values()){const{measured:e,selectable:n=!0,hidden:r=!1}=t;if(i&&!n||r)continue;const o=e.width??t.width??t.initialWidth??null,c=e.height??t.height??t.initialHeight??null,u=wn(s,bn(t)),d=(o??0)*(c??0),f=a&&u>0;(!t.internals.handleBounds||f||u>=d||t.dragging)&&l.push(t)}return l},sn=(e,t)=>{const n=new Set;return e.forEach((e=>{n.add(e.id)})),t.filter((e=>n.has(e.source)||n.has(e.target)))};async function ln({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:a},i){if(0===e.size)return Promise.resolve(!0);const s=function(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map((e=>e.id))):null;return e.forEach((e=>{!e.measured.width||!e.measured.height||!t?.includeHiddenNodes&&e.hidden||r&&!r.has(e.id)||n.set(e.id,e)})),n}(e,i),l=on(s),c=Mn(l,t,n,i?.minZoom??o,i?.maxZoom??a,i?.padding??.1);return await r.setViewport(c,{duration:i?.duration}),Promise.resolve(!0)}function cn({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:a}){const i=n.get(e),s=i.parentId?n.get(i.parentId):void 0,{x:l,y:c}=s?s.internals.positionAbsolute:{x:0,y:0},u=i.origin??r;let d=o;if("parent"!==i.extent||i.expandParent)s&&Tn(i.extent)&&(d=[[i.extent[0][0]+l,i.extent[0][1]+c],[i.extent[1][0]+l,i.extent[1][1]+c]]);else if(s){const e=s.measured.width,t=s.measured.height;e&&t&&(d=[[l,c],[l+e,c+t]])}else a?.("005",Bt.error005());const f=Tn(d)?fn(t,d,i.measured):t;return void 0!==i.measured.width&&void 0!==i.measured.height||a?.("015",Bt.error015()),{position:{x:f.x-l+(i.measured.width??0)*u[0],y:f.y-c+(i.measured.height??0)*u[1]},positionAbsolute:f}}async function un({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const a=new Set(e.map((e=>e.id))),i=[];for(const e of n){if(!1===e.deletable)continue;const t=a.has(e.id),n=!t&&e.parentId&&i.find((t=>t.id===e.parentId));(t||n)&&i.push(e)}const s=new Set(t.map((e=>e.id))),l=r.filter((e=>!1!==e.deletable)),c=sn(i,l);for(const e of l){s.has(e.id)&&!c.find((t=>t.id===e.id))&&c.push(e)}if(!o)return{edges:c,nodes:i};const u=await o({nodes:i,edges:c});return"boolean"==typeof u?u?{edges:c,nodes:i}:{edges:[],nodes:[]}:u}const dn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),fn=(e={x:0,y:0},t,n)=>({x:dn(e.x,t[0][0],t[1][0]-(n?.width??0)),y:dn(e.y,t[0][1],t[1][1]-(n?.height??0))});function pn(e,t,n){const{width:r,height:o}=On(n),{x:a,y:i}=n.internals.positionAbsolute;return fn(e,[[a,i],[a+r,i+o]],t)}const gn=(e,t,n)=>e<t?dn(Math.abs(e-t),1,t)/t:e>n?-dn(Math.abs(e-n),1,t)/t:0,mn=(e,t,n=15,r=40)=>[gn(e.x,r,t.width-r)*n,gn(e.y,r,t.height-r)*n],hn=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),vn=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),yn=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),bn=(e,t=[0,0])=>{const{x:n,y:r}=tn(e)?e.internals.positionAbsolute:nn(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},xn=(e,t=[0,0])=>{const{x:n,y:r}=tn(e)?e.internals.positionAbsolute:nn(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},_n=(e,t)=>yn(hn(vn(e),vn(t))),wn=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},kn=e=>Cn(e.width)&&Cn(e.height)&&Cn(e.x)&&Cn(e.y),Cn=e=>!isNaN(e)&&isFinite(e),Sn=(e,t)=>{0},Nn=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),En=({x:e,y:t},[n,r,o],a=!1,i=[1,1])=>{const s={x:(e-n)/o,y:(t-r)/o};return a?Nn(s,i):s},jn=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function In(e,t){if("number"==typeof e)return Math.floor(.5*(t-t/(1+e)));if("string"==typeof e&&e.endsWith("px")){const t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"==typeof e&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}const Mn=(e,t,n,r,o,a)=>{const i=function(e,t,n){if("string"==typeof e||"number"==typeof e){const r=In(e,n),o=In(e,t);return{top:r,right:o,bottom:r,left:o,x:2*o,y:2*r}}if("object"==typeof e){const r=In(e.top??e.y??0,n),o=In(e.bottom??e.y??0,n),a=In(e.left??e.x??0,t),i=In(e.right??e.x??0,t);return{top:r,right:i,bottom:o,left:a,x:a+i,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(a,t,n),s=(t-i.x)/e.width,l=(n-i.y)/e.height,c=Math.min(s,l),u=dn(c,r,o),d=t/2-(e.x+e.width/2)*u,f=n/2-(e.y+e.height/2)*u,p=function(e,t,n,r,o,a){const{x:i,y:s}=jn(e,[t,n,r]),{x:l,y:c}=jn({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=o-l,d=a-c;return{left:Math.floor(i),top:Math.floor(s),right:Math.floor(u),bottom:Math.floor(d)}}(e,d,f,u,t,n),g=Math.min(p.left-i.left,0),m=Math.min(p.top-i.top,0);return{x:d-g+Math.min(p.right-i.right,0),y:f-m+Math.min(p.bottom-i.bottom,0),zoom:u}},Pn=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function Tn(e){return void 0!==e&&"parent"!==e}function On(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function Dn(e){return void 0!==(e.measured?.width??e.width??e.initialWidth)&&void 0!==(e.measured?.height??e.height??e.initialHeight)}function An(e,t={width:0,height:0},n,r,o){const a={...e},i=r.get(n);if(i){const e=i.origin||o;a.x+=i.internals.positionAbsolute.x-(t.width??0)*e[0],a.y+=i.internals.positionAbsolute.y-(t.height??0)*e[1]}return a}function Zn(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Rn(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}function Fn(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:a,y:i}=Vn(e),s=En({x:a-(o?.left??0),y:i-(o?.top??0)},r),{x:l,y:c}=n?Nn(s,t):s;return{xSnapped:l,ySnapped:c,...s}}const zn=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ln=e=>e?.getRootNode?.()||window?.document,Bn=["INPUT","SELECT","TEXTAREA"];function $n(e){const t=e.composedPath?.()?.[0]||e.target;if(1!==t?.nodeType)return!1;return Bn.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Hn=e=>"clientX"in e,Vn=(e,t)=>{const n=Hn(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},Wn=(e,t,n,r,o)=>{const a=t.querySelectorAll(`.${e}`);return a&&a.length?Array.from(a).map((t=>{const a=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:o,position:t.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...zn(t)}})):null};function Kn({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:a,targetControlX:i,targetControlY:s}){const l=.125*e+.375*o+.375*i+.125*n,c=.125*t+.375*a+.375*s+.125*r;return[l,c,Math.abs(l-e),Math.abs(c-t)]}function Yn(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Gn({pos:e,x1:t,y1:n,x2:r,y2:o,c:a}){switch(e){case Ut.Left:return[t-Yn(t-r,a),n];case Ut.Right:return[t+Yn(r-t,a),n];case Ut.Top:return[t,n-Yn(n-o,a)];case Ut.Bottom:return[t,n+Yn(o-n,a)]}}function qn({sourceX:e,sourceY:t,sourcePosition:n=Ut.Bottom,targetX:r,targetY:o,targetPosition:a=Ut.Top,curvature:i=.25}){const[s,l]=Gn({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[c,u]=Gn({pos:a,x1:r,y1:o,x2:e,y2:t,c:i}),[d,f,p,g]=Kn({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${l} ${c},${u} ${r},${o}`,d,f,p,g]}function Un({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,a=n<e?n+o:n-o,i=Math.abs(r-t)/2;return[a,r<t?r+i:r-i,o,i]}function Xn({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const a=n||t.selected||e.selected,i=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(a?i:0)}function Jn({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const a=hn(xn(e),xn(t));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const i={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return wn(i,yn(a))>0}const Qn=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,er=(e,t)=>{if(!e.source||!e.target)return Sn("006",Bt.error006()),t;let n;return n=Qt(e)?{...e}:{...e,id:Qn(e)},((e,t)=>t.some((t=>!(t.source!==e.source||t.target!==e.target||t.sourceHandle!==e.sourceHandle&&(t.sourceHandle||e.sourceHandle)||t.targetHandle!==e.targetHandle&&(t.targetHandle||e.targetHandle)))))(n,t)?t:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,t.concat(n))};function tr({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,a,i,s]=Un({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,a,i,s]}const nr={[Ut.Left]:{x:-1,y:0},[Ut.Right]:{x:1,y:0},[Ut.Top]:{x:0,y:-1},[Ut.Bottom]:{x:0,y:1}},rr=({source:e,sourcePosition:t=Ut.Bottom,target:n})=>t===Ut.Left||t===Ut.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},or=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function ar({sourceX:e,sourceY:t,sourcePosition:n=Ut.Bottom,targetX:r,targetY:o,targetPosition:a=Ut.Top,borderRadius:i=5,centerX:s,centerY:l,offset:c=20}){const[u,d,f,p,g]=function({source:e,sourcePosition:t=Ut.Bottom,target:n,targetPosition:r=Ut.Top,center:o,offset:a}){const i=nr[t],s=nr[r],l={x:e.x+i.x*a,y:e.y+i.y*a},c={x:n.x+s.x*a,y:n.y+s.y*a},u=rr({source:l,sourcePosition:t,target:c}),d=0!==u.x?"x":"y",f=u[d];let p,g,m=[];const h={x:0,y:0},v={x:0,y:0},[y,b,x,_]=Un({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*s[d]==-1){p=o.x??y,g=o.y??b;const e=[{x:p,y:l.y},{x:p,y:c.y}],t=[{x:l.x,y:g},{x:c.x,y:g}];m=i[d]===f?"x"===d?e:t:"x"===d?t:e}else{const o=[{x:l.x,y:c.y}],u=[{x:c.x,y:l.y}];if(m="x"===d?i.x===f?u:o:i.y===f?o:u,t===r){const t=Math.abs(e[d]-n[d]);if(t<=a){const r=Math.min(a-1,a-t);i[d]===f?h[d]=(l[d]>e[d]?-1:1)*r:v[d]=(c[d]>n[d]?-1:1)*r}}if(t!==r){const e="x"===d?"y":"x",t=i[d]===s[e],n=l[e]>c[e],r=l[e]<c[e];(1===i[d]&&(!t&&n||t&&r)||1!==i[d]&&(!t&&r||t&&n))&&(m="x"===d?o:u)}const y={x:l.x+h.x,y:l.y+h.y},b={x:c.x+v.x,y:c.y+v.y};Math.max(Math.abs(y.x-m[0].x),Math.abs(b.x-m[0].x))>=Math.max(Math.abs(y.y-m[0].y),Math.abs(b.y-m[0].y))?(p=(y.x+b.x)/2,g=m[0].y):(p=m[0].x,g=(y.y+b.y)/2)}return[[e,{x:l.x+h.x,y:l.y+h.y},...m,{x:c.x+v.x,y:c.y+v.y},n],p,g,x,_]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:a,center:{x:s,y:l},offset:c}),m=u.reduce(((e,t,n)=>{let r="";return r=n>0&&n<u.length-1?function(e,t,n,r){const o=Math.min(or(e,t)/2,or(t,n)/2,r),{x:a,y:i}=t;if(e.x===a&&a===n.x||e.y===i&&i===n.y)return`L${a} ${i}`;if(e.y===i)return`L ${a+o*(e.x<n.x?-1:1)},${i}Q ${a},${i} ${a},${i+o*(e.y<n.y?1:-1)}`;const s=e.x<n.x?1:-1;return`L ${a},${i+o*(e.y<n.y?-1:1)}Q ${a},${i} ${a+o*s},${i}`}(u[n-1],t,u[n+1],i):`${0===n?"M":"L"}${t.x} ${t.y}`,e+=r}),"");return[m,d,f,p,g]}function ir(e){return e&&!(!e.internals.handleBounds&&!e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function sr(e){const{sourceNode:t,targetNode:n}=e;if(!ir(t)||!ir(n))return null;const r=t.internals.handleBounds||lr(t.handles),o=n.internals.handleBounds||lr(n.handles),a=ur(r?.source??[],e.sourceHandle),i=ur(e.connectionMode===Vt.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!a||!i)return e.onError?.("008",Bt.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=a?.position||Ut.Bottom,l=i?.position||Ut.Top,c=cr(t,a,s),u=cr(n,i,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:s,targetPosition:l}}function lr(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,"source"===r.type?t.push(r):"target"===r.type&&n.push(r);return{source:t,target:n}}function cr(e,t,n=Ut.Left,r=!1){const o=(t?.x??0)+e.internals.positionAbsolute.x,a=(t?.y??0)+e.internals.positionAbsolute.y,{width:i,height:s}=t??On(e);if(r)return{x:o+i/2,y:a+s/2};switch(t?.position??n){case Ut.Top:return{x:o+i/2,y:a};case Ut.Right:return{x:o+i,y:a+s/2};case Ut.Bottom:return{x:o+i/2,y:a+s};case Ut.Left:return{x:o,y:a+s/2}}}function ur(e,t){return e&&(t?e.find((e=>e.id===t)):e[0])||null}function dr(e,t){if(!e)return"";if("string"==typeof e)return e;return`${t?`${t}__`:""}${Object.keys(e).sort().map((t=>`${t}=${e[t]}`)).join("&")}`}function fr(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const a=new Set;return e.reduce(((e,i)=>([i.markerStart||r,i.markerEnd||o].forEach((r=>{if(r&&"object"==typeof r){const o=dr(r,t);a.has(o)||(e.push({id:o,color:r.color||n,...r}),a.add(o))}})),e)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))}const pr={nodeOrigin:[0,0],nodeExtent:$t,elevateNodesOnSelect:!0,defaults:{}},gr={...pr,checkEquality:!0};function mr(e,t){const n={...e};for(const e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function hr(e,t,n){const r=mr(pr,n);for(const n of e.values())if(n.parentId)yr(n,e,t,r);else{const e=nn(n,r.nodeOrigin),t=Tn(n.extent)?n.extent:r.nodeExtent,o=fn(e,t,On(n));n.internals.positionAbsolute=o}}function vr(e,t,n,r){const o=mr(gr,r);let a=e.length>0;const i=new Map(t),s=o?.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const l of e){let e=i.get(l.id);if(o.checkEquality&&l===e?.internals.userNode)t.set(l.id,e);else{const n=nn(l,o.nodeOrigin),r=Tn(l.extent)?l.extent:o.nodeExtent,a=fn(n,r,On(l));e={...o.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:a,handleBounds:l.measured?e?.internals.handleBounds:void 0,z:br(l,s),userNode:l}},t.set(l.id,e)}void 0!==e.measured&&void 0!==e.measured.width&&void 0!==e.measured.height||e.hidden||(a=!1),l.parentId&&yr(e,t,n,r)}return a}function yr(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:a,nodeExtent:i}=mr(pr,r),s=e.parentId,l=t.get(s);if(!l)return void console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);!function(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n);const c=o?1e3:0,{x:u,y:d,z:f}=function(e,t,n,r,o){const{x:a,y:i}=t.internals.positionAbsolute,s=On(e),l=nn(e,n),c=Tn(e.extent)?fn(l,e.extent,s):l;let u=fn({x:a+c.x,y:i+c.y},r,s);"parent"===e.extent&&(u=pn(u,s,t));const d=br(e,o),f=t.internals.z??0;return{x:u.x,y:u.y,z:f>d?f:d}}(e,l,a,i,c),{positionAbsolute:p}=e.internals,g=u!==p.x||d!==p.y;(g||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:d}:p,z:f}})}function br(e,t){return(Cn(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function xr(e,t,n,r=[0,0]){const o=[],a=new Map;for(const n of e){const e=t.get(n.parentId);if(!e)continue;const r=a.get(n.parentId)?.expandedRect??bn(e),o=_n(r,n.rect);a.set(n.parentId,{expandedRect:o,parent:e})}return a.size>0&&a.forEach((({expandedRect:t,parent:a},i)=>{const s=a.internals.positionAbsolute,l=On(a),c=a.origin??r,u=t.x<s.x?Math.round(Math.abs(s.x-t.x)):0,d=t.y<s.y?Math.round(Math.abs(s.y-t.y)):0,f=Math.max(l.width,Math.round(t.width)),p=Math.max(l.height,Math.round(t.height)),g=(f-l.width)*c[0],m=(p-l.height)*c[1];(u>0||d>0||g||m)&&(o.push({id:i,type:"position",position:{x:a.position.x-u+g,y:a.position.y-d+m}}),n.get(i)?.forEach((t=>{e.some((e=>e.id===t.id))||o.push({id:t.id,type:"position",position:{x:t.position.x+u,y:t.position.y+d}})}))),(l.width<t.width||l.height<t.height||u||d)&&o.push({id:i,type:"dimensions",setAttributes:!0,dimensions:{width:f+(u?c[0]*u-g:0),height:p+(d?c[1]*d-m:0)}})})),o}function _r(e,t,n,r,o,a){const i=r?.querySelector(".xyflow__viewport");let s=!1;if(!i)return{changes:[],updatedInternals:s};const l=[],c=window.getComputedStyle(i),{m22:u}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const r of e.values()){const e=t.get(r.id);if(!e)continue;if(e.hidden){t.set(e.id,{...e,internals:{...e.internals,handleBounds:void 0}}),s=!0;continue}const i=zn(r.nodeElement),c=e.measured.width!==i.width||e.measured.height!==i.height;if(!(!i.width||!i.height||!c&&e.internals.handleBounds&&!r.force)){const f=r.nodeElement.getBoundingClientRect(),p=Tn(e.extent)?e.extent:a;let{positionAbsolute:g}=e.internals;e.parentId&&"parent"===e.extent?g=pn(g,i,t.get(e.parentId)):p&&(g=fn(g,p,i));const m={...e,measured:i,internals:{...e.internals,positionAbsolute:g,handleBounds:{source:Wn("source",r.nodeElement,f,u,e.id),target:Wn("target",r.nodeElement,f,u,e.id)}}};t.set(e.id,m),e.parentId&&yr(m,t,n,{nodeOrigin:o}),s=!0,c&&(l.push({id:e.id,type:"dimensions",dimensions:i}),e.expandParent&&e.parentId&&d.push({id:e.id,parentId:e.parentId,rect:bn(m,o)}))}}if(d.length>0){const e=xr(d,t,n,o);l.push(...e)}return{changes:l,updatedInternals:s}}async function wr({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:a}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,a]],r),s=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(s)}function kr(e,t,n,r,o,a){let i=o;const s=r.get(i)||new Map;r.set(i,s.set(n,t)),i=`${o}-${e}`;const l=r.get(i)||new Map;if(r.set(i,l.set(n,t)),a){i=`${o}-${e}-${a}`;const s=r.get(i)||new Map;r.set(i,s.set(n,t))}}function Cr(e,t,n){e.clear(),t.clear();for(const r of n){const{source:n,target:o,sourceHandle:a=null,targetHandle:i=null}=r,s={edgeId:r.id,source:n,target:o,sourceHandle:a,targetHandle:i},l=`${n}-${a}--${o}-${i}`;kr("source",s,`${o}-${i}--${n}-${a}`,e,n,a),kr("target",s,l,e,o,i),t.set(r.id,r)}}function Sr(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return!!n&&(!!n.selected||Sr(n,t))}function Nr(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function Er({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const o=[];for(const[e,a]of t){const t=n.get(e)?.internals.userNode;t&&o.push({...t,position:a.position,dragging:r})}if(!e)return[o[0],o];const a=n.get(e)?.internals.userNode;return[a?{...a,position:t.get(e)?.position||a.position,dragging:r}:o[0],o]}function jr({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let a={x:null,y:null},i=0,s=new Map,l=!1,c={x:0,y:0},u=null,d=!1,f=null,p=!1;return{update:function({noDragClassName:g,handleSelector:m,domNode:h,isSelectable:v,nodeId:y,nodeClickDistance:b=0}){function x({x:e,y:n},o){const{nodeLookup:i,nodeExtent:l,snapGrid:c,snapToGrid:u,nodeOrigin:d,onNodeDrag:f,onSelectionDrag:p,onError:g,updateNodePositions:m}=t();a={x:e,y:n};let h=!1,v={x:0,y:0,x2:0,y2:0};if(s.size>1&&l){const e=on(s);v=vn(e)}for(const[t,r]of s){if(!i.has(t))continue;let o={x:e-r.distance.x,y:n-r.distance.y};u&&(o=Nn(o,c));let a=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];if(s.size>1&&l&&!r.extent){const{positionAbsolute:e}=r.internals,t=e.x-v.x+l[0][0],n=e.x+r.measured.width-v.x2+l[1][0];a=[[t,e.y-v.y+l[0][1]],[n,e.y+r.measured.height-v.y2+l[1][1]]]}const{position:f,positionAbsolute:p}=cn({nodeId:t,nextPosition:o,nodeLookup:i,nodeExtent:a,nodeOrigin:d,onError:g});h=h||r.position.x!==f.x||r.position.y!==f.y,r.position=f,r.internals.positionAbsolute=p}if(h&&(m(s,!0),o&&(r||f||!y&&p))){const[e,t]=Er({nodeId:y,dragItems:s,nodeLookup:i});r?.(o,s,e,t),f?.(o,e,t),y||p?.(o,t)}}async function _(){if(!u)return;const{transform:e,panBy:n,autoPanSpeed:r,autoPanOnNodeDrag:o}=t();if(!o)return l=!1,void cancelAnimationFrame(i);const[s,d]=mn(c,u,r);0===s&&0===d||(a.x=(a.x??0)-s/e[2],a.y=(a.y??0)-d/e[2],await n({x:s,y:d})&&x(a,null)),i=requestAnimationFrame(_)}function w(r){const{nodeLookup:o,multiSelectionActive:i,nodesDraggable:l,transform:c,snapGrid:f,snapToGrid:p,selectNodesOnDrag:g,onNodeDragStart:m,onSelectionDragStart:h,unselectNodesAndEdges:b}=t();d=!0,g&&v||i||!y||o.get(y)?.selected||b(),v&&g&&y&&e?.(y);const x=Fn(r.sourceEvent,{transform:c,snapGrid:f,snapToGrid:p,containerBounds:u});if(a=x,s=function(e,t,n,r){const o=new Map;for(const[a,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!Sr(i,e))&&(i.draggable||t&&void 0===i.draggable)){const t=e.get(a);t&&o.set(a,{id:a,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:t.measured.width??0,height:t.measured.height??0}})}return o}(o,l,x,y),s.size>0&&(n||m||!y&&h)){const[e,t]=Er({nodeId:y,dragItems:s,nodeLookup:o});n?.(r.sourceEvent,s,e,t),m?.(r.sourceEvent,e,t),y||h?.(r.sourceEvent,t)}}f=ve(h);const k=Pe().clickDistance(b).on("start",(e=>{const{domNode:n,nodeDragThreshold:r,transform:o,snapGrid:i,snapToGrid:s}=t();u=n?.getBoundingClientRect()||null,p=!1,0===r&&w(e);const l=Fn(e.sourceEvent,{transform:o,snapGrid:i,snapToGrid:s,containerBounds:u});a=l,c=Vn(e.sourceEvent,u)})).on("drag",(e=>{const{autoPanOnNodeDrag:n,transform:r,snapGrid:o,snapToGrid:i,nodeDragThreshold:f,nodeLookup:g}=t(),m=Fn(e.sourceEvent,{transform:r,snapGrid:o,snapToGrid:i,containerBounds:u});if(("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||y&&!g.has(y))&&(p=!0),!p){if(!l&&n&&d&&(l=!0,_()),!d){const t=m.xSnapped-(a.x??0),n=m.ySnapped-(a.y??0);Math.sqrt(t*t+n*n)>f&&w(e)}(a.x!==m.xSnapped||a.y!==m.ySnapped)&&s&&d&&(c=Vn(e.sourceEvent,u),x(m,e.sourceEvent))}})).on("end",(e=>{if(d&&!p&&(l=!1,d=!1,cancelAnimationFrame(i),s.size>0)){const{nodeLookup:n,updateNodePositions:r,onNodeDragStop:a,onSelectionDragStop:i}=t();if(r(s,!1),o||a||!y&&i){const[t,r]=Er({nodeId:y,dragItems:s,nodeLookup:n,dragging:!1});o?.(e.sourceEvent,s,t,r),a?.(e.sourceEvent,t,r),y||i?.(e.sourceEvent,r)}}})).filter((e=>{const t=e.target;return!e.button&&(!g||!Nr(t,`.${g}`,h))&&(!m||Nr(t,m,h))}));f.call(k)},destroy:function(){f?.on(".drag",null)}}}function Ir(e,t,n,r){let o=[],a=1/0;const i=function(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(const e of t.values())wn(o,bn(e))>0&&r.push(e);return r}(e,n,t+250);for(const n of i){const i=[...n.internals.handleBounds?.source??[],...n.internals.handleBounds?.target??[]];for(const s of i){if(r.nodeId===s.nodeId&&r.type===s.type&&r.id===s.id)continue;const{x:i,y:l}=cr(n,s,s.position,!0),c=Math.sqrt(Math.pow(i-e.x,2)+Math.pow(l-e.y,2));c>t||(c<a?(o=[{...s,x:i,y:l}],a=c):c===a&&o.push({...s,x:i,y:l}))}}if(!o.length)return null;if(o.length>1){const e="source"===r.type?"target":"source";return o.find((t=>t.type===e))??o[0]}return o[0]}function Mr(e,t,n,r,o,a=!1){const i=r.get(e);if(!i)return null;const s="strict"===o?i.internals.handleBounds?.[t]:[...i.internals.handleBounds?.source??[],...i.internals.handleBounds?.target??[]],l=(n?s?.find((e=>e.id===n)):s?.[0])??null;return l&&a?{...l,...cr(i,l,l.position,!0)}:l}function Pr(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}const Tr=()=>!0;function Or(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:a,doc:i,lib:s,flowId:l,isValidConnection:c=Tr,nodeLookup:u}){const d="target"===a,f=t?i.querySelector(`.${s}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:p,y:g}=Vn(e),m=i.elementFromPoint(p,g),h=m?.classList.contains(`${s}-flow__handle`)?m:f,v={handleDomNode:h,isValid:!1,connection:null,toHandle:null};if(h){const e=Pr(void 0,h),t=h.getAttribute("data-nodeid"),a=h.getAttribute("data-handleid"),i=h.classList.contains("connectable"),s=h.classList.contains("connectableend");if(!t||!e)return v;const l={source:d?t:r,sourceHandle:d?a:o,target:d?r:t,targetHandle:d?o:a};v.connection=l;const f=i&&s&&(n===Vt.Strict?d&&"source"===e||!d&&"target"===e:t!==r||a!==o);v.isValid=f&&c(l),v.toHandle=Mr(t,e,a,u,n,!1)}return v}const Dr={onPointerDown:function(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:a,isTarget:i,domNode:s,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:d,panBy:f,cancelConnection:p,onConnectStart:g,onConnect:m,onConnectEnd:h,isValidConnection:v=Tr,onReconnectEnd:y,updateConnection:b,getTransform:x,getFromHandle:_,autoPanSpeed:w}){const k=Ln(e.target);let C,S=0;const{x:N,y:E}=Vn(e),j=k?.elementFromPoint(N,E),I=Pr(a,j),M=s?.getBoundingClientRect();if(!M||!I)return;const P=Mr(o,I,r,l,t);if(!P)return;let T=Vn(e,M),O=!1,D=null,A=!1,Z=null;function R(){if(!u||!M)return;const[e,t]=mn(T,M,w);f({x:e,y:t}),S=requestAnimationFrame(R)}const F={...P,nodeId:o,type:I,position:P.position},z=l.get(o),L={inProgress:!0,isValid:null,from:cr(z,F,Ut.Left,!0),fromHandle:F,fromPosition:F.position,fromNode:z,to:T,toHandle:null,toPosition:Xt[F.position],toNode:null};b(L);let B=L;function $(e){if(!_()||!F)return void H(e);const a=x();T=Vn(e,M),C=Ir(En(T,a,!1,[1,1]),n,l,F),O||(R(),O=!0);const s=Or(e,{handle:C,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:i?"target":"source",isValidConnection:v,doc:k,lib:c,flowId:d,nodeLookup:l});Z=s.handleDomNode,D=s.connection,A=function(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}(!!C,s.isValid);const u={...B,isValid:A,to:C&&A?jn({x:C.x,y:C.y},a):T,toHandle:s.toHandle,toPosition:A&&s.toHandle?s.toHandle.position:Xt[F.position],toNode:s.toHandle?l.get(s.toHandle.nodeId):null};A&&C&&B.toHandle&&u.toHandle&&B.toHandle.type===u.toHandle.type&&B.toHandle.nodeId===u.toHandle.nodeId&&B.toHandle.id===u.toHandle.id&&B.to.x===u.to.x&&B.to.y===u.to.y||(b(u),B=u)}function H(e){(C||Z)&&D&&A&&m?.(D);const{inProgress:t,...n}=B,r={...n,toPosition:B.toHandle?B.toPosition:null};h?.(e,r),a&&y?.(e,r),p(),cancelAnimationFrame(S),O=!1,A=!1,D=null,Z=null,k.removeEventListener("mousemove",$),k.removeEventListener("mouseup",H),k.removeEventListener("touchmove",$),k.removeEventListener("touchend",H)}g?.(e,{nodeId:o,handleId:r,handleType:I}),k.addEventListener("mousemove",$),k.addEventListener("mouseup",H),k.addEventListener("touchmove",$),k.addEventListener("touchend",H)},isValid:Or};function Ar({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=ve(e);return{update:function({translateExtent:e,width:a,height:i,zoomStep:s=10,pannable:l=!0,zoomable:c=!0,inversePan:u=!1}){let d=[0,0];const f=Lt().on("start",(e=>{"mousedown"!==e.sourceEvent.type&&"touchstart"!==e.sourceEvent.type||(d=[e.sourceEvent.clientX??e.sourceEvent.touches[0].clientX,e.sourceEvent.clientY??e.sourceEvent.touches[0].clientY])})).on("zoom",l?o=>{const s=n();if("mousemove"!==o.sourceEvent.type&&"touchmove"!==o.sourceEvent.type||!t)return;const l=[o.sourceEvent.clientX??o.sourceEvent.touches[0].clientX,o.sourceEvent.clientY??o.sourceEvent.touches[0].clientY],c=[l[0]-d[0],l[1]-d[1]];d=l;const f=r()*Math.max(s[2],Math.log(s[2]))*(u?-1:1),p={x:s[0]-c[0]*f,y:s[1]-c[1]*f},g=[[0,0],[a,i]];t.setViewportConstrained({x:p.x,y:p.y,zoom:s[2]},g,e)}:null).on("zoom.wheel",c?e=>{const r=n();if("wheel"!==e.sourceEvent.type||!t)return;const o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*s,a=r[2]*Math.pow(2,o);t.scaleTo(a)}:null);o.call(f,{})},destroy:function(){o.on("zoom",null)},pointer:ye}}const Zr=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Rr=e=>({x:e.x,y:e.y,zoom:e.k}),Fr=({x:e,y:t,zoom:n})=>Mt.translate(e,t).scale(n),zr=(e,t)=>e.target.closest(`.${t}`),Lr=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Br=(e,t=0,n=()=>{})=>{const r="number"==typeof t&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},$r=e=>{const t=e.ctrlKey&&Pn()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function Hr({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:a,onPanZoom:i,onPanZoomStart:s,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=Lt().clickDistance(!Cn(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),p=ve(e).call(f);y({x:a.x,y:a.y,zoom:dn(a.zoom,t,n)},[[0,0],[d.width,d.height]],o);const g=p.on("wheel.zoom"),m=p.on("dblclick.zoom");function h(e,t){return p?new Promise((n=>{f?.transform(Br(p,t?.duration,(()=>n(!0))),e)})):Promise.resolve(!1)}function v(){f.on("zoom",null)}async function y(e,t,n){const r=Fr(e),o=f?.constrain()(r,t,n);return o&&await h(o),new Promise((e=>e(o)))}return f.wheelDelta($r),{update:function({noWheelClassName:e,noPanClassName:t,onPaneContextMenu:n,userSelectionActive:r,panOnScroll:o,panOnDrag:a,panOnScrollMode:d,panOnScrollSpeed:h,preventScrolling:y,zoomOnPinch:b,zoomOnScroll:x,zoomOnDoubleClick:_,zoomActivationKeyPressed:w,lib:k,onTransformChange:C}){r&&!u.isZoomingOrPanning&&v();const S=o&&!w&&!r?function({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:a,zoomOnPinch:i,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(zr(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&i){const e=ye(u),t=$r(u),o=d*Math.pow(2,t);return void r.scaleTo(n,o,e,u)}const f=1===u.deltaMode?20:1;let p=o===Wt.Vertical?0:u.deltaX*f,g=o===Wt.Horizontal?0:u.deltaY*f;!Pn()&&u.shiftKey&&o!==Wt.Vertical&&(p=u.deltaY*f,g=0),r.translateBy(n,-p/d*a,-g/d*a,{internal:!0});const m=Rr(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,s?.(u,m)),e.isPanScrolling&&(l?.(u,m),e.panScrollTimeout=setTimeout((()=>{c?.(u,m),e.isPanScrolling=!1}),150))}}({zoomPanValues:u,noWheelClassName:e,d3Selection:p,d3Zoom:f,panOnScrollMode:d,panOnScrollSpeed:h,zoomOnPinch:b,onPanZoomStart:s,onPanZoom:i,onPanZoomEnd:l}):function({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const a="wheel"===r.type,i=!t&&a&&!r.ctrlKey,s=zr(r,e);if(r.ctrlKey&&a&&s&&r.preventDefault(),i||s)return null;r.preventDefault(),n.call(this,r,o)}}({noWheelClassName:e,preventScrolling:y,d3ZoomHandler:g});if(p.on("wheel.zoom",S,{passive:!1}),!r){const e=function({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const o=Rr(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,"mousedown"===r.sourceEvent?.type&&t(!0),n&&n?.(r.sourceEvent,o)}}({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:s});f.on("start",e);const t=function({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return a=>{e.usedRightMouseButton=!(!n||!Lr(t,e.mouseButton??0)),a.sourceEvent?.sync||r([a.transform.x,a.transform.y,a.transform.k]),o&&!a.sourceEvent?.internal&&o?.(a.sourceEvent,Rr(a.transform))}}({zoomPanValues:u,panOnDrag:a,onPaneContextMenu:!!n,onPanZoom:i,onTransformChange:C});f.on("zoom",t);const r=function({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:a}){return i=>{if(!i.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,a&&Lr(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&a(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&Zr(e.prevViewport,i.transform))){const t=Rr(i.transform);e.prevViewport=t,clearTimeout(e.timerId),e.timerId=setTimeout((()=>{o?.(i.sourceEvent,t)}),n?150:0)}}}({zoomPanValues:u,panOnDrag:a,panOnScroll:o,onPaneContextMenu:n,onPanZoomEnd:l,onDraggingChange:c});f.on("end",r)}const N=function({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:a,userSelectionActive:i,noWheelClassName:s,noPanClassName:l,lib:c}){return u=>{const d=e||t,f=n&&u.ctrlKey;if(1===u.button&&"mousedown"===u.type&&(zr(u,`${c}-flow__node`)||zr(u,`${c}-flow__edge`)))return!0;if(!(r||d||o||a||n))return!1;if(i)return!1;if(zr(u,s)&&"wheel"===u.type)return!1;if(zr(u,l)&&("wheel"!==u.type||o&&"wheel"===u.type&&!e))return!1;if(!n&&u.ctrlKey&&"wheel"===u.type)return!1;if(!n&&"touchstart"===u.type&&u.touches?.length>1)return u.preventDefault(),!1;if(!d&&!o&&!f&&"wheel"===u.type)return!1;if(!r&&("mousedown"===u.type||"touchstart"===u.type))return!1;if(Array.isArray(r)&&!r.includes(u.button)&&"mousedown"===u.type)return!1;const p=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||"wheel"===u.type)&&p}}({zoomActivationKeyPressed:w,panOnDrag:a,zoomOnScroll:x,panOnScroll:o,zoomOnDoubleClick:_,zoomOnPinch:b,userSelectionActive:r,noPanClassName:t,noWheelClassName:e,lib:k});f.filter(N),_?p.on("dblclick.zoom",m):p.on("dblclick.zoom",null)},destroy:v,setViewport:async function(e,t){const n=Fr(e);return await h(n,t),new Promise((e=>e(n)))},setViewportConstrained:y,getViewport:function(){const e=p?Pt(p.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return p?new Promise((n=>{f?.scaleTo(Br(p,t?.duration,(()=>n(!0))),e)})):Promise.resolve(!1)},scaleBy:function(e,t){return p?new Promise((n=>{f?.scaleBy(Br(p,t?.duration,(()=>n(!0))),e)})):Promise.resolve(!1)},setScaleExtent:function(e){f?.scaleExtent(e)},setTranslateExtent:function(e){f?.translateExtent(e)},syncViewport:function(e){if(p){const t=Fr(e),n=p.property("__zoom");n.k===e.zoom&&n.x===e.x&&n.y===e.y||f?.transform(p,t,null,{sync:!0})}},setClickDistance:function(e){const t=!Cn(e)||e<0?0:e;f?.clickDistance(t)}}}var Vr;!function(e){e.Line="line",e.Handle="handle"}(Vr||(Vr={}));function Wr(e,t){return Math.max(0,t-e)}function Kr(e,t){return Math.max(0,e-t)}function Yr(e,t,n){return Math.max(0,t-e,e-n)}function Gr(e,t){return e?!t:t}const qr={width:0,height:0,x:0,y:0},Ur={...qr,pointerX:0,pointerY:0,aspectRatio:1};function Xr(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,a=e.measured.width??0,i=e.measured.height??0,s=n[0]*a,l=n[1]*i;return[[r-s,o-l],[r+a-s,o+i-l]]}function Jr({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const a=ve(e);return{update:function({controlPosition:e,boundaries:i,keepAspectRatio:s,resizeDirection:l,onResizeStart:c,onResize:u,onResizeEnd:d,shouldResize:f}){let p={...qr},g={...Ur};const m=function(e){return{isHorizontal:e.includes("right")||e.includes("left"),isVertical:e.includes("bottom")||e.includes("top"),affectsX:e.includes("left"),affectsY:e.includes("top")}}(e);let h,v,y,b,x=null,_=[];const w=Pe().on("start",(e=>{const{nodeLookup:r,transform:o,snapGrid:a,snapToGrid:i,nodeOrigin:s,paneDomNode:l}=n();if(h=r.get(t),!h)return;x=l?.getBoundingClientRect()??null;const{xSnapped:u,ySnapped:d}=Fn(e.sourceEvent,{transform:o,snapGrid:a,snapToGrid:i,containerBounds:x});p={width:h.measured.width??0,height:h.measured.height??0,x:h.position.x??0,y:h.position.y??0},g={...p,pointerX:u,pointerY:d,aspectRatio:p.width/p.height},v=void 0,h.parentId&&("parent"===h.extent||h.expandParent)&&(v=r.get(h.parentId),y=v&&"parent"===h.extent?function(e){return[[0,0],[e.measured.width,e.measured.height]]}(v):void 0),_=[],b=void 0;for(const[e,n]of r)if(n.parentId===t&&(_.push({id:e,position:{...n.position},extent:n.extent}),"parent"===n.extent||n.expandParent)){const e=Xr(n,h,n.origin??s);b=b?[[Math.min(e[0][0],b[0][0]),Math.min(e[0][1],b[0][1])],[Math.max(e[1][0],b[1][0]),Math.max(e[1][1],b[1][1])]]:e}c?.(e,{...p})})).on("drag",(e=>{const{transform:t,snapGrid:o,snapToGrid:a,nodeOrigin:c}=n(),d=Fn(e.sourceEvent,{transform:t,snapGrid:o,snapToGrid:a,containerBounds:x}),w=[];if(!h)return;const{x:k,y:C,width:S,height:N}=p,E={},j=h.origin??c,{width:I,height:M,x:P,y:T}=function(e,t,n,r,o,a,i,s){let{affectsX:l,affectsY:c}=t;const{isHorizontal:u,isVertical:d}=t,f=u&&d,{xSnapped:p,ySnapped:g}=n,{minWidth:m,maxWidth:h,minHeight:v,maxHeight:y}=r,{x:b,y:x,width:_,height:w,aspectRatio:k}=e;let C=Math.floor(u?p-e.pointerX:0),S=Math.floor(d?g-e.pointerY:0);const N=_+(l?-C:C),E=w+(c?-S:S),j=-a[0]*_,I=-a[1]*w;let M=Yr(N,m,h),P=Yr(E,v,y);if(i){let e=0,t=0;l&&C<0?e=Wr(b+C+j,i[0][0]):!l&&C>0&&(e=Kr(b+N+j,i[1][0])),c&&S<0?t=Wr(x+S+I,i[0][1]):!c&&S>0&&(t=Kr(x+E+I,i[1][1])),M=Math.max(M,e),P=Math.max(P,t)}if(s){let e=0,t=0;l&&C>0?e=Kr(b+C,s[0][0]):!l&&C<0&&(e=Wr(b+N,s[1][0])),c&&S>0?t=Kr(x+S,s[0][1]):!c&&S<0&&(t=Wr(x+E,s[1][1])),M=Math.max(M,e),P=Math.max(P,t)}if(o){if(u){const e=Yr(N/k,v,y)*k;if(M=Math.max(M,e),i){let e=0;e=!l&&!c||l&&!c&&f?Kr(x+I+N/k,i[1][1])*k:Wr(x+I+(l?C:-C)/k,i[0][1])*k,M=Math.max(M,e)}if(s){let e=0;e=!l&&!c||l&&!c&&f?Wr(x+N/k,s[1][1])*k:Kr(x+(l?C:-C)/k,s[0][1])*k,M=Math.max(M,e)}}if(d){const e=Yr(E*k,m,h)/k;if(P=Math.max(P,e),i){let e=0;e=!l&&!c||c&&!l&&f?Kr(b+E*k+j,i[1][0])/k:Wr(b+(c?S:-S)*k+j,i[0][0])/k,P=Math.max(P,e)}if(s){let e=0;e=!l&&!c||c&&!l&&f?Wr(b+E*k,s[1][0])/k:Kr(b+(c?S:-S)*k,s[0][0])/k,P=Math.max(P,e)}}}S+=S<0?P:-P,C+=C<0?M:-M,o&&(f?N>E*k?S=(Gr(l,c)?-C:C)/k:C=(Gr(l,c)?-S:S)*k:u?(S=C/k,c=l):(C=S*k,l=c));const T=l?b+C:b,O=c?x+S:x;return{width:_+(l?-C:C),height:w+(c?-S:S),x:a[0]*C*(l?-1:1)+T,y:a[1]*S*(c?-1:1)+O}}(g,m,d,i,s,j,y,b),O=I!==S,D=M!==N,A=P!==k&&O,Z=T!==C&&D;if(!(A||Z||O||D))return;if((A||Z||1===j[0]||1===j[1])&&(E.x=A?P:p.x,E.y=Z?T:p.y,p.x=E.x,p.y=E.y,_.length>0)){const e=P-k,t=T-C;for(const n of _)n.position={x:n.position.x-e+j[0]*(I-S),y:n.position.y-t+j[1]*(M-N)},w.push(n)}if((O||D)&&(E.width=!O||l&&"horizontal"!==l?p.width:I,E.height=!D||l&&"vertical"!==l?p.height:M,p.width=E.width,p.height=E.height),v&&h.expandParent){const e=j[0]*(E.width??0);E.x&&E.x<e&&(p.x=e,g.x=g.x-(E.x-e));const t=j[1]*(E.height??0);E.y&&E.y<t&&(p.y=t,g.y=g.y-(E.y-t))}const R=function({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:a}){const i=e-t,s=n-r,l=[i>0?1:i<0?-1:0,s>0?1:s<0?-1:0];return i&&o&&(l[0]=-1*l[0]),s&&a&&(l[1]=-1*l[1]),l}({width:p.width,prevWidth:S,height:p.height,prevHeight:N,affectsX:m.affectsX,affectsY:m.affectsY}),F={...p,direction:R},z=f?.(e,F);!1!==z&&(u?.(e,F),r(E,w))})).on("end",(e=>{d?.(e,{...p}),o?.({...p})}));a.call(w)},destroy:function(){a.on(".drag",null)}}}},47221:function(e,t,n){"use strict";n.d(t,{Z:function(){return Y}});var r=n(67294),o=n(90814),a=n(93967),i=n.n(a),s=n(87462),l=n(74902),c=n(97685),u=n(71002),d=n(21770),f=n(80334),p=n(45987),g=n(50344),m=n(1413),h=n(4942),v=n(29372),y=n(15105),b=r.forwardRef((function(e,t){var n=e.prefixCls,o=e.forceRender,a=e.className,s=e.style,l=e.children,u=e.isActive,d=e.role,f=e.classNames,p=e.styles,g=r.useState(u||o),m=(0,c.Z)(g,2),v=m[0],y=m[1];return r.useEffect((function(){(o||u)&&y(!0)}),[o,u]),v?r.createElement("div",{ref:t,className:i()("".concat(n,"-content"),(0,h.Z)((0,h.Z)({},"".concat(n,"-content-active"),u),"".concat(n,"-content-inactive"),!u),a),style:s,role:d},r.createElement("div",{className:i()("".concat(n,"-content-box"),null==f?void 0:f.body),style:null==p?void 0:p.body},l)):null}));b.displayName="PanelContent";var x=b,_=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],w=r.forwardRef((function(e,t){var n=e.showArrow,o=void 0===n||n,a=e.headerClass,l=e.isActive,c=e.onItemClick,u=e.forceRender,d=e.className,f=e.classNames,g=void 0===f?{}:f,b=e.styles,w=void 0===b?{}:b,k=e.prefixCls,C=e.collapsible,S=e.accordion,N=e.panelKey,E=e.extra,j=e.header,I=e.expandIcon,M=e.openMotion,P=e.destroyInactivePanel,T=e.children,O=(0,p.Z)(e,_),D="disabled"===C,A=null!=E&&"boolean"!=typeof E,Z=(0,h.Z)((0,h.Z)((0,h.Z)({onClick:function(){null==c||c(N)},onKeyDown:function(e){"Enter"!==e.key&&e.keyCode!==y.Z.ENTER&&e.which!==y.Z.ENTER||null==c||c(N)},role:S?"tab":"button"},"aria-expanded",l),"aria-disabled",D),"tabIndex",D?-1:0),R="function"==typeof I?I(e):r.createElement("i",{className:"arrow"}),F=R&&r.createElement("div",(0,s.Z)({className:"".concat(k,"-expand-icon")},["header","icon"].includes(C)?Z:{}),R),z=i()("".concat(k,"-item"),(0,h.Z)((0,h.Z)({},"".concat(k,"-item-active"),l),"".concat(k,"-item-disabled"),D),d),L=i()(a,"".concat(k,"-header"),(0,h.Z)({},"".concat(k,"-collapsible-").concat(C),!!C),g.header),B=(0,m.Z)({className:L,style:w.header},["header","icon"].includes(C)?{}:Z);return r.createElement("div",(0,s.Z)({},O,{ref:t,className:z}),r.createElement("div",B,o&&F,r.createElement("span",(0,s.Z)({className:"".concat(k,"-header-text")},"header"===C?Z:{}),j),A&&r.createElement("div",{className:"".concat(k,"-extra")},E)),r.createElement(v.ZP,(0,s.Z)({visible:l,leavedClassName:"".concat(k,"-content-hidden")},M,{forceRender:u,removeOnLeave:P}),(function(e,t){var n=e.className,o=e.style;return r.createElement(x,{ref:t,prefixCls:k,className:n,classNames:g,style:o,styles:w,isActive:l,forceRender:u,role:S?"tabpanel":void 0},T)})))})),k=["children","label","key","collapsible","onItemClick","destroyInactivePanel"];var C=function(e,t,n){return Array.isArray(e)?function(e,t){var n=t.prefixCls,o=t.accordion,a=t.collapsible,i=t.destroyInactivePanel,l=t.onItemClick,c=t.activeKey,u=t.openMotion,d=t.expandIcon;return e.map((function(e,t){var f=e.children,g=e.label,m=e.key,h=e.collapsible,v=e.onItemClick,y=e.destroyInactivePanel,b=(0,p.Z)(e,k),x=String(null!=m?m:t),_=null!=h?h:a,C=null!=y?y:i,S=!1;return S=o?c[0]===x:c.indexOf(x)>-1,r.createElement(w,(0,s.Z)({},b,{prefixCls:n,key:x,panelKey:x,isActive:S,accordion:o,openMotion:u,expandIcon:d,header:g,collapsible:_,onItemClick:function(e){"disabled"!==_&&(l(e),null==v||v(e))},destroyInactivePanel:C}),f)}))}(e,n):(0,g.Z)(t).map((function(e,t){return function(e,t,n){if(!e)return null;var o=n.prefixCls,a=n.accordion,i=n.collapsible,s=n.destroyInactivePanel,l=n.onItemClick,c=n.activeKey,u=n.openMotion,d=n.expandIcon,f=e.key||String(t),p=e.props,g=p.header,m=p.headerClass,h=p.destroyInactivePanel,v=p.collapsible,y=p.onItemClick,b=!1;b=a?c[0]===f:c.indexOf(f)>-1;var x=null!=v?v:i,_={key:f,panelKey:f,header:g,headerClass:m,isActive:b,prefixCls:o,destroyInactivePanel:null!=h?h:s,openMotion:u,accordion:a,children:e.props.children,onItemClick:function(e){"disabled"!==x&&(l(e),null==y||y(e))},expandIcon:d,collapsible:x};return"string"==typeof e.type?e:(Object.keys(_).forEach((function(e){void 0===_[e]&&delete _[e]})),r.cloneElement(e,_))}(e,t,n)}))},S=n(64217);function N(e){var t=e;if(!Array.isArray(t)){var n=(0,u.Z)(t);t="number"===n||"string"===n?[t]:[]}return t.map((function(e){return String(e)}))}var E=r.forwardRef((function(e,t){var n=e.prefixCls,o=void 0===n?"rc-collapse":n,a=e.destroyInactivePanel,u=void 0!==a&&a,p=e.style,g=e.accordion,m=e.className,h=e.children,v=e.collapsible,y=e.openMotion,b=e.expandIcon,x=e.activeKey,_=e.defaultActiveKey,w=e.onChange,k=e.items,E=i()(o,m),j=(0,d.Z)([],{value:x,onChange:function(e){return null==w?void 0:w(e)},defaultValue:_,postState:N}),I=(0,c.Z)(j,2),M=I[0],P=I[1];(0,f.ZP)(!h,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var T=C(k,h,{prefixCls:o,accordion:g,openMotion:y,expandIcon:b,collapsible:v,destroyInactivePanel:u,onItemClick:function(e){return P((function(){return g?M[0]===e?[]:[e]:M.indexOf(e)>-1?M.filter((function(t){return t!==e})):[].concat((0,l.Z)(M),[e])}))},activeKey:M});return r.createElement("div",(0,s.Z)({ref:t,className:E,style:p,role:g?"tablist":void 0},(0,S.Z)(e,{aria:!0,data:!0})),T)})),j=Object.assign(E,{Panel:w}),I=j,M=(j.Panel,n(98423)),P=n(33603),T=n(96159),O=n(53124),D=n(98675);var A=r.forwardRef(((e,t)=>{const{getPrefixCls:n}=r.useContext(O.E_),{prefixCls:o,className:a,showArrow:s=!0}=e,l=n("collapse",o),c=i()({[`${l}-no-arrow`]:!s},a);return r.createElement(I.Panel,Object.assign({ref:t},e,{prefixCls:l,className:c}))})),Z=n(11568),R=n(14747),F=n(33507),z=n(83559),L=n(83262);const B=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:o,headerPadding:a,collapseHeaderPaddingSM:i,collapseHeaderPaddingLG:s,collapsePanelBorderRadius:l,lineWidth:c,lineType:u,colorBorder:d,colorText:f,colorTextHeading:p,colorTextDisabled:g,fontSizeLG:m,lineHeight:h,lineHeightLG:v,marginSM:y,paddingSM:b,paddingLG:x,paddingXS:_,motionDurationSlow:w,fontSizeIcon:k,contentPadding:C,fontHeight:S,fontHeightLG:N}=e,E=`${(0,Z.bf)(c)} ${u} ${d}`;return{[t]:Object.assign(Object.assign({},(0,R.Wf)(e)),{backgroundColor:o,border:E,borderRadius:l,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:E,"&:first-child":{[`\n            &,\n            & > ${t}-header`]:{borderRadius:`${(0,Z.bf)(l)} ${(0,Z.bf)(l)} 0 0`}},"&:last-child":{[`\n            &,\n            & > ${t}-header`]:{borderRadius:`0 0 ${(0,Z.bf)(l)} ${(0,Z.bf)(l)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:a,color:p,lineHeight:h,cursor:"pointer",transition:`all ${w}, visibility 0s`},(0,R.Qy)(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:S,display:"flex",alignItems:"center",paddingInlineEnd:y},[`${t}-arrow`]:Object.assign(Object.assign({},(0,R.Ro)()),{fontSize:k,transition:`transform ${w}`,svg:{transition:`transform ${w}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:f,backgroundColor:n,borderTop:E,[`& > ${t}-content-box`]:{padding:C},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:i,paddingInlineStart:_,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(b).sub(_).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:b}}},"&-large":{[`> ${t}-item`]:{fontSize:m,lineHeight:v,[`> ${t}-header`]:{padding:s,paddingInlineStart:r,[`> ${t}-expand-icon`]:{height:N,marginInlineStart:e.calc(x).sub(r).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:x}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${(0,Z.bf)(l)} ${(0,Z.bf)(l)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:g,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:y}}}}})}},$=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},H=e=>{const{componentCls:t,headerBg:n,paddingXXS:r,colorBorder:o}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${o}`},[`\n        > ${t}-item:last-child,\n        > ${t}-item:last-child ${t}-header\n      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{paddingTop:r}}}},V=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}};var W=(0,z.I$)("Collapse",(e=>{const t=(0,L.IX)(e,{collapseHeaderPaddingSM:`${(0,Z.bf)(e.paddingXS)} ${(0,Z.bf)(e.paddingSM)}`,collapseHeaderPaddingLG:`${(0,Z.bf)(e.padding)} ${(0,Z.bf)(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[B(t),H(t),V(t),$(t),(0,F.Z)(t)]}),(e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer})));const K=r.forwardRef(((e,t)=>{const{getPrefixCls:n,direction:a,expandIcon:s,className:l,style:c}=(0,O.dj)("collapse"),{prefixCls:u,className:d,rootClassName:f,style:p,bordered:m=!0,ghost:h,size:v,expandIconPosition:y="start",children:b,expandIcon:x}=e,_=(0,D.Z)((e=>{var t;return null!==(t=null!=v?v:e)&&void 0!==t?t:"middle"})),w=n("collapse",u),k=n(),[C,S,N]=W(w);const E=r.useMemo((()=>"left"===y?"start":"right"===y?"end":y),[y]),j=null!=x?x:s,A=r.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="function"==typeof j?j(e):r.createElement(o.Z,{rotate:e.isActive?"rtl"===a?-90:90:void 0,"aria-label":e.isActive?"expanded":"collapsed"});return(0,T.Tm)(t,(()=>{var e;return{className:i()(null===(e=null==t?void 0:t.props)||void 0===e?void 0:e.className,`${w}-arrow`)}}))}),[j,w]),Z=i()(`${w}-icon-position-${E}`,{[`${w}-borderless`]:!m,[`${w}-rtl`]:"rtl"===a,[`${w}-ghost`]:!!h,[`${w}-${_}`]:"middle"!==_},l,d,f,S,N),R=Object.assign(Object.assign({},(0,P.Z)(k)),{motionAppear:!1,leavedClassName:`${w}-content-hidden`}),F=r.useMemo((()=>b?(0,g.Z)(b).map(((e,t)=>{var n,r;const o=e.props;if(null==o?void 0:o.disabled){const a=null!==(n=e.key)&&void 0!==n?n:String(t),i=Object.assign(Object.assign({},(0,M.Z)(e.props,["disabled"])),{key:a,collapsible:null!==(r=o.collapsible)&&void 0!==r?r:"disabled"});return(0,T.Tm)(e,i)}return e})):null),[b]);return C(r.createElement(I,Object.assign({ref:t,openMotion:R},(0,M.Z)(e,["rootClassName"]),{expandIcon:A,prefixCls:w,className:Z,style:Object.assign(Object.assign({},c),p)}),F))}));var Y=Object.assign(K,{Panel:A})},4638:function(e,t,n){"use strict";n.d(t,{Z:function(){return er}});var r=n(27484),o=n.n(r),a=n(6833),i=n.n(a),s=n(96036),l=n.n(s),c=n(55183),u=n.n(c),d=n(172),f=n.n(d),p=n(28734),g=n.n(p),m=n(10285),h=n.n(m);o().extend(h()),o().extend(g()),o().extend(i()),o().extend(l()),o().extend(u()),o().extend(f()),o().extend((function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=(e||"").replace("Wo","wo");return r.bind(this)(t)}}));var v={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},y=function(e){return v[e]||e.split("_")[0]},b={getNow:function(){var e=o()();return"function"==typeof e.tz?e.tz():e},getFixedDate:function(e){return o()(e,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(e){return e.endOf("month")},getWeekDay:function(e){var t=e.locale("en");return t.weekday()+t.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},getMillisecond:function(e){return e.millisecond()},addYear:function(e,t){return e.add(t,"year")},addMonth:function(e,t){return e.add(t,"month")},addDate:function(e,t){return e.add(t,"day")},setYear:function(e,t){return e.year(t)},setMonth:function(e,t){return e.month(t)},setDate:function(e,t){return e.date(t)},setHour:function(e,t){return e.hour(t)},setMinute:function(e,t){return e.minute(t)},setSecond:function(e,t){return e.second(t)},setMillisecond:function(e,t){return e.millisecond(t)},isAfter:function(e,t){return e.isAfter(t)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return o()().locale(y(e)).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,t){return t.locale(y(e)).weekday(0)},getWeek:function(e,t){return t.locale(y(e)).week()},getShortWeekDays:function(e){return o()().locale(y(e)).localeData().weekdaysMin()},getShortMonths:function(e){return o()().locale(y(e)).localeData().monthsShort()},format:function(e,t,n){return t.locale(y(e)).format(n)},parse:function(e,t,n){for(var r=y(e),a=0;a<n.length;a+=1){var i=n[a],s=t;if(i.includes("wo")||i.includes("Wo")){for(var l=s.split("-")[0],c=s.split("-")[1],u=o()(l,"YYYY").startOf("year").locale(r),d=0;d<=52;d+=1){var f=u.add(d,"week");if(f.format("Wo")===c)return f}return null}var p=o()(s,i,!0).locale(r);if(p.isValid())return p}return null}}},x=n(8745),_=n(67294),w=n(20841),k=n(87462),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},S=n(84089),N=function(e,t){return _.createElement(S.Z,(0,k.Z)({},e,{ref:t,icon:C}))};var E=_.forwardRef(N),j={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},I=function(e,t){return _.createElement(S.Z,(0,k.Z)({},e,{ref:t,icon:j}))};var M=_.forwardRef(I),P=n(93967),T=n.n(P),O=n(74902),D=n(1413),A=n(97685),Z=n(56790),R=n(8410),F=n(98423),z=n(64217),L=n(80334),B=n(4942),$=n(40228);var H=_.createContext(null),V={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};var W=function(e){var t=e.popupElement,n=e.popupStyle,r=e.popupClassName,o=e.popupAlign,a=e.transitionName,i=e.getPopupContainer,s=e.children,l=e.range,c=e.placement,u=e.builtinPlacements,d=void 0===u?V:u,f=e.direction,p=e.visible,g=e.onClose,m=_.useContext(H).prefixCls,h="".concat(m,"-dropdown"),v=function(e,t){return void 0!==e?e:t?"bottomRight":"bottomLeft"}(c,"rtl"===f);return _.createElement($.Z,{showAction:[],hideAction:["click"],popupPlacement:v,builtinPlacements:d,prefixCls:h,popupTransitionName:a,popup:t,popupAlign:o,popupVisible:p,popupClassName:T()(r,(0,B.Z)((0,B.Z)({},"".concat(h,"-range"),l),"".concat(h,"-rtl"),"rtl"===f)),popupStyle:n,stretch:"minWidth",getPopupContainer:i,onPopupVisibleChange:function(e){e||g()}},s)};function K(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e);r.length<t;)r="".concat(n).concat(r);return r}function Y(e){return null==e?[]:Array.isArray(e)?e:[e]}function G(e,t,n){var r=(0,O.Z)(e);return r[t]=n,r}function q(e,t){var n={};return(t||Object.keys(e)).forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n}function U(e,t,n){if(n)return n;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function X(e,t,n){var r=void 0!==n?n:t[t.length-1],o=t.find((function(t){return e[t]}));return r!==o?e[o]:void 0}function J(e){return q(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function Q(e,t,n,r){var o=_.useMemo((function(){return e||function(e,r){var o=e;return t&&"date"===r.type?t(o,r.today):n&&"month"===r.type?n(o,r.locale):r.originNode}}),[e,n,t]);return _.useCallback((function(e,t){return o(e,(0,D.Z)((0,D.Z)({},t),{},{range:r}))}),[o,r])}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=_.useState([!1,!1]),o=(0,A.Z)(r,2),a=o[0],i=o[1];return[_.useMemo((function(){return a.map((function(r,o){if(r)return!0;var a=e[o];return!!a&&(!n[o]&&!a||!(!a||!t(a,{activeIndex:o})))}))}),[e,a,t,n]),function(e,t){i((function(n){return G(n,t,e)}))}]}function te(e,t,n,r,o){var a="",i=[];return e&&i.push(o?"hh":"HH"),t&&i.push("mm"),n&&i.push("ss"),a=i.join(":"),r&&(a+=".SSS"),o&&(a+=" A"),a}function ne(e,t){var n=t.showHour,r=t.showMinute,o=t.showSecond,a=t.showMillisecond,i=t.use12Hours;return _.useMemo((function(){return function(e,t,n,r,o,a){var i=e.fieldDateTimeFormat,s=e.fieldDateFormat,l=e.fieldTimeFormat,c=e.fieldMonthFormat,u=e.fieldYearFormat,d=e.fieldWeekFormat,f=e.fieldQuarterFormat,p=e.yearFormat,g=e.cellYearFormat,m=e.cellQuarterFormat,h=e.dayFormat,v=e.cellDateFormat,y=te(t,n,r,o,a);return(0,D.Z)((0,D.Z)({},e),{},{fieldDateTimeFormat:i||"YYYY-MM-DD ".concat(y),fieldDateFormat:s||"YYYY-MM-DD",fieldTimeFormat:l||y,fieldMonthFormat:c||"YYYY-MM",fieldYearFormat:u||"YYYY",fieldWeekFormat:d||"gggg-wo",fieldQuarterFormat:f||"YYYY-[Q]Q",yearFormat:p||"YYYY",cellYearFormat:g||"YYYY",cellQuarterFormat:m||"[Q]Q",cellDateFormat:v||h||"D"})}(e,n,r,o,a,i)}),[e,n,r,o,a,i])}var re=n(71002);function oe(e,t,n){return null!=n?n:t.some((function(t){return e.includes(t)}))}var ae=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function ie(e){return e&&"string"==typeof e}function se(e,t,n,r){return[e,t,n,r].some((function(e){return void 0!==e}))}function le(e,t,n,r,o){var a=t,i=n,s=r;if(e||a||i||s||o){if(e){var l,c,u,d=[a,i,s].some((function(e){return!1===e})),f=[a,i,s].some((function(e){return!0===e})),p=!!d||!f;a=null!==(l=a)&&void 0!==l?l:p,i=null!==(c=i)&&void 0!==c?c:p,s=null!==(u=s)&&void 0!==u?u:p}}else a=!0,i=!0,s=!0;return[a,i,s,o]}function ce(e){var t=e.showTime,n=function(e){var t=q(e,ae),n=e.format,r=e.picker,o=null;return n&&(o=n,Array.isArray(o)&&(o=o[0]),o="object"===(0,re.Z)(o)?o.format:o),"time"===r&&(t.format=o),[t,o]}(e),r=(0,A.Z)(n,2),o=r[0],a=r[1],i=t&&"object"===(0,re.Z)(t)?t:{},s=(0,D.Z)((0,D.Z)({defaultOpenValue:i.defaultOpenValue||i.defaultValue},o),i),l=s.showMillisecond,c=s.showHour,u=s.showMinute,d=s.showSecond,f=le(se(c,u,d,l),c,u,d,l),p=(0,A.Z)(f,3);return c=p[0],u=p[1],d=p[2],[s,(0,D.Z)((0,D.Z)({},s),{},{showHour:c,showMinute:u,showSecond:d,showMillisecond:l}),s.format,a]}function ue(e,t,n,r,o){if("datetime"===e||"time"===e){for(var a=r,i=U(e,o,null),s=[t,n],l=0;l<s.length;l+=1){var c=Y(s[l])[0];if(ie(c)){i=c;break}}var u=a.showHour,d=a.showMinute,f=a.showSecond,p=a.showMillisecond,g=oe(i,["a","A","LT","LLL","LTS"],a.use12Hours),m=se(u,d,f,p);m||(u=oe(i,["H","h","k","LT","LLL"]),d=oe(i,["m","LT","LLL"]),f=oe(i,["s","LTS"]),p=oe(i,["SSS"]));var h=le(m,u,d,f,p),v=(0,A.Z)(h,3);u=v[0],d=v[1],f=v[2];var y=t||te(u,d,f,p,g);return(0,D.Z)((0,D.Z)({},a),{},{format:y,showHour:u,showMinute:d,showSecond:f,showMillisecond:p,use12Hours:g})}return null}function de(e,t,n){return!1===t?null:(t&&"object"===(0,re.Z)(t)?t:{}).clearIcon||n||_.createElement("span",{className:"".concat(e,"-clear-btn")})}function fe(e,t,n){return!e&&!t||e===t||!(!e||!t)&&n()}function pe(e,t,n){return fe(t,n,(function(){return Math.floor(e.getYear(t)/10)===Math.floor(e.getYear(n)/10)}))}function ge(e,t,n){return fe(t,n,(function(){return e.getYear(t)===e.getYear(n)}))}function me(e,t){return Math.floor(e.getMonth(t)/3)+1}function he(e,t,n){return fe(t,n,(function(){return ge(e,t,n)&&e.getMonth(t)===e.getMonth(n)}))}function ve(e,t,n){return fe(t,n,(function(){return ge(e,t,n)&&he(e,t,n)&&e.getDate(t)===e.getDate(n)}))}function ye(e,t,n){return fe(t,n,(function(){return e.getHour(t)===e.getHour(n)&&e.getMinute(t)===e.getMinute(n)&&e.getSecond(t)===e.getSecond(n)}))}function be(e,t,n){return fe(t,n,(function(){return ve(e,t,n)&&ye(e,t,n)&&e.getMillisecond(t)===e.getMillisecond(n)}))}function xe(e,t,n,r){return fe(n,r,(function(){var o=e.locale.getWeekFirstDate(t,n),a=e.locale.getWeekFirstDate(t,r);return ge(e,o,a)&&e.locale.getWeek(t,n)===e.locale.getWeek(t,r)}))}function _e(e,t,n,r,o){switch(o){case"date":return ve(e,n,r);case"week":return xe(e,t.locale,n,r);case"month":return he(e,n,r);case"quarter":return function(e,t,n){return fe(t,n,(function(){return ge(e,t,n)&&me(e,t)===me(e,n)}))}(e,n,r);case"year":return ge(e,n,r);case"decade":return pe(e,n,r);case"time":return ye(e,n,r);default:return be(e,n,r)}}function we(e,t,n,r){return!!(t&&n&&r)&&(e.isAfter(r,t)&&e.isAfter(n,r))}function ke(e,t,n,r,o){return!!_e(e,t,n,r,o)||e.isAfter(n,r)}function Ce(e,t){var n=t.generateConfig,r=t.locale,o=t.format;return e?"function"==typeof o?o(e):n.locale.format(r.locale,e,o):""}function Se(e,t,n){var r=t,o=["getHour","getMinute","getSecond","getMillisecond"];return["setHour","setMinute","setSecond","setMillisecond"].forEach((function(t,a){r=n?e[t](r,e[o[a]](n)):e[t](r,0)})),r}function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _.useMemo((function(){var n=e?Y(e):e;return t&&n&&(n[1]=n[1]||n[0]),n}),[e,t])}function Ee(e,t){var n=e.generateConfig,r=e.locale,o=e.picker,a=void 0===o?"date":o,i=e.prefixCls,s=void 0===i?"rc-picker":i,l=e.styles,c=void 0===l?{}:l,u=e.classNames,d=void 0===u?{}:u,f=e.order,p=void 0===f||f,g=e.components,m=void 0===g?{}:g,h=e.inputRender,v=e.allowClear,y=e.clearIcon,b=e.needConfirm,x=e.multiple,w=e.format,k=e.inputReadOnly,C=e.disabledDate,S=e.minDate,N=e.maxDate,E=e.showTime,j=e.value,I=e.defaultValue,M=e.pickerValue,P=e.defaultPickerValue,T=Ne(j),O=Ne(I),R=Ne(M),F=Ne(P),z="date"===a&&E?"datetime":a,L="time"===z||"datetime"===z,B=L||x,$=null!=b?b:L,H=ce(e),V=(0,A.Z)(H,4),W=V[0],K=V[1],G=V[2],q=V[3],X=ne(r,K),J=_.useMemo((function(){return ue(z,G,q,W,X)}),[z,G,q,W,X]);var Q=_.useMemo((function(){return(0,D.Z)((0,D.Z)({},e),{},{prefixCls:s,locale:X,picker:a,styles:c,classNames:d,order:p,components:(0,D.Z)({input:h},m),clearIcon:de(s,v,y),showTime:J,value:T,defaultValue:O,pickerValue:R,defaultPickerValue:F},null==t?void 0:t())}),[e]),ee=function(e,t,n){return _.useMemo((function(){var r=Y(U(e,t,n)),o=r[0],a="object"===(0,re.Z)(o)&&"mask"===o.type?o.format:null;return[r.map((function(e){return"string"==typeof e||"function"==typeof e?e:e.format})),a]}),[e,t,n])}(z,X,w),te=(0,A.Z)(ee,2),oe=te[0],ae=te[1],ie=function(e,t,n){return!("function"!=typeof e[0]&&!n)||t}(oe,k,x),se=function(e,t,n,r,o){return(0,Z.zX)((function(a,i){return!(!n||!n(a,i))||!(!r||!e.isAfter(r,a)||_e(e,t,r,a,i.type))||!(!o||!e.isAfter(a,o)||_e(e,t,o,a,i.type))}))}(n,r,C,S,N),le=function(e,t,n,r){return(0,Z.zX)((function(o,a){var i=(0,D.Z)({type:t},a);if(delete i.activeIndex,!e.isValidate(o)||n&&n(o,i))return!0;if(("date"===t||"time"===t)&&r){var s,l=a&&1===a.activeIndex?"end":"start",c=(null===(s=r.disabledTime)||void 0===s?void 0:s.call(r,o,l,{from:i.from}))||{},u=c.disabledHours,d=c.disabledMinutes,f=c.disabledSeconds,p=c.disabledMilliseconds,g=r.disabledHours,m=r.disabledMinutes,h=r.disabledSeconds,v=u||g,y=d||m,b=f||h,x=e.getHour(o),_=e.getMinute(o),w=e.getSecond(o),k=e.getMillisecond(o);if(v&&v().includes(x))return!0;if(y&&y(x).includes(_))return!0;if(b&&b(x,_).includes(w))return!0;if(p&&p(x,_,w).includes(k))return!0}return!1}))}(n,a,se,J);return[_.useMemo((function(){return(0,D.Z)((0,D.Z)({},Q),{},{needConfirm:$,inputReadOnly:ie,disabledDate:se})}),[Q,$,ie,se]),z,B,oe,ae,le]}var je=n(75164);function Ie(e,t){var n,r,o,a,i,s,l,c,u,d,f,p,g=arguments.length>3?arguments[3]:void 0,m=!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]).every((function(e){return e}))&&e,h=(n=m,r=t||!1,o=g,a=(0,Z.C8)(r,{value:n}),i=(0,A.Z)(a,2),s=i[0],l=i[1],c=_.useRef(n),u=_.useRef(),d=function(){je.Z.cancel(u.current)},f=(0,Z.zX)((function(){l(c.current),o&&s!==c.current&&o(c.current)})),p=(0,Z.zX)((function(e,t){d(),c.current=e,e||t?f():u.current=(0,je.Z)(f)})),_.useEffect((function(){return d}),[]),[s,p]),v=(0,A.Z)(h,2),y=v[0],b=v[1];return[y,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.inherit&&!y||b(e,t.force)}]}function Me(e){var t=_.useRef();return _.useImperativeHandle(e,(function(){var e;return{nativeElement:null===(e=t.current)||void 0===e?void 0:e.nativeElement,focus:function(e){var n;null===(n=t.current)||void 0===n||n.focus(e)},blur:function(){var e;null===(e=t.current)||void 0===e||e.blur()}}})),t}function Pe(e,t){return _.useMemo((function(){return e||(t?((0,L.ZP)(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(t).map((function(e){var t=(0,A.Z)(e,2);return{label:t[0],value:t[1]}}))):[])}),[e,t])}function Te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=_.useRef(t);r.current=t,(0,R.o)((function(){if(!e){var t=(0,je.Z)((function(){r.current(e)}),n);return function(){je.Z.cancel(t)}}r.current(e)}),[e])}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_.useState(0),o=(0,A.Z)(r,2),a=o[0],i=o[1],s=_.useState(!1),l=(0,A.Z)(s,2),c=l[0],u=l[1],d=_.useRef([]),f=_.useRef(null),p=_.useRef(null),g=function(e){f.current=e};return Te(c||n,(function(){c||(d.current=[],g(null))})),_.useEffect((function(){c&&d.current.push(a)}),[c,a]),[c,function(e){u(e)},function(e){return e&&(p.current=e),p.current},a,i,function(n){var r=d.current,o=new Set(r.filter((function(e){return n[e]||t[e]}))),a=0===r[r.length-1]?1:0;return o.size>=2||e[a]?null:a},d.current,g,function(e){return f.current===e}]}function De(e,t,n,r){switch(t){case"date":case"week":return e.addMonth(n,r);case"month":case"quarter":return e.addYear(n,r);case"year":return e.addYear(n,10*r);case"decade":return e.addYear(n,100*r);default:return n}}var Ae=[];function Ze(e,t,n,r,o,a,i,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Ae,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Ae,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:Ae,d=arguments.length>11?arguments[11]:void 0,f=arguments.length>12?arguments[12]:void 0,p=arguments.length>13?arguments[13]:void 0,g="time"===i,m=a||0,h=function(t){var r=e.getNow();return g&&(r=Se(e,r)),l[t]||n[t]||r},v=(0,A.Z)(c,2),y=v[0],b=v[1],x=(0,Z.C8)((function(){return h(0)}),{value:y}),w=(0,A.Z)(x,2),k=w[0],C=w[1],S=(0,Z.C8)((function(){return h(1)}),{value:b}),N=(0,A.Z)(S,2),E=N[0],j=N[1],I=_.useMemo((function(){var t=[k,E][m];return g?t:Se(e,t,u[m])}),[g,k,E,m,e,u]),M=function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"panel";(0,[C,j][m])(n);var a=[k,E];a[m]=n,!d||_e(e,t,k,a[0],i)&&_e(e,t,E,a[1],i)||d(a,{source:o,range:1===m?"end":"start",mode:r})},P=_.useRef(null);return(0,R.Z)((function(){if(o&&!l[m]){var r=g?null:e.getNow();if(null!==P.current&&P.current!==m?r=[k,E][1^m]:n[m]?r=0===m?n[0]:function(n,r){if(s){var o={date:"month",week:"month",month:"year",quarter:"year"}[i];if(o&&!_e(e,t,n,r,o))return De(e,i,r,-1);if("year"===i&&n&&Math.floor(e.getYear(n)/10)!==Math.floor(e.getYear(r)/10))return De(e,i,r,-1)}return r}(n[0],n[1]):n[1^m]&&(r=n[1^m]),r){f&&e.isAfter(f,r)&&(r=f);var a=s?De(e,i,r,1):r;p&&e.isAfter(a,p)&&(r=s?De(e,i,p,-1):p),M(r,"reset")}}}),[o,m,n[m]]),_.useEffect((function(){P.current=o?m:null}),[o,m]),(0,R.Z)((function(){o&&l&&l[m]&&M(l[m],"reset")}),[o,m]),[I,M]}function Re(e,t){var n=_.useRef(e),r=_.useState({}),o=(0,A.Z)(r,2)[1],a=function(e){return e&&void 0!==t?t:n.current};return[a,function(e){n.current=e,o({})},a(!0)]}var Fe=[];function ze(e,t,n){return[function(r){return r.map((function(r){return Ce(r,{generateConfig:e,locale:t,format:n[0]})}))},function(t,n){for(var r=Math.max(t.length,n.length),o=-1,a=0;a<r;a+=1){var i=t[a]||null,s=n[a]||null;if(i!==s&&!be(e,i,s)){o=a;break}}return[o<0,0!==o]}]}function Le(e,t){return(0,O.Z)(e).sort((function(e,n){return t.isAfter(e,n)?1:-1}))}function Be(e,t,n,r,o,a,i,s,l){var c=(0,Z.C8)(a,{value:i}),u=(0,A.Z)(c,2),d=u[0],f=u[1],p=d||Fe,g=function(e){var t=Re(e),n=(0,A.Z)(t,2),r=n[0],o=n[1],a=(0,Z.zX)((function(){o(e)}));return _.useEffect((function(){a()}),[e]),[r,o]}(p),m=(0,A.Z)(g,2),h=m[0],v=m[1],y=ze(e,t,n),b=(0,A.Z)(y,2),x=b[0],w=b[1],k=(0,Z.zX)((function(t){var n=(0,O.Z)(t);if(r)for(var a=0;a<2;a+=1)n[a]=n[a]||null;else o&&(n=Le(n.filter((function(e){return e})),e));var i=w(h(),n),l=(0,A.Z)(i,2),c=l[0],u=l[1];if(!c&&(v(n),s)){var d=x(n);s(n,d,{range:u?"end":"start"})}}));return[p,f,h,k,function(){l&&l(h())}]}function $e(e,t,n,r,o,a,i,s,l,c){var u=e.generateConfig,d=e.locale,f=e.picker,p=e.onChange,g=e.allowEmpty,m=e.order,h=!a.some((function(e){return e}))&&m,v=ze(u,d,i),y=(0,A.Z)(v,2),b=y[0],x=y[1],w=Re(t),k=(0,A.Z)(w,2),C=k[0],S=k[1],N=(0,Z.zX)((function(){S(t)}));_.useEffect((function(){N()}),[t]);var E=(0,Z.zX)((function(e){var r=null===e,i=(0,O.Z)(e||C());if(r)for(var s=Math.max(a.length,i.length),l=0;l<s;l+=1)a[l]||(i[l]=null);h&&i[0]&&i[1]&&(i=Le(i,u)),o(i);var v=i,y=(0,A.Z)(v,2),_=y[0],w=y[1],k=!_,S=!w,N=!g||(!k||g[0])&&(!S||g[1]),E=!m||k||S||_e(u,d,_,w,f)||u.isAfter(w,_),j=(a[0]||!_||!c(_,{activeIndex:0}))&&(a[1]||!w||!c(w,{from:_,activeIndex:1})),I=r||N&&E&&j;if(I){n(i);var M=x(i,t),P=(0,A.Z)(M,1)[0];p&&!P&&p(r&&i.every((function(e){return!e}))?null:i,b(i))}return I})),j=(0,Z.zX)((function(e,t){var n=G(C(),e,r()[e]);S(n),t&&E()})),I=!s&&!l;return Te(!I,(function(){I&&(E(),o(t),N())}),2),[j,E]}function He(e,t,n,r,o){return("date"===t||"time"===t)&&(void 0!==n?n:void 0!==r?r:!o&&("date"===e||"time"===e))}var Ve=n(9220);function We(){return[]}function Ke(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,i=[],s=n>=1?0|n:1,l=e;l<=t;l+=s){var c=o.includes(l);c&&r||i.push({label:K(l,a),value:l,disabled:c})}return i}function Ye(e){var t=arguments.length>2?arguments[2]:void 0,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})||{},r=n.use12Hours,o=n.hourStep,a=void 0===o?1:o,i=n.minuteStep,s=void 0===i?1:i,l=n.secondStep,c=void 0===l?1:l,u=n.millisecondStep,d=void 0===u?100:u,f=n.hideDisabledOptions,p=n.disabledTime,g=n.disabledHours,m=n.disabledMinutes,h=n.disabledSeconds,v=_.useMemo((function(){return t||e.getNow()}),[t,e]),y=_.useCallback((function(e){var t=(null==p?void 0:p(e))||{};return[t.disabledHours||g||We,t.disabledMinutes||m||We,t.disabledSeconds||h||We,t.disabledMilliseconds||We]}),[p,g,m,h]),b=_.useMemo((function(){return y(v)}),[v,y]),x=(0,A.Z)(b,4),w=x[0],k=x[1],C=x[2],S=x[3],N=_.useCallback((function(e,t,n,o){var i=Ke(0,23,a,f,e());return[r?i.map((function(e){return(0,D.Z)((0,D.Z)({},e),{},{label:K(e.value%12||12,2)})})):i,function(e){return Ke(0,59,s,f,t(e))},function(e,t){return Ke(0,59,c,f,n(e,t))},function(e,t,n){return Ke(0,999,d,f,o(e,t,n),3)}]}),[f,a,r,d,s,c]),E=_.useMemo((function(){return N(w,k,C,S)}),[N,w,k,C,S]),j=(0,A.Z)(E,4),I=j[0],M=j[1],P=j[2],T=j[3];return[function(t,n){var r=function(){return I},o=M,a=P,i=T;if(n){var s=y(n),l=(0,A.Z)(s,4),c=l[0],u=l[1],d=l[2],f=l[3],p=N(c,u,d,f),g=(0,A.Z)(p,4),m=g[0];r=function(){return m},o=g[1],a=g[2],i=g[3]}var h=function(e,t,n,r,o,a){var i=e;function s(e,t,n){var r=a[e](i),o=n.find((function(e){return e.value===r}));if(!o||o.disabled){var s=n.filter((function(e){return!e.disabled})),l=(0,O.Z)(s).reverse().find((function(e){return e.value<=r}))||s[0];l&&(r=l.value,i=a[t](i,r))}return r}var l=s("getHour","setHour",t()),c=s("getMinute","setMinute",n(l)),u=s("getSecond","setSecond",r(l,c));return s("getMillisecond","setMillisecond",o(l,c,u)),i}(t,r,o,a,i,e);return h},I,M,P,T]}function Ge(e){var t=e.mode,n=e.internalMode,r=e.renderExtraFooter,o=e.showNow,a=e.showTime,i=e.onSubmit,s=e.onNow,l=e.invalid,c=e.needConfirm,u=e.generateConfig,d=e.disabledDate,f=_.useContext(H),p=f.prefixCls,g=f.locale,m=f.button,h=void 0===m?"button":m,v=u.getNow(),y=Ye(u,a,v),b=(0,A.Z)(y,1)[0],x=null==r?void 0:r(t),w=d(v,{type:t}),k="".concat(p,"-now"),C="".concat(k,"-btn"),S=o&&_.createElement("li",{className:k},_.createElement("a",{className:T()(C,w&&"".concat(C,"-disabled")),"aria-disabled":w,onClick:function(){if(!w){var e=b(v);s(e)}}},"date"===n?g.today:g.now)),N=c&&_.createElement("li",{className:"".concat(p,"-ok")},_.createElement(h,{disabled:l,onClick:i},g.ok)),E=(S||N)&&_.createElement("ul",{className:"".concat(p,"-ranges")},S,N);return x||E?_.createElement("div",{className:"".concat(p,"-footer")},x&&_.createElement("div",{className:"".concat(p,"-footer-extra")},x),E):null}function qe(e,t,n){return function(r,o){var a=r.findIndex((function(r){return _e(e,t,r,o,n)}));if(-1===a)return[].concat((0,O.Z)(r),[o]);var i=(0,O.Z)(r);return i.splice(a,1),i}}var Ue=_.createContext(null);function Xe(){return _.useContext(Ue)}function Je(e,t){var n=e.prefixCls,r=e.generateConfig,o=e.locale,a=e.disabledDate,i=e.minDate,s=e.maxDate,l=e.cellRender,c=e.hoverValue,u=e.hoverRangeValue,d=e.onHover,f=e.values,p=e.pickerValue,g=e.onSelect,m=e.prevIcon,h=e.nextIcon,v=e.superPrevIcon,y=e.superNextIcon,b=r.getNow();return[{now:b,values:f,pickerValue:p,prefixCls:n,disabledDate:a,minDate:i,maxDate:s,cellRender:l,hoverValue:c,hoverRangeValue:u,onHover:d,locale:o,generateConfig:r,onSelect:g,panelType:t,prevIcon:m,nextIcon:h,superPrevIcon:v,superNextIcon:y},b]}var Qe=_.createContext({});function et(e){for(var t=e.rowNum,n=e.colNum,r=e.baseDate,o=e.getCellDate,a=e.prefixColumn,i=e.rowClassName,s=e.titleFormat,l=e.getCellText,c=e.getCellClassName,u=e.headerCells,d=e.cellSelection,f=void 0===d||d,p=e.disabledDate,g=Xe(),m=g.prefixCls,h=g.panelType,v=g.now,y=g.disabledDate,b=g.cellRender,x=g.onHover,w=g.hoverValue,k=g.hoverRangeValue,C=g.generateConfig,S=g.values,N=g.locale,E=g.onSelect,j=p||y,I="".concat(m,"-cell"),M=_.useContext(Qe).onCellDblClick,P=[],O=0;O<t;O+=1){for(var Z=[],R=void 0,F=function(){var e=o(r,O*n+z),t=null==j?void 0:j(e,{type:h});0===z&&(R=e,a&&Z.push(a(R)));var i=!1,u=!1,d=!1;if(f&&k){var p=(0,A.Z)(k,2),g=p[0],y=p[1];i=we(C,g,y,e),u=_e(C,N,e,g,h),d=_e(C,N,e,y,h)}var P,F=s?Ce(e,{locale:N,format:s,generateConfig:C}):void 0,L=_.createElement("div",{className:"".concat(I,"-inner")},l(e));Z.push(_.createElement("td",{key:z,title:F,className:T()(I,(0,D.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(I,"-disabled"),t),"".concat(I,"-hover"),(w||[]).some((function(t){return _e(C,N,e,t,h)}))),"".concat(I,"-in-range"),i&&!u&&!d),"".concat(I,"-range-start"),u),"".concat(I,"-range-end"),d),"".concat(m,"-cell-selected"),!k&&"week"!==h&&(P=e,S.some((function(e){return e&&_e(C,N,P,e,h)})))),c(e))),onClick:function(){t||E(e)},onDoubleClick:function(){!t&&M&&M()},onMouseEnter:function(){t||null==x||x(e)},onMouseLeave:function(){t||null==x||x(null)}},b?b(e,{prefixCls:m,originNode:L,today:v,type:h,locale:N}):L))},z=0;z<n;z+=1)F();P.push(_.createElement("tr",{key:O,className:null==i?void 0:i(R)},Z))}return _.createElement("div",{className:"".concat(m,"-body")},_.createElement("table",{className:"".concat(m,"-content")},u&&_.createElement("thead",null,_.createElement("tr",null,u)),_.createElement("tbody",null,P)))}var tt={visibility:"hidden"};var nt=function(e){var t=e.offset,n=e.superOffset,r=e.onChange,o=e.getStart,a=e.getEnd,i=e.children,s=Xe(),l=s.prefixCls,c=s.prevIcon,u=void 0===c?"‹":c,d=s.nextIcon,f=void 0===d?"›":d,p=s.superPrevIcon,g=void 0===p?"«":p,m=s.superNextIcon,h=void 0===m?"»":m,v=s.minDate,y=s.maxDate,b=s.generateConfig,x=s.locale,w=s.pickerValue,k=s.panelType,C="".concat(l,"-header"),S=_.useContext(Qe),N=S.hidePrev,E=S.hideNext,j=S.hideHeader,I=_.useMemo((function(){if(!v||!t||!a)return!1;var e=a(t(-1,w));return!ke(b,x,e,v,k)}),[v,t,w,a,b,x,k]),M=_.useMemo((function(){if(!v||!n||!a)return!1;var e=a(n(-1,w));return!ke(b,x,e,v,k)}),[v,n,w,a,b,x,k]),P=_.useMemo((function(){if(!y||!t||!o)return!1;var e=o(t(1,w));return!ke(b,x,y,e,k)}),[y,t,w,o,b,x,k]),O=_.useMemo((function(){if(!y||!n||!o)return!1;var e=o(n(1,w));return!ke(b,x,y,e,k)}),[y,n,w,o,b,x,k]),D=function(e){t&&r(t(e,w))},A=function(e){n&&r(n(e,w))};if(j)return null;var Z="".concat(C,"-prev-btn"),R="".concat(C,"-next-btn"),F="".concat(C,"-super-prev-btn"),z="".concat(C,"-super-next-btn");return _.createElement("div",{className:C},n&&_.createElement("button",{type:"button","aria-label":x.previousYear,onClick:function(){return A(-1)},tabIndex:-1,className:T()(F,M&&"".concat(F,"-disabled")),disabled:M,style:N?tt:{}},g),t&&_.createElement("button",{type:"button","aria-label":x.previousMonth,onClick:function(){return D(-1)},tabIndex:-1,className:T()(Z,I&&"".concat(Z,"-disabled")),disabled:I,style:N?tt:{}},u),_.createElement("div",{className:"".concat(C,"-view")},i),t&&_.createElement("button",{type:"button","aria-label":x.nextMonth,onClick:function(){return D(1)},tabIndex:-1,className:T()(R,P&&"".concat(R,"-disabled")),disabled:P,style:E?tt:{}},f),n&&_.createElement("button",{type:"button","aria-label":x.nextYear,onClick:function(){return A(1)},tabIndex:-1,className:T()(z,O&&"".concat(z,"-disabled")),disabled:O,style:E?tt:{}},h))};function rt(e){var t=e.prefixCls,n=e.panelName,r=void 0===n?"date":n,o=e.locale,a=e.generateConfig,i=e.pickerValue,s=e.onPickerValueChange,l=e.onModeChange,c=e.mode,u=void 0===c?"date":c,d=e.disabledDate,f=e.onSelect,p=e.onHover,g=e.showWeek,m="".concat(t,"-").concat(r,"-panel"),h="".concat(t,"-cell"),v="week"===u,y=Je(e,u),b=(0,A.Z)(y,2),x=b[0],w=b[1],C=a.locale.getWeekFirstDay(o.locale),S=a.setDate(i,1),N=function(e,t,n){var r=t.locale.getWeekFirstDay(e),o=t.setDate(n,1),a=t.getWeekDay(o),i=t.addDate(o,r-a);return t.getMonth(i)===t.getMonth(n)&&t.getDate(i)>1&&(i=t.addDate(i,-7)),i}(o.locale,a,S),E=a.getMonth(i),j=(void 0===g?v:g)?function(e){var t=null==d?void 0:d(e,{type:"week"});return _.createElement("td",{key:"week",className:T()(h,"".concat(h,"-week"),(0,B.Z)({},"".concat(h,"-disabled"),t)),onClick:function(){t||f(e)},onMouseEnter:function(){t||null==p||p(e)},onMouseLeave:function(){t||null==p||p(null)}},_.createElement("div",{className:"".concat(h,"-inner")},a.locale.getWeek(o.locale,e)))}:null,I=[],M=o.shortWeekDays||(a.locale.getShortWeekDays?a.locale.getShortWeekDays(o.locale):[]);j&&I.push(_.createElement("th",{key:"empty"},_.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},o.week)));for(var P=0;P<7;P+=1)I.push(_.createElement("th",{key:P},M[(P+C)%7]));var O=o.shortMonths||(a.locale.getShortMonths?a.locale.getShortMonths(o.locale):[]),D=_.createElement("button",{type:"button","aria-label":o.yearSelect,key:"year",onClick:function(){l("year",i)},tabIndex:-1,className:"".concat(t,"-year-btn")},Ce(i,{locale:o,format:o.yearFormat,generateConfig:a})),Z=_.createElement("button",{type:"button","aria-label":o.monthSelect,key:"month",onClick:function(){l("month",i)},tabIndex:-1,className:"".concat(t,"-month-btn")},o.monthFormat?Ce(i,{locale:o,format:o.monthFormat,generateConfig:a}):O[E]),R=o.monthBeforeYear?[Z,D]:[D,Z];return _.createElement(Ue.Provider,{value:x},_.createElement("div",{className:T()(m,g&&"".concat(m,"-show-week"))},_.createElement(nt,{offset:function(e){return a.addMonth(i,e)},superOffset:function(e){return a.addYear(i,e)},onChange:s,getStart:function(e){return a.setDate(e,1)},getEnd:function(e){var t=a.setDate(e,1);return t=a.addMonth(t,1),a.addDate(t,-1)}},R),_.createElement(et,(0,k.Z)({titleFormat:o.fieldDateFormat},e,{colNum:7,rowNum:6,baseDate:N,headerCells:I,getCellDate:function(e,t){return a.addDate(e,t)},getCellText:function(e){return Ce(e,{locale:o,format:o.cellDateFormat,generateConfig:a})},getCellClassName:function(e){return(0,B.Z)((0,B.Z)({},"".concat(t,"-cell-in-view"),he(a,e,i)),"".concat(t,"-cell-today"),ve(a,e,w))},prefixColumn:j,cellSelection:!v}))))}var ot=n(5110),at=1/3;function it(e){return e.map((function(e){return[e.value,e.label,e.disabled].join(",")})).join(";")}function st(e){var t=e.units,n=e.value,r=e.optionalValue,o=e.type,a=e.onChange,i=e.onHover,s=e.onDblClick,l=e.changeOnScroll,c=Xe(),u=c.prefixCls,d=c.cellRender,f=c.now,p=c.locale,g="".concat(u,"-time-panel"),m="".concat(u,"-time-panel-cell"),h=_.useRef(null),v=_.useRef(),y=function(){clearTimeout(v.current)},b=function(e,t){var n=_.useRef(!1),r=_.useRef(null),o=_.useRef(null),a=function(){je.Z.cancel(r.current),n.current=!1},i=_.useRef();return[(0,Z.zX)((function(){var s=e.current;if(o.current=null,i.current=0,s){var l=s.querySelector('[data-value="'.concat(t,'"]')),c=s.querySelector("li");l&&c&&function e(){a(),n.current=!0,i.current+=1;var t=s.scrollTop,u=c.offsetTop,d=l.offsetTop,f=d-u;if(0===d&&l!==c||!(0,ot.Z)(s))i.current<=5&&(r.current=(0,je.Z)(e));else{var p=t+(f-t)*at,g=Math.abs(f-p);if(null!==o.current&&o.current<g)a();else{if(o.current=g,g<=1)return s.scrollTop=f,void a();s.scrollTop=p,r.current=(0,je.Z)(e)}}}()}})),a,function(){return n.current}]}(h,null!=n?n:r),x=(0,A.Z)(b,3),w=x[0],k=x[1],C=x[2];(0,R.Z)((function(){return w(),y(),function(){k(),y()}}),[n,r,it(t)]);var S="".concat(g,"-column");return _.createElement("ul",{className:S,ref:h,"data-type":o,onScroll:function(e){y();var n=e.target;!C()&&l&&(v.current=setTimeout((function(){var e=h.current,r=e.querySelector("li").offsetTop,o=Array.from(e.querySelectorAll("li")).map((function(e){return e.offsetTop-r})).map((function(e,r){return t[r].disabled?Number.MAX_SAFE_INTEGER:Math.abs(e-n.scrollTop)})),i=Math.min.apply(Math,(0,O.Z)(o)),s=o.findIndex((function(e){return e===i})),l=t[s];l&&!l.disabled&&a(l.value)}),300))}},t.map((function(e){var t=e.label,r=e.value,l=e.disabled,c=_.createElement("div",{className:"".concat(m,"-inner")},t);return _.createElement("li",{key:r,className:T()(m,(0,B.Z)((0,B.Z)({},"".concat(m,"-selected"),n===r),"".concat(m,"-disabled"),l)),onClick:function(){l||a(r)},onDoubleClick:function(){!l&&s&&s()},onMouseEnter:function(){i(r)},onMouseLeave:function(){i(null)},"data-value":r},d?d(r,{prefixCls:u,originNode:c,today:f,type:"time",subType:o,locale:p}):c)})))}function lt(e){return e<12}function ct(e){var t=e.showHour,n=e.showMinute,r=e.showSecond,o=e.showMillisecond,a=e.use12Hours,i=e.changeOnScroll,s=Xe(),l=s.prefixCls,c=s.values,u=s.generateConfig,d=s.locale,f=s.onSelect,p=s.onHover,g=void 0===p?function(){}:p,m=s.pickerValue,h=(null==c?void 0:c[0])||null,v=_.useContext(Qe).onCellDblClick,y=Ye(u,e,h),b=(0,A.Z)(y,5),x=b[0],w=b[1],C=b[2],S=b[3],N=b[4],E=function(e){return[h&&u[e](h),m&&u[e](m)]},j=E("getHour"),I=(0,A.Z)(j,2),M=I[0],P=I[1],T=E("getMinute"),O=(0,A.Z)(T,2),D=O[0],Z=O[1],R=E("getSecond"),F=(0,A.Z)(R,2),z=F[0],L=F[1],B=E("getMillisecond"),$=(0,A.Z)(B,2),H=$[0],V=$[1],W=null===M?null:lt(M)?"am":"pm",K=_.useMemo((function(){return a?lt(M)?w.filter((function(e){return lt(e.value)})):w.filter((function(e){return!lt(e.value)})):w}),[M,w,a]),Y=function(e,t){var n,r=e.filter((function(e){return!e.disabled}));return null!=t?t:null==r||null===(n=r[0])||void 0===n?void 0:n.value},G=Y(w,M),q=_.useMemo((function(){return C(G)}),[C,G]),U=Y(q,D),X=_.useMemo((function(){return S(G,U)}),[S,G,U]),J=Y(X,z),Q=_.useMemo((function(){return N(G,U,J)}),[N,G,U,J]),ee=Y(Q,H),te=_.useMemo((function(){if(!a)return[];var e=u.getNow(),t=u.setHour(e,6),n=u.setHour(e,18),r=function(e,t){var n=d.cellMeridiemFormat;return n?Ce(e,{generateConfig:u,locale:d,format:n}):t};return[{label:r(t,"AM"),value:"am",disabled:w.every((function(e){return e.disabled||!lt(e.value)}))},{label:r(n,"PM"),value:"pm",disabled:w.every((function(e){return e.disabled||lt(e.value)}))}]}),[w,a,u,d]),ne=function(e){var t=x(e);f(t)},re=_.useMemo((function(){var e=h||m||u.getNow(),t=function(e){return null!=e};return t(M)?(e=u.setHour(e,M),e=u.setMinute(e,D),e=u.setSecond(e,z),e=u.setMillisecond(e,H)):t(P)?(e=u.setHour(e,P),e=u.setMinute(e,Z),e=u.setSecond(e,L),e=u.setMillisecond(e,V)):t(G)&&(e=u.setHour(e,G),e=u.setMinute(e,U),e=u.setSecond(e,J),e=u.setMillisecond(e,ee)),e}),[h,m,M,D,z,H,G,U,J,ee,P,Z,L,V,u]),oe=function(e,t){return null===e?null:u[t](re,e)},ae=function(e){return oe(e,"setHour")},ie=function(e){return oe(e,"setMinute")},se=function(e){return oe(e,"setSecond")},le=function(e){return oe(e,"setMillisecond")},ce=function(e){return null===e?null:"am"!==e||lt(M)?"pm"===e&&lt(M)?u.setHour(re,M+12):re:u.setHour(re,M-12)},ue={onDblClick:v,changeOnScroll:i};return _.createElement("div",{className:"".concat(l,"-content")},t&&_.createElement(st,(0,k.Z)({units:K,value:M,optionalValue:P,type:"hour",onChange:function(e){ne(ae(e))},onHover:function(e){g(ae(e))}},ue)),n&&_.createElement(st,(0,k.Z)({units:q,value:D,optionalValue:Z,type:"minute",onChange:function(e){ne(ie(e))},onHover:function(e){g(ie(e))}},ue)),r&&_.createElement(st,(0,k.Z)({units:X,value:z,optionalValue:L,type:"second",onChange:function(e){ne(se(e))},onHover:function(e){g(se(e))}},ue)),o&&_.createElement(st,(0,k.Z)({units:Q,value:H,optionalValue:V,type:"millisecond",onChange:function(e){ne(le(e))},onHover:function(e){g(le(e))}},ue)),a&&_.createElement(st,(0,k.Z)({units:te,value:W,type:"meridiem",onChange:function(e){ne(ce(e))},onHover:function(e){g(ce(e))}},ue)))}function ut(e){var t=e.prefixCls,n=e.value,r=e.locale,o=e.generateConfig,a=e.showTime,i=(a||{}).format,s="".concat(t,"-time-panel"),l=Je(e,"time"),c=(0,A.Z)(l,1)[0];return _.createElement(Ue.Provider,{value:c},_.createElement("div",{className:T()(s)},_.createElement(nt,null,n?Ce(n,{locale:r,format:i,generateConfig:o}):" "),_.createElement(ct,a)))}var dt={date:rt,datetime:function(e){var t=e.prefixCls,n=e.generateConfig,r=e.showTime,o=e.onSelect,a=e.value,i=e.pickerValue,s=e.onHover,l="".concat(t,"-datetime-panel"),c=Ye(n,r),u=(0,A.Z)(c,1)[0],d=function(e){return Se(n,e,a||i)};return _.createElement("div",{className:l},_.createElement(rt,(0,k.Z)({},e,{onSelect:function(e){var t=d(e);o(u(t,t))},onHover:function(e){null==s||s(e?d(e):e)}})),_.createElement(ut,e))},week:function(e){var t=e.prefixCls,n=e.generateConfig,r=e.locale,o=e.value,a=e.hoverValue,i=e.hoverRangeValue,s=r.locale,l="".concat(t,"-week-panel-row");return _.createElement(rt,(0,k.Z)({},e,{mode:"week",panelName:"week",rowClassName:function(e){var t={};if(i){var r=(0,A.Z)(i,2),c=r[0],u=r[1],d=xe(n,s,c,e),f=xe(n,s,u,e);t["".concat(l,"-range-start")]=d,t["".concat(l,"-range-end")]=f,t["".concat(l,"-range-hover")]=!d&&!f&&we(n,c,u,e)}return a&&(t["".concat(l,"-hover")]=a.some((function(t){return xe(n,s,e,t)}))),T()(l,(0,B.Z)({},"".concat(l,"-selected"),!i&&xe(n,s,o,e)),t)}}))},month:function(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,a=e.disabledDate,i=e.onPickerValueChange,s=e.onModeChange,l="".concat(t,"-month-panel"),c=Je(e,"month"),u=(0,A.Z)(c,1)[0],d=r.setMonth(o,0),f=n.shortMonths||(r.locale.getShortMonths?r.locale.getShortMonths(n.locale):[]),p=a?function(e,t){var n=r.setDate(e,1),o=r.setMonth(n,r.getMonth(n)+1),i=r.addDate(o,-1);return a(n,t)&&a(i,t)}:null,g=_.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){s("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Ce(o,{locale:n,format:n.yearFormat,generateConfig:r}));return _.createElement(Ue.Provider,{value:u},_.createElement("div",{className:l},_.createElement(nt,{superOffset:function(e){return r.addYear(o,e)},onChange:i,getStart:function(e){return r.setMonth(e,0)},getEnd:function(e){return r.setMonth(e,11)}},g),_.createElement(et,(0,k.Z)({},e,{disabledDate:p,titleFormat:n.fieldMonthFormat,colNum:3,rowNum:4,baseDate:d,getCellDate:function(e,t){return r.addMonth(e,t)},getCellText:function(e){var t=r.getMonth(e);return n.monthFormat?Ce(e,{locale:n,format:n.monthFormat,generateConfig:r}):f[t]},getCellClassName:function(){return(0,B.Z)({},"".concat(t,"-cell-in-view"),!0)}}))))},quarter:function(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,a=e.onPickerValueChange,i=e.onModeChange,s="".concat(t,"-quarter-panel"),l=Je(e,"quarter"),c=(0,A.Z)(l,1)[0],u=r.setMonth(o,0),d=_.createElement("button",{type:"button",key:"year","aria-label":n.yearSelect,onClick:function(){i("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Ce(o,{locale:n,format:n.yearFormat,generateConfig:r}));return _.createElement(Ue.Provider,{value:c},_.createElement("div",{className:s},_.createElement(nt,{superOffset:function(e){return r.addYear(o,e)},onChange:a,getStart:function(e){return r.setMonth(e,0)},getEnd:function(e){return r.setMonth(e,11)}},d),_.createElement(et,(0,k.Z)({},e,{titleFormat:n.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:u,getCellDate:function(e,t){return r.addMonth(e,3*t)},getCellText:function(e){return Ce(e,{locale:n,format:n.cellQuarterFormat,generateConfig:r})},getCellClassName:function(){return(0,B.Z)({},"".concat(t,"-cell-in-view"),!0)}}))))},year:function(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,a=e.disabledDate,i=e.onPickerValueChange,s=e.onModeChange,l="".concat(t,"-year-panel"),c=Je(e,"year"),u=(0,A.Z)(c,1)[0],d=function(e){var t=10*Math.floor(r.getYear(e)/10);return r.setYear(e,t)},f=function(e){var t=d(e);return r.addYear(t,9)},p=d(o),g=f(o),m=r.addYear(p,-1),h=a?function(e,t){var n=r.setMonth(e,0),o=r.setDate(n,1),i=r.addYear(o,1),s=r.addDate(i,-1);return a(o,t)&&a(s,t)}:null,v=_.createElement("button",{type:"button",key:"decade","aria-label":n.decadeSelect,onClick:function(){s("decade")},tabIndex:-1,className:"".concat(t,"-decade-btn")},Ce(p,{locale:n,format:n.yearFormat,generateConfig:r}),"-",Ce(g,{locale:n,format:n.yearFormat,generateConfig:r}));return _.createElement(Ue.Provider,{value:u},_.createElement("div",{className:l},_.createElement(nt,{superOffset:function(e){return r.addYear(o,10*e)},onChange:i,getStart:d,getEnd:f},v),_.createElement(et,(0,k.Z)({},e,{disabledDate:h,titleFormat:n.fieldYearFormat,colNum:3,rowNum:4,baseDate:m,getCellDate:function(e,t){return r.addYear(e,t)},getCellText:function(e){return Ce(e,{locale:n,format:n.cellYearFormat,generateConfig:r})},getCellClassName:function(e){return(0,B.Z)({},"".concat(t,"-cell-in-view"),ge(r,e,p)||ge(r,e,g)||we(r,p,g,e))}}))))},decade:function(e){var t=e.prefixCls,n=e.locale,r=e.generateConfig,o=e.pickerValue,a=e.disabledDate,i=e.onPickerValueChange,s="".concat(t,"-decade-panel"),l=Je(e,"decade"),c=(0,A.Z)(l,1)[0],u=function(e){var t=100*Math.floor(r.getYear(e)/100);return r.setYear(e,t)},d=function(e){var t=u(e);return r.addYear(t,99)},f=u(o),p=d(o),g=r.addYear(f,-10),m=a?function(e,t){var n=r.setDate(e,1),o=r.setMonth(n,0),i=r.setYear(o,10*Math.floor(r.getYear(o)/10)),s=r.addYear(i,10),l=r.addDate(s,-1);return a(i,t)&&a(l,t)}:null,h="".concat(Ce(f,{locale:n,format:n.yearFormat,generateConfig:r}),"-").concat(Ce(p,{locale:n,format:n.yearFormat,generateConfig:r}));return _.createElement(Ue.Provider,{value:c},_.createElement("div",{className:s},_.createElement(nt,{superOffset:function(e){return r.addYear(o,100*e)},onChange:i,getStart:u,getEnd:d},h),_.createElement(et,(0,k.Z)({},e,{disabledDate:m,colNum:3,rowNum:4,baseDate:g,getCellDate:function(e,t){return r.addYear(e,10*t)},getCellText:function(e){var t=n.cellYearFormat,o=Ce(e,{locale:n,format:t,generateConfig:r}),a=Ce(r.addYear(e,9),{locale:n,format:t,generateConfig:r});return"".concat(o,"-").concat(a)},getCellClassName:function(e){return(0,B.Z)({},"".concat(t,"-cell-in-view"),pe(r,e,f)||pe(r,e,p)||we(r,f,p,e))}}))))},time:ut};function ft(e,t){var n,r=e.locale,o=e.generateConfig,a=e.direction,i=e.prefixCls,s=e.tabIndex,l=void 0===s?0:s,c=e.multiple,u=e.defaultValue,d=e.value,f=e.onChange,p=e.onSelect,g=e.defaultPickerValue,m=e.pickerValue,h=e.onPickerValueChange,v=e.mode,y=e.onPanelChange,b=e.picker,x=void 0===b?"date":b,w=e.showTime,C=e.hoverValue,S=e.hoverRangeValue,N=e.cellRender,E=e.dateRender,j=e.monthCellRender,I=e.components,M=void 0===I?{}:I,P=e.hideHeader,R=(null===(n=_.useContext(H))||void 0===n?void 0:n.prefixCls)||i||"rc-picker",F=_.useRef();_.useImperativeHandle(t,(function(){return{nativeElement:F.current}}));var z=ce(e),L=(0,A.Z)(z,4),$=L[0],V=L[1],W=L[2],K=L[3],G=ne(r,V),U="date"===x&&w?"datetime":x,X=_.useMemo((function(){return ue(U,W,K,$,G)}),[U,W,K,$,G]),J=o.getNow(),ee=(0,Z.C8)(x,{value:v,postState:function(e){return e||"date"}}),te=(0,A.Z)(ee,2),re=te[0],oe=te[1],ae="date"===re&&X?"datetime":re,ie=qe(o,r,U),se=(0,Z.C8)(u,{value:d}),le=(0,A.Z)(se,2),de=le[0],fe=le[1],pe=_.useMemo((function(){var e=Y(de).filter((function(e){return e}));return c?e:e.slice(0,1)}),[de,c]),ge=(0,Z.zX)((function(e){fe(e),f&&(null===e||pe.length!==e.length||pe.some((function(t,n){return!_e(o,r,t,e[n],U)})))&&(null==f||f(c?e:e[0]))})),me=(0,Z.zX)((function(e){if(null==p||p(e),re===x){var t=c?ie(pe,e):[e];ge(t)}})),he=(0,Z.C8)(g||pe[0]||J,{value:m}),ve=(0,A.Z)(he,2),ye=ve[0],be=ve[1];_.useEffect((function(){pe[0]&&!m&&be(pe[0])}),[pe[0]]);var xe=function(e,t){null==y||y(e||m,t||re)},we=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];be(e),null==h||h(e),t&&xe(e)},ke=function(e,t){oe(e),t&&we(t),xe(t,e)},Ce=_.useMemo((function(){var e,t;if(Array.isArray(S)){var n=(0,A.Z)(S,2);e=n[0],t=n[1]}else e=S;return e||t?(e=e||t,t=t||e,o.isAfter(e,t)?[t,e]:[e,t]):null}),[S,o]),Se=Q(N,E,j),Ne=M[ae]||dt[ae]||rt,Ee=_.useContext(Qe),je=_.useMemo((function(){return(0,D.Z)((0,D.Z)({},Ee),{},{hideHeader:P})}),[Ee,P]);var Ie="".concat(R,"-panel"),Me=q(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return _.createElement(Qe.Provider,{value:je},_.createElement("div",{ref:F,tabIndex:l,className:T()(Ie,(0,B.Z)({},"".concat(Ie,"-rtl"),"rtl"===a))},_.createElement(Ne,(0,k.Z)({},Me,{showTime:X,prefixCls:R,locale:G,generateConfig:o,onModeChange:ke,pickerValue:ye,onPickerValueChange:function(e){we(e,!0)},value:pe[0],onSelect:function(e){if(me(e),we(e),re!==x){var t=["decade","year"],n=[].concat(t,["month"]),r={quarter:[].concat(t,["quarter"]),week:[].concat((0,O.Z)(n),["week"]),date:[].concat((0,O.Z)(n),["date"])}[x]||n,o=r.indexOf(re),a=r[o+1];a&&ke(a,e)}},values:pe,cellRender:Se,hoverRangeValue:Ce,hoverValue:C}))))}var pt=_.memo(_.forwardRef(ft));function gt(e){var t=e.picker,n=e.multiplePanel,r=e.pickerValue,o=e.onPickerValueChange,a=e.needConfirm,i=e.onSubmit,s=e.range,l=e.hoverValue,c=_.useContext(H),u=c.prefixCls,d=c.generateConfig,f=_.useCallback((function(e,n){return De(d,t,e,n)}),[d,t]),p=_.useMemo((function(){return f(r,1)}),[r,f]),g={onCellDblClick:function(){a&&i()}},m="time"===t,h=(0,D.Z)((0,D.Z)({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:m});return s?h.hoverRangeValue=l:h.hoverValue=l,n?_.createElement("div",{className:"".concat(u,"-panels")},_.createElement(Qe.Provider,{value:(0,D.Z)((0,D.Z)({},g),{},{hideNext:!0})},_.createElement(pt,h)),_.createElement(Qe.Provider,{value:(0,D.Z)((0,D.Z)({},g),{},{hidePrev:!0})},_.createElement(pt,(0,k.Z)({},h,{pickerValue:p,onPickerValueChange:function(e){o(f(e,-1))}})))):_.createElement(Qe.Provider,{value:(0,D.Z)({},g)},_.createElement(pt,h))}function mt(e){return"function"==typeof e?e():e}function ht(e){var t=e.prefixCls,n=e.presets,r=e.onClick,o=e.onHover;return n.length?_.createElement("div",{className:"".concat(t,"-presets")},_.createElement("ul",null,n.map((function(e,t){var n=e.label,a=e.value;return _.createElement("li",{key:t,onClick:function(){r(mt(a))},onMouseEnter:function(){o(mt(a))},onMouseLeave:function(){o(null)}},n)})))):null}function vt(e){var t=e.panelRender,n=e.internalMode,r=e.picker,o=e.showNow,a=e.range,i=e.multiple,s=e.activeInfo,l=void 0===s?[0,0,0]:s,c=e.presets,u=e.onPresetHover,d=e.onPresetSubmit,f=e.onFocus,p=e.onBlur,g=e.onPanelMouseDown,m=e.direction,h=e.value,v=e.onSelect,y=e.isInvalid,b=e.defaultOpenValue,x=e.onOk,w=e.onSubmit,C=_.useContext(H).prefixCls,S="".concat(C,"-panel"),N="rtl"===m,E=_.useRef(null),j=_.useRef(null),I=_.useState(0),M=(0,A.Z)(I,2),P=M[0],O=M[1],D=_.useState(0),Z=(0,A.Z)(D,2),R=Z[0],F=Z[1],z=_.useState(0),L=(0,A.Z)(z,2),$=L[0],V=L[1],W=(0,A.Z)(l,3),K=W[0],G=W[1],q=W[2],U=_.useState(0),X=(0,A.Z)(U,2),J=X[0],Q=X[1];function ee(e){return e.filter((function(e){return e}))}_.useEffect((function(){Q(10)}),[K]),_.useEffect((function(){if(a&&j.current){var e,t=(null===(e=E.current)||void 0===e?void 0:e.offsetWidth)||0,n=j.current.getBoundingClientRect();if(!n.height||n.right<0)return void Q((function(e){return Math.max(0,e-1)}));var r=(N?G-t:K)-n.left;if(V(r),P&&P<q){var o=N?n.right-(G-t+P):K+t-n.left-P,i=Math.max(0,o);F(i)}else F(0)}}),[J,N,P,K,G,q,a]);var te=_.useMemo((function(){return ee(Y(h))}),[h]),ne="time"===r&&!te.length,re=_.useMemo((function(){return ne?ee([b]):te}),[ne,te,b]),oe=ne?b:te,ae=_.useMemo((function(){return!re.length||re.some((function(e){return y(e)}))}),[re,y]),ie=_.createElement("div",{className:"".concat(C,"-panel-layout")},_.createElement(ht,{prefixCls:C,presets:c,onClick:d,onHover:u}),_.createElement("div",null,_.createElement(gt,(0,k.Z)({},e,{value:oe})),_.createElement(Ge,(0,k.Z)({},e,{showNow:!i&&o,invalid:ae,onSubmit:function(){ne&&v(b),x(),w()}}))));t&&(ie=t(ie));var se="".concat(S,"-container"),le="marginLeft",ce="marginRight",ue=_.createElement("div",{onMouseDown:g,tabIndex:-1,className:T()(se,"".concat(C,"-").concat(n,"-panel-container")),style:(0,B.Z)((0,B.Z)({},N?ce:le,R),N?le:ce,"auto"),onFocus:f,onBlur:p},ie);return a&&(ue=_.createElement("div",{onMouseDown:g,ref:j,className:T()("".concat(C,"-range-wrapper"),"".concat(C,"-").concat(r,"-range-wrapper"))},_.createElement("div",{ref:E,className:"".concat(C,"-range-arrow"),style:{left:$}}),_.createElement(Ve.Z,{onResize:function(e){e.width&&O(e.width)}},ue))),ue}var yt=n(45987);function bt(e,t){var n=e.format,r=e.maskFormat,o=e.generateConfig,a=e.locale,i=e.preserveInvalidOnBlur,s=e.inputReadOnly,l=e.required,c=e["aria-required"],u=e.onSubmit,d=e.onFocus,f=e.onBlur,p=e.onInputChange,g=e.onInvalid,m=e.open,h=e.onOpenChange,v=e.onKeyDown,y=e.onChange,b=e.activeHelp,x=e.name,w=e.autoComplete,k=e.id,C=e.value,S=e.invalid,N=e.placeholder,E=e.disabled,j=e.activeIndex,I=e.allHelp,M=e.picker,P=function(e,t){var n=o.locale.parse(a.locale,e,[t]);return n&&o.isValidate(n)?n:null},T=n[0],O=_.useCallback((function(e){return Ce(e,{locale:a,format:T,generateConfig:o})}),[a,o,T]),A=_.useMemo((function(){return C.map(O)}),[C,O]),Z=_.useMemo((function(){var e="time"===M?8:10,t="function"==typeof T?T(o.getNow()).length:T.length;return Math.max(e,t)+2}),[T,M,o]),R=function(e){for(var t=0;t<n.length;t+=1){var r=n[t];if("string"==typeof r){var o=P(e,r);if(o)return o}}return!1};return[function(n){function o(e){return void 0!==n?e[n]:e}var a=(0,z.Z)(e,{aria:!0,data:!0}),_=(0,D.Z)((0,D.Z)({},a),{},{format:r,validateFormat:function(e){return!!R(e)},preserveInvalidOnBlur:i,readOnly:s,required:l,"aria-required":c,name:x,autoComplete:w,size:Z,id:o(k),value:o(A)||"",invalid:o(S),placeholder:o(N),active:j===n,helped:I||b&&j===n,disabled:o(E),onFocus:function(e){d(e,n)},onBlur:function(e){f(e,n)},onSubmit:u,onChange:function(e){p();var t=R(e);if(t)return g(!1,n),void y(t,n);g(!!e,n)},onHelp:function(){h(!0,{index:n})},onKeyDown:function(e){var t=!1;if(null==v||v(e,(function(){t=!0})),!e.defaultPrevented&&!t)switch(e.key){case"Escape":h(!1,{index:n});break;case"Enter":m||h(!0)}}},null==t?void 0:t({valueTexts:A}));return Object.keys(_).forEach((function(e){void 0===_[e]&&delete _[e]})),_},O]}var xt=["onMouseEnter","onMouseLeave"];function _t(e){return _.useMemo((function(){return q(e,xt)}),[e])}var wt=["icon","type"],kt=["onClear"];function Ct(e){var t=e.icon,n=e.type,r=(0,yt.Z)(e,wt),o=_.useContext(H).prefixCls;return t?_.createElement("span",(0,k.Z)({className:"".concat(o,"-").concat(n)},r),t):null}function St(e){var t=e.onClear,n=(0,yt.Z)(e,kt);return _.createElement(Ct,(0,k.Z)({},n,{type:"clear",role:"button",onMouseDown:function(e){e.preventDefault()},onClick:function(e){e.stopPropagation(),t()}}))}var Nt=n(15671),Et=n(43144),jt=["YYYY","MM","DD","HH","mm","ss","SSS"],It=function(){function e(t){(0,Nt.Z)(this,e),(0,B.Z)(this,"format",void 0),(0,B.Z)(this,"maskFormat",void 0),(0,B.Z)(this,"cells",void 0),(0,B.Z)(this,"maskCells",void 0),this.format=t;var n=jt.map((function(e){return"(".concat(e,")")})).join("|"),r=new RegExp(n,"g");this.maskFormat=t.replace(r,(function(e){return"顧".repeat(e.length)}));var o=new RegExp("(".concat(jt.join("|"),")")),a=(t.split(o)||[]).filter((function(e){return e})),i=0;this.cells=a.map((function(e){var t=jt.includes(e),n=i,r=i+e.length;return i=r,{text:e,mask:t,start:n,end:r}})),this.maskCells=this.cells.filter((function(e){return e.mask}))}return(0,Et.Z)(e,[{key:"getSelection",value:function(e){var t=this.maskCells[e]||{};return[t.start||0,t.end||0]}},{key:"match",value:function(e){for(var t=0;t<this.maskFormat.length;t+=1){var n=this.maskFormat[t],r=e[t];if(!r||"顧"!==n&&n!==r)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(e){for(var t=Number.MAX_SAFE_INTEGER,n=0,r=0;r<this.maskCells.length;r+=1){var o=this.maskCells[r],a=o.start,i=o.end;if(e>=a&&e<=i)return r;var s=Math.min(Math.abs(e-a),Math.abs(e-i));s<t&&(t=s,n=r)}return n}}]),e}();var Mt=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"];var Pt=_.forwardRef((function(e,t){var n=e.active,r=e.showActiveCls,o=void 0===r||r,a=e.suffixIcon,i=e.format,s=e.validateFormat,l=e.onChange,c=(e.onInput,e.helped),u=e.onHelp,d=e.onSubmit,f=e.onKeyDown,p=e.preserveInvalidOnBlur,g=void 0!==p&&p,m=e.invalid,h=e.clearIcon,v=(0,yt.Z)(e,Mt),y=e.value,b=e.onFocus,x=e.onBlur,w=e.onMouseUp,C=_.useContext(H),S=C.prefixCls,N=C.input,E=void 0===N?"input":N,j="".concat(S,"-input"),I=_.useState(!1),M=(0,A.Z)(I,2),P=M[0],O=M[1],D=_.useState(y),F=(0,A.Z)(D,2),z=F[0],L=F[1],$=_.useState(""),V=(0,A.Z)($,2),W=V[0],Y=V[1],G=_.useState(null),q=(0,A.Z)(G,2),U=q[0],X=q[1],J=_.useState(null),Q=(0,A.Z)(J,2),ee=Q[0],te=Q[1],ne=z||"";_.useEffect((function(){L(y)}),[y]);var re=_.useRef(),oe=_.useRef();_.useImperativeHandle(t,(function(){return{nativeElement:re.current,inputElement:oe.current,focus:function(e){oe.current.focus(e)},blur:function(){oe.current.blur()}}}));var ae=_.useMemo((function(){return new It(i||"")}),[i]),ie=_.useMemo((function(){return c?[0,0]:ae.getSelection(U)}),[ae,U,c]),se=(0,A.Z)(ie,2),le=se[0],ce=se[1],ue=function(e){e&&e!==i&&e!==y&&u()},de=(0,Z.zX)((function(e){s(e)&&l(e),L(e),ue(e)})),fe=_.useRef(!1),pe=function(e){x(e)};Te(n,(function(){n||g||L(y)}));var ge=function(e){"Enter"===e.key&&s(ne)&&d(),null==f||f(e)},me=_.useRef();(0,R.Z)((function(){if(P&&i&&!fe.current){if(ae.match(ne))return oe.current.setSelectionRange(le,ce),me.current=(0,je.Z)((function(){oe.current.setSelectionRange(le,ce)})),function(){je.Z.cancel(me.current)};de(i)}}),[ae,i,P,ne,U,le,ce,ee,de]);var he=i?{onFocus:function(e){O(!0),X(0),Y(""),b(e)},onBlur:function(e){O(!1),pe(e)},onKeyDown:function(e){ge(e);var t=e.key,n=null,r=null,o=ce-le,a=i.slice(le,ce),s=function(e){X((function(t){var n=t+e;return n=Math.max(n,0),n=Math.min(n,ae.size()-1)}))},l=function(e){var t=function(e){return{YYYY:[0,9999,(new Date).getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]}[e]}(a),n=(0,A.Z)(t,3),r=n[0],o=n[1],i=n[2],s=ne.slice(le,ce),l=Number(s);if(isNaN(l))return String(i||(e>0?r:o));var c=o-r+1;return String(r+(c+(l+e)-r)%c)};switch(t){case"Backspace":case"Delete":n="",r=a;break;case"ArrowLeft":n="",s(-1);break;case"ArrowRight":n="",s(1);break;case"ArrowUp":n="",r=l(1);break;case"ArrowDown":n="",r=l(-1);break;default:isNaN(Number(t))||(r=n=W+t)}if(null!==n&&(Y(n),n.length>=o&&(s(1),Y(""))),null!==r){var c=ne.slice(0,le)+K(r,o)+ne.slice(ce);de(c.slice(0,i.length))}te({})},onMouseDown:function(){fe.current=!0},onMouseUp:function(e){var t=e.target.selectionStart,n=ae.getMaskCellIndex(t);X(n),te({}),null==w||w(e),fe.current=!1},onPaste:function(e){var t=e.clipboardData.getData("text");s(t)&&de(t)}}:{};return _.createElement("div",{ref:re,className:T()(j,(0,B.Z)((0,B.Z)({},"".concat(j,"-active"),n&&o),"".concat(j,"-placeholder"),c))},_.createElement(E,(0,k.Z)({ref:oe,"aria-invalid":m,autoComplete:"off"},v,{onKeyDown:ge,onBlur:pe},he,{value:ne,onChange:function(e){if(!i){var t=e.target.value;ue(t),L(t),l(t)}}})),_.createElement(Ct,{type:"suffix",icon:a}),h)})),Tt=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],Ot=["index"];function Dt(e,t){var n=e.id,r=e.prefix,o=e.clearIcon,a=e.suffixIcon,i=e.separator,s=void 0===i?"~":i,l=e.activeIndex,c=(e.activeHelp,e.allHelp,e.focused),u=(e.onFocus,e.onBlur,e.onKeyDown,e.locale,e.generateConfig,e.placeholder),d=e.className,f=e.style,p=e.onClick,g=e.onClear,m=e.value,h=(e.onChange,e.onSubmit,e.onInputChange,e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid,e.disabled),v=e.invalid,y=(e.inputReadOnly,e.direction),b=(e.onOpenChange,e.onActiveInfo),x=(e.placement,e.onMouseDown),w=(e.required,e["aria-required"],e.autoFocus),C=e.tabIndex,S=(0,yt.Z)(e,Tt),N="rtl"===y,E=_.useContext(H).prefixCls,j=_.useMemo((function(){if("string"==typeof n)return[n];var e=n||{};return[e.start,e.end]}),[n]),I=_.useRef(),M=_.useRef(),P=_.useRef(),O=function(e){var t;return null===(t=[M,P][e])||void 0===t?void 0:t.current};_.useImperativeHandle(t,(function(){return{nativeElement:I.current,focus:function(e){if("object"===(0,re.Z)(e)){var t,n=e||{},r=n.index,o=void 0===r?0:r,a=(0,yt.Z)(n,Ot);null===(t=O(o))||void 0===t||t.focus(a)}else{var i;null===(i=O(null!=e?e:0))||void 0===i||i.focus()}},blur:function(){var e,t;null===(e=O(0))||void 0===e||e.blur(),null===(t=O(1))||void 0===t||t.blur()}}}));var R=_t(S),F=_.useMemo((function(){return Array.isArray(u)?u:[u,u]}),[u]),z=bt((0,D.Z)((0,D.Z)({},e),{},{id:j,placeholder:F})),L=(0,A.Z)(z,1)[0],$=_.useState({position:"absolute",width:0}),V=(0,A.Z)($,2),W=V[0],K=V[1],Y=(0,Z.zX)((function(){var e=O(l);if(e){var t=e.nativeElement.getBoundingClientRect(),n=I.current.getBoundingClientRect(),r=t.left-n.left;K((function(e){return(0,D.Z)((0,D.Z)({},e),{},{width:t.width,left:r})})),b([t.left,t.right,n.width])}}));_.useEffect((function(){Y()}),[l]);var G=o&&(m[0]&&!h[0]||m[1]&&!h[1]),q=w&&!h[0],U=w&&!q&&!h[1];return _.createElement(Ve.Z,{onResize:Y},_.createElement("div",(0,k.Z)({},R,{className:T()(E,"".concat(E,"-range"),(0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(E,"-focused"),c),"".concat(E,"-disabled"),h.every((function(e){return e}))),"".concat(E,"-invalid"),v.some((function(e){return e}))),"".concat(E,"-rtl"),N),d),style:f,ref:I,onClick:p,onMouseDown:function(e){var t=e.target;t!==M.current.inputElement&&t!==P.current.inputElement&&e.preventDefault(),null==x||x(e)}}),r&&_.createElement("div",{className:"".concat(E,"-prefix")},r),_.createElement(Pt,(0,k.Z)({ref:M},L(0),{autoFocus:q,tabIndex:C,"date-range":"start"})),_.createElement("div",{className:"".concat(E,"-range-separator")},s),_.createElement(Pt,(0,k.Z)({ref:P},L(1),{autoFocus:U,tabIndex:C,"date-range":"end"})),_.createElement("div",{className:"".concat(E,"-active-bar"),style:W}),_.createElement(Ct,{type:"suffix",icon:a}),G&&_.createElement(St,{icon:o,onClear:g})))}var At=_.forwardRef(Dt);function Zt(e,t){var n=null!=e?e:t;return Array.isArray(n)?n:[n,n]}function Rt(e){return 1===e?"end":"start"}function Ft(e,t){var n=Ee(e,(function(){var t=e.disabled,n=e.allowEmpty;return{disabled:Zt(t,!1),allowEmpty:Zt(n,!1)}})),r=(0,A.Z)(n,6),o=r[0],a=r[1],i=r[2],s=r[3],l=r[4],c=r[5],u=o.prefixCls,d=o.styles,f=o.classNames,p=o.defaultValue,g=o.value,m=o.needConfirm,h=o.onKeyDown,v=o.disabled,y=o.allowEmpty,b=o.disabledDate,x=o.minDate,w=o.maxDate,C=o.defaultOpen,S=o.open,N=o.onOpenChange,E=o.locale,j=o.generateConfig,I=o.picker,M=o.showNow,P=o.showToday,T=o.showTime,L=o.mode,B=o.onPanelChange,$=o.onCalendarChange,V=o.onOk,K=o.defaultPickerValue,q=o.pickerValue,U=o.onPickerValueChange,te=o.inputReadOnly,ne=o.suffixIcon,re=o.onFocus,oe=o.onBlur,ae=o.presets,ie=o.ranges,se=o.components,le=o.cellRender,ce=o.dateRender,ue=o.monthCellRender,de=o.onClick,fe=Me(t),pe=Ie(S,C,v,N),ge=(0,A.Z)(pe,2),me=ge[0],he=ge[1],ve=function(e,t){!v.some((function(e){return!e}))&&e||he(e,t)},ye=Be(j,E,s,!0,!1,p,g,$,V),be=(0,A.Z)(ye,5),xe=be[0],we=be[1],ke=be[2],Ce=be[3],Se=be[4],Ne=ke(),je=Oe(v,y,me),Te=(0,A.Z)(je,9),De=Te[0],Ae=Te[1],Re=Te[2],Fe=Te[3],ze=Te[4],Le=Te[5],Ve=Te[6],We=Te[7],Ke=Te[8],Ye=function(e,t){Ae(!0),null==re||re(e,{range:Rt(null!=t?t:Fe)})},Ge=function(e,t){Ae(!1),null==oe||oe(e,{range:Rt(null!=t?t:Fe)})},qe=_.useMemo((function(){if(!T)return null;var e=T.disabledTime,t=e?function(t){var n=Rt(Fe),r=X(Ne,Ve,Fe);return e(t,n,{from:r})}:void 0;return(0,D.Z)((0,D.Z)({},T),{},{disabledTime:t})}),[T,Fe,Ne,Ve]),Ue=(0,Z.C8)([I,I],{value:L}),Xe=(0,A.Z)(Ue,2),Je=Xe[0],Qe=Xe[1],et=Je[Fe]||I,tt="date"===et&&qe?"datetime":et,nt=tt===I&&"time"!==tt,rt=He(I,et,M,P,!0),ot=$e(o,xe,we,ke,Ce,v,s,De,me,c),at=(0,A.Z)(ot,2),it=at[0],st=at[1],lt=function(e,t,n,r,o,a){var i=n[n.length-1];return function(s,l){var c=(0,A.Z)(e,2),u=c[0],d=c[1],f=(0,D.Z)((0,D.Z)({},l),{},{from:X(e,n)});return!(1!==i||!t[0]||!u||_e(r,o,u,s,f.type)||!r.isAfter(u,s))||!(0!==i||!t[1]||!d||_e(r,o,d,s,f.type)||!r.isAfter(s,d))||(null==a?void 0:a(s,f))}}(Ne,v,Ve,j,E,b),ct=ee(Ne,c,y),ut=(0,A.Z)(ct,2),dt=ut[0],ft=ut[1],pt=Ze(j,E,Ne,Je,me,Fe,a,nt,K,q,null==qe?void 0:qe.defaultOpenValue,U,x,w),gt=(0,A.Z)(pt,2),mt=gt[0],ht=gt[1],yt=(0,Z.zX)((function(e,t,n){var r=G(Je,Fe,t);if(r[0]===Je[0]&&r[1]===Je[1]||Qe(r),B&&!1!==n){var o=(0,O.Z)(Ne);e&&(o[Fe]=e),B(o,r)}})),bt=function(e,t){return G(Ne,t,e)},xt=function(e,t){var n=Ne;e&&(n=bt(e,Fe)),We(Fe);var r=Le(n);Ce(n),it(Fe,null===r),null===r?ve(!1,{force:!0}):t||fe.current.focus({index:r})},_t=_.useState(null),wt=(0,A.Z)(_t,2),kt=wt[0],Ct=wt[1],St=_.useState(null),Nt=(0,A.Z)(St,2),Et=Nt[0],jt=Nt[1],It=_.useMemo((function(){return Et||Ne}),[Ne,Et]);_.useEffect((function(){me||jt(null)}),[me]);var Mt=_.useState([0,0,0]),Pt=(0,A.Z)(Mt,2),Tt=Pt[0],Ot=Pt[1],Dt=Pe(ae,ie),Ft=Q(le,ce,ue,Rt(Fe)),zt=Ne[Fe]||null,Lt=(0,Z.zX)((function(e){return c(e,{activeIndex:Fe})})),Bt=_.useMemo((function(){var e=(0,z.Z)(o,!1);return(0,F.Z)(o,[].concat((0,O.Z)(Object.keys(e)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]))}),[o]),$t=_.createElement(vt,(0,k.Z)({},Bt,{showNow:rt,showTime:qe,range:!0,multiplePanel:nt,activeInfo:Tt,disabledDate:lt,onFocus:function(e){ve(!0),Ye(e)},onBlur:Ge,onPanelMouseDown:function(){Re("panel")},picker:I,mode:et,internalMode:tt,onPanelChange:yt,format:l,value:zt,isInvalid:Lt,onChange:null,onSelect:function(e){var t=G(Ne,Fe,e);Ce(t),m||i||a!==tt||xt(e)},pickerValue:mt,defaultOpenValue:Y(null==T?void 0:T.defaultOpenValue)[Fe],onPickerValueChange:ht,hoverValue:It,onHover:function(e){jt(e?bt(e,Fe):null),Ct("cell")},needConfirm:m,onSubmit:xt,onOk:Se,presets:Dt,onPresetHover:function(e){jt(e),Ct("preset")},onPresetSubmit:function(e){st(e)&&ve(!1,{force:!0})},onNow:function(e){xt(e)},cellRender:Ft})),Ht=_.useMemo((function(){return{prefixCls:u,locale:E,generateConfig:j,button:se.button,input:se.input}}),[u,E,j,se.button,se.input]);return(0,R.Z)((function(){me&&void 0!==Fe&&yt(null,I,!1)}),[me,Fe,I]),(0,R.Z)((function(){var e=Re();me||"input"!==e||(ve(!1),xt(null,!0)),me||!i||m||"panel"!==e||(ve(!0),xt())}),[me]),_.createElement(H.Provider,{value:Ht},_.createElement(W,(0,k.Z)({},J(o),{popupElement:$t,popupStyle:d.popup,popupClassName:f.popup,visible:me,onClose:function(){ve(!1)},range:!0}),_.createElement(At,(0,k.Z)({},o,{ref:fe,suffixIcon:ne,activeIndex:De||me?Fe:null,activeHelp:!!Et,allHelp:!!Et&&"preset"===kt,focused:De,onFocus:function(e,t){var n=Ve.length,r=Ve[n-1];n&&r!==t&&m&&!y[r]&&!Ke(r)&&Ne[r]?fe.current.focus({index:r}):(Re("input"),ve(!0,{inherit:!0}),Fe!==t&&me&&!m&&i&&xt(null,!0),ze(t),Ye(e,t))},onBlur:function(e,t){if(ve(!1),!m&&"input"===Re()){var n=Le(Ne);it(Fe,null===n)}Ge(e,t)},onKeyDown:function(e,t){"Tab"===e.key&&xt(null,!0),null==h||h(e,t)},onSubmit:xt,value:It,maskFormat:l,onChange:function(e,t){var n=bt(e,t);Ce(n)},onInputChange:function(){Re("input")},format:s,inputReadOnly:te,disabled:v,open:me,onOpenChange:ve,onClick:function(e){var t,n=e.target.getRootNode();if(!fe.current.nativeElement.contains(null!==(t=n.activeElement)&&void 0!==t?t:document.activeElement)){var r=v.findIndex((function(e){return!e}));r>=0&&fe.current.focus({index:r})}ve(!0),null==de||de(e)},onClear:function(){st(null),ve(!1,{force:!0})},invalid:dt,onInvalid:ft,onActiveInfo:Ot}))))}var zt=_.forwardRef(Ft),Lt=n(39983);function Bt(e){var t=e.prefixCls,n=e.value,r=e.onRemove,o=e.removeIcon,a=void 0===o?"×":o,i=e.formatDate,s=e.disabled,l=e.maxTagCount,c=e.placeholder,u="".concat(t,"-selector"),d="".concat(t,"-selection"),f="".concat(d,"-overflow");function p(e,t){return _.createElement("span",{className:T()("".concat(d,"-item")),title:"string"==typeof e?e:null},_.createElement("span",{className:"".concat(d,"-item-content")},e),!s&&t&&_.createElement("span",{onMouseDown:function(e){e.preventDefault()},onClick:t,className:"".concat(d,"-item-remove")},a))}return _.createElement("div",{className:u},_.createElement(Lt.Z,{prefixCls:f,data:n,renderItem:function(e){return p(i(e),(function(t){t&&t.stopPropagation(),r(e)}))},renderRest:function(e){return p("+ ".concat(e.length," ..."))},itemKey:function(e){return i(e)},maxCount:l}),!n.length&&_.createElement("span",{className:"".concat(t,"-selection-placeholder")},c))}var $t=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function Ht(e,t){e.id;var n=e.open,r=e.prefix,o=e.clearIcon,a=e.suffixIcon,i=(e.activeHelp,e.allHelp,e.focused),s=(e.onFocus,e.onBlur,e.onKeyDown,e.locale),l=e.generateConfig,c=e.placeholder,u=e.className,d=e.style,f=e.onClick,p=e.onClear,g=e.internalPicker,m=e.value,h=e.onChange,v=e.onSubmit,y=(e.onInputChange,e.multiple),b=e.maxTagCount,x=(e.format,e.maskFormat,e.preserveInvalidOnBlur,e.onInvalid,e.disabled),w=e.invalid,C=(e.inputReadOnly,e.direction),S=(e.onOpenChange,e.onMouseDown),N=(e.required,e["aria-required"],e.autoFocus),E=e.tabIndex,j=e.removeIcon,I=(0,yt.Z)(e,$t),M="rtl"===C,P=_.useContext(H).prefixCls,O=_.useRef(),Z=_.useRef();_.useImperativeHandle(t,(function(){return{nativeElement:O.current,focus:function(e){var t;null===(t=Z.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=Z.current)||void 0===e||e.blur()}}}));var R=_t(I),F=bt((0,D.Z)((0,D.Z)({},e),{},{onChange:function(e){h([e])}}),(function(e){return{value:e.valueTexts[0]||"",active:i}})),z=(0,A.Z)(F,2),L=z[0],$=z[1],V=!(!o||!m.length||x),W=y?_.createElement(_.Fragment,null,_.createElement(Bt,{prefixCls:P,value:m,onRemove:function(e){var t=m.filter((function(t){return t&&!_e(l,s,t,e,g)}));h(t),n||v()},formatDate:$,maxTagCount:b,disabled:x,removeIcon:j,placeholder:c}),_.createElement("input",{className:"".concat(P,"-multiple-input"),value:m.map($).join(","),ref:Z,readOnly:!0,autoFocus:N,tabIndex:E}),_.createElement(Ct,{type:"suffix",icon:a}),V&&_.createElement(St,{icon:o,onClear:p})):_.createElement(Pt,(0,k.Z)({ref:Z},L(),{autoFocus:N,tabIndex:E,suffixIcon:a,clearIcon:V&&_.createElement(St,{icon:o,onClear:p}),showActiveCls:!1}));return _.createElement("div",(0,k.Z)({},R,{className:T()(P,(0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)((0,B.Z)({},"".concat(P,"-multiple"),y),"".concat(P,"-focused"),i),"".concat(P,"-disabled"),x),"".concat(P,"-invalid"),w),"".concat(P,"-rtl"),M),u),style:d,ref:O,onClick:f,onMouseDown:function(e){var t;e.target!==(null===(t=Z.current)||void 0===t?void 0:t.inputElement)&&e.preventDefault(),null==S||S(e)}}),r&&_.createElement("div",{className:"".concat(P,"-prefix")},r),W)}var Vt=_.forwardRef(Ht);function Wt(e,t){var n=Ee(e),r=(0,A.Z)(n,6),o=r[0],a=r[1],i=r[2],s=r[3],l=r[4],c=r[5],u=o,d=u.prefixCls,f=u.styles,p=u.classNames,g=u.order,m=u.defaultValue,h=u.value,v=u.needConfirm,y=u.onChange,b=u.onKeyDown,x=u.disabled,w=u.disabledDate,C=u.minDate,S=u.maxDate,N=u.defaultOpen,E=u.open,j=u.onOpenChange,I=u.locale,M=u.generateConfig,P=u.picker,T=u.showNow,L=u.showToday,B=u.showTime,$=u.mode,V=u.onPanelChange,K=u.onCalendarChange,G=u.onOk,q=u.multiple,U=u.defaultPickerValue,X=u.pickerValue,te=u.onPickerValueChange,ne=u.inputReadOnly,re=u.suffixIcon,oe=u.removeIcon,ae=u.onFocus,ie=u.onBlur,se=u.presets,le=u.components,ce=u.cellRender,ue=u.dateRender,de=u.monthCellRender,fe=u.onClick,pe=Me(t);function ge(e){return null===e?null:q?e:e[0]}var me=qe(M,I,a),he=Ie(E,N,[x],j),ve=(0,A.Z)(he,2),ye=ve[0],be=ve[1],xe=Be(M,I,s,!1,g,m,h,(function(e,t,n){if(K){var r=(0,D.Z)({},n);delete r.range,K(ge(e),ge(t),r)}}),(function(e){null==G||G(ge(e))})),_e=(0,A.Z)(xe,5),we=_e[0],ke=_e[1],Ce=_e[2],Se=_e[3],Ne=_e[4],je=Ce(),Te=Oe([x]),De=(0,A.Z)(Te,4),Ae=De[0],Re=De[1],Fe=De[2],ze=De[3],Le=function(e){Re(!0),null==ae||ae(e,{})},Ve=function(e){Re(!1),null==ie||ie(e,{})},We=(0,Z.C8)(P,{value:$}),Ke=(0,A.Z)(We,2),Ye=Ke[0],Ge=Ke[1],Ue="date"===Ye&&B?"datetime":Ye,Xe=He(P,Ye,T,L),Je=y&&function(e,t){y(ge(e),ge(t))},Qe=$e((0,D.Z)((0,D.Z)({},o),{},{onChange:Je}),we,ke,Ce,Se,[],s,Ae,ye,c),et=(0,A.Z)(Qe,2)[1],tt=ee(je,c),nt=(0,A.Z)(tt,2),rt=nt[0],ot=nt[1],at=_.useMemo((function(){return rt.some((function(e){return e}))}),[rt]),it=Ze(M,I,je,[Ye],ye,ze,a,!1,U,X,Y(null==B?void 0:B.defaultOpenValue),(function(e,t){if(te){var n=(0,D.Z)((0,D.Z)({},t),{},{mode:t.mode[0]});delete n.range,te(e[0],n)}}),C,S),st=(0,A.Z)(it,2),lt=st[0],ct=st[1],ut=(0,Z.zX)((function(e,t,n){if(Ge(t),V&&!1!==n){var r=e||je[je.length-1];V(r,t)}})),dt=function(){et(Ce()),be(!1,{force:!0})},ft=_.useState(null),pt=(0,A.Z)(ft,2),gt=pt[0],mt=pt[1],ht=_.useState(null),yt=(0,A.Z)(ht,2),bt=yt[0],xt=yt[1],_t=_.useMemo((function(){var e=[bt].concat((0,O.Z)(je)).filter((function(e){return e}));return q?e:e.slice(0,1)}),[je,bt,q]),wt=_.useMemo((function(){return!q&&bt?[bt]:je.filter((function(e){return e}))}),[je,bt,q]);_.useEffect((function(){ye||xt(null)}),[ye]);var kt=Pe(se),Ct=function(e){var t=q?me(Ce(),e):[e];et(t)&&!q&&be(!1,{force:!0})},St=Q(ce,ue,de),Nt=_.useMemo((function(){var e=(0,z.Z)(o,!1),t=(0,F.Z)(o,[].concat((0,O.Z)(Object.keys(e)),["onChange","onCalendarChange","style","className","onPanelChange"]));return(0,D.Z)((0,D.Z)({},t),{},{multiple:o.multiple})}),[o]),Et=_.createElement(vt,(0,k.Z)({},Nt,{showNow:Xe,showTime:B,disabledDate:w,onFocus:function(e){be(!0),Le(e)},onBlur:Ve,picker:P,mode:Ye,internalMode:Ue,onPanelChange:ut,format:l,value:je,isInvalid:c,onChange:null,onSelect:function(e){if(Fe("panel"),!q||Ue===P){var t=q?me(Ce(),e):[e];Se(t),v||i||a!==Ue||dt()}},pickerValue:lt,defaultOpenValue:null==B?void 0:B.defaultOpenValue,onPickerValueChange:ct,hoverValue:_t,onHover:function(e){xt(e),mt("cell")},needConfirm:v,onSubmit:dt,onOk:Ne,presets:kt,onPresetHover:function(e){xt(e),mt("preset")},onPresetSubmit:Ct,onNow:function(e){Ct(e)},cellRender:St})),jt=_.useMemo((function(){return{prefixCls:d,locale:I,generateConfig:M,button:le.button,input:le.input}}),[d,I,M,le.button,le.input]);return(0,R.Z)((function(){ye&&void 0!==ze&&ut(null,P,!1)}),[ye,ze,P]),(0,R.Z)((function(){var e=Fe();ye||"input"!==e||(be(!1),dt()),ye||!i||v||"panel"!==e||dt()}),[ye]),_.createElement(H.Provider,{value:jt},_.createElement(W,(0,k.Z)({},J(o),{popupElement:Et,popupStyle:f.popup,popupClassName:p.popup,visible:ye,onClose:function(){be(!1)}}),_.createElement(Vt,(0,k.Z)({},o,{ref:pe,suffixIcon:re,removeIcon:oe,activeHelp:!!bt,allHelp:!!bt&&"preset"===gt,focused:Ae,onFocus:function(e){Fe("input"),be(!0,{inherit:!0}),Le(e)},onBlur:function(e){be(!1),Ve(e)},onKeyDown:function(e,t){"Tab"===e.key&&dt(),null==b||b(e,t)},onSubmit:dt,value:wt,maskFormat:l,onChange:function(e){Se(e)},onInputChange:function(){Fe("input")},internalPicker:a,format:s,inputReadOnly:ne,disabled:x,open:ye,onOpenChange:be,onClick:function(e){x||pe.current.nativeElement.contains(document.activeElement)||pe.current.focus(),be(!0),null==fe||fe(e)},onClear:function(){et(null),be(!1,{force:!0})},invalid:at,onInvalid:function(e){ot(e,0)}}))))}var Kt=_.forwardRef(Wt),Yt=n(89942),Gt=n(87263),qt=n(9708),Ut=n(53124),Xt=n(98866),Jt=n(35792),Qt=n(98675),en=n(65223),tn=n(27833),nn=n(10110),rn=n(4173),on=n(29494),an=n(11568),sn=n(47673),ln=n(20353),cn=n(14747),un=n(80110),dn=n(67771),fn=n(33297),pn=n(79511),gn=n(83559),mn=n(83262),hn=n(16928);const vn=(e,t)=>{const{componentCls:n,controlHeight:r}=e,o=t?`${n}-${t}`:"",a=(0,hn.gp)(e);return[{[`${n}-multiple${o}`]:{paddingBlock:a.containerPadding,paddingInlineStart:a.basePadding,minHeight:r,[`${n}-selection-item`]:{height:a.itemHeight,lineHeight:(0,an.bf)(a.itemLineHeight)}}}]};var yn=e=>{const{componentCls:t,calc:n,lineWidth:r}=e,o=(0,mn.IX)(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),a=(0,mn.IX)(e,{fontHeight:n(e.multipleItemHeightLG).sub(n(r).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[vn(o,"small"),vn(e),vn(a,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},(0,hn._z)(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},bn=n(15063);const xn=e=>{const{pickerCellCls:t,pickerCellInnerCls:n,cellHeight:r,borderRadiusSM:o,motionDurationMid:a,cellHoverBg:i,lineWidth:s,lineType:l,colorPrimary:c,cellActiveWithRangeBg:u,colorTextLightSolid:d,colorTextDisabled:f,cellBgDisabled:p,colorFillSecondary:g}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:r,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:r,height:r,lineHeight:(0,an.bf)(r),borderRadius:o,transition:`background ${a}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),\n    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[n]:{background:i}},[`&-in-view${t}-today ${n}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${(0,an.bf)(s)} ${l} ${c}`,borderRadius:o,content:'""'}},[`&-in-view${t}-in-range,\n      &-in-view${t}-range-start,\n      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:u}},[`&-in-view${t}-selected,\n      &-in-view${t}-range-start,\n      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${n}`]:{color:d,background:c},[`&${t}-disabled ${n}`]:{background:g}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${n}`]:{borderStartStartRadius:o,borderEndStartRadius:o,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:o,borderEndEndRadius:o},"&-disabled":{color:f,cursor:"not-allowed",[n]:{background:"transparent"},"&::before":{background:p}},[`&-disabled${t}-today ${n}::before`]:{borderColor:f}}},_n=e=>{const{componentCls:t,pickerCellCls:n,pickerCellInnerCls:r,pickerYearMonthCellWidth:o,pickerControlIconSize:a,cellWidth:i,paddingSM:s,paddingXS:l,paddingXXS:c,colorBgContainer:u,lineWidth:d,lineType:f,borderRadiusLG:p,colorPrimary:g,colorTextHeading:m,colorSplit:h,pickerControlIconBorderWidth:v,colorIcon:y,textHeight:b,motionDurationMid:x,colorIconHover:_,fontWeightStrong:w,cellHeight:k,pickerCellPaddingVertical:C,colorTextDisabled:S,colorText:N,fontSize:E,motionDurationSlow:j,withoutTimeCellHeight:I,pickerQuarterPanelContentHeight:M,borderRadiusSM:P,colorTextLightSolid:T,cellHoverBg:O,timeColumnHeight:D,timeColumnWidth:A,timeCellHeight:Z,controlItemBgActive:R,marginXXS:F,pickerDatePanelPaddingHorizontal:z,pickerControlIconMargin:L}=e,B=e.calc(i).mul(7).add(e.calc(z).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:u,borderRadius:p,outline:"none","&-focused":{borderColor:g},"&-rtl":{[`${t}-prev-icon,\n              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,\n              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:B},"&-header":{display:"flex",padding:`0 ${(0,an.bf)(l)}`,color:m,borderBottom:`${(0,an.bf)(d)} ${f} ${h}`,"> *":{flex:"none"},button:{padding:0,color:y,lineHeight:(0,an.bf)(b),background:"transparent",border:0,cursor:"pointer",transition:`color ${x}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:E,"&:hover":{color:_},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:w,lineHeight:(0,an.bf)(b),"> button":{color:"inherit",fontWeight:"inherit",verticalAlign:"top","&:not(:first-child)":{marginInlineStart:l},"&:hover":{color:g}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:a,height:a,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:a,height:a,border:"0 solid currentcolor",borderBlockStartWidth:v,borderInlineStartWidth:v,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:L,insetInlineStart:L,display:"inline-block",width:a,height:a,border:"0 solid currentcolor",borderBlockStartWidth:v,borderInlineStartWidth:v,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:k,fontWeight:"normal"},th:{height:e.calc(k).add(e.calc(C).mul(2)).equal(),color:N,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${(0,an.bf)(C)} 0`,color:S,cursor:"pointer","&-in-view":{color:N}},xn(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(I).mul(4).equal()},[r]:{padding:`0 ${(0,an.bf)(l)}`}},"&-quarter-panel":{[`${t}-content`]:{height:M}},"&-decade-panel":{[r]:{padding:`0 ${(0,an.bf)(e.calc(l).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${(0,an.bf)(l)}`},[r]:{width:o}},"&-date-panel":{[`${t}-body`]:{padding:`${(0,an.bf)(l)} ${(0,an.bf)(z)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel":{[`${t}-cell`]:{[`&:hover ${r},\n            &-selected ${r},\n            ${r}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${x}`},"&:first-child:before":{borderStartStartRadius:P,borderEndStartRadius:P},"&:last-child:before":{borderStartEndRadius:P,borderEndEndRadius:P}},"&:hover td:before":{background:O},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${n}`]:{"&:before":{background:g},[`&${t}-cell-week`]:{color:new bn.t(T).setA(.5).toHexString()},[r]:{color:T}}},"&-range-hover td:before":{background:R}}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${(0,an.bf)(l)} ${(0,an.bf)(s)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${(0,an.bf)(d)} ${f} ${h}`},[`${t}-date-panel,\n          ${t}-time-panel`]:{transition:`opacity ${j}`},"&-active":{[`${t}-date-panel,\n            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:D},"&-column":{flex:"1 0 auto",width:A,margin:`${(0,an.bf)(c)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${x}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${(0,an.bf)(Z)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${(0,an.bf)(d)} ${f} ${h}`},"&-active":{background:new bn.t(R).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:F,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(A).sub(e.calc(F).mul(2)).equal(),height:Z,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(A).sub(Z).div(2).equal(),color:N,lineHeight:(0,an.bf)(Z),borderRadius:P,cursor:"pointer",transition:`background ${x}`,"&:hover":{background:O}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:R}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:S,background:"transparent",cursor:"not-allowed"}}}}}}}}};var wn=e=>{const{componentCls:t,textHeight:n,lineWidth:r,paddingSM:o,antCls:a,colorPrimary:i,cellActiveWithRangeBg:s,colorPrimaryBorder:l,lineType:c,colorSplit:u}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${(0,an.bf)(r)} ${c} ${u}`,"&-extra":{padding:`0 ${(0,an.bf)(o)}`,lineHeight:(0,an.bf)(e.calc(n).sub(e.calc(r).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${(0,an.bf)(r)} ${c} ${u}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:(0,an.bf)(o),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:(0,an.bf)(e.calc(n).sub(e.calc(r).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${a}-tag-blue`]:{color:i,background:s,borderColor:l,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(r).mul(2).equal(),marginInlineStart:"auto"}}}}};var kn=n(93900);var Cn=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},(0,kn.qG)(e)),(0,kn.vc)(e)),(0,kn.H8)(e)),(0,kn.Mu)(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,an.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${(0,an.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,an.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,an.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}};const Sn=(e,t,n,r)=>{const o=e.calc(n).add(2).equal(),a=e.max(e.calc(t).sub(o).div(2).equal(),0),i=e.max(e.calc(t).sub(o).sub(a).equal(),0);return{padding:`${(0,an.bf)(a)} ${(0,an.bf)(r)} ${(0,an.bf)(i)}`}},Nn=e=>{const{componentCls:t,colorError:n,colorWarning:r}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:n}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:r}}}}},En=e=>{const{componentCls:t,antCls:n,controlHeight:r,paddingInline:o,lineWidth:a,lineType:i,colorBorder:s,borderRadius:l,motionDurationMid:c,colorTextDisabled:u,colorTextPlaceholder:d,controlHeightLG:f,fontSizeLG:p,controlHeightSM:g,paddingInlineSM:m,paddingXS:h,marginXS:v,colorTextDescription:y,lineWidthBold:b,colorPrimary:x,motionDurationSlow:_,zIndexPopup:w,paddingXXS:k,sizePopupArrow:C,colorBgElevated:S,borderRadiusLG:N,boxShadowSecondary:E,borderRadiusSM:j,colorSplit:I,cellHoverBg:M,presetsWidth:P,presetsMaxWidth:T,boxShadowPopoverArrow:O,fontHeight:D,fontHeightLG:A,lineHeightLG:Z}=e;return[{[t]:Object.assign(Object.assign(Object.assign({},(0,cn.Wf)(e)),Sn(e,r,D,o)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:l,transition:`border ${c}, box-shadow ${c}, background ${c}`,[`${t}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${t}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:e.fontSize,lineHeight:e.lineHeight,transition:`all ${c}`},(0,sn.nz)(d)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:u,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:d}}},"&-large":Object.assign(Object.assign({},Sn(e,f,A,o)),{[`${t}-input > input`]:{fontSize:p,lineHeight:Z}}),"&-small":Object.assign({},Sn(e,g,D,m)),[`${t}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(h).div(2).equal(),color:u,lineHeight:1,pointerEvents:"none",transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:v}}},[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:u,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top"},"&:hover":{color:y}},"&:hover":{[`${t}-clear`]:{opacity:1},[`${t}-suffix:not(:last-child)`]:{opacity:0}},[`${t}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:p,color:u,fontSize:p,verticalAlign:"top",cursor:"default",[`${t}-focused &`]:{color:y},[`${t}-range-separator &`]:{[`${t}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${t}-active-bar`]:{bottom:e.calc(a).mul(-1).equal(),height:b,background:x,opacity:0,transition:`all ${_} ease-out`,pointerEvents:"none"},[`&${t}-focused`]:{[`${t}-active-bar`]:{opacity:1}},[`${t}-range-separator`]:{alignItems:"center",padding:`0 ${(0,an.bf)(h)}`,lineHeight:1}},"&-range, &-multiple":{[`${t}-clear`]:{insetInlineEnd:o},[`&${t}-small`]:{[`${t}-clear`]:{insetInlineEnd:m}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},(0,cn.Wf)(e)),_n(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:w,[`&${t}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${t}-dropdown-placement-bottomLeft,\n            &${t}-dropdown-placement-bottomRight`]:{[`${t}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${t}-dropdown-placement-topLeft,\n            &${t}-dropdown-placement-topRight`]:{[`${t}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${n}-slide-up-appear, &${n}-slide-up-enter`]:{[`${t}-range-arrow${t}-range-arrow`]:{transition:"none"}},[`&${n}-slide-up-enter${n}-slide-up-enter-active${t}-dropdown-placement-topLeft,\n          &${n}-slide-up-enter${n}-slide-up-enter-active${t}-dropdown-placement-topRight,\n          &${n}-slide-up-appear${n}-slide-up-appear-active${t}-dropdown-placement-topLeft,\n          &${n}-slide-up-appear${n}-slide-up-appear-active${t}-dropdown-placement-topRight`]:{animationName:dn.Qt},[`&${n}-slide-up-enter${n}-slide-up-enter-active${t}-dropdown-placement-bottomLeft,\n          &${n}-slide-up-enter${n}-slide-up-enter-active${t}-dropdown-placement-bottomRight,\n          &${n}-slide-up-appear${n}-slide-up-appear-active${t}-dropdown-placement-bottomLeft,\n          &${n}-slide-up-appear${n}-slide-up-appear-active${t}-dropdown-placement-bottomRight`]:{animationName:dn.fJ},[`&${n}-slide-up-leave ${t}-panel-container`]:{pointerEvents:"none"},[`&${n}-slide-up-leave${n}-slide-up-leave-active${t}-dropdown-placement-topLeft,\n          &${n}-slide-up-leave${n}-slide-up-leave-active${t}-dropdown-placement-topRight`]:{animationName:dn.ly},[`&${n}-slide-up-leave${n}-slide-up-leave-active${t}-dropdown-placement-bottomLeft,\n          &${n}-slide-up-leave${n}-slide-up-leave-active${t}-dropdown-placement-bottomRight`]:{animationName:dn.Uw},[`${t}-panel > ${t}-time-panel`]:{paddingTop:k},[`${t}-range-wrapper`]:{display:"flex",position:"relative"},[`${t}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(o).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${_} ease-out`},(0,pn.W)(e,S,O)),{"&:before":{insetInlineStart:e.calc(o).mul(1.5).equal()}}),[`${t}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:S,borderRadius:N,boxShadow:E,transition:`margin ${_}`,display:"inline-block",pointerEvents:"auto",[`${t}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${t}-presets`]:{display:"flex",flexDirection:"column",minWidth:P,maxWidth:T,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:h,borderInlineEnd:`${(0,an.bf)(a)} ${i} ${I}`,li:Object.assign(Object.assign({},cn.vS),{borderRadius:j,paddingInline:h,paddingBlock:e.calc(g).sub(D).div(2).equal(),cursor:"pointer",transition:`all ${_}`,"+ li":{marginTop:v},"&:hover":{background:M}})}},[`${t}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${t}-panel`]:{borderWidth:0}}},[`${t}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${t}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:s}}}}),"&-dropdown-range":{padding:`${(0,an.bf)(e.calc(C).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${t}-separator`]:{transform:"scale(-1, 1)"},[`${t}-footer`]:{"&-extra":{direction:"rtl"}}}})},(0,dn.oN)(e,"slide-up"),(0,dn.oN)(e,"slide-down"),(0,fn.Fm)(e,"move-up"),(0,fn.Fm)(e,"move-down")]};var jn=(0,gn.I$)("DatePicker",(e=>{const t=(0,mn.IX)((0,ln.e)(e),(e=>{const{componentCls:t,controlHeightLG:n,paddingXXS:r,padding:o}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(r).add(e.calc(r).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(o).add(e.calc(r).div(2)).equal()}})(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[wn(t),En(t),Cn(t),Nn(t),yn(t),(0,un.c)(e,{focusElCls:`${e.componentCls}-focused`})]}),(e=>Object.assign(Object.assign(Object.assign(Object.assign({},(0,ln.T)(e)),(e=>{const{colorBgContainerDisabled:t,controlHeight:n,controlHeightSM:r,controlHeightLG:o,paddingXXS:a,lineWidth:i}=e,s=2*a,l=2*i,c=Math.min(n-s,n-l),u=Math.min(r-s,r-l),d=Math.min(o-s,o-l);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(a/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new bn.t(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new bn.t(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:1.4*o,timeColumnHeight:224,timeCellHeight:28,cellWidth:1.5*r,cellHeight:r,textHeight:o,withoutTimeCellHeight:1.65*o,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:c,multipleItemHeightSM:u,multipleItemHeightLG:d,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}})(e)),(0,pn.w)(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}))),In=n(43277);function Mn(e,t,n){return void 0!==n?n:"year"===t&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:"quarter"===t&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:"month"===t&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:"week"===t&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:"time"===t&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function Pn(e,t,n){return void 0!==n?n:"year"===t&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:"quarter"===t&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:"month"===t&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:"week"===t&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:"time"===t&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function Tn(e,t){const{allowClear:n=!0}=e,{clearIcon:r,removeIcon:o}=(0,In.Z)(Object.assign(Object.assign({},e),{prefixCls:t,componentName:"DatePicker"}));return[_.useMemo((()=>{if(!1===n)return!1;const e=!0===n?{}:n;return Object.assign({clearIcon:r},e)}),[n,r]),o]}const[On,Dn]=["week","WeekPicker"],[An,Zn]=["month","MonthPicker"],[Rn,Fn]=["year","YearPicker"],[zn,Ln]=["quarter","QuarterPicker"],[Bn,$n]=["time","TimePicker"];var Hn=n(77683);var Vn=e=>_.createElement(Hn.ZP,Object.assign({size:"small",type:"primary"},e));function Wn(e){return(0,_.useMemo)((()=>Object.assign({button:Vn},e)),[e])}var Kn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var Yn=e=>{const t=(0,_.forwardRef)(((t,n)=>{var r;const{prefixCls:o,getPopupContainer:a,components:i,className:s,style:l,placement:c,size:u,disabled:d,bordered:f=!0,placeholder:p,popupClassName:g,dropdownClassName:m,status:h,rootClassName:v,variant:y,picker:b}=t,x=Kn(t,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant","picker"]),k=_.useRef(null),{getPrefixCls:C,direction:S,getPopupContainer:N,rangePicker:j}=(0,_.useContext)(Ut.E_),I=C("picker",o),{compactSize:P,compactItemClassnames:O}=(0,rn.ri)(I,S),D=C(),[A,Z]=(0,tn.Z)("rangePicker",y,f),R=(0,Jt.Z)(I),[F,z,L]=jn(I,R);const[B]=Tn(t,I),$=Wn(i),H=(0,Qt.Z)((e=>{var t;return null!==(t=null!=u?u:P)&&void 0!==t?t:e})),V=_.useContext(Xt.Z),W=null!=d?d:V,K=(0,_.useContext)(en.aM),{hasFeedback:Y,status:G,feedbackIcon:q}=K,U=_.createElement(_.Fragment,null,b===Bn?_.createElement(E,null):_.createElement(w.Z,null),Y&&q);(0,_.useImperativeHandle)(n,(()=>k.current));const[X]=(0,nn.Z)("Calendar",on.Z),J=Object.assign(Object.assign({},X),t.locale),[Q]=(0,Gt.Cn)("DatePicker",null===(r=t.popupStyle)||void 0===r?void 0:r.zIndex);return F(_.createElement(Yt.Z,{space:!0},_.createElement(zt,Object.assign({separator:_.createElement("span",{"aria-label":"to",className:`${I}-separator`},_.createElement(M,null)),disabled:W,ref:k,placement:c,placeholder:Pn(J,b,p),suffixIcon:U,prevIcon:_.createElement("span",{className:`${I}-prev-icon`}),nextIcon:_.createElement("span",{className:`${I}-next-icon`}),superPrevIcon:_.createElement("span",{className:`${I}-super-prev-icon`}),superNextIcon:_.createElement("span",{className:`${I}-super-next-icon`}),transitionName:`${D}-slide-up`,picker:b},x,{className:T()({[`${I}-${H}`]:H,[`${I}-${A}`]:Z},(0,qt.Z)(I,(0,qt.F)(G,h),Y),z,O,s,null==j?void 0:j.className,L,R,v),style:Object.assign(Object.assign({},null==j?void 0:j.style),l),locale:J.lang,prefixCls:I,getPopupContainer:a||N,generateConfig:e,components:$,direction:S,classNames:{popup:T()(z,g||m,L,R,v)},styles:{popup:Object.assign(Object.assign({},t.popupStyle),{zIndex:Q})},allowClear:B}))))}));return t},Gn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var qn=e=>{const t=(t,n)=>{const r=n===$n?"timePicker":"datePicker",o=(0,_.forwardRef)(((n,o)=>{var a;const{prefixCls:i,getPopupContainer:s,components:l,style:c,className:u,rootClassName:d,size:f,bordered:p,placement:g,placeholder:m,popupClassName:h,dropdownClassName:v,disabled:y,status:b,variant:x,onCalendarChange:k}=n,C=Gn(n,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:S,direction:N,getPopupContainer:j,[r]:I}=(0,_.useContext)(Ut.E_),M=S("picker",i),{compactSize:P,compactItemClassnames:O}=(0,rn.ri)(M,N),D=_.useRef(null),[A,Z]=(0,tn.Z)("datePicker",x,p),R=(0,Jt.Z)(M),[F,z,L]=jn(M,R);(0,_.useImperativeHandle)(o,(()=>D.current));const B=t||n.picker,$=S(),{onSelect:H,multiple:V}=C,W=H&&"time"===t&&!V;const[K,Y]=Tn(n,M),G=Wn(l),q=(0,Qt.Z)((e=>{var t;return null!==(t=null!=f?f:P)&&void 0!==t?t:e})),U=_.useContext(Xt.Z),X=null!=y?y:U,J=(0,_.useContext)(en.aM),{hasFeedback:Q,status:ee,feedbackIcon:te}=J,ne=_.createElement(_.Fragment,null,"time"===B?_.createElement(E,null):_.createElement(w.Z,null),Q&&te),[re]=(0,nn.Z)("DatePicker",on.Z),oe=Object.assign(Object.assign({},re),n.locale),[ae]=(0,Gt.Cn)("DatePicker",null===(a=n.popupStyle)||void 0===a?void 0:a.zIndex);return F(_.createElement(Yt.Z,{space:!0},_.createElement(Kt,Object.assign({ref:D,placeholder:Mn(oe,B,m),suffixIcon:ne,placement:g,prevIcon:_.createElement("span",{className:`${M}-prev-icon`}),nextIcon:_.createElement("span",{className:`${M}-next-icon`}),superPrevIcon:_.createElement("span",{className:`${M}-super-prev-icon`}),superNextIcon:_.createElement("span",{className:`${M}-super-next-icon`}),transitionName:`${$}-slide-up`,picker:t,onCalendarChange:(e,t,n)=>{null==k||k(e,t,n),W&&H(e)}},{showToday:!0},C,{locale:oe.lang,className:T()({[`${M}-${q}`]:q,[`${M}-${A}`]:Z},(0,qt.Z)(M,(0,qt.F)(ee,b),Q),z,O,null==I?void 0:I.className,u,L,R,d),style:Object.assign(Object.assign({},null==I?void 0:I.style),c),prefixCls:M,getPopupContainer:s||j,generateConfig:e,components:G,direction:N,disabled:X,classNames:{popup:T()(z,L,R,d,h||v)},styles:{popup:Object.assign(Object.assign({},n.popupStyle),{zIndex:ae})},allowClear:K,removeIcon:Y}))))}));return o},n=t(),r=t(On,Dn),o=t(An,Zn),a=t(Rn,Fn),i=t(zn,Ln);return{DatePicker:n,WeekPicker:r,MonthPicker:o,YearPicker:a,TimePicker:t(Bn,$n),QuarterPicker:i}};var Un=e=>{const{DatePicker:t,WeekPicker:n,MonthPicker:r,YearPicker:o,TimePicker:a,QuarterPicker:i}=qn(e),s=Yn(e),l=t;return l.WeekPicker=n,l.MonthPicker=r,l.YearPicker=o,l.RangePicker=s,l.TimePicker=a,l.QuarterPicker=i,l};const Xn=Un(b),Jn=(0,x.Z)(Xn,"popupAlign",void 0,"picker");Xn._InternalPanelDoNotUseOrYouWillBeFired=Jn;const Qn=(0,x.Z)(Xn.RangePicker,"popupAlign",void 0,"picker");Xn._InternalRangePanelDoNotUseOrYouWillBeFired=Qn,Xn.generatePicker=Un;var er=Xn},99363:function(e,t){"use strict";var n=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function r(e){return e[Math.floor(Math.random()*e.length)]}function o(e){return e.reduce((function(e,t){return e.length>t.length?e:t}))}function a(e){return e.reduce((function(e,t){return e.length<t.length?e:t}))}function i(e){void 0===e&&(e={}),"string"==typeof e&&(e={separator:e}),"boolean"==typeof e&&(e={capitalize:e});var o=e.separator,a=void 0===o?"":o,i=e.capitalize,s=void 0===i||i,l=e.adjectiveCount,c=void 0===l?1:l,u=e.addAdverb,d=void 0!==u&&u,f=n(n(n([],n([],Array(c),!0).map((function(e){return r(t.adjectives)})),!0),[r(t.nouns),r(t.verbs)],!1),d?[r(t.adverbs)]:[],!0);return s&&(f=f.map((function(e){return e.charAt(0).toUpperCase()+e.substr(1)}))),f.join(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.minLength=t.maxLength=t.poolSize=t.humanId=t.adverbs=t.verbs=t.nouns=t.adjectives=void 0,t.adjectives=["afraid","all","angry","beige","big","better","bitter","blue","brave","breezy","bright","brown","bumpy","busy","calm","chatty","chilly","chubby","clean","clear","clever","cold","crazy","cruel","cuddly","curly","curvy","cute","common","cold","cool","cyan","dark","deep","dirty","dry","dull","eager","early","easy","eight","eighty","eleven","empty","every","evil","fair","famous","fast","fancy","few","fine","fifty","five","flat","fluffy","floppy","forty","four","free","fresh","fruity","full","funny","fuzzy","gentle","giant","gold","good","great","green","grumpy","happy","heavy","hip","honest","hot","huge","hungry","icy","itchy","khaki","kind","large","late","lazy","lemon","legal","light","little","long","loose","loud","lovely","lucky","major","many","mean","metal","mighty","modern","moody","nasty","neat","new","nice","nine","ninety","odd","old","olive","open","orange","pink","plain","plenty","polite","poor","pretty","proud","public","puny","petite","purple","quick","quiet","rare","real","ready","red","rich","ripe","rotten","rude","sad","salty","seven","shaggy","shaky","sharp","shiny","short","shy","silent","silly","silver","six","sixty","slick","slimy","slow","small","smart","smooth","social","soft","solid","some","sour","spicy","spotty","stale","strong","stupid","sweet","swift","tall","tame","tangy","tasty","ten","tender","thick","thin","thirty","three","tidy","tiny","tired","tough","tricky","true","twelve","twenty","two","upset","vast","violet","warm","weak","wet","whole","wicked","wide","wild","wise","witty","yellow","young","yummy"],t.nouns=["apes","animals","areas","bars","banks","baths","breads","bushes","cloths","clowns","clubs","hoops","loops","memes","papers","parks","paths","showers","sides","signs","sites","streets","teeth","tires","webs","actors","ads","adults","aliens","ants","apples","baboons","badgers","bags","bananas","bats","beans","bears","beds","beers","bees","berries","bikes","birds","boats","bobcats","books","bottles","boxes","brooms","buckets","bugs","buses","buttons","camels","cases","cameras","candies","candles","carpets","carrots","carrots","cars","cats","chairs","chefs","chicken","clocks","clouds","coats","cobras","coins","corners","colts","comics","cooks","cougars","regions","results","cows","crabs","crabs","crews","cups","cities","cycles","dancers","days","deer","dingos","dodos","dogs","dolls","donkeys","donuts","doodles","doors","dots","dragons","drinks","dryers","ducks","ducks","eagles","ears","eels","eggs","ends","mammals","emus","experts","eyes","facts","falcons","fans","feet","files","flies","flowers","forks","foxes","friends","frogs","games","garlics","geckos","geese","ghosts","ghosts","gifts","glasses","goats","grapes","groups","guests","hairs","hands","hats","heads","hornets","horses","hotels","hounds","houses","humans","icons","ideas","impalas","insects","islands","items","jars","jeans","jobs","jokes","keys","kids","kings","kiwis","knives","lamps","lands","laws","lemons","lies","lights","lines","lions","lizards","llamas","mails","mangos","maps","masks","meals","melons","mice","mirrors","moments","moles","monkeys","months","moons","moose","mugs","nails","needles","news","nights","numbers","olives","onions","oranges","otters","owls","pandas","pans","pants","papayas","parents","parts","parrots","paws","peaches","pears","peas","pens","pets","phones","pianos","pigs","pillows","places","planes","planets","plants","plums","poems","poets","points","pots","pugs","pumas","queens","rabbits","radios","rats","ravens","readers","rice","rings","rivers","rockets","rocks","rooms","roses","rules","schools","bats","seals","seas","sheep","shirts","shoes","shrimps","singers","sloths","snails","snakes","socks","spiders","spies","spoons","squids","stars","states","steaks","wings","suits","suns","swans","symbols","tables","taxes","taxis","teams","terms","things","ties","tigers","times","tips","toes","towns","tools","toys","trains","trams","trees","turkeys","turtles","vans","views","walls","walls","wasps","waves","ways","weeks","windows","wolves","women","wombats","words","worlds","worms","yaks","years","zebras","zoos"],t.verbs=["accept","act","add","admire","agree","allow","appear","argue","arrive","ask","attack","attend","bake","bathe","battle","beam","beg","begin","behave","bet","boil","bow","brake","brush","build","burn","buy","call","camp","care","carry","change","cheat","check","cheer","chew","clap","clean","cough","count","cover","crash","create","cross","cry","cut","dance","decide","deny","design","dig","divide","do","double","doubt","draw","dream","dress","drive","drop","drum","eat","end","enter","enjoy","exist","fail","fall","feel","fetch","film","find","fix","flash","float","flow","fly","fold","follow","fry","give","glow","go","grab","greet","grin","grow","guess","hammer","hang","happen","heal","hear","help","hide","hope","hug","hunt","invent","invite","itch","jam","jog","join","joke","judge","juggle","jump","kick","kiss","kneel","knock","know","laugh","lay","lead","learn","leave","lick","like","lie","listen","live","look","lose","love","make","march","marry","mate","matter","melt","mix","move","nail","notice","obey","occur","open","own","pay","peel","play","poke","post","press","prove","pull","pump","pick","punch","push","raise","read","refuse","relate","relax","remain","repair","repeat","reply","report","rescue","rest","retire","return","rhyme","ring","roll","rule","run","rush","say","scream","see","search","sell","send","serve","shake","share","shave","shine","show","shop","shout","sin","sink","sing","sip","sit","sleep","slide","smash","smell","smile","smoke","sneeze","sniff","sort","speak","spend","stand","start","stay","stick","stop","stare","study","strive","swim","switch","take","talk","tan","tap","taste","teach","tease","tell","thank","think","throw","tickle","tie","trade","train","travel","try","turn","type","unite","vanish","visit","wait","walk","warn","wash","watch","wave","wear","win","wink","wish","wonder","work","worry","write","yawn","yell"],t.adverbs=["bravely","brightly","busily","daily","freely","hungrily","joyously","knowlingly","lazily","oddly","mysteriously","noisily","politely","quickly","quietly","rapidly","safely","sleepily","slowly","truly","yearly"],t.humanId=i,t.poolSize=function(e){void 0===e&&(e={});var n=e.adjectiveCount,r=void 0===n?1:n,o=e.addAdverb,a=void 0!==o&&o;return t.adjectives.length*r*t.nouns.length*t.verbs.length*(a?t.adverbs.length:1)},t.maxLength=function(e){void 0===e&&(e={});var n=e.adjectiveCount,r=void 0===n?1:n,a=e.addAdverb,i=void 0!==a&&a,s=e.separator,l=void 0===s?"":s;return o(t.adjectives).length*r+r*l.length+o(t.nouns).length+l.length+o(t.verbs).length+(i?o(t.adverbs).length+l.length:0)},t.minLength=function(e){void 0===e&&(e={});var n=e.adjectiveCount,r=void 0===n?1:n,o=e.addAdverb,i=void 0!==o&&o,s=e.separator,l=void 0===s?"":s;return a(t.adjectives).length*r+r*l.length+a(t.nouns).length+l.length+a(t.verbs).length+(i?a(t.adverbs).length+l.length:0)},t.default=i},96425:function(e,t,n){var r=n(3118),o=n(9435);function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}a.prototype=r(o.prototype),a.prototype.constructor=a,e.exports=a},7548:function(e,t,n){var r=n(3118),o=n(9435);function a(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}a.prototype=r(o.prototype),a.prototype.constructor=a,e.exports=a},47443:function(e,t,n){var r=n(42118);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1196:function(e){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},20731:function(e,t,n){var r=n(88668),o=n(47443),a=n(1196),i=n(29932),s=n(51717),l=n(74757);e.exports=function(e,t,n,c){var u=-1,d=o,f=!0,p=e.length,g=[],m=t.length;if(!p)return g;n&&(t=i(t,s(n))),c?(d=a,f=!1):t.length>=200&&(d=l,f=!1,t=new r(t));e:for(;++u<p;){var h=e[u],v=null==n?h:n(h);if(h=c||0!==h?h:0,f&&v==v){for(var y=m;y--;)if(t[y]===v)continue e;g.push(h)}else d(t,v,c)||g.push(h)}return g}},41848:function(e){e.exports=function(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}},13:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},42118:function(e,t,n){var r=n(41848),o=n(62722),a=n(39375);e.exports=function(e,t,n){return t==t?a(e,t,n):r(e,o,n)}},47556:function(e,t,n){var r=n(88668),o=n(47443),a=n(1196),i=n(29932),s=n(51717),l=n(74757),c=Math.min;e.exports=function(e,t,n){for(var u=n?a:o,d=e[0].length,f=e.length,p=f,g=Array(f),m=1/0,h=[];p--;){var v=e[p];p&&t&&(v=i(v,s(t))),m=c(v.length,m),g[p]=!n&&(t||d>=120&&v.length>=120)?new r(p&&v):void 0}v=e[0];var y=-1,b=g[0];e:for(;++y<d&&h.length<m;){var x=v[y],_=t?t(x):x;if(x=n||0!==x?x:0,!(b?l(b,_):u(h,_,n))){for(p=f;--p;){var w=g[p];if(!(w?l(w,_):u(e[p],_,n)))continue e}b&&b.push(_),h.push(x)}}return h}},2958:function(e,t,n){var r=n(46384),o=n(90939);e.exports=function(e,t,n,a){var i=n.length,s=i,l=!a;if(null==e)return!s;for(e=Object(e);i--;){var c=n[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var u=(c=n[i])[0],d=e[u],f=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(a)var g=a(d,f,u,e,t,p);if(!(void 0===g?o(f,d,3,a,p):g))return!1}}return!0}},62722:function(e){e.exports=function(e){return e!=e}},67206:function(e,t,n){var r=n(91573),o=n(16432),a=n(6557),i=n(1469),s=n(39601);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?i(e)?o(e[0],e[1]):r(e):s(e)}},9435:function(e){e.exports=function(){}},91573:function(e,t,n){var r=n(2958),o=n(1499),a=n(42634);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},16432:function(e,t,n){var r=n(90939),o=n(27361),a=n(79095),i=n(15403),s=n(89162),l=n(42634),c=n(40327);e.exports=function(e,t){return i(e)&&s(t)?l(c(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?a(n,e):r(t,i,3)}}},25970:function(e,t,n){var r=n(63012),o=n(79095);e.exports=function(e,t){return r(e,t,(function(t,n){return o(e,n)}))}},63012:function(e,t,n){var r=n(97786),o=n(10611),a=n(71811);e.exports=function(e,t,n){for(var i=-1,s=t.length,l={};++i<s;){var c=t[i],u=r(e,c);n(u,c)&&o(l,a(c,e),u)}return l}},40371:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},79152:function(e,t,n){var r=n(97786);e.exports=function(e){return function(t){return r(t,e)}}},5976:function(e,t,n){var r=n(6557),o=n(45357),a=n(30061);e.exports=function(e,t){return a(o(e,t,r),e+"")}},10611:function(e,t,n){var r=n(34865),o=n(71811),a=n(65776),i=n(13218),s=n(40327);e.exports=function(e,t,n,l){if(!i(e))return e;for(var c=-1,u=(t=o(t,e)).length,d=u-1,f=e;null!=f&&++c<u;){var p=s(t[c]),g=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=d){var m=f[p];void 0===(g=l?l(m,p,f):void 0)&&(g=i(m)?m:a(t[c+1])?[]:{})}r(f,p,g),f=f[p]}return e}},28045:function(e,t,n){var r=n(6557),o=n(89250),a=o?function(e,t){return o.set(e,t),e}:r;e.exports=a},24387:function(e,t,n){var r=n(29246);e.exports=function(e){return r(e)?e:[]}},52157:function(e){var t=Math.max;e.exports=function(e,n,r,o){for(var a=-1,i=e.length,s=r.length,l=-1,c=n.length,u=t(i-s,0),d=Array(c+u),f=!o;++l<c;)d[l]=n[l];for(;++a<s;)(f||a<i)&&(d[r[a]]=e[a]);for(;u--;)d[l++]=e[a++];return d}},14054:function(e){var t=Math.max;e.exports=function(e,n,r,o){for(var a=-1,i=e.length,s=-1,l=r.length,c=-1,u=n.length,d=t(i-l,0),f=Array(d+u),p=!o;++a<d;)f[a]=e[a];for(var g=a;++c<u;)f[g+c]=n[c];for(;++s<l;)(p||a<i)&&(f[g+r[s]]=e[a++]);return f}},97991:function(e){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},22402:function(e,t,n){var r=n(71774),o=n(55639);e.exports=function(e,t,n){var a=1&t,i=r(e);return function t(){return(this&&this!==o&&this instanceof t?i:e).apply(a?n:this,arguments)}}},71774:function(e,t,n){var r=n(3118),o=n(13218);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),a=e.apply(n,t);return o(a)?a:n}}},46347:function(e,t,n){var r=n(96874),o=n(71774),a=n(86935),i=n(94487),s=n(20893),l=n(46460),c=n(55639);e.exports=function(e,t,n){var u=o(e);return function o(){for(var d=arguments.length,f=Array(d),p=d,g=s(o);p--;)f[p]=arguments[p];var m=d<3&&f[0]!==g&&f[d-1]!==g?[]:l(f,g);return(d-=m.length)<n?i(e,t,a,o.placeholder,void 0,f,m,void 0,void 0,n-d):r(this&&this!==c&&this instanceof o?u:e,this,f)}}},23468:function(e,t,n){var r=n(7548),o=n(99021),a=n(66833),i=n(97658),s=n(1469),l=n(86528);e.exports=function(e){return o((function(t){var n=t.length,o=n,c=r.prototype.thru;for(e&&t.reverse();o--;){var u=t[o];if("function"!=typeof u)throw new TypeError("Expected a function");if(c&&!d&&"wrapper"==i(u))var d=new r([],!0)}for(o=d?o:n;++o<n;){u=t[o];var f=i(u),p="wrapper"==f?a(u):void 0;d=p&&l(p[0])&&424==p[1]&&!p[4].length&&1==p[9]?d[i(p[0])].apply(d,p[3]):1==u.length&&l(u)?d[f]():d.thru(u)}return function(){var e=arguments,r=e[0];if(d&&1==e.length&&s(r))return d.plant(r).value();for(var o=0,a=n?t[o].apply(this,e):r;++o<n;)a=t[o].call(this,a);return a}}))}},86935:function(e,t,n){var r=n(52157),o=n(14054),a=n(97991),i=n(71774),s=n(94487),l=n(20893),c=n(90451),u=n(46460),d=n(55639);e.exports=function e(t,n,f,p,g,m,h,v,y,b){var x=128&n,_=1&n,w=2&n,k=24&n,C=512&n,S=w?void 0:i(t);return function N(){for(var E=arguments.length,j=Array(E),I=E;I--;)j[I]=arguments[I];if(k)var M=l(N),P=a(j,M);if(p&&(j=r(j,p,g,k)),m&&(j=o(j,m,h,k)),E-=P,k&&E<b){var T=u(j,M);return s(t,n,e,N.placeholder,f,j,T,v,y,b-E)}var O=_?f:this,D=w?O[t]:t;return E=j.length,v?j=c(j,v):C&&E>1&&j.reverse(),x&&y<E&&(j.length=y),this&&this!==d&&this instanceof N&&(D=S||i(D)),D.apply(O,j)}}},84375:function(e,t,n){var r=n(96874),o=n(71774),a=n(55639);e.exports=function(e,t,n,i){var s=1&t,l=o(e);return function t(){for(var o=-1,c=arguments.length,u=-1,d=i.length,f=Array(d+c),p=this&&this!==a&&this instanceof t?l:e;++u<d;)f[u]=i[u];for(;c--;)f[u++]=arguments[++o];return r(p,s?n:this,f)}}},94487:function(e,t,n){var r=n(86528),o=n(258),a=n(69255);e.exports=function(e,t,n,i,s,l,c,u,d,f){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var g=[e,t,s,p?l:void 0,p?c:void 0,p?void 0:l,p?void 0:c,u,d,f],m=n.apply(void 0,g);return r(e)&&o(m,g),m.placeholder=i,a(m,e,t)}},97727:function(e,t,n){var r=n(28045),o=n(22402),a=n(46347),i=n(86935),s=n(84375),l=n(66833),c=n(63833),u=n(258),d=n(69255),f=n(40554),p=Math.max;e.exports=function(e,t,n,g,m,h,v,y){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var x=g?g.length:0;if(x||(t&=-97,g=m=void 0),v=void 0===v?v:p(f(v),0),y=void 0===y?y:f(y),x-=m?m.length:0,64&t){var _=g,w=m;g=m=void 0}var k=b?void 0:l(e),C=[e,t,n,g,m,_,w,h,v,y];if(k&&c(C,k),e=C[0],t=C[1],n=C[2],g=C[3],m=C[4],!(y=C[9]=void 0===C[9]?b?0:e.length:p(C[9]-x,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||16==t?a(e,t,y):32!=t&&33!=t||m.length?i.apply(void 0,C):s(e,t,n,g);else var S=o(e,t,n);return d((k?r:u)(S,C),e,t)}},66833:function(e,t,n){var r=n(89250),o=n(28117),a=r?function(e){return r.get(e)}:o;e.exports=a},97658:function(e,t,n){var r=n(52060),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],a=o.call(r,t)?n.length:0;a--;){var i=n[a],s=i.func;if(null==s||s==e)return i.name}return t}},20893:function(e){e.exports=function(e){return e.placeholder}},1499:function(e,t,n){var r=n(89162),o=n(3674);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var a=t[n],i=e[a];t[n]=[a,i,r(i)]}return t}},58775:function(e){var t=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},222:function(e,t,n){var r=n(71811),o=n(35694),a=n(1469),i=n(65776),s=n(41780),l=n(40327);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var f=l(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&i(f,u)&&(a(e)||o(e))}},62689:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},83112:function(e){var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var o=r-1;return n[o]=(r>1?"& ":"")+n[o],n=n.join(r>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+n+"] */\n")}},86528:function(e,t,n){var r=n(96425),o=n(66833),a=n(97658),i=n(8111);e.exports=function(e){var t=a(e),n=i[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=o(n);return!!s&&e===s[0]}},89162:function(e,t,n){var r=n(13218);e.exports=function(e){return e==e&&!r(e)}},42634:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},63833:function(e,t,n){var r=n(52157),o=n(14054),a=n(46460),i="__lodash_placeholder__",s=128,l=Math.min;e.exports=function(e,t){var n=e[1],c=t[1],u=n|c,d=u<131,f=c==s&&8==n||c==s&&256==n&&e[7].length<=t[8]||384==c&&t[7].length<=t[8]&&8==n;if(!d&&!f)return e;1&c&&(e[2]=t[2],u|=1&n?0:4);var p=t[3];if(p){var g=e[3];e[3]=g?r(g,p,t[4]):p,e[4]=g?a(e[3],i):t[4]}return(p=t[5])&&(g=e[5],e[5]=g?o(g,p,t[6]):p,e[6]=g?a(e[5],i):t[6]),(p=t[7])&&(e[7]=p),c&s&&(e[8]=null==e[8]?t[8]:l(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}},89250:function(e,t,n){var r=n(70577),o=r&&new r;e.exports=o},52060:function(e){e.exports={}},90451:function(e,t,n){var r=n(6450),o=n(65776),a=Math.min;e.exports=function(e,t){for(var n=e.length,i=a(t.length,n),s=r(e);i--;){var l=t[i];e[i]=o(l,n)?s[l]:void 0}return e}},46460:function(e){var t="__lodash_placeholder__";e.exports=function(e,n){for(var r=-1,o=e.length,a=0,i=[];++r<o;){var s=e[r];s!==n&&s!==t||(e[r]=t,i[a++]=r)}return i}},258:function(e,t,n){var r=n(28045),o=n(21275)(r);e.exports=o},69255:function(e,t,n){var r=n(58775),o=n(83112),a=n(30061),i=n(87241);e.exports=function(e,t,n){var s=t+"";return a(e,o(s,i(r(s),n)))}},39375:function(e){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},87241:function(e,t,n){var r=n(77412),o=n(47443),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(a,(function(n){var r="_."+n[0];t&n[1]&&!o(e,r)&&e.push(r)})),e.sort()}},21913:function(e,t,n){var r=n(96425),o=n(7548),a=n(6450);e.exports=function(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=a(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},39514:function(e,t,n){var r=n(97727);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,128,void 0,void 0,void 0,void 0,t)}},66678:function(e,t,n){var r=n(85990);e.exports=function(e){return r(e,4)}},40087:function(e,t,n){var r=n(97727);function o(e,t,n){var a=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return a.placeholder=o.placeholder,a}o.placeholder={},e.exports=o},29521:function(e,t,n){var r=n(20731),o=n(21078),a=n(5976),i=n(29246),s=n(10928),l=a((function(e,t){var n=s(t);return i(n)&&(n=void 0),i(e)?r(e,o(t,1,i,!0),void 0,n):[]}));e.exports=l},59242:function(e,t,n){var r=n(23468)();e.exports=r},4269:function(e,t,n){e.exports={ary:n(39514),assign:n(44037),clone:n(66678),curry:n(40087),forEach:n(77412),isArray:n(1469),isError:n(64647),isFunction:n(23560),isWeakMap:n(81018),iteratee:n(72594),keys:n(280),rearg:n(4963),toInteger:n(40554),toPath:n(30084)}},92822:function(e,t,n){var r=n(84599),o=n(4269);e.exports=function(e,t,n){return r(o,e,t,n)}},8816:function(e,t,n){var r=n(92822)("flow",n(59242));r.placeholder=n(69306),e.exports=r},46898:function(e,t,n){e.exports=n(8816)},27361:function(e,t,n){var r=n(97786);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},79095:function(e,t,n){var r=n(13),o=n(222);e.exports=function(e,t){return null!=e&&o(e,t,r)}},33856:function(e,t,n){var r=n(29932),o=n(47556),a=n(5976),i=n(24387),s=n(10928),l=a((function(e){var t=s(e),n=r(e,i);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?o(n,void 0,t):[]}));e.exports=l},29246:function(e,t,n){var r=n(98612),o=n(37005);e.exports=function(e){return o(e)&&r(e)}},41609:function(e,t,n){var r=n(280),o=n(64160),a=n(35694),i=n(1469),s=n(98612),l=n(44144),c=n(25726),u=n(36719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||a(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},64647:function(e,t,n){var r=n(44239),o=n(37005),a=n(68630);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!a(e)}},81018:function(e,t,n){var r=n(64160),o=n(37005);e.exports=function(e){return o(e)&&"[object WeakMap]"==r(e)}},72594:function(e,t,n){var r=n(85990),o=n(67206);e.exports=function(e){return o("function"==typeof e?e:r(e,1))}},28117:function(e){e.exports=function(){}},78718:function(e,t,n){var r=n(25970),o=n(99021)((function(e,t){return null==e?{}:r(e,t)}));e.exports=o},39601:function(e,t,n){var r=n(40371),o=n(79152),a=n(15403),i=n(40327);e.exports=function(e){return a(e)?r(i(e)):o(e)}},4963:function(e,t,n){var r=n(97727),o=n(99021),a=o((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=a},36968:function(e,t,n){var r=n(10611);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},18601:function(e,t,n){var r=n(14841),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},40554:function(e,t,n){var r=n(18601);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},30084:function(e,t,n){var r=n(29932),o=n(6450),a=n(1469),i=n(33448),s=n(55514),l=n(40327),c=n(79833);e.exports=function(e){return a(e)?r(e,l):i(e)?[e]:o(s(c(e)))}},8111:function(e,t,n){var r=n(96425),o=n(7548),a=n(9435),i=n(1469),s=n(37005),l=n(21913),c=Object.prototype.hasOwnProperty;function u(e){if(s(e)&&!i(e)&&!(e instanceof r)){if(e instanceof o)return e;if(c.call(e,"__wrapped__"))return l(e)}return new o(e)}u.prototype=a.prototype,u.prototype.constructor=u,e.exports=u},53219:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4755:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("CirclePower",[["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M7.998 9.003a5 5 0 1 0 8-.005",key:"1pek45"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},87756:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]])},69035:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("CornerDownLeft",[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]])},95999:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},38560:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("IndentIncrease",[["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 18H11",key:"4wu86t"}],["path",{d:"M21 6H11",key:"6dy1d6"}],["path",{d:"m3 8 4 4-4 4",key:"1a3j6y"}]])},42989:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("IterationCcw",[["path",{d:"M20 10c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8h8",key:"4znkd0"}],["polyline",{points:"16 14 20 18 16 22",key:"11njsm"}]])},46609:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},71787:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},84031:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]])},35415:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("ListRestart",[["path",{d:"M21 6H3",key:"1jwq7v"}],["path",{d:"M7 12H3",key:"13ou7f"}],["path",{d:"M7 18H3",key:"1sijw9"}],["path",{d:"M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14",key:"qth677"}],["path",{d:"M11 10v4h4",key:"172dkj"}]])},36316:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7314:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},77325:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("Option",[["path",{d:"M3 3h6l6 18h6",key:"ph9rgk"}],["path",{d:"M14 3h7",key:"16f0ms"}]])},49482:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},31012:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},92817:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("Slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]])},57498:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("TextCursorInput",[["path",{d:"M5 4h1a3 3 0 0 1 3 3 3 3 0 0 1 3-3h1",key:"18xjzo"}],["path",{d:"M13 20h-1a3 3 0 0 1-3-3 3 3 0 0 1-3 3H5",key:"fj48gi"}],["path",{d:"M5 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h1",key:"1n9rhb"}],["path",{d:"M13 8h7a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-7",key:"13ksps"}],["path",{d:"M9 7v10",key:"1vc8ob"}]])},13318:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]])},13718:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6598:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]])},96749:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});const r=(0,n(91373).Z)("WrapText",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["path",{d:"M3 12h15a3 3 0 1 1 0 6h-4",key:"1cl7v7"}],["polyline",{points:"16 16 14 18 16 20",key:"1jznyi"}],["line",{x1:"3",x2:"10",y1:"18",y2:"18",key:"1h33wv"}]])},4279:function(){Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean},35433:function(){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},2731:function(){!function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism)},15251:function(){!function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism)},52503:function(){!function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)},39980:function(){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript},24064:function(){!function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),a=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+a+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+a+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+a+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var o=t[n];if("code"===o.type){var a=o.content[1],i=o.content[3];if(a&&i&&"code-language"===a.type&&"code-block"===i.type&&"string"==typeof a.content){var s=a.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());i.alias?"string"==typeof i.alias?i.alias=[i.alias,l]:i.alias.push(l):i.alias=[l]}}else e(o.content)}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,o=t.classes.length;r<o;r++){var a=t.classes[r],c=/language-(.+)/.exec(a);if(c){n=c[1];break}}var u,d=e.languages[n];if(d)t.content=e.highlight((u=t.content,u.replace(i,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(e,t){var n;if("#"===(t=t.toLowerCase())[0])return n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),l(n);var r=s[t];return r||e}))),d,n);else if(n&&"none"!==n&&e.plugins.autoloader){var f="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=f,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(f);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}}));var i=RegExp(e.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism)},24335:function(){Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},11426:function(){Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec},86862:function(){!function(e){var t=e.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};t.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:t},boolean:t.boolean,variable:t.variable}}(Prism)},80366:function(){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},70767:function(){!function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,(function(){return t}));t=t.replace(/<self>/g,(function(){return/[^\s\S]/.source})),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(Prism)},99339:function(){Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}},90874:function(){Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach((function(e){e.inside.interpolation.inside=Prism.languages.swift}))},96836:function(){!function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism)},15660:function(e,t,n){var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,a;switch(n=n||{},o.util.type(t)){case"Object":if(a=o.util.objId(t),n[a])return n[a];for(var i in r={},n[a]=r,t)t.hasOwnProperty(i)&&(r[i]=e(t[i],n));return r;case"Array":return a=o.util.objId(t),n[a]?n[a]:(r=[],n[a]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if(document.currentScript&&"SCRIPT"===document.currentScript.tagName)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var o=e.classList;if(o.contains(t))return!0;if(o.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var a=(r=r||o.languages)[e],i={};for(var s in a)if(a.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l]);n.hasOwnProperty(s)||(i[s]=a[s])}var c=r[e];return r[e]=i,o.languages.DFS(o.languages,(function(t,n){n===c&&t!=e&&(this[t]=i)})),i},DFS:function e(t,n,r,a){a=a||{};var i=o.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],c=o.util.type(l);"Object"!==c||a[i(l)]?"Array"!==c||a[i(l)]||(a[i(l)]=!0,e(l,n,s,a)):(a[i(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),o.hooks.run("before-all-elements-highlight",r);for(var a,i=0;a=r.elements[i++];)o.highlightElement(a,!0===t,r.callback)},highlightElement:function(t,n,r){var a=o.util.getLanguage(t),i=o.languages[a];o.util.setLanguage(t,a);var s=t.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&o.util.setLanguage(s,a);var l={element:t,language:a,grammar:i,code:t.textContent};function c(e){l.highlightedCode=e,o.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,o.hooks.run("after-highlight",l),o.hooks.run("complete",l),r&&r.call(l.element)}if(o.hooks.run("before-sanity-check",l),(s=l.element.parentElement)&&"pre"===s.nodeName.toLowerCase()&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","0"),!l.code)return o.hooks.run("complete",l),void(r&&r.call(l.element));if(o.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var u=new Worker(o.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(o.highlight(l.code,l.grammar,l.language));else c(o.util.encode(l.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=o.tokenize(r.code,r.grammar),o.hooks.run("after-tokenize",r),a.stringify(o.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new l;return c(o,o.head,e),s(e,o,t,o.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var r,a=0;r=n[a++];)r(t)}},Token:a};function a(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function i(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var a=o[1].length;o.index+=a,o[0]=o[0].slice(a)}return o}function s(e,t,n,r,l,d){for(var f in n)if(n.hasOwnProperty(f)&&n[f]){var p=n[f];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==f+","+g)return;var m=p[g],h=m.inside,v=!!m.lookbehind,y=!!m.greedy,b=m.alias;if(y&&!m.pattern.global){var x=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,x+"g")}for(var _=m.pattern||m,w=r.next,k=l;w!==t.tail&&!(d&&k>=d.reach);k+=w.value.length,w=w.next){var C=w.value;if(t.length>e.length)return;if(!(C instanceof a)){var S,N=1;if(y){if(!(S=i(_,k,e,v))||S.index>=e.length)break;var E=S.index,j=S.index+S[0].length,I=k;for(I+=w.value.length;E>=I;)I+=(w=w.next).value.length;if(k=I-=w.value.length,w.value instanceof a)continue;for(var M=w;M!==t.tail&&(I<j||"string"==typeof M.value);M=M.next)N++,I+=M.value.length;N--,C=e.slice(k,I),S.index-=k}else if(!(S=i(_,0,C,v)))continue;E=S.index;var P=S[0],T=C.slice(0,E),O=C.slice(E+P.length),D=k+C.length;d&&D>d.reach&&(d.reach=D);var A=w.prev;if(T&&(A=c(t,A,T),k+=T.length),u(t,A,N),w=c(t,A,new a(f,h?o.tokenize(P,h):P,b,P)),O&&c(t,w,O),N>1){var Z={cause:f+","+g,reach:D};s(e,t,n,w.prev,k,Z),d&&Z.reach>d.reach&&(d.reach=Z.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function u(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}if(e.Prism=o,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},i=t.alias;i&&(Array.isArray(i)?Array.prototype.push.apply(a.classes,i):a.classes.push(i)),o.hooks.run("wrap",a);var s="";for(var l in a.attributes)s+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+s+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,a=n.code,i=n.immediateClose;e.postMessage(o.highlight(a,o.languages[r],r)),i&&e.close()}),!1),o):o;var d=o.util.currentScript();function f(){o.manual||o.highlightAll()}if(d&&(o.filename=d.src,d.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return o}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=r),void 0!==n.g&&(n.g.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};o["language-"+t]={pattern:/[\s\S]+/,inside:r.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:o},r.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(e,t){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:r.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(void 0!==r&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},t="data-src-status",n="loading",o="loaded",a="pre[data-src]:not(["+t+'="'+o+'"]):not(['+t+'="'+n+'"])';r.hooks.add("before-highlightall",(function(e){e.selector+=", "+a})),r.hooks.add("before-sanity-check",(function(i){var s=i.element;if(s.matches(a)){i.code="",s.setAttribute(t,n);var l=s.appendChild(document.createElement("CODE"));l.textContent="Loading…";var c=s.getAttribute("data-src"),u=i.language;if("none"===u){var d=(/\.(\w+)$/.exec(c)||[,"none"])[1];u=e[d]||d}r.util.setLanguage(l,u),r.util.setLanguage(s,u);var f=r.plugins.autoloader;f&&f.loadLanguages(u),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&(r.status<400&&r.responseText?t(r.responseText):r.status>=400?n("✖ Error "+r.status+" while fetching file: "+r.statusText):n("✖ Error: File does not exist or is empty"))},r.send(null)}(c,(function(e){s.setAttribute(t,o);var n=function(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),r=t[2],o=t[3];return r?o?[n,Number(o)]:[n,void 0]:[n,n]}}(s.getAttribute("data-range"));if(n){var a=e.split(/\r\n?|\n/g),i=n[0],c=null==n[1]?a.length:n[1];i<0&&(i+=a.length),i=Math.max(0,Math.min(i-1,a.length)),c<0&&(c+=a.length),c=Math.max(0,Math.min(c,a.length)),e=a.slice(i,c).join("\n"),s.hasAttribute("data-start")||s.setAttribute("data-start",String(i+1))}l.textContent=e,r.highlightElement(l)}),(function(e){s.setAttribute(t,"failed"),l.textContent=e}))}})),r.plugins.fileHighlight={highlight:function(e){for(var t,n=(e||document).querySelectorAll(a),o=0;t=n[o++];)r.highlightElement(t)}};var i=!1;r.fileHighlight=function(){i||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),i=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}}()},83:function(e,t,n){"use strict";var r=n(67294);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,n,t]),i((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},26251:function(e,t,n){"use strict";var r=n(67294),o=n(61688);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,a(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(i=e,t):(i=e,s=n)}var i,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var p=i(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=p}),[p]),u(p),p}},61688:function(e,t,n){"use strict";e.exports=n(83)},52798:function(e,t,n){"use strict";e.exports=n(26251)},25098:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},26037:function(e,t,n){var r=n(48374),o=n(21771),a=n(73408);e.exports=function(e){var t=o();return function(){var n,o=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return a(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},48374:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},31996:function(e,t,n){var r=n(21314);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},21771:function(e){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},73408:function(e,t,n){var r=n(52677).default,o=n(25098);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},21314:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},63764:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.apply(n,[].concat(o,r))}}}function f(e){return{}.toString.call(e).includes("Object")}function p(e){return"function"==typeof e}n.d(t,{ZP:function(){return re},_m:function(){return B}});var g=d((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),m={changes:function(e,t){return f(t)||g("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&g("changeField"),t},selector:function(e){p(e)||g("selectorType")},handler:function(e){p(e)||f(e)||g("handlerType"),f(e)&&Object.values(e).some((function(e){return!p(e)}))&&g("handlersType")},initial:function(e){var t;e||g("initialIsRequired"),f(e)||g("initialType"),t=e,Object.keys(t).length||g("initialContent")}};function h(e,t){return p(t)?t(e.current):t}function v(e,t){return e.current=u(u({},e.current),t),t}function y(e,t,n){return p(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}var b={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.initial(e),m.handler(t);var n={current:e},r=d(y)(n,t),o=d(v)(n),a=d(m.changes)(e),i=d(h)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return m.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(r,o,a,i)(e)}]}},x=b,_={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};var w=function(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.apply(n,[].concat(o,r))}}};var k=function(e){return{}.toString.call(e).includes("Object")};var C={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},S=w((function(e,t){throw new Error(e[t]||e.default)}))(C),N={config:function(e){return e||S("configIsRequired"),k(e)||S("configType"),e.urls?(console.warn(C.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},E=N,j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};var I=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),a(a({},t),n)},M={type:"cancelation",msg:"operation is manually canceled"};var P=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(M):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n},T=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(x.create({config:_,isInitialized:!1,resolve:null,reject:null,monaco:null}),2),O=T[0],D=T[1];function A(e){return document.body.appendChild(e)}function Z(e){var t,n,r=O((function(e){return{config:e.config,reject:e.reject}})),o=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return o.onload=function(){return e()},o.onerror=r.reject,o}function R(){var e=O((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){F(t),e.resolve(t)}),(function(t){e.reject(t)}))}function F(e){O().monaco||D({monaco:e})}var z=new Promise((function(e,t){return D({resolve:e,reject:t})})),L={config:function(e){var t=E.config(e),n=t.monaco,r=i(t,["monaco"]);D((function(e){return{config:I(e.config,r),monaco:n}}))},init:function(){var e=O((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(D({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),P(z);if(window.monaco&&window.monaco.editor)return F(window.monaco),e.resolve(window.monaco),P(z);j(A,Z)(R)}return P(z)},__getMonacoInstance:function(){return O((function(e){return e.monaco}))}},B=L,$=n(67294),H={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},V={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var W=function({children:e}){return $.createElement("div",{style:V.container},e)};var K=function({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:a,wrapperProps:i}){return $.createElement("section",{style:{...H.wrapper,width:e,height:t},...i},!n&&$.createElement(W,null,r),$.createElement("div",{ref:o,style:{...H.fullWidth,...!n&&H.hide},className:a}))},Y=(0,$.memo)(K);var G=function(e){(0,$.useEffect)(e,[])};var q=function(e,t,n=!0){let r=(0,$.useRef)(!0);(0,$.useEffect)(r.current||!n?()=>{r.current=!1}:e,t)};function U(){}function X(e,t,n,r){return function(e,t){return e.editor.getModel(J(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?J(e,r):void 0)}(e,t,n,r)}function J(e,t){return e.Uri.parse(t)}var Q=function({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:a,modifiedModelPath:i,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:u="Loading...",options:d={},height:f="100%",width:p="100%",className:g,wrapperProps:m={},beforeMount:h=U,onMount:v=U}){let[y,b]=(0,$.useState)(!1),[x,_]=(0,$.useState)(!0),w=(0,$.useRef)(null),k=(0,$.useRef)(null),C=(0,$.useRef)(null),S=(0,$.useRef)(v),N=(0,$.useRef)(h),E=(0,$.useRef)(!1);G((()=>{let e=B.init();return e.then((e=>(k.current=e)&&_(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>w.current?function(){let e=w.current?.getModel();s||e?.original?.dispose(),l||e?.modified?.dispose(),w.current?.dispose()}():e.cancel()})),q((()=>{if(w.current&&k.current){let t=w.current.getOriginalEditor(),o=X(k.current,e||"",r||n||"text",a||"");o!==t.getModel()&&t.setModel(o)}}),[a],y),q((()=>{if(w.current&&k.current){let e=w.current.getModifiedEditor(),r=X(k.current,t||"",o||n||"text",i||"");r!==e.getModel()&&e.setModel(r)}}),[i],y),q((()=>{let e=w.current.getModifiedEditor();e.getOption(k.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],y),q((()=>{w.current?.getModel()?.original.setValue(e||"")}),[e],y),q((()=>{let{original:e,modified:t}=w.current.getModel();k.current.editor.setModelLanguage(e,r||n||"text"),k.current.editor.setModelLanguage(t,o||n||"text")}),[n,r,o],y),q((()=>{k.current?.editor.setTheme(c)}),[c],y),q((()=>{w.current?.updateOptions(d)}),[d],y);let j=(0,$.useCallback)((()=>{if(!k.current)return;N.current(k.current);let s=X(k.current,e||"",r||n||"text",a||""),l=X(k.current,t||"",o||n||"text",i||"");w.current?.setModel({original:s,modified:l})}),[n,t,o,e,r,a,i]),I=(0,$.useCallback)((()=>{!E.current&&C.current&&(w.current=k.current.editor.createDiffEditor(C.current,{automaticLayout:!0,...d}),j(),k.current?.editor.setTheme(c),b(!0),E.current=!0)}),[d,c,j]);return(0,$.useEffect)((()=>{y&&S.current(w.current,k.current)}),[y]),(0,$.useEffect)((()=>{!x&&!y&&I()}),[x,y,I]),$.createElement(Y,{width:p,height:f,isEditorReady:y,loading:u,_ref:C,className:g,wrapperProps:m})};(0,$.memo)(Q);var ee=function(e){let t=(0,$.useRef)();return(0,$.useEffect)((()=>{t.current=e}),[e]),t.current},te=new Map;var ne=function({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:a,theme:i="light",line:s,loading:l="Loading...",options:c={},overrideServices:u={},saveViewState:d=!0,keepCurrentModel:f=!1,width:p="100%",height:g="100%",className:m,wrapperProps:h={},beforeMount:v=U,onMount:y=U,onChange:b,onValidate:x=U}){let[_,w]=(0,$.useState)(!1),[k,C]=(0,$.useState)(!0),S=(0,$.useRef)(null),N=(0,$.useRef)(null),E=(0,$.useRef)(null),j=(0,$.useRef)(y),I=(0,$.useRef)(v),M=(0,$.useRef)(),P=(0,$.useRef)(r),T=ee(a),O=(0,$.useRef)(!1),D=(0,$.useRef)(!1);G((()=>{let e=B.init();return e.then((e=>(S.current=e)&&C(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>N.current?(M.current?.dispose(),f?d&&te.set(a,N.current.saveViewState()):N.current.getModel()?.dispose(),void N.current.dispose()):e.cancel()})),q((()=>{let i=X(S.current,e||r||"",t||o||"",a||n||"");i!==N.current?.getModel()&&(d&&te.set(T,N.current?.saveViewState()),N.current?.setModel(i),d&&N.current?.restoreViewState(te.get(a)))}),[a],_),q((()=>{N.current?.updateOptions(c)}),[c],_),q((()=>{!N.current||void 0===r||(N.current.getOption(S.current.editor.EditorOption.readOnly)?N.current.setValue(r):r!==N.current.getValue()&&(D.current=!0,N.current.executeEdits("",[{range:N.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),N.current.pushUndoStop(),D.current=!1))}),[r],_),q((()=>{let e=N.current?.getModel();e&&o&&S.current?.editor.setModelLanguage(e,o)}),[o],_),q((()=>{void 0!==s&&N.current?.revealLine(s)}),[s],_),q((()=>{S.current?.editor.setTheme(i)}),[i],_);let A=(0,$.useCallback)((()=>{if(E.current&&S.current&&!O.current){I.current(S.current);let l=a||n,f=X(S.current,r||e||"",t||o||"",l||"");N.current=S.current?.editor.create(E.current,{model:f,automaticLayout:!0,...c},u),d&&N.current.restoreViewState(te.get(l)),S.current.editor.setTheme(i),void 0!==s&&N.current.revealLine(s),w(!0),O.current=!0}}),[e,t,n,r,o,a,c,u,d,i,s]);return(0,$.useEffect)((()=>{_&&j.current(N.current,S.current)}),[_]),(0,$.useEffect)((()=>{!k&&!_&&A()}),[k,_,A]),P.current=r,(0,$.useEffect)((()=>{_&&b&&(M.current?.dispose(),M.current=N.current?.onDidChangeModelContent((e=>{D.current||b(N.current.getValue(),e)})))}),[_,b]),(0,$.useEffect)((()=>{if(_){let e=S.current.editor.onDidChangeMarkers((e=>{let t=N.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=S.current.editor.getModelMarkers({resource:t});x?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[_,x]),$.createElement(Y,{width:p,height:g,isEditorReady:_,loading:l,_ref:E,className:m,wrapperProps:h})},re=(0,$.memo)(ne)},99346:function(e,t,n){"use strict";n.d(t,{B:function(){return s},S:function(){return c}});var r=n(67294),o=n(24139),a=n(27037),i=n(30202);function s(e,t){return c({filters:{...e,status:"pending"}},(0,i.NL)(t)).length}function l(e,t){return e.findAll(t.filters).map((e=>t.select?t.select(e):e.state))}function c(e={},t){const n=(0,i.NL)(t).getMutationCache(),s=r.useRef(e),c=r.useRef(null);return c.current||(c.current=l(n,e)),r.useEffect((()=>{s.current=e})),r.useSyncExternalStore(r.useCallback((e=>n.subscribe((()=>{const t=(0,o.Q$)(c.current,l(n,s.current));c.current!==t&&(c.current=t,a.Vr.schedule(e))}))),[n]),(()=>c.current),(()=>c.current))}},17049:function(e,t){"use strict";var n={value:function(){}};function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new o(r)}function o(e){this._=e}function a(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function i(e,t,r){for(var o=0,a=e.length;o<a;++o)if(e[o].name===t){e[o]=n,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=r&&e.push({name:t,value:r}),e}o.prototype=r.prototype={constructor:o,on:function(e,t){var n,r,o=this._,s=(r=o,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),l=-1,c=s.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<c;)if(n=(e=s[l]).type)o[n]=i(o[n],e.name,t);else if(null==t)for(n in o)o[n]=i(o[n],e.name,null);return this}for(;++l<c;)if((n=(e=s[l]).type)&&(n=a(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),a=0;a<n;++a)o[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,a=r.length;o<a;++o)r[o].value.apply(t,n)}},t.Z=r},91739:function(e,t,n){"use strict";n.d(t,{B7:function(){return m},HT:function(){return h},zO:function(){return p}});var r,o,a=0,i=0,s=0,l=0,c=0,u=0,d="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function p(){return c||(f(g),c=d.now()+u)}function g(){c=0}function m(){this._call=this._time=this._next=null}function h(e,t,n){var r=new m;return r.restart(e,t,n),r}function v(){c=(l=d.now())+u,a=i=0;try{!function(){p(),++a;for(var e,t=r;t;)(e=c-t._time)>=0&&t._call.call(void 0,e),t=t._next;--a}()}finally{a=0,function(){var e,t,n=r,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);o=e,b(a)}(),c=0}}function y(){var e=d.now(),t=e-l;t>1e3&&(u-=t,l=e)}function b(e){a||(i&&(i=clearTimeout(i)),e-c>24?(e<1/0&&(i=setTimeout(v,e-d.now()-u)),s&&(s=clearInterval(s))):(s||(l=d.now(),s=setInterval(y,1e3)),a=1,f(v)))}m.prototype=h.prototype={constructor:m,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?p():+n)+(null==t?0:+t),this._next||o===this||(o?o._next=this:r=this,o=this),this._call=e,this._time=n,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}}},73445:function(e,t,n){"use strict";n.d(t,{Ue:function(){return d}});var r=n(43973),o=n(67294),a=n(52798);const{useDebugValue:i}=o,{useSyncExternalStoreWithSelector:s}=a;let l=!1;const c=e=>e;const u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(0,r.M)(e):e,n=(e,n)=>function(e,t=c,n){n&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);const r=s(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return i(r),r}(t,e,n);return Object.assign(n,t),n},d=e=>e?u(e):u},782:function(e,t,n){"use strict";n.d(t,{mW:function(){return a}});const r=new Map,o=e=>{const t=r.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((([e,t])=>[e,t.getState()]))):{}},a=(e,t={})=>(n,a,s)=>{const{enabled:l,anonymousActionType:c,store:u,...d}=t;let f;try{f=(null==l||l)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!f)return l&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,a,s);const{connection:p,...g}=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const o=r.get(n.name);if(o)return{type:"tracked",store:e,...o};const a={connection:t.connect(n),stores:{}};return r.set(n.name,a),{type:"tracked",store:e,...a}})(u,f,d);let m=!0;s.setState=(e,t,r)=>{const i=n(e,t);if(!m)return i;const l=void 0===r?{type:c||"anonymous"}:"string"==typeof r?{type:r}:r;return void 0===u?(null==p||p.send(l,a()),i):(null==p||p.send({...l,type:`${u}/${l.type}`},{...o(d.name),[u]:s.getState()}),i)};const h=(...e)=>{const t=m;m=!1,n(...e),m=t},v=e(s.setState,a,s);if("untracked"===g.type?null==p||p.init(v):(g.stores[g.store]=s,null==p||p.init(Object.fromEntries(Object.entries(g.stores).map((([e,t])=>[e,e===g.store?v:t.getState()]))))),s.dispatchFromDevtools&&"function"==typeof s.dispatch){let e=!1;const t=s.dispatch;s.dispatch=(...n)=>{"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return p.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):i(e.payload,(e=>{if("__setState"!==e.type)s.dispatchFromDevtools&&"function"==typeof s.dispatch&&s.dispatch(e);else{if(void 0===u)return void h(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[u];if(null==t)return;JSON.stringify(s.getState())!==JSON.stringify(t)&&h(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return h(v),void 0===u?null==p?void 0:p.init(s.getState()):null==p?void 0:p.init(o(d.name));case"COMMIT":return void 0===u?void(null==p||p.init(s.getState())):null==p?void 0:p.init(o(d.name));case"ROLLBACK":return i(e.state,(e=>{if(void 0===u)return h(e),void(null==p||p.init(s.getState()));h(e[u]),null==p||p.init(o(d.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return i(e.state,(e=>{void 0!==u?JSON.stringify(s.getState())!==JSON.stringify(e[u])&&h(e[u]):h(e)}));case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return h(void 0===u?r:r[u]),void(null==p||p.send(null,n))}case"PAUSE_RECORDING":return m=!m}return}})),v},i=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)}},91559:function(e,t,n){"use strict";n.d(t,{n:function(){return K}});var r=Symbol.for("immer-nothing"),o=Symbol.for("immer-draftable"),a=Symbol.for("immer-state");function i(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var s=Object.getPrototypeOf;function l(e){return!!e&&!!e[a]}function c(e){return!!e&&(d(e)||Array.isArray(e)||!!e[o]||!!e.constructor?.[o]||h(e)||v(e))}var u=Object.prototype.constructor.toString();function d(e){if(!e||"object"!=typeof e)return!1;const t=s(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===u}function f(e,t){0===p(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function p(e){const t=e[a];return t?t.type_:Array.isArray(e)?1:h(e)?2:v(e)?3:0}function g(e,t){return 2===p(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m(e,t,n){const r=p(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function h(e){return e instanceof Map}function v(e){return e instanceof Set}function y(e){return e.copy_||e.base_}function b(e,t){if(h(e))return new Map(e);if(v(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=d(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[a];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const o=n[r],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(s(e),t)}{const t=s(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function x(e,t=!1){return w(e)||l(e)||!c(e)||(p(e)>1&&(e.set=e.add=e.clear=e.delete=_),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>x(t,!0)))),e}function _(){i(2)}function w(e){return Object.isFrozen(e)}var k,C={};function S(e){const t=C[e];return t||i(0),t}function N(){return k}function E(e,t){t&&(S("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function j(e){I(e),e.drafts_.forEach(P),e.drafts_=null}function I(e){e===k&&(k=e.parent_)}function M(e){return k={drafts_:[],parent_:k,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function P(e){const t=e[a];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function T(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[a].modified_&&(j(t),i(4)),c(e)&&(e=O(t,e),t.parent_||A(t,e)),t.patches_&&S("Patches").generateReplacementPatches_(n[a].base_,e,t.patches_,t.inversePatches_)):e=O(t,n,[]),j(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r?e:void 0}function O(e,t,n){if(w(t))return t;const r=t[a];if(!r)return f(t,((o,a)=>D(e,r,t,o,a,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return A(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let o=t,a=!1;3===r.type_&&(o=new Set(t),t.clear(),a=!0),f(o,((o,i)=>D(e,r,t,o,i,n,a))),A(e,t,!1),n&&e.patches_&&S("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function D(e,t,n,r,o,a,i){if(l(o)){const i=O(e,o,a&&t&&3!==t.type_&&!g(t.assigned_,r)?a.concat(r):void 0);if(m(n,r,i),!l(i))return;e.canAutoFreeze_=!1}else i&&n.add(o);if(c(o)&&!w(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;O(e,o),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||A(e,o)}}function A(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&x(t,n)}var Z={get(e,t){if(t===a)return e;const n=y(e);if(!g(n,t))return function(e,t,n){const r=z(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!c(r)?r:r===F(e.base_,t)?(B(e),e.copy_[t]=$(r,e)):r},has(e,t){return t in y(e)},ownKeys(e){return Reflect.ownKeys(y(e))},set(e,t,n){const r=z(y(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=F(y(e),t),o=r?.[a];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)&&(void 0!==n||g(e.base_,t)))return!0;B(e),L(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return void 0!==F(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,B(e),L(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=y(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){i(11)},getPrototypeOf(e){return s(e.base_)},setPrototypeOf(){i(12)}},R={};function F(e,t){const n=e[a];return(n?y(n):e)[t]}function z(e,t){if(!(t in e))return;let n=s(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=s(n)}}function L(e){e.modified_||(e.modified_=!0,e.parent_&&L(e.parent_))}function B(e){e.copy_||(e.copy_=b(e.base_,e.scope_.immer_.useStrictShallowCopy_))}f(Z,((e,t)=>{R[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),R.deleteProperty=function(e,t){return R.set.call(this,e,t,void 0)},R.set=function(e,t,n){return Z.set.call(this,e[0],t,n,e[0])};function $(e,t){const n=h(e)?S("MapSet").proxyMap_(e,t):v(e)?S("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:N(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,a=Z;n&&(o=[r],a=R);const{revoke:i,proxy:s}=Proxy.revocable(o,a);return r.draft_=s,r.revoke_=i,s}(e,t);return(t?t.scope_:N()).drafts_.push(n),n}function H(e){if(!c(e)||w(e))return e;const t=e[a];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=b(e,t.scope_.immer_.useStrictShallowCopy_)}else n=b(e,!0);return f(n,((e,t)=>{m(n,e,H(t))})),t&&(t.finalized_=!1),n}var V=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...o){return r.produce(e,(e=>t.call(this,e,...o)))}}let o;if("function"!=typeof t&&i(6),void 0!==n&&"function"!=typeof n&&i(7),c(e)){const r=M(this),a=$(e,void 0);let i=!0;try{o=t(a),i=!1}finally{i?j(r):I(r)}return E(r,n),T(o,r)}if(!e||"object"!=typeof e){if(o=t(e),void 0===o&&(o=e),o===r&&(o=void 0),this.autoFreeze_&&x(o,!0),n){const t=[],r=[];S("Patches").generateReplacementPatches_(e,o,t,r),n(t,r)}return o}i(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,r;return[this.produce(e,t,((e,t)=>{n=e,r=t})),n,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){c(e)||i(8),l(e)&&(e=function(e){l(e)||i(10);return H(e)}(e));const t=M(this),n=$(e,void 0);return n[a].isManual_=!0,I(t),n}finishDraft(e,t){const n=e&&e[a];n&&n.isManual_||i(9);const{scope_:r}=n;return E(r,t),T(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=S("Patches").applyPatches_;return l(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},W=V.produce;V.produceWithPatches.bind(V),V.setAutoFreeze.bind(V),V.setUseStrictShallowCopy.bind(V),V.applyPatches.bind(V),V.createDraft.bind(V),V.finishDraft.bind(V);const K=e=>(t,n,r)=>(r.setState=(e,n,...r)=>{const o="function"==typeof e?W(e):e;return t(o,n,...r)},e(r.setState,n,r))},43973:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});const r=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(r,o,a);return a},o=e=>e?r(e):r}}]);
//# sourceMappingURL=p__agent__index.c27e95f5.async.js.map