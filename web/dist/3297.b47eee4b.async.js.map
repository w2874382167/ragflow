{"version":3,"file":"3297.b47eee4b.async.js","mappings":"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","sources":["webpack://web/./node_modules/@antv/coord/dist/coordinate.min.js","webpack://web/./node_modules/@antv/g2/esm/coordinate/cartesian.js","webpack://web/./node_modules/@antv/g2/esm/coordinate/polar.js","webpack://web/./node_modules/@antv/g2/esm/utils/angle.js","webpack://web/./node_modules/@antv/g2/esm/coordinate/transpose.js","webpack://web/./node_modules/@antv/g2/esm/coordinate/theta.js","webpack://web/./node_modules/@antv/g2/esm/coordinate/parallel.js","webpack://web/./node_modules/@antv/g2/esm/coordinate/fisheye.js","webpack://web/./node_modules/@antv/g2/esm/coordinate/radial.js","webpack://web/./node_modules/@antv/g2/esm/coordinate/radar.js","webpack://web/./node_modules/@antv/g2/esm/coordinate/helix.js","webpack://web/./node_modules/@antv/g2/esm/encode/constant.js","webpack://web/./node_modules/@antv/g2/esm/encode/field.js","webpack://web/./node_modules/@antv/g2/esm/encode/transform.js","webpack://web/./node_modules/@antv/g2/esm/encode/column.js","webpack://web/./node_modules/@antv/g2/esm/transform/utils/helper.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeZeroY1.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeZeroX.js","webpack://web/./node_modules/d3-shape/src/arc.js","webpack://web/./node_modules/@antv/g2/esm/utils/coordinate.js","webpack://web/./node_modules/d3-array/src/identity.js","webpack://web/./node_modules/d3-array/src/group.js","webpack://web/./node_modules/@antv/scale/esm/scales/constant.js","webpack://web/./node_modules/@antv/g2/esm/utils/helper.js","webpack://web/./node_modules/@antv/g2/esm/utils/selection.js","webpack://web/./node_modules/@antv/g2/esm/utils/vector.js","webpack://web/./node_modules/@antv/g2/esm/utils/number.js","webpack://web/./node_modules/d3-array/src/extent.js","webpack://web/./node_modules/@antv/g2/esm/utils/array.js","webpack://web/./node_modules/@antv/g2/esm/shape/utils.js","webpack://web/./node_modules/@antv/g2/esm/shape/interval/color.js","webpack://web/./node_modules/@antv/g2/esm/shape/interval/rect.js","webpack://web/./node_modules/@antv/g2/esm/shape/interval/hollow.js","webpack://web/./node_modules/@antv/g2/esm/shape/interval/funnel.js","webpack://web/./node_modules/@antv/g2/esm/shape/interval/pyramid.js","webpack://web/./node_modules/@antv/g2/esm/utils/dateFormat.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeTitle.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeTooltip.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeKey.js","webpack://web/./node_modules/@antv/g2/esm/mark/utils.js","webpack://web/./node_modules/@antv/g2/esm/mark/interval.js","webpack://web/./node_modules/@antv/g2/esm/mark/rect.js","webpack://web/./node_modules/d3-shape/src/curve/radial.js","webpack://web/./node_modules/d3-shape/src/lineRadial.js","webpack://web/./node_modules/@antv/g2/esm/utils/createElement.js","webpack://web/./node_modules/@antv/g2/esm/shape/line/curve.js","webpack://web/./node_modules/@antv/g2/esm/shape/line/line.js","webpack://web/./node_modules/d3-shape/src/curve/cardinal.js","webpack://web/./node_modules/d3-shape/src/curve/cardinalClosed.js","webpack://web/./node_modules/d3-shape/src/curve/catmullRom.js","webpack://web/./node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack://web/./node_modules/@antv/g2/esm/shape/line/smooth.js","webpack://web/./node_modules/@antv/g2/esm/shape/line/hv.js","webpack://web/./node_modules/@antv/g2/esm/shape/line/vh.js","webpack://web/./node_modules/@antv/g2/esm/shape/line/hvh.js","webpack://web/./node_modules/@antv/g2/esm/shape/line/trail.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeGradient.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeSeries.js","webpack://web/./node_modules/@antv/g2/esm/mark/line.js","webpack://web/./node_modules/@antv/g2/esm/utils/marker.js","webpack://web/./node_modules/@antv/g2/esm/utils/string.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/color.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/hollow.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/hollowDiamond.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/hollowHexagon.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/hollowSquare.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/hollowTriangleDown.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/hollowTriangle.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/hollowBowtie.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/circle.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/hollowCircle.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/point.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/plus.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/diamond.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/square.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/triangle.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/hexagon.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/cross.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/bowtie.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/hyphen.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/line.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/tick.js","webpack://web/./node_modules/@antv/g2/esm/shape/point/triangleDown.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeZeroY.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeSize.js","webpack://web/./node_modules/@antv/g2/esm/mark/point.js","webpack://web/./node_modules/@antv/g2/esm/shape/text/advance.js","webpack://web/./node_modules/@antv/g2/esm/shape/text/text.js","webpack://web/./node_modules/@antv/g2/esm/shape/text/badge.js","webpack://web/./node_modules/@antv/g2/esm/shape/text/tag.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeTuple.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeVisualPosition.js","webpack://web/./node_modules/@antv/g2/esm/mark/text.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeZeroPadding.js","webpack://web/./node_modules/@antv/g2/esm/mark/cell.js","webpack://web/./node_modules/@antv/g2/esm/shape/area/curve.js","webpack://web/./node_modules/d3-shape/src/areaRadial.js","webpack://web/./node_modules/@antv/g2/esm/shape/area/area.js","webpack://web/./node_modules/@antv/g2/esm/shape/area/smooth.js","webpack://web/./node_modules/@antv/g2/esm/shape/area/hvh.js","webpack://web/./node_modules/@antv/g2/esm/shape/area/vh.js","webpack://web/./node_modules/@antv/g2/esm/shape/area/hv.js","webpack://web/./node_modules/@antv/g2/esm/mark/area.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeIdentityY.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeIdentityX.js","webpack://web/./node_modules/@antv/g2/esm/shape/vector/vector.js","webpack://web/./node_modules/@antv/g2/esm/shape/link/link.js","webpack://web/./node_modules/@antv/g2/esm/shape/link/arc.js","webpack://web/./node_modules/@antv/g2/esm/shape/link/smooth.js","webpack://web/./node_modules/@antv/g2/esm/shape/link/vhv.js","webpack://web/./node_modules/@antv/g2/esm/mark/link.js","webpack://web/./node_modules/@antv/g2/esm/shape/image/image.js","webpack://web/./node_modules/@antv/g2/esm/mark/image.js","webpack://web/./node_modules/@antv/g2/esm/shape/polygon/polygon.js","webpack://web/./node_modules/@antv/g2/esm/shape/polygon/ribbon.js","webpack://web/./node_modules/@antv/g2/esm/mark/polygon.js","webpack://web/./node_modules/@antv/g2/esm/shape/box/box.js","webpack://web/./node_modules/@antv/g2/esm/shape/box/violin.js","webpack://web/./node_modules/@antv/g2/esm/mark/box.js","webpack://web/./node_modules/@antv/g2/esm/mark/vector.js","webpack://web/./node_modules/@antv/g2/esm/shape/lineXY/line.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeTupleX.js","webpack://web/./node_modules/@antv/g2/esm/mark/lineX.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeTupleY.js","webpack://web/./node_modules/@antv/g2/esm/mark/lineY.js","webpack://web/./node_modules/@antv/g2/esm/shape/connector/connector.js","webpack://web/./node_modules/@antv/g2/esm/mark/connector.js","webpack://web/./node_modules/@antv/g2/esm/mark/range.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeDefaultX.js","webpack://web/./node_modules/@antv/g2/esm/mark/rangeX.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeDefaultY.js","webpack://web/./node_modules/@antv/g2/esm/mark/rangeY.js","webpack://web/./node_modules/@antv/g2/esm/shape/path/color.js","webpack://web/./node_modules/@antv/g2/esm/shape/path/path.js","webpack://web/./node_modules/@antv/g2/esm/shape/path/hollow.js","webpack://web/./node_modules/@antv/g2/esm/mark/path.js","webpack://web/./node_modules/@antv/g2/esm/shape/shape/shape.js","webpack://web/./node_modules/@antv/g2/esm/transform/maybeFunctionAttribute.js","webpack://web/./node_modules/@antv/g2/esm/mark/shape.js","webpack://web/./node_modules/@antv/g2/esm/shape/density/density.js","webpack://web/./node_modules/@antv/g2/esm/mark/density.js","webpack://web/./node_modules/flru/dist/flru.mjs","webpack://web/./node_modules/@antv/g2/esm/utils/lru.js","webpack://web/./node_modules/@antv/g2/esm/shape/heatmap/renderer/index.js","webpack://web/./node_modules/@antv/g2/esm/shape/heatmap/renderer/gradient.js","webpack://web/./node_modules/@antv/g2/esm/shape/heatmap/heatmap.js","webpack://web/./node_modules/@antv/g2/esm/mark/heatmap.js","webpack://web/./node_modules/@antv/g2/esm/mark/wordCloud.js","webpack://web/./node_modules/@antv/g2/esm/palette/category10.js","webpack://web/./node_modules/@antv/g2/esm/palette/category20.js","webpack://web/./node_modules/@antv/g2/esm/scale/linear.js","webpack://web/./node_modules/@antv/g2/esm/scale/ordinal.js","webpack://web/./node_modules/@antv/g2/esm/scale/band.js","webpack://web/./node_modules/@antv/util/esm/lodash/size.js","webpack://web/./node_modules/@antv/util/esm/lodash/index-of.js","webpack://web/./node_modules/@antv/scale/esm/utils/pretty-number.js","webpack://web/./node_modules/@antv/scale/esm/tick-methods/wilkinson-extended.js","webpack://web/./node_modules/@antv/scale/esm/scales/identity.js","webpack://web/./node_modules/@antv/g2/esm/scale/identity.js","webpack://web/./node_modules/@antv/scale/esm/scales/point.js","webpack://web/./node_modules/@antv/g2/esm/scale/point.js","webpack://web/./node_modules/fecha/lib/fecha.js","webpack://web/./node_modules/@antv/scale/esm/utils/time-interval.js","webpack://web/./node_modules/@antv/scale/esm/utils/utc-interval.js","webpack://web/./node_modules/@antv/scale/esm/utils/find-tick-interval.js","webpack://web/./node_modules/@antv/scale/esm/tick-methods/d3-time.js","webpack://web/./node_modules/@antv/scale/esm/utils/d3-time-nice.js","webpack://web/./node_modules/@antv/scale/esm/scales/time.js","webpack://web/./node_modules/@antv/scale/esm/utils/choose-mask.js","webpack://web/./node_modules/@antv/g2/esm/scale/time.js","webpack://web/./node_modules/@antv/scale/esm/utils/log.js","webpack://web/./node_modules/@antv/scale/esm/tick-methods/d3-log.js","webpack://web/./node_modules/@antv/scale/esm/utils/d3-log-nice.js","webpack://web/./node_modules/@antv/scale/esm/scales/log.js","webpack://web/./node_modules/@antv/g2/esm/scale/log.js","webpack://web/./node_modules/@antv/scale/esm/scales/pow.js","webpack://web/./node_modules/@antv/g2/esm/scale/pow.js","webpack://web/./node_modules/@antv/scale/esm/scales/sqrt.js","webpack://web/./node_modules/@antv/g2/esm/scale/sqrt.js","webpack://web/./node_modules/@antv/scale/esm/scales/threshold.js","webpack://web/./node_modules/@antv/g2/esm/scale/threshold.js","webpack://web/./node_modules/@antv/scale/esm/utils/create-quartile.js","webpack://web/./node_modules/@antv/scale/esm/scales/quantile.js","webpack://web/./node_modules/@antv/g2/esm/scale/quantile.js","webpack://web/./node_modules/@antv/scale/esm/scales/quantize.js","webpack://web/./node_modules/@antv/g2/esm/scale/quantize.js","webpack://web/./node_modules/@antv/scale/esm/scales/sequential.js","webpack://web/./node_modules/@antv/scale/esm/utils/interpolatize.js","webpack://web/./node_modules/@antv/g2/esm/scale/sequential.js","webpack://web/./node_modules/@antv/g2/esm/scale/constant.js","webpack://web/./node_modules/@antv/g2/esm/theme/create.js","webpack://web/./node_modules/@antv/g2/esm/theme/light.js","webpack://web/./node_modules/@antv/g2/esm/theme/classic.js","webpack://web/./node_modules/@antv/g2/esm/theme/dark.js","webpack://web/./node_modules/@antv/g2/esm/theme/classicDark.js","webpack://web/./node_modules/@antv/g2/esm/theme/academy.js","webpack://web/./node_modules/@antv/component/esm/util/layout/utils/helper.js","webpack://web/./node_modules/@antv/component/esm/util/layout/flex/index.js","webpack://web/./node_modules/@antv/component/esm/util/layout/grid/index.js","webpack://web/./node_modules/@antv/component/esm/ui/layout/layout.js","webpack://web/./node_modules/@antv/component/esm/util/layout/executer.js","webpack://web/./node_modules/@antv/g2/esm/component/utils.js","webpack://web/./node_modules/@antv/g2/esm/component/axis.js","webpack://web/./node_modules/@antv/g2/esm/component/axisX.js","webpack://web/./node_modules/@antv/g2/esm/component/axisY.js","webpack://web/./node_modules/@antv/util/esm/lodash/last.js","webpack://web/./node_modules/@antv/g2/esm/component/legendCategory.js","webpack://web/./node_modules/@antv/component/esm/ui/legend/continuous/utils.js","webpack://web/./node_modules/@antv/component/esm/ui/legend/continuous/ribbon.js","webpack://web/./node_modules/@antv/component/esm/ui/legend/continuous.js","webpack://web/./node_modules/@antv/g2/esm/component/legendContinuous.js","webpack://web/./node_modules/@antv/g2/esm/component/legends.js","webpack://web/./node_modules/@antv/g2/esm/component/title.js","webpack://web/./node_modules/@antv/g2/esm/utils/scale.js","webpack://web/./node_modules/@antv/g2/esm/component/slider.js","webpack://web/./node_modules/@antv/g2/esm/component/sliderX.js","webpack://web/./node_modules/@antv/g2/esm/component/sliderY.js","webpack://web/./node_modules/@antv/component/esm/ui/scrollbar/index.js","webpack://web/./node_modules/@antv/g2/esm/component/scrollbar.js","webpack://web/./node_modules/@antv/g2/esm/component/scrollbarX.js","webpack://web/./node_modules/@antv/g2/esm/component/scrollbarY.js","webpack://web/./node_modules/@antv/g2/esm/animation/scaleInX.js","webpack://web/./node_modules/@antv/g2/esm/animation/scaleOutX.js","webpack://web/./node_modules/@antv/g2/esm/animation/scaleInY.js","webpack://web/./node_modules/@antv/g2/esm/animation/scaleOutY.js","webpack://web/./node_modules/@antv/g2/esm/animation/waveIn.js","webpack://web/./node_modules/@antv/g2/esm/animation/fadeIn.js","webpack://web/./node_modules/@antv/g2/esm/animation/fadeOut.js","webpack://web/./node_modules/@antv/g2/esm/animation/zoomIn.js","webpack://web/./node_modules/@antv/g2/esm/animation/zoomOut.js","webpack://web/./node_modules/@antv/g2/esm/animation/pathIn.js","webpack://web/./node_modules/@antv/g2/esm/animation/utils.js","webpack://web/./node_modules/@antv/g2/esm/animation/morphing.js","webpack://web/./node_modules/@antv/g2/esm/animation/growInX.js","webpack://web/./node_modules/@antv/g2/esm/animation/growInY.js","webpack://web/./node_modules/@antv/g2/esm/runtime/constant.js","webpack://web/./node_modules/@antv/g2/esm/utils/style.js","webpack://web/./node_modules/@antv/g2/esm/interaction/utils.js","webpack://web/./node_modules/@antv/g2/esm/interaction/elementHighlight.js","webpack://web/./node_modules/@antv/g2/esm/interaction/elementHighlightByX.js","webpack://web/./node_modules/@antv/g2/esm/interaction/elementHighlightByColor.js","webpack://web/./node_modules/@antv/g2/esm/interaction/elementSelect.js","webpack://web/./node_modules/@antv/g2/esm/interaction/elementSelectByX.js","webpack://web/./node_modules/@antv/g2/esm/interaction/elementSelectByColor.js","webpack://web/./node_modules/@antv/g2/esm/interaction/fisheye.js","webpack://web/./node_modules/@antv/g2/esm/interaction/chartIndex.js","webpack://web/./node_modules/d3-array/src/mean.js","webpack://web/./node_modules/@antv/g2/esm/utils/mark.js","webpack://web/./node_modules/@antv/g2/esm/component/axisRadar.js","webpack://web/./node_modules/@antv/g2/esm/component/legendContinuousBlock.js","webpack://web/./node_modules/@antv/g2/esm/component/legendContinuousSize.js","webpack://web/./node_modules/@antv/g2/esm/component/legendContinuousBlockSize.js","webpack://web/./node_modules/@antv/g2/esm/composition/mark.js","webpack://web/./node_modules/@antv/g2/esm/composition/utils.js","webpack://web/./node_modules/@antv/g2/esm/composition/view.js","webpack://web/./node_modules/@antv/g2/esm/shape/label/position/area.js","webpack://web/./node_modules/@antv/g2/esm/shape/label/position/default.js","webpack://web/./node_modules/@antv/g2/esm/shape/label/position/outside.js","webpack://web/./node_modules/@antv/g2/esm/shape/label/position/utils.js","webpack://web/./node_modules/@antv/g2/esm/shape/label/position/spider.js","webpack://web/./node_modules/@antv/g2/esm/shape/label/position/surround.js","webpack://web/./node_modules/@antv/g2/esm/shape/label/label.js","webpack://web/./node_modules/@antv/g2/esm/utils/event.js","webpack://web/./node_modules/@antv/g2/esm/interaction/event.js","webpack://web/./node_modules/@antv/g2/esm/runtime/library.js","webpack://web/./node_modules/@antv/g2/esm/lib/builtinlib.js","webpack://web/./node_modules/@antv/g2/esm/runtime/mark.js","webpack://web/./node_modules/d3-scale-chromatic/src/colors.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/observable10.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack://web/./node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","webpack://web/./node_modules/d3-scale-chromatic/src/ramp.js","webpack://web/./node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack://web/./node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack://web/./node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack://web/./node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack://web/./node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack://web/./node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack://web/./node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack://web/./node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack://web/./node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","webpack://web/./node_modules/d3-color/src/math.js","webpack://web/./node_modules/d3-color/src/cubehelix.js","webpack://web/./node_modules/d3-interpolate/src/cubehelix.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","webpack://web/./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack://web/./node_modules/@antv/g2/esm/runtime/coordinate.js","webpack://web/./node_modules/@antv/g2/esm/runtime/scale.js","webpack://web/./node_modules/@antv/g2/esm/runtime/transform.js","webpack://web/./node_modules/@antv/g2/esm/interaction/tooltip.js","webpack://web/./node_modules/@antv/g2/esm/interaction/legendFilter.js","webpack://web/./node_modules/@antv/g2/esm/interaction/legendHighlight.js","webpack://web/./node_modules/@antv/g2/esm/interaction/brushHighlight.js","webpack://web/./node_modules/@antv/g2/esm/interaction/brushXHighlight.js","webpack://web/./node_modules/@antv/g2/esm/interaction/brushYHighlight.js","webpack://web/./node_modules/@antv/g2/esm/interaction/brushAxisHighlight.js","webpack://web/./node_modules/@antv/g2/esm/interaction/brushFilter.js","webpack://web/./node_modules/@antv/g2/esm/interaction/brushXFilter.js","webpack://web/./node_modules/@antv/g2/esm/interaction/brushYFilter.js","webpack://web/./node_modules/@antv/g2/esm/interaction/sliderFilter.js","webpack://web/./node_modules/@antv/g2/esm/interaction/scrollbarFilter.js","webpack://web/./node_modules/@antv/g2/esm/interaction/poptip.js","webpack://web/./node_modules/@antv/util/esm/lodash/keys.js","webpack://web/./node_modules/@antv/util/esm/lodash/is-match.js","webpack://web/./node_modules/@antv/util/esm/lodash/find.js","webpack://web/./node_modules/d3-hierarchy/src/accessors.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://web/./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://web/./node_modules/d3-hierarchy/src/stratify.js","webpack://web/./node_modules/d3-hierarchy/src/treemap/binary.js","webpack://web/./node_modules/d3-hierarchy/src/treemap/dice.js","webpack://web/./node_modules/d3-hierarchy/src/treemap/slice.js","webpack://web/./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://web/./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://web/./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://web/./node_modules/d3-hierarchy/src/treemap/round.js","webpack://web/./node_modules/d3-hierarchy/src/constant.js","webpack://web/./node_modules/@antv/g2/esm/utils/treeDataTransform.js","webpack://web/./node_modules/d3-hierarchy/src/treemap/index.js","webpack://web/./node_modules/@antv/g2/esm/interaction/treemapDrillDown.js","webpack://web/./node_modules/@antv/g2/esm/interaction/elementPointMove.js","webpack://web/./node_modules/@antv/g2/esm/composition/spaceLayer.js","webpack://web/./node_modules/@antv/g2/esm/composition/spaceFlex.js","webpack://web/./node_modules/@antv/g2/esm/utils/container.js","webpack://web/./node_modules/@antv/g2/esm/composition/facetRect.js","webpack://web/./node_modules/@antv/g2/esm/composition/repeatMatrix.js","webpack://web/./node_modules/@antv/g2/esm/composition/facetCircle.js","webpack://web/./node_modules/@antv/g2/esm/composition/timingKeyframe.js","webpack://web/./node_modules/@antv/g2/esm/transform/utils/order.js","webpack://web/./node_modules/@antv/g2/esm/transform/stackY.js","webpack://web/./node_modules/d3-array/src/count.js","webpack://web/./node_modules/d3-array/src/deviation.js","webpack://web/./node_modules/d3-array/src/variance.js","webpack://web/./node_modules/d3-array/src/array.js","webpack://web/./node_modules/d3-array/src/constant.js","webpack://web/./node_modules/d3-array/src/threshold/sturges.js","webpack://web/./node_modules/d3-array/src/bin.js","webpack://web/./node_modules/d3-array/src/nice.js","webpack://web/./node_modules/d3-array/src/median.js","webpack://web/./node_modules/d3-array/src/sum.js","webpack://web/./node_modules/@antv/g2/esm/transform/groupN.js","webpack://web/./node_modules/@antv/g2/esm/transform/bin.js","webpack://web/./node_modules/d3-array/src/threshold/scott.js","webpack://web/./node_modules/@antv/g2/esm/transform/binX.js","webpack://web/./node_modules/@antv/g2/esm/transform/dodgeX.js","webpack://web/./node_modules/@antv/g2/esm/transform/jitter.js","webpack://web/./node_modules/@antv/g2/esm/transform/jitterX.js","webpack://web/./node_modules/@antv/g2/esm/transform/jitterY.js","webpack://web/./node_modules/@antv/g2/esm/transform/symmetryY.js","webpack://web/./node_modules/@antv/g2/esm/transform/diffY.js","webpack://web/./node_modules/@antv/g2/esm/transform/stackEnter.js","webpack://web/./node_modules/@antv/g2/esm/transform/normalizeY.js","webpack://web/./node_modules/@antv/g2/esm/transform/select.js","webpack://web/./node_modules/@antv/g2/esm/transform/selectX.js","webpack://web/./node_modules/@antv/g2/esm/transform/selectY.js","webpack://web/./node_modules/@antv/g2/esm/transform/group.js","webpack://web/./node_modules/@antv/g2/esm/transform/groupX.js","webpack://web/./node_modules/@antv/g2/esm/transform/groupY.js","webpack://web/./node_modules/@antv/g2/esm/transform/groupColor.js","webpack://web/./node_modules/@antv/g2/esm/transform/sort.js","webpack://web/./node_modules/d3-array/src/groupSort.js","webpack://web/./node_modules/@antv/g2/esm/transform/sortX.js","webpack://web/./node_modules/@antv/g2/esm/transform/sortY.js","webpack://web/./node_modules/@antv/g2/esm/transform/sortColor.js","webpack://web/./node_modules/@antv/g2/esm/transform/flexX.js","webpack://web/./node_modules/@antv/g2/esm/transform/pack.js","webpack://web/./node_modules/@antv/g2/esm/transform/utils/lttb.js","webpack://web/./node_modules/@antv/g2/esm/transform/sample.js","webpack://web/./node_modules/@antv/g2/esm/transform/filter.js","webpack://web/./node_modules/d3-dsv/src/dsv.js","webpack://web/./node_modules/d3-dsv/src/autoType.js","webpack://web/./node_modules/@antv/g2/esm/data/fetch.js","webpack://web/./node_modules/@antv/g2/esm/data/inline.js","webpack://web/./node_modules/@antv/g2/esm/data/sortBy.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/fields.js","webpack://web/./node_modules/@antv/g2/esm/data/sort.js","webpack://web/./node_modules/@antv/g2/esm/data/filter.js","webpack://web/./node_modules/@antv/g2/esm/data/pick.js","webpack://web/./node_modules/@antv/g2/esm/data/rename.js","webpack://web/./node_modules/@antv/g2/esm/data/fold.js","webpack://web/./node_modules/@antv/g2/esm/data/slice.js","webpack://web/./node_modules/@antv/g2/esm/data/custom.js","webpack://web/./node_modules/@antv/g2/esm/data/map.js","webpack://web/./node_modules/@antv/g2/esm/data/join.js","webpack://web/./node_modules/@antv/g2/esm/data/kde.js","webpack://web/./node_modules/@antv/g2/esm/data/log.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/flow.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/d3-cloud/index.js","webpack://web/./node_modules/@antv/g2/esm/data/wordCloud.js","webpack://web/./node_modules/@antv/g2/esm/data/ema.js","webpack://web/./node_modules/@antv/g2/esm/utils/bounds.js","webpack://web/./node_modules/@antv/g2/esm/label-transform/overlapHide.js","webpack://web/./node_modules/@antv/g2/esm/label-transform/overlapDodgeY.js","webpack://web/./node_modules/@antv/g2/esm/label-transform/overflowHide.js","webpack://web/./node_modules/@antv/g2/esm/label-transform/contrastReverse.js","webpack://web/./node_modules/@antv/g2/esm/utils/color.js","webpack://web/./node_modules/@antv/g2/esm/label-transform/exceedAdjust.js","webpack://web/./node_modules/d3-geo/src/identity.js","webpack://web/./node_modules/d3-geo/src/stream.js","webpack://web/./node_modules/d3-array/src/fsum.js","webpack://web/./node_modules/d3-geo/src/math.js","webpack://web/./node_modules/d3-geo/src/noop.js","webpack://web/./node_modules/d3-geo/src/path/area.js","webpack://web/./node_modules/d3-geo/src/path/bounds.js","webpack://web/./node_modules/d3-geo/src/path/centroid.js","webpack://web/./node_modules/d3-geo/src/path/context.js","webpack://web/./node_modules/d3-geo/src/path/measure.js","webpack://web/./node_modules/d3-geo/src/path/string.js","webpack://web/./node_modules/d3-geo/src/path/index.js","webpack://web/./node_modules/d3-geo/src/graticule.js","webpack://web/./node_modules/d3-geo/src/clip/buffer.js","webpack://web/./node_modules/d3-geo/src/pointEqual.js","webpack://web/./node_modules/d3-geo/src/clip/rejoin.js","webpack://web/./node_modules/d3-geo/src/cartesian.js","webpack://web/./node_modules/d3-geo/src/polygonContains.js","webpack://web/./node_modules/d3-array/src/merge.js","webpack://web/./node_modules/d3-geo/src/clip/index.js","webpack://web/./node_modules/d3-geo/src/clip/antimeridian.js","webpack://web/./node_modules/d3-geo/src/circle.js","webpack://web/./node_modules/d3-geo/src/clip/rectangle.js","webpack://web/./node_modules/d3-geo/src/clip/line.js","webpack://web/./node_modules/d3-geo/src/compose.js","webpack://web/./node_modules/d3-geo/src/rotation.js","webpack://web/./node_modules/d3-geo/src/transform.js","webpack://web/./node_modules/d3-geo/src/projection/fit.js","webpack://web/./node_modules/d3-geo/src/projection/resample.js","webpack://web/./node_modules/d3-geo/src/projection/index.js","webpack://web/./node_modules/d3-geo/src/clip/circle.js","webpack://web/./node_modules/d3-geo/src/projection/conic.js","webpack://web/./node_modules/d3-geo/src/projection/conicEqualArea.js","webpack://web/./node_modules/d3-geo/src/projection/cylindricalEqualArea.js","webpack://web/./node_modules/d3-geo/src/projection/albers.js","webpack://web/./node_modules/d3-geo/src/projection/albersUsa.js","webpack://web/./node_modules/d3-geo/src/projection/azimuthal.js","webpack://web/./node_modules/d3-geo/src/projection/azimuthalEqualArea.js","webpack://web/./node_modules/d3-geo/src/projection/azimuthalEquidistant.js","webpack://web/./node_modules/d3-geo/src/projection/mercator.js","webpack://web/./node_modules/d3-geo/src/projection/conicConformal.js","webpack://web/./node_modules/d3-geo/src/projection/equirectangular.js","webpack://web/./node_modules/d3-geo/src/projection/conicEquidistant.js","webpack://web/./node_modules/d3-geo/src/projection/equalEarth.js","webpack://web/./node_modules/d3-geo/src/projection/gnomonic.js","webpack://web/./node_modules/d3-geo/src/projection/identity.js","webpack://web/./node_modules/d3-geo/src/projection/naturalEarth1.js","webpack://web/./node_modules/d3-geo/src/projection/orthographic.js","webpack://web/./node_modules/d3-geo/src/projection/stereographic.js","webpack://web/./node_modules/d3-geo/src/projection/transverseMercator.js","webpack://web/./node_modules/@antv/g2/esm/composition/geoView.js","webpack://web/./node_modules/@antv/g2/esm/composition/geoPath.js","webpack://web/./node_modules/@antv/g2/esm/mark/forceGraph.js","webpack://web/./node_modules/d3-hierarchy/src/tree.js","webpack://web/./node_modules/d3-hierarchy/src/cluster.js","webpack://web/./node_modules/@antv/g2/esm/data/cluster.js","webpack://web/./node_modules/@antv/g2/esm/data/tree.js","webpack://web/./node_modules/@antv/g2/esm/mark/tree.js","webpack://web/./node_modules/d3-hierarchy/src/lcg.js","webpack://web/./node_modules/d3-hierarchy/src/pack/enclose.js","webpack://web/./node_modules/d3-hierarchy/src/array.js","webpack://web/./node_modules/d3-hierarchy/src/pack/siblings.js","webpack://web/./node_modules/d3-hierarchy/src/pack/index.js","webpack://web/./node_modules/@antv/g2/esm/mark/pack.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/d3-sankey/align.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/d3-sankey/constant.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/d3-sankey/sankey.js","webpack://web/./node_modules/@antv/g2/esm/data/sankey.js","webpack://web/./node_modules/@antv/g2/esm/mark/sankey.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/arc/sort.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/arc/arc.js","webpack://web/./node_modules/@antv/g2/esm/data/arc.js","webpack://web/./node_modules/@antv/g2/esm/mark/chord.js","webpack://web/./node_modules/@antv/g2/esm/mark/treemap.js","webpack://web/./node_modules/@antv/g2/esm/mark/boxplot.js","webpack://web/./node_modules/@antv/g2/esm/shape/gauge/round.js","webpack://web/./node_modules/@antv/g2/esm/mark/gauge.js","webpack://web/./node_modules/@antv/g2/esm/shape/liquid/wave.js","webpack://web/./node_modules/@antv/g2/esm/shape/liquid/shapes.js","webpack://web/./node_modules/@antv/g2/esm/shape/liquid/liquid.js","webpack://web/./node_modules/@antv/g2/esm/mark/liquid.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/venn/circleintersection.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/venn/layout.js","webpack://web/./node_modules/@antv/g2/esm/data/venn.js","webpack://web/./node_modules/@antv/g2/esm/data/utils/venn/diagram.js","webpack://web/./node_modules/@antv/expr/dist/index.esm.js","webpack://web/./node_modules/@antv/util/esm/lodash/map-values.js","webpack://web/./node_modules/@antv/g2/esm/utils/expr.js","webpack://web/./node_modules/@antv/g2/esm/component/constant.js","webpack://web/./node_modules/@antv/g2/esm/runtime/types/scale.js","webpack://web/./node_modules/@antv/g2/esm/runtime/component.js","webpack://web/./node_modules/@antv/g2/esm/runtime/layout.js","webpack://web/./node_modules/@antv/g2/esm/runtime/plot.js","webpack://web/./node_modules/@antv/g2/esm/runtime/option-preprocess/style.js","webpack://web/./node_modules/@antv/g2/esm/runtime/option-preprocess/index.js","webpack://web/./node_modules/@antv/g2/esm/utils/flow.js","webpack://web/./node_modules/@antv/g2/esm/runtime/render.js","webpack://web/./node_modules/@antv/g2/esm/utils/size.js","webpack://web/./node_modules/@antv/g2/esm/api/node.js","webpack://web/./node_modules/@antv/g2/esm/api/utils.js","webpack://web/./node_modules/@antv/g2/esm/api/define.js","webpack://web/./node_modules/@antv/g2/esm/api/props.js","webpack://web/./node_modules/@antv/g2/esm/api/composition.js","webpack://web/./node_modules/@antv/g2/esm/api/mark.js","webpack://web/./node_modules/@antv/g2/esm/api/library.js","webpack://web/./node_modules/@antv/g2/esm/api/runtime.js","webpack://web/./node_modules/@antv/g2/esm/index.js","webpack://web/./node_modules/@antv/g2/esm/lib/std.js","webpack://web/./node_modules/@antv/g2/esm/lib/geo.js","webpack://web/./node_modules/@antv/g2/esm/lib/graph.js","webpack://web/./node_modules/@antv/g2/esm/lib/plot.js","webpack://web/./node_modules/@antv/g2/esm/lib/core.js","webpack://web/./node_modules/@antv/g2/esm/api/extend.js","webpack://web/./node_modules/fmin/build/fmin.js","webpack://web/./node_modules/lodash/_asciiToArray.js","webpack://web/./node_modules/lodash/_castSlice.js","webpack://web/./node_modules/lodash/_createCaseFirst.js","webpack://web/./node_modules/lodash/_stringToArray.js","webpack://web/./node_modules/lodash/_unicodeToArray.js","webpack://web/./node_modules/lodash/camelCase.js","webpack://web/./node_modules/lodash/capitalize.js","webpack://web/./node_modules/lodash/upperFirst.js","webpack://web/./node_modules/pdfast/src/helper.js","webpack://web/./node_modules/pdfast/src/index.js","webpack://web/./node_modules/@radix-ui/react-use-previous/dist/index.mjs","webpack://web/./node_modules/d3-color/src/color.js","webpack://web/./node_modules/d3-color/src/define.js","webpack://web/./node_modules/d3-interpolate/src/color.js","webpack://web/./node_modules/d3-interpolate/src/constant.js","webpack://web/./node_modules/d3-interpolate/src/basis.js","webpack://web/./node_modules/d3-interpolate/src/rgb.js","webpack://web/./node_modules/d3-interpolate/src/basisClosed.js","webpack://web/./node_modules/d3-array/src/ascending.js","webpack://web/./node_modules/d3-array/src/bisect.js","webpack://web/./node_modules/d3-array/src/descending.js","webpack://web/./node_modules/d3-array/src/bisector.js","webpack://web/./node_modules/d3-array/src/max.js","webpack://web/./node_modules/d3-array/src/maxIndex.js","webpack://web/./node_modules/d3-array/src/min.js","webpack://web/./node_modules/d3-array/src/minIndex.js","webpack://web/./node_modules/d3-array/src/number.js","webpack://web/./node_modules/d3-array/src/quickselect.js","webpack://web/./node_modules/d3-array/src/quantile.js","webpack://web/./node_modules/d3-array/src/greatest.js","webpack://web/./node_modules/d3-array/src/range.js","webpack://web/./node_modules/d3-array/src/sort.js","webpack://web/./node_modules/d3-array/src/permute.js","webpack://web/./node_modules/d3-array/src/ticks.js","webpack://web/./node_modules/d3-format/src/formatPrefixAuto.js","webpack://web/./node_modules/d3-format/src/formatRounded.js","webpack://web/./node_modules/d3-format/src/formatTypes.js","webpack://web/./node_modules/d3-format/src/identity.js","webpack://web/./node_modules/d3-format/src/locale.js","webpack://web/./node_modules/d3-format/src/defaultLocale.js","webpack://web/./node_modules/d3-format/src/formatGroup.js","webpack://web/./node_modules/d3-format/src/formatNumerals.js","webpack://web/./node_modules/d3-format/src/formatTrim.js","webpack://web/./node_modules/d3-format/src/exponent.js","webpack://web/./node_modules/d3-format/src/formatDecimal.js","webpack://web/./node_modules/d3-format/src/formatSpecifier.js","webpack://web/./node_modules/d3-path/src/path.js","webpack://web/./node_modules/d3-shape/src/area.js","webpack://web/./node_modules/d3-shape/src/array.js","webpack://web/./node_modules/d3-shape/src/constant.js","webpack://web/./node_modules/d3-shape/src/curve/linear.js","webpack://web/./node_modules/d3-shape/src/curve/linearClosed.js","webpack://web/./node_modules/d3-shape/src/curve/monotone.js","webpack://web/./node_modules/d3-shape/src/curve/step.js","webpack://web/./node_modules/d3-shape/src/line.js","webpack://web/./node_modules/d3-shape/src/math.js","webpack://web/./node_modules/d3-shape/src/noop.js","webpack://web/./node_modules/d3-shape/src/path.js","webpack://web/./node_modules/d3-shape/src/point.js","webpack://web/./node_modules/internmap/src/index.js"],"sourcesContent":["!function(t,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?r(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],r):r((t=\"undefined\"!=typeof globalThis?globalThis:t||self).Coordinate={})}(this,function(t){\"use strict\";function x(t){var r=\"function\"==typeof Symbol&&Symbol.iterator,n=r&&t[r],e=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return{value:(t=t&&e>=t.length?void 0:t)&&t[e++],done:!t}}};throw new TypeError(r?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function k(t,r){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var e,o,a=n.call(t),i=[];try{for(;(void 0===r||0<r--)&&!(e=a.next()).done;)i.push(e.value)}catch(t){o={error:t}}finally{try{e&&!e.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function O(t,r,n){if(n||2===arguments.length)for(var e,o=0,a=r.length;o<a;o++)!e&&o in r||((e=e||Array.prototype.slice.call(r,0,o))[o]=r[o]);return t.concat(e||Array.prototype.slice.call(r))}function q(t){return i(t,\"Function\")}var C={}.toString,i=function(t,r){return C.call(t)===\"[object \"+r+\"]\"},W=function(t){return Array.isArray?Array.isArray(t):i(t,\"Array\")};var B=function(t){if(\"object\"!=typeof(r=t)||null===r||!i(t,\"Object\"))return!1;var r;if(null===Object.getPrototypeOf(t))return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n},$=function(t){return i(t,\"Number\")},z=Object.values?function(t){return Object.values(t)}:function(n){var t,e=[],r=n,o=function(t,r){q(n)&&\"prototype\"===r||e.push(t)};if(r)if(W(r))for(var a=0,i=r.length;a<i&&!1!==o(r[a],a);a++);else if(t=typeof r,null!==r&&\"object\"==t||\"function\"==t)for(var u in r)if(r.hasOwnProperty(u)&&!1===o(r[u],u))break;return e},E=5;function r(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var e=0;e<r.length;e+=1)!function t(r,n,e,o){for(var a in e=e||0,o=o||E,n){var i;n.hasOwnProperty(a)&&(null!==(i=n[a])&&B(i)?(B(r[a])||(r[a]={}),e<o?t(r[a],i,e+1,o):r[a]=n[a]):W(i)?(r[a]=[],r[a]=r[a].concat(i)):void 0!==i&&(r[a]=i))}}(t,r[e]);return t}function A(t){return t}!function(a,i){var u;if(q(a))return(u=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n,e=i?i.apply(this,t):t[0],o=u.cache;return o.has(e)?o.get(e):(n=a.apply(this,t),o.set(e,n),n)}).cache=new Map;throw new TypeError(\"Expected a function\")}(function(t,r){var n=(r=void 0===r?{}:r).fontSize,e=r.fontFamily,o=r.fontWeight,a=r.fontStyle,r=r.fontVariant;return(u=u||document.createElement(\"canvas\").getContext(\"2d\")).font=[a,r,o,n+\"px\",e].join(\" \"),u.measureText(i(t,\"String\")?t:\"\").width},function(t,r){return function(){for(var t=0,r=0,n=arguments.length;r<n;r++)t+=arguments[r].length;for(var e=Array(t),o=0,r=0;r<n;r++)for(var a=arguments[r],i=0,u=a.length;i<u;i++,o++)e[o]=a[i];return e}([t],z(r=void 0===r?{}:r)).join(\"\")});var u,P=\"undefined\"!=typeof Float32Array?Float32Array:Array;function g(){var t=new P(9);return P!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var J=function(t,r,n){var e=r[0],o=r[1],a=r[2],i=r[3],u=r[4],s=r[5],l=r[6],h=r[7],r=r[8],c=n[0],p=n[1],f=n[2],d=n[3],g=n[4],v=n[5],m=n[6],y=n[7],n=n[8];return t[0]=c*e+p*i+f*l,t[1]=c*o+p*u+f*h,t[2]=c*a+p*s+f*r,t[3]=d*e+g*i+v*l,t[4]=d*o+g*u+v*h,t[5]=d*a+g*s+v*r,t[6]=m*e+y*i+n*l,t[7]=m*o+y*u+n*h,t[8]=m*a+y*s+n*r,t};function R(){var t=new P(16);return P!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}var L=function(t,r,n){var e=r[0],o=r[1],a=r[2],i=r[3],u=r[4],s=r[5],l=r[6],h=r[7],c=r[8],p=r[9],f=r[10],d=r[11],g=r[12],v=r[13],m=r[14],r=r[15],y=n[0],M=n[1],w=n[2],b=n[3];return t[0]=y*e+M*u+w*c+b*g,t[1]=y*o+M*s+w*p+b*v,t[2]=y*a+M*l+w*f+b*m,t[3]=y*i+M*h+w*d+b*r,y=n[4],M=n[5],w=n[6],b=n[7],t[4]=y*e+M*u+w*c+b*g,t[5]=y*o+M*s+w*p+b*v,t[6]=y*a+M*l+w*f+b*m,t[7]=y*i+M*h+w*d+b*r,y=n[8],M=n[9],w=n[10],b=n[11],t[8]=y*e+M*u+w*c+b*g,t[9]=y*o+M*s+w*p+b*v,t[10]=y*a+M*l+w*f+b*m,t[11]=y*i+M*h+w*d+b*r,y=n[12],M=n[13],w=n[14],b=n[15],t[12]=y*e+M*u+w*c+b*g,t[13]=y*o+M*s+w*p+b*v,t[14]=y*a+M*l+w*f+b*m,t[15]=y*i+M*h+w*d+b*r,t};function U(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return t?r.reduce(function(r,n){return function(t){return n(r(t))}},t):A}function _(t){return t instanceof Float32Array||t instanceof Array}function V(t,r,n){for(;t<r;)t+=2*Math.PI;for(;n<t;)t-=2*Math.PI;return t}e=new P(3),P!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e=new P(4),P!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0);function G(t,r,n,e,o){var a=(t=k(t,2))[0],t=t[1],i=g();return a=[a,t],(t=i)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=a[0],t[7]=a[1],t[8]=1,t}function l(t,...r){return r.reduce((r,n)=>t=>r(n(t)),t)}function h(r,n){return n-r?t=>(t-r)/(n-r):t=>.5}const H=Math.sqrt(50),Q=Math.sqrt(10),X=Math.sqrt(2);function s(t,r,n){r=(r-t)/Math.max(0,n),t=Math.floor(Math.log(r)/Math.LN10),n=r/10**t;return 0<=t?(n>=H?10:n>=Q?5:n>=X?2:1)*10**t:-(10**-t)/(n>=H?10:n>=Q?5:n>=X?2:1)}const Y=(t,r,n=5)=>{t=[t,r];let e=0,o=t.length-1,a=t[e],i=t[o],u;return i<a&&([a,i]=[i,a],[e,o]=[o,e]),0<(u=s(a,i,n))?(a=Math.floor(a/u)*u,i=Math.ceil(i/u)*u,u=s(a,i,n)):u<0&&(a=Math.ceil(a*u)/u,i=Math.floor(i*u)/u,u=s(a,i,n)),0<u?(t[e]=Math.floor(a/u)*u,t[o]=Math.ceil(i/u)*u):u<0&&(t[e]=Math.ceil(a*u)/u,t[o]=Math.floor(i*u)/u),t};function Z(t){return null!=t&&!Number.isNaN(t)}function tt(r,i){return t=>{t.prototype.rescale=function(){this.initRange(),this.nice();var[t]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t))},t.prototype.initRange=function(){var t=this.options[\"interpolator\"];this.options.range=r(t)},t.prototype.composeOutput=function(t,r){var n,{domain:e,interpolator:o,round:a}=this.getOptions(),e=i(e.map(t)),a=a?(n=o,t=>{t=n(t);return $(t)?Math.round(t):t}):o;this.output=l(a,e,r,t)},t.prototype.invert=void 0}}var n,e={exports:{}},o={exports:{}},rt=function(t){return!(!t||\"string\"==typeof t)&&(t instanceof Array||Array.isArray(t)||0<=t.length&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&\"String\"!==t.constructor.name))},nt=Array.prototype.concat,et=Array.prototype.slice,ot=o.exports=function(t){for(var r=[],n=0,e=t.length;n<e;n++){var o=t[n];rt(o)?r=nt.call(r,et.call(o)):r.push(o)}return r},c=(ot.wrap=function(t){return function(){return t(ot(arguments))}},{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),a=o.exports,at=Object.hasOwnProperty,it=Object.create(null);for(n in c)at.call(c,n)&&(it[c[n]]=n);var p=e.exports={to:{},get:{}};function f(t,r,n){return Math.min(Math.max(r,t),n)}function d(t){t=Math.round(t).toString(16).toUpperCase();return t.length<2?\"0\"+t:t}p.get=function(t){var r,n;switch(t.substring(0,3).toLowerCase()){case\"hsl\":r=p.get.hsl(t),n=\"hsl\";break;case\"hwb\":r=p.get.hwb(t),n=\"hwb\";break;default:r=p.get.rgb(t),n=\"rgb\"}return r?{model:n,value:r}:null},p.get.rgb=function(t){if(!t)return null;var r,n,e,o=[0,0,0,1];if(r=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(e=r[2],r=r[1],n=0;n<3;n++){var a=2*n;o[n]=parseInt(r.slice(a,2+a),16)}e&&(o[3]=parseInt(e,16)/255)}else if(r=t.match(/^#([a-f0-9]{3,4})$/i)){for(e=(r=r[1])[3],n=0;n<3;n++)o[n]=parseInt(r[n]+r[n],16);e&&(o[3]=parseInt(e+e,16)/255)}else{if(r=t.match(/^rgba?\\(\\s*([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)(?=[\\s,])\\s*(?:,\\s*)?([+-]?\\d+)\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/))for(n=0;n<3;n++)o[n]=parseInt(r[n+1],0);else{if(!(r=t.match(/^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*,?\\s*([+-]?[\\d\\.]+)\\%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)(%?)\\s*)?\\)$/)))return(r=t.match(/^(\\w+)$/))?\"transparent\"===r[1]?[0,0,0,0]:at.call(c,r[1])?((o=c[r[1]])[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(r[n+1]))}r[4]&&(r[5]?o[3]=.01*parseFloat(r[4]):o[3]=parseFloat(r[4]))}for(n=0;n<3;n++)o[n]=f(o[n],0,255);return o[3]=f(o[3],0,1),o},p.get.hsl=function(t){var r;return(t=t&&t.match(/^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/))?(r=parseFloat(t[4]),[(parseFloat(t[1])%360+360)%360,f(parseFloat(t[2]),0,100),f(parseFloat(t[3]),0,100),f(isNaN(r)?1:r,0,1)]):null},p.get.hwb=function(t){var r;return(t=t&&t.match(/^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?(?=\\.\\d|\\d)(?:0|[1-9]\\d*)?(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)\\s*)?\\)$/))?(r=parseFloat(t[4]),[(parseFloat(t[1])%360+360)%360,f(parseFloat(t[2]),0,100),f(parseFloat(t[3]),0,100),f(isNaN(r)?1:r,0,1)]):null},p.to.hex=function(){var t=a(arguments);return\"#\"+d(t[0])+d(t[1])+d(t[2])+(t[3]<1?d(Math.round(255*t[3])):\"\")},p.to.rgb=function(){var t=a(arguments);return t.length<4||1===t[3]?\"rgb(\"+Math.round(t[0])+\", \"+Math.round(t[1])+\", \"+Math.round(t[2])+\")\":\"rgba(\"+Math.round(t[0])+\", \"+Math.round(t[1])+\", \"+Math.round(t[2])+\", \"+t[3]+\")\"},p.to.rgb.percent=function(){var t=a(arguments),r=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),e=Math.round(t[2]/255*100);return t.length<4||1===t[3]?\"rgb(\"+r+\"%, \"+n+\"%, \"+e+\"%)\":\"rgba(\"+r+\"%, \"+n+\"%, \"+e+\"%, \"+t[3]+\")\"},p.to.hsl=function(){var t=a(arguments);return t.length<4||1===t[3]?\"hsl(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%)\":\"hsla(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%, \"+t[3]+\")\"},p.to.hwb=function(){var t=a(arguments),r=\"\";return 4<=t.length&&1!==t[3]&&(r=\", \"+t[3]),\"hwb(\"+t[0]+\", \"+t[1]+\"%, \"+t[2]+\"%\"+r+\")\"},p.to.keyword=function(t){return it[t.slice(0,3)]};var ut=e.exports;function v(t,r,n){let e=n;return e<0&&(e+=1),1<e&&--e,e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+(r-t)*(2/3-e)*6:t}function st(t){var r,n,e,t=ut.get(t);return t?({model:t,value:r}=t,\"rgb\"===t?r:\"hsl\"===t?(r=(t=r)[0]/360,n=t[1]/100,e=t[2]/100,t=t[3],0==n?[255*e,255*e,255*e,t]:[255*v(n=2*e-(e=e<.5?e*(1+n):e+n-e*n),e,r+1/3),255*v(n,e,r),255*v(n,e,r-1/3),t]):null):null}const m=(r,n)=>t=>r*(1-t)+n*t,lt=(t,r)=>{if(\"number\"==typeof t&&\"number\"==typeof r)return m(t,r);if(\"string\"!=typeof t||\"string\"!=typeof r)return()=>t;{var n=t,e=r;const s=st(n),l=st(e);return null===s||null===l?s?()=>n:()=>e:r=>{var n=new Array(4);for(let t=0;t<4;t+=1){var e=s[t],o=l[t];n[t]=e*(1-r)+o*r}var[t,a,i,u]=n;return`rgba(${Math.round(t)}, ${Math.round(a)}, ${Math.round(i)}, ${u})`}}},ht=(t,r)=>{const n=m(t,r);return t=>Math.round(n(t))};function ct({map:t,initKey:r},n){r=r(n);return t.has(r)?t.get(r):n}function pt(t){return\"object\"==typeof t?t.valueOf():t}class ft extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=pt,null!==t)for(var[r,n]of t)this.set(r,n)}get(t){return super.get(ct({map:this.map,initKey:this.initKey},t))}has(t){return super.has(ct({map:this.map,initKey:this.initKey},t))}set(t,r){return super.set(([{map:t,initKey:n},e]=[{map:this.map,initKey:this.initKey},t],n=n(e),t.has(n)?t.get(n):(t.set(n,e),e)),r);var n,e}delete(t){return super.delete(([{map:t,initKey:r},n]=[{map:this.map,initKey:this.initKey},t],r=r(n),t.has(r)&&(n=t.get(r),t.delete(r)),n));var r,n}}class dt{constructor(t){this.options=r({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=r({},this.options,t),this.rescale(t)}rescale(t){}}const y=Symbol(\"defaultUnknown\");function gt(r,n,e){for(let t=0;t<n.length;t+=1)r.has(n[t])||r.set(e(n[t]),t)}function vt(t){var{value:t,from:r,to:n,mapper:e,notFoundReturn:o}=t;let a=e.get(t);if(void 0===a){if(o!==y)return o;a=r.push(t)-1,e.set(t,a)}return n[a%n.length]}function mt(t){return t instanceof Date?t=>\"\"+t:\"object\"==typeof t?t=>JSON.stringify(t):t=>t}class yt extends dt{getDefaultOptions(){return{domain:[],range:[],unknown:y}}constructor(t){super(t)}map(t){return 0===this.domainIndexMap.size&&gt(this.domainIndexMap,this.getDomain(),this.domainKey),vt({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return 0===this.rangeIndexMap.size&&gt(this.rangeIndexMap,this.getRange(),this.rangeKey),vt({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){var[r]=this.options.domain,[n]=this.options.range;this.domainKey=mt(r),this.rangeKey=mt(n),this.rangeIndexMap?(t&&!t.range||this.rangeIndexMap.clear(),t&&!t.domain&&!t.compare||(this.domainIndexMap.clear(),this.sortedDomain=void 0)):(this.rangeIndexMap=new Map,this.domainIndexMap=new Map)}clone(){return new yt(this.options)}getRange(){return this.options.range}getDomain(){var t,r;return this.sortedDomain||({domain:t,compare:r}=this.options,this.sortedDomain=r?[...t].sort(r):t),this.sortedDomain}}function Mt(t){const{domain:r,range:n,paddingOuter:e,paddingInner:o,flex:a,round:i,align:u}=t;var s=r.length,l=0<(l=(t=s)-(h=a).length)?[...h,...new Array(l).fill(1)]:l<0?h.slice(0,t):h,[t,h]=n,h=h-t,c=h/(2/s*e+1-1/s*o);const p=c*o/s;c-=s*p;const f=function(t){const r=Math.min(...t);return t.map(t=>t/r)}(l),d=c/f.reduce((t,r)=>t+r);var l=new ft(r.map((t,r)=>{r=f[r]*d;return[t,i?Math.floor(r):r]})),g=new ft(r.map((t,r)=>{r=f[r]*d+p;return[t,i?Math.floor(r):r]})),c=Array.from(g.values()).reduce((t,r)=>t+r),t=t+(h-(c-c/s*o))*u;let v=i?Math.round(t):t;var m=new Array(s);for(let t=0;t<s;t+=1){m[t]=(y=v,Math.round(1e12*y)/1e12);var y=r[t];v+=g.get(y)}return{valueBandWidth:l,valueStep:g,adjustedRange:m}}class wt extends yt{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:y,flex:[]}}constructor(t){super(t)}clone(){return new wt(this.options)}getStep(t){return void 0===this.valueStep?1:\"number\"==typeof this.valueStep?this.valueStep:void 0===t?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return void 0===this.valueBandWidth?1:\"number\"==typeof this.valueBandWidth?this.valueBandWidth:void 0===t?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){var{padding:t,paddingInner:r}=this.options;return 0<t?t:r}getPaddingOuter(){var{padding:t,paddingOuter:r}=this.options;return 0<t?t:r}rescale(){super.rescale();var{align:t,domain:r,range:n,round:e,flex:o}=this.options,{adjustedRange:t,valueBandWidth:n,valueStep:e}=function(t){var r=t[\"domain\"];if(0===(r=r.length))return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!(null==(n=t.flex)||!n.length))return Mt(t);var{range:n,paddingOuter:t,paddingInner:e,round:o,align:a}=t;let i,u,s=n[0];return n=n[1]-s,i=n/Math.max(1,2*t+(r-e)),o&&(i=Math.floor(i)),s+=(n-i*(r-e))*a,u=i*(1-e),o&&(s=Math.round(s),u=Math.round(u)),t=new Array(r).fill(0).map((t,r)=>s+r*i),{valueStep:i,valueBandWidth:u,adjustedRange:t}}({align:t,range:n,round:e,flex:o,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:r});this.valueStep=e,this.valueBandWidth=n,this.adjustedRange=t}}const M=(t,r,n)=>{let e,o,a=t,i=r;if(a===i&&0<n)return[a];let u=s(a,i,n);if(0===u||!Number.isFinite(u))return[];if(0<u){a=Math.ceil(a/u),i=Math.floor(i/u),o=new Array(e=Math.ceil(i-a+1));for(let t=0;t<e;t+=1)o[t]=(a+t)*u}else{u=-u,a=Math.ceil(a*u),i=Math.floor(i*u),o=new Array(e=Math.ceil(i-a+1));for(let t=0;t<e;t+=1)o[t]=(a+t)/u}return o},bt=(t,r,n)=>{var[t,e]=t,[r,o]=r;let a,i;return l(i=t<e?(a=h(t,e),n(r,o)):(a=h(e,t),n(o,r)),a)},xt=(e,t,r)=>{const o=Math.min(e.length,t.length)-1,a=new Array(o),i=new Array(o);var n=e[0]>e[o],u=n?[...e].reverse():e,s=n?[...t].reverse():t;for(let t=0;t<o;t+=1)a[t]=h(u[t],u[t+1]),i[t]=r(s[t],s[t+1]);return t=>{var r=function(t,r,n,e,o){let a=n||0,i=e||t.length;for(var u=o||(t=>t);a<i;){var s=Math.floor((a+i)/2);u(t[s])>r?i=s:a=s+1}return a}(e,t,1,o)-1,n=a[r];return l(i[r],n)(t)}},kt=(t,r,n,e)=>{return(2<Math.min(t.length,r.length)?xt:bt)(t,r,e?ht:n)};class Ot extends dt{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:m,tickCount:5}}map(t){return Z(t)?this.output(t):this.options.unknown}invert(t){return Z(t)?this.input(t):this.options.unknown}nice(){var t,r,n,e;this.options.nice&&([t,r,n,...e]=this.getTickMethodOptions(),this.options.domain=this.chooseNice()(t,r,n,...e))}getTicks(){var t=this.options[\"tickMethod\"],[r,n,e,...o]=this.getTickMethodOptions();return t(r,n,e,...o)}getTickMethodOptions(){var{domain:t,tickCount:r}=this.options;return[t[0],t[t.length-1],r]}chooseNice(){return Y}rescale(){this.nice();var[t,r]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,r,this.chooseClamp(r))}chooseClamp(t){var{clamp:r,range:n}=this.options,t=this.options.domain.map(t),n=Math.min(t.length,n.length);if(r){r=t[0],t=t[n-1];const e=t<r?t:r,o=t<r?r:t;return t=>Math.min(Math.max(e,t),o)}return A}composeOutput(t,r){var{domain:n,range:e,round:o,interpolate:a}=this.options,n=kt(n.map(t),e,a,o);this.output=l(n,r,t)}composeInput(t,r,n){var{domain:e,range:o}=this.options,o=kt(o,e.map(t),m);this.input=l(r,n,o)}}class w extends Ot{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:lt,tickMethod:M,tickCount:5}}chooseTransforms(){return[A,A]}clone(){return new w(this.options)}}class At extends wt{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:y,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new At(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}}function jt(t,r){for(var n=[],e=0,o=t.length;e<o;e++)n.push(t[e].substr(0,r));return n}var b,o=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],e=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],j=jt(e,3);!function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var e=0,o=r;e<o.length;e++){var a,i=o[e];for(a in i)t[a]=i[a]}}({},{dayNamesShort:jt(o,3),dayNames:o,monthNamesShort:j,monthNames:e,amPm:[\"am\",\"pm\"],DoFn:function(t){return t+[\"th\",\"st\",\"nd\",\"rd\"][3<t%10?0:(t-t%10!=10?1:0)*t%10]}});var I;let It=b=class extends w{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:A,tickMethod:M,tickCount:5}}constructor(t){super(t)}clone(){return new b(this.options)}};It=b=function(t,r,n,e){var o,a=arguments.length,i=a<3?r:null===e?e=Object.getOwnPropertyDescriptor(r,n):e;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(t,r,n,e);else for(var u=t.length-1;0<=u;u--)(o=t[u])&&(i=(a<3?o(i):3<a?o(r,n,i):o(r,n))||i);return 3<a&&i&&Object.defineProperty(r,n,i),i}([tt(function(t){return[t(0),t(1)]},t=>{var[t,r]=t;return l(m(0,1),h(t,r))})],It);let St=I=class extends w{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:A,tickMethod:M,tickCount:5}}constructor(t){super(t)}clone(){return new I(this.options)}};St=I=function(t,r,n,e){var o,a=arguments.length,i=a<3?r:null===e?e=Object.getOwnPropertyDescriptor(r,n):e;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)i=Reflect.decorate(t,r,n,e);else for(var u=t.length-1;0<=u;u--)(o=t[u])&&(i=(a<3?o(i):3<a?o(r,n,i):o(r,n))||i);return 3<a&&i&&Object.defineProperty(r,n,i),i}([tt(function(t){return[t(0),t(.5),t(1)]},t=>{const[r,n,e]=t,o=l(m(0,.5),h(r,n)),a=l(m(.5,1),h(n,e));return t=>(r>e?t<n?a:o:t<n?o:a)(t)})],St);function Ft(t,r,n,e,o){var a=new w({range:[r,r+e]}),i=new w({range:[n,n+o]});return{transform:function(t){var t=k(t,2),r=t[0],t=t[1];return[a.map(r),i.map(t)]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1];return[a.invert(r),i.invert(t)]}}}function Dt(t,r,n,e,o){return(0,k(t,1)[0])(r,n,e,o)}function Pt(t,r,n,e,o){return k(t,1)[0]}function Rt(t,r,n,e,o){var a=(t=k(t,4))[0],i=t[1],u=t[2],t=t[3],s=new w({range:[u,t]}),l=new w({range:[a,i]}),h=1<(u=o/e)?1:u,c=1<u?1/u:1;return{transform:function(t){var t=k(t,2),r=t[0],t=t[1],r=l.map(r),t=s.map(t);return[.5*(t*Math.cos(r)*h)+.5,.5*(t*Math.sin(r)*c)+.5]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1],r=2*(r-.5)/h,t=2*(t-.5)/c,n=Math.sqrt(Math.pow(r,2)+Math.pow(t,2)),t=V(Math.atan2(t,r),a,i);return[l.invert(t),s.invert(n)]}}}function Tt(t,r,n,e,o){return{transform:function(t){var t=k(t,2),r=t[0];return[t[1],r]},untransform:function(t){var t=k(t,2),r=t[0];return[t[1],r]}}}function Kt(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return S.apply(void 0,O([[-1,-1]],k(r),!1))}function Nt(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return S.apply(void 0,O([[-1,1]],k(r),!1))}function qt(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return S.apply(void 0,O([[1,-1]],k(r),!1))}function Ct(t,r,n,e,o){var a,t=k(t,1)[0],i=g();return i=i,t=t,a=Math.sin(t),t=Math.cos(t),i[0]=t,i[1]=a,i[2]=0,i[3]=-a,i[4]=t,i[5]=0,i[6]=0,i[7]=0,i[8]=1,i}function Wt(t,r,n,e,o){var a=(t=k(t,4))[0],i=t[1],u=t[2],s=(t[3]-u)/(+i/(2*Math.PI)+1),l=s/(2*Math.PI),h=new w({range:[u,u+.99*s]}),c=new w({range:[a,i]}),p=1<(t=o/e)?1:t,f=1<t?1/t:1;return{transform:function(t){var t=k(t,2),r=t[0],t=t[1],r=c.map(r),t=h.map(t);return[.5*(Math.cos(r)*(l*r+t)*p)+.5,.5*(Math.sin(r)*(l*r+t)*f)+.5]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1],r=2*(r-.5)/p,t=2*(t-.5)/f,n=Math.sqrt(Math.pow(r,2)+Math.pow(t,2)),t=V(Math.atan2(t,r)+Math.floor(n/s)*Math.PI*2,a,i),r=n-l*t;return[c.invert(t),h.invert(r)]}}}function Bt(t,r,n,e,o){var u=(t=k(t,4))[0],s=t[1],a=t[2],t=t[3],l=new w({range:[a,t]});return{transform:function(t){for(var r=[],n=t.length,e=new At({domain:new Array(n).fill(0).map(function(t,r){return r}),range:[u,s]}),o=0;o<n;o++){var a=t[o],i=e.map(o),a=l.map(a);r.push(i,a)}return r},untransform:function(t){for(var r=[],n=0;n<t.length;n+=2){var e=t[n+1];r.push(l.invert(e))}return r}}}var S=function(t,r,n,e,o){var t=k(t,2),a=t[0],t=t[1],i=g();return a=[a,t],(t=i)[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=a[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t};function $t(t){return 1/Math.tan(t)}function zt(t,r,n,e,o){var a=$t(k(t,1)[0]);return{transform:function(t){var t=k(t,2),r=t[0],t=t[1];return[r+t*a,t]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1];return[r-t*a,t]}}}function Et(t,r,n,e,o){var a=$t(k(t,1)[0]);return{transform:function(t){var t=k(t,2),r=t[0];return[r,t[1]+r*a]},untransform:function(t){var t=k(t,2),r=t[0];return[r,t[1]-r*a]}}}function F(t,r,n,e,o){var a=t<r,o=(a?r-e:o-r)||o-e,e=a?-1:1;return e*o*(n+1)/(n+o/((t-r)*e))+r}function D(t,r,n,e,o){var a=t<r,o=(a?r-e:o-r)||o-e;return o/(o*(n+1)/(t-r)-n*(a?-1:1))+r}function T(t,r,n){return n?new w({range:[0,1],domain:[0,r]}).map(t):t}function Jt(t,r,n,e,o){var a=(t=k(t,3))[0],i=t[1],t=t[2],u=T(a,e,void 0!==t&&t);return{transform:function(t){var t=k(t,2),r=t[0],t=t[1];return[F(r,u,i,0,1),t]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1];return[D(r,u,i,0,1),t]}}}function Lt(t,r,n,e,o){var a=(t=k(t,3))[0],i=t[1],t=t[2],u=T(a,o,void 0!==t&&t);return{transform:function(t){t=k(t,2);return[t[0],F(t[1],u,i,0,1)]},untransform:function(t){t=k(t,2);return[t[0],D(t[1],u,i,0,1)]}}}function Ut(t,r,n,e,o){var a=(t=k(t,5))[0],i=t[1],u=t[2],s=t[3],t=t[4],l=T(a,e,t=void 0!==t&&t),h=T(i,o,t);return{transform:function(t){var t=k(t,2),r=t[0],t=t[1];return[F(r,l,u,0,1),F(t,h,s,0,1)]},untransform:function(t){var t=k(t,2),r=t[0],t=t[1];return[D(r,l,u,0,1),D(t,h,s,0,1)]}}}function _t(t,r,n,e,o){var a=(t=k(t,5))[0],i=t[1],u=t[2],s=t[3],t=void 0!==(t=t[4])&&t,l=new w({range:[0,e]}),h=new w({range:[0,o]}),c=t?a:l.map(a),p=t?i:h.map(i);return{transform:function(t){var t=k(t,2),r=t[0],t=t[1],n=l.map(r)-c,e=h.map(t)-p,o=Math.sqrt(n*n+e*e);return u<o?[r,t]:(r=F(o,0,s,0,u),t=Math.atan2(e,n),o=c+r*Math.cos(t),e=p+r*Math.sin(t),[l.invert(o),h.invert(e)])},untransform:function(t){var t=k(t,2),r=t[0],t=t[1],n=l.map(r)-c,e=h.map(t)-p,o=Math.sqrt(n*n+e*e);return u<o?[r,t]:(r=D(o,0,s,0,u),t=Math.atan2(e,n),o=c+r*Math.cos(t),e=p+r*Math.sin(t),[l.invert(o),h.invert(e)])}}}function Vt(t,r,n,e,o,a,i){var u=new w({range:[r,r+o]}),s=new w({range:[n,n+a]}),l=new w({range:[e,e+i]});return{transform:function(t){var t=k(t,3),r=t[0],n=t[1],t=t[2];return[u.map(r),s.map(n),l.map(t)]},untransform:function(t){var t=k(t,3),r=t[0],n=t[1],t=t[2];return[u.invert(r),s.invert(n),l.invert(t)]}}}function Gt(t,r,n,e,o,a,i){var u,s=(t=k(t,3))[0],l=t[1],t=t[2];return u=R(),s=[s,l,t],u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=s[0],u[13]=s[1],u[14]=s[2],u[15]=1,u}function Ht(t,r,n,e,o,a,i){return{transform:function(t){var t=k(t,3),r=t[0];return[t[1],r,t[2]]},untransform:function(t){var t=k(t,3),r=t[0];return[t[1],r,t[2]]}}}function Qt(t,r,n,e,o,a,i){var u,s=(t=k(t,3))[0],l=t[1],t=t[2];return u=R(),s=[s,l,t],u[0]=s[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=s[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=s[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}K.prototype.update=function(t){this.options=r({},this.options,t),this.recoordinate()},K.prototype.clone=function(){return new K(this.options)},K.prototype.getOptions=function(){return this.options},K.prototype.clear=function(){this.update({transformations:[]})},K.prototype.getSize=function(){var t=this.options;return[t.width,t.height]},K.prototype.getCenter=function(){var t=this.options,r=t.x,n=t.y;return[(2*r+t.width)/2,(2*n+t.height)/2]},K.prototype.transform=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.options.transformations;return this.update({transformations:O(O([],k(n),!1),[O([],k(t),!1)],!1)}),this},K.prototype.map=function(t){return this.output(t)},K.prototype.invert=function(t){return this.input(t)},K.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},K.prototype.compose=function(t){function r(t,r){var o;u.push((r=void 0===r?!0:r)?(o=t,function(t){for(var r=[],n=0;n<t.length-1;n+=2){var e=[t[n],t[n+1]],e=o(e);r.push.apply(r,O([],k(e),!1))}return r}):t)}var n,e,o=(t=void 0===t?!1:t)?O([],k(this.options.transformations),!1).reverse():this.options.transformations,a=t?function(t){return t.untransform}:function(t){return t.transform},i=[],u=[];try{for(var s=x(o),l=s.next();!l.done;l=s.next()){var h,c,p,f,d,g,v=k(l.value),m=v[0],y=v.slice(1),M=this.transformers[m];M&&(c=(h=this.options).x,p=h.y,f=h.width,d=h.height,_(g=M(O([],k(y),!1),c,p,f,d))?i.push(g):(i.length&&(r(this.createMatrixTransform(i,t)),i.splice(0,i.length)),r(a(g)||A,\"parallel\"!==m)))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(n)throw n.error}}return i.length&&r(this.createMatrixTransform(i,t)),U.apply(void 0,O([],k(u),!1))},K.prototype.createMatrixTransform=function(t,r){var n,e,o,a,i,u,s,l,h,c,p,f,d=g();return r&&t.reverse(),t.forEach(function(t){return J(d,d,t)}),r&&(r=t=d,(f=new P(9))[0]=r[0],f[1]=r[1],f[2]=r[2],f[3]=r[3],f[4]=r[4],f[5]=r[5],f[6]=r[6],f[7]=r[7],f[8]=r[8],f=(r=f)[0],n=r[1],e=r[2],o=r[3],a=r[4],i=r[5],u=r[6],s=r[7],l=(r=r[8])*a-i*s,p=f*l+n*(h=-r*o+i*u)+e*(c=s*o-a*u))&&(t[0]=l*(p=1/p),t[1]=(-r*n+e*s)*p,t[2]=(i*n-e*a)*p,t[3]=h*p,t[4]=(r*f-e*u)*p,t[5]=(-i*f+e*o)*p,t[6]=c*p,t[7]=(-s*f+n*u)*p,t[8]=(a*f-n*o)*p),function(t){var r,n,e,o,a,t=[t[0],t[1],1];return e=d,o=(n=r=t)[0],a=n[1],n=n[2],r[0]=o*e[0]+a*e[3]+n*e[6],r[1]=o*e[1]+a*e[4]+n*e[7],r[2]=o*e[2]+a*e[5]+n*e[8],[t[0],t[1]]}};o=K;function K(t){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:Ft,translate:G,custom:Dt,matrix:Pt,polar:Rt,transpose:Tt,scale:S,\"shear.x\":zt,\"shear.y\":Et,reflect:Kt,\"reflect.x\":Nt,\"reflect.y\":qt,rotate:Ct,helix:Wt,parallel:Bt,fisheye:Ut,\"fisheye.x\":Jt,\"fisheye.y\":Lt,\"fisheye.circular\":_t},this.update(t)}N.prototype.update=function(t){this.options=r({},this.options,t),this.recoordinate()},N.prototype.clone=function(){return new N(this.options)},N.prototype.getOptions=function(){return this.options},N.prototype.clear=function(){this.update({transformations:[]})},N.prototype.getSize=function(){var t=this.options;return[t.width,t.height,t.depth]},N.prototype.getCenter=function(){var t=this.options,r=t.x,n=t.y,e=t.z;return[(2*r+t.width)/2,(2*n+t.height)/2,(2*e+t.depth)/2]},N.prototype.transform=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.options.transformations;return this.update({transformations:O(O([],k(n),!1),[O([],k(t),!1)],!1)}),this},N.prototype.map=function(t){return this.output(t)},N.prototype.invert=function(t){return this.input(t)},N.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},N.prototype.compose=function(t){function r(t,r){var o;u.push((r=void 0===r?!0:r)?(o=t,function(t){for(var r=[],n=0;n<t.length-1;n+=3){var e=[t[n],t[n+1],t[n+2]],e=o(e);r.push.apply(r,O([],k(e),!1))}return r}):t)}var n,e,o=(t=void 0===t?!1:t)?O([],k(this.options.transformations),!1).reverse():this.options.transformations,a=t?function(t){return t.untransform}:function(t){return t.transform},i=[],u=[];try{for(var s=x(o),l=s.next();!l.done;l=s.next()){var h,c,p,f,d,g,v,m,y=k(l.value),M=y[0],w=y.slice(1),b=this.transformers[M];b&&(c=(h=this.options).x,p=h.y,f=h.z,d=h.width,g=h.height,v=h.depth,_(m=b(O([],k(w),!1),c,p,f,d,g,v))?i.push(m):(i.length&&(r(this.createMatrixTransform(i,t)),i.splice(0,i.length)),r(a(m)||A,!0)))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(n)throw n.error}}return i.length&&r(this.createMatrixTransform(i,t)),U.apply(void 0,O([],k(u),!1))},N.prototype.createMatrixTransform=function(t,r){var n,e,o,a,i,u,s,l,h,c,p,f,d,g,v,m,y,M,w,b,x,k,O,A,j,I,S,F,D=R();return r&&t.reverse(),t.forEach(function(t){return L(D,D,t)}),r&&(r=t=D,(F=new P(16))[0]=r[0],F[1]=r[1],F[2]=r[2],F[3]=r[3],F[4]=r[4],F[5]=r[5],F[6]=r[6],F[7]=r[7],F[8]=r[8],F[9]=r[9],F[10]=r[10],F[11]=r[11],F[12]=r[12],F[13]=r[13],F[14]=r[14],F[15]=r[15],F=(r=F)[0],n=r[1],e=r[2],o=r[3],a=r[4],i=r[5],u=r[6],s=r[7],l=r[8],h=r[9],c=r[10],p=r[11],f=r[12],d=r[13],g=r[14],r=r[15],S=(v=F*i-n*a)*(I=c*r-p*g)-(m=F*u-e*a)*(j=h*r-p*d)+(y=F*s-o*a)*(A=h*g-c*d)+(M=n*u-e*i)*(O=l*r-p*f)-(w=n*s-o*i)*(k=l*g-c*f)+(b=e*s-o*u)*(x=l*d-h*f))&&(t[0]=(i*I-u*j+s*A)*(S=1/S),t[1]=(e*j-n*I-o*A)*S,t[2]=(d*b-g*w+r*M)*S,t[3]=(c*w-h*b-p*M)*S,t[4]=(u*O-a*I-s*k)*S,t[5]=(F*I-e*O+o*k)*S,t[6]=(g*y-f*b-r*m)*S,t[7]=(l*b-c*y+p*m)*S,t[8]=(a*j-i*O+s*x)*S,t[9]=(n*O-F*j-o*x)*S,t[10]=(f*w-d*y+r*v)*S,t[11]=(h*y-l*w-p*v)*S,t[12]=(i*k-a*A-u*x)*S,t[13]=(F*A-n*k+e*x)*S,t[14]=(d*m-f*M-g*v)*S,t[15]=(l*M-h*m+c*v)*S),function(t){var r,n,e,o,a,i,t=[t[0],t[1],t[2],1];return e=D,o=(n=r=t)[0],a=n[1],i=n[2],n=n[3],r[0]=e[0]*o+e[4]*a+e[8]*i+e[12]*n,r[1]=e[1]*o+e[5]*a+e[9]*i+e[13]*n,r[2]=e[2]*o+e[6]*a+e[10]*i+e[14]*n,r[3]=e[3]*o+e[7]*a+e[11]*i+e[15]*n,[t[0],t[1],t[2]]}};j=N;function N(t){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:Vt,translate3D:Gt,scale3D:Qt,transpose3D:Ht},this.update(t)}t.Coordinate=o,t.Coordinate3D=j,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","/**\n * Default coordinate transformation for all charts.\n */\nexport const Cartesian = () => [['cartesian']];\nCartesian.props = {};\n//# sourceMappingURL=cartesian.js.map","import { convertAngles } from '../utils/angle';\nexport const getPolarOptions = (options = {}) => {\n    const defaultOptions = {\n        startAngle: -Math.PI / 2,\n        endAngle: (Math.PI * 3) / 2,\n        innerRadius: 0,\n        outerRadius: 1,\n    };\n    const polarOption = Object.assign(Object.assign({}, defaultOptions), options);\n    return Object.assign(Object.assign({}, polarOption), convertAngles(polarOption.startAngle, polarOption.endAngle));\n};\n/**\n * Polar transformation for circular charts using center of canvas as origin.\n * @todo Adjust size of canvas by startAngle and endAngle to make chart as big as possible.\n */\nexport const Polar = (options) => {\n    const { startAngle, endAngle, innerRadius, outerRadius } = getPolarOptions(options);\n    return [\n        ['translate', 0, 0.5],\n        ['reflect.y'],\n        ['translate', 0, -0.5],\n        ['polar', startAngle, endAngle, innerRadius, outerRadius],\n    ];\n};\nPolar.props = {};\n//# sourceMappingURL=polar.js.map","export function toRadian(degree) {\n    return (degree * Math.PI) / 180;\n}\nexport function toDegree(radian) {\n    return (radian * 180) / Math.PI;\n}\n// convert the angle to the range of 0 to 4*Math.PI\nexport function convertAngles(startAngle, endAngle) {\n    startAngle = startAngle % (2 * Math.PI);\n    endAngle = endAngle % (2 * Math.PI);\n    if (startAngle < 0) {\n        startAngle = 2 * Math.PI + startAngle;\n    }\n    if (endAngle < 0) {\n        endAngle = 2 * Math.PI + endAngle;\n    }\n    if (startAngle >= endAngle) {\n        endAngle = endAngle + 2 * Math.PI;\n    }\n    return {\n        startAngle,\n        endAngle,\n    };\n}\n//# sourceMappingURL=angle.js.map","/**\n * Transpose transformation for transposing chart according to center of canvas.\n */\nexport const Transpose = () => [\n    ['transpose'],\n    ['translate', 0.5, 0.5],\n    ['reflect.x'],\n    ['translate', -0.5, -0.5],\n];\nTranspose.props = { transform: true };\n//# sourceMappingURL=transpose.js.map","import { Polar } from './polar';\nimport { Transpose } from './transpose';\nexport const getThetaOptions = (options = {}) => {\n    const defaultOptions = {\n        startAngle: -Math.PI / 2,\n        endAngle: (Math.PI * 3) / 2,\n        innerRadius: 0,\n        outerRadius: 1,\n    };\n    return Object.assign(Object.assign({}, defaultOptions), options);\n};\n/**\n * Theta = Transpose + Polar.\n */\nexport const Theta = (options) => {\n    const { startAngle, endAngle, innerRadius, outerRadius } = getThetaOptions(options);\n    return [\n        ...Transpose(),\n        ...Polar({ startAngle, endAngle, innerRadius, outerRadius }),\n    ];\n};\nTheta.props = {};\n//# sourceMappingURL=theta.js.map","/**\n * Parallel coordinate transformations for parallel coordinate.\n */\nexport const Parallel = () => [['parallel', 0, 1, 0, 1]];\nParallel.props = {};\n//# sourceMappingURL=parallel.js.map","/**\n * Fisheye\n */\nexport const Fisheye = ({ focusX = 0, focusY = 0, distortionX = 2, distortionY = 2, visual = false, }) => [['fisheye', focusX, focusY, distortionX, distortionY, visual]];\nFisheye.props = { transform: true };\n//# sourceMappingURL=fisheye.js.map","import { Polar } from './polar';\nexport const getRadialOptions = (options = {}) => {\n    const defaultOptions = {\n        startAngle: -Math.PI / 2,\n        endAngle: (Math.PI * 3) / 2,\n        innerRadius: 0,\n        outerRadius: 1,\n    };\n    return Object.assign(Object.assign({}, defaultOptions), options);\n};\n/**\n * Radial\n */\nexport const Radial = (options) => {\n    const { startAngle, endAngle, innerRadius, outerRadius } = getRadialOptions(options);\n    return [\n        ['transpose'],\n        ['translate', 0.5, 0.5],\n        ['reflect'],\n        ['translate', -0.5, -0.5],\n        ...Polar({ startAngle, endAngle, innerRadius, outerRadius }),\n    ];\n};\nRadial.props = {};\n//# sourceMappingURL=radial.js.map","import { Polar } from './polar';\nimport { Parallel } from './parallel';\n/**\n *  Radar = Parallel + Polar.\n */\nexport const Radar = (options) => {\n    const { startAngle = -Math.PI / 2, endAngle = (Math.PI * 3) / 2, innerRadius = 0, outerRadius = 1, } = options;\n    return [\n        ...Parallel(),\n        ...Polar({ startAngle, endAngle, innerRadius, outerRadius }),\n    ];\n};\nRadar.props = {};\n//# sourceMappingURL=radar.js.map","/**\n * Helix\n */\nexport const Helix = ({ startAngle = 0, endAngle = Math.PI * 6, innerRadius = 0, outerRadius = 1, }) => [\n    ['translate', 0.5, 0.5],\n    ['reflect.y'],\n    ['translate', -0.5, -0.5],\n    ['helix', startAngle, endAngle, innerRadius, outerRadius],\n];\nHelix.props = {};\n//# sourceMappingURL=helix.js.map","/**\n * Extract a column of data filled with the specified constant.\n */\nexport const Constant = ({ value }) => {\n    return (data) => data.map(() => value);\n};\nConstant.props = {};\n//# sourceMappingURL=constant.js.map","/**\n * Extract a column of data with specified field.\n */\nexport const Field = ({ value }) => {\n    return (data) => data.map((d) => d[value]);\n};\nField.props = {};\n//# sourceMappingURL=field.js.map","/**\n * Extract a column of data with specified map function from data.\n * Each datum in the array is not visual data by default.\n * Specifying identity scale for related channel explicitly will treat them as visual data.\n */\nexport const Transform = ({ value }) => {\n    return (data) => data.map(value);\n};\nTransform.props = {};\n//# sourceMappingURL=transform.js.map","/**\n * Extract a column of data specified in encoding.\n */\nexport const Column = ({ value }) => {\n    return () => value;\n};\nColumn.props = {};\n//# sourceMappingURL=column.js.map","export function column(value, field) {\n    if (value === null)\n        return undefined;\n    return { type: 'column', value, field };\n}\nexport function inferredColumn(value, field) {\n    const c = column(value, field);\n    return Object.assign(Object.assign({}, c), { inferred: true });\n}\nexport function visualColumn(value, field) {\n    if (value === null)\n        return undefined;\n    return { type: 'column', value, field, visual: true };\n}\nexport function nonConstantColumn(value, field) {\n    const c = column(value, field);\n    return Object.assign(Object.assign({}, c), { constant: false });\n}\nexport function constant(I, value) {\n    const array = [];\n    for (const i of I)\n        array[i] = value;\n    return array;\n}\nexport function columnOf(encode, key) {\n    const channel = encode[key];\n    if (!channel)\n        return [null, null];\n    const { value, field = null } = channel;\n    return [value, field];\n}\nexport function maybeColumnOf(encode, ...K) {\n    console.log('maybeColumnOf', encode, K);\n    for (const key of K) {\n        if (typeof key === 'string') {\n            const [KV, fv] = columnOf(encode, key);\n            if (KV !== null)\n                return [KV, fv];\n        }\n        else {\n            return [key, null];\n        }\n    }\n    return [null, null];\n}\nexport function isObject(d) {\n    if (d instanceof Date)\n        return false;\n    return typeof d === 'object';\n}\n//# sourceMappingURL=helper.js.map","import { deepMix } from '@antv/util';\nimport { inferredColumn, constant } from './utils/helper';\n/**\n * Add zero constant encode for y1 channel.\n */\nexport const MaybeZeroY1 = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { y1 } = encode;\n        if (y1 !== undefined)\n            return [I, mark];\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: { y1: inferredColumn(constant(I, 0)) },\n            }),\n        ];\n    };\n};\nMaybeZeroY1.props = {};\n//# sourceMappingURL=maybeZeroY1.js.map","import { deepMix } from '@antv/util';\nimport { inferredColumn, constant } from './utils/helper';\n/**\n * Add zero constant encode for x channel.\n * This is useful for interval geometry.\n */\nexport const MaybeZeroX = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { x } = encode;\n        if (x !== undefined)\n            return [I, mark];\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: { x: inferredColumn(constant(I, 0)) },\n                scale: { x: { guide: null } },\n            }),\n        ];\n    };\n};\nMaybeZeroX.props = {};\n//# sourceMappingURL=maybeZeroX.js.map","import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, it’s probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export function isTranspose(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    const transposes = transformations\n        .map(([type]) => type)\n        .filter((type) => type === 'transpose');\n    return transposes.length % 2 !== 0;\n}\nexport function isPolar(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    return transformations.some(([type]) => type === 'polar');\n}\nexport function isRadial(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    return (\n    // distinguish radial from theta.\n    transformations.some(([type]) => type === 'reflect') &&\n        transformations.some(([type]) => type.startsWith('transpose')));\n}\nexport function isHelix(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    return transformations.some(([type]) => type === 'helix');\n}\nexport function isParallel(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    return transformations.some(([type]) => type === 'parallel');\n}\nexport function isFisheye(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    return transformations.some(([type]) => type === 'fisheye');\n}\nexport function isRadar(coordinate) {\n    return isParallel(coordinate) && isPolar(coordinate);\n}\nexport function isCircular(coordinate) {\n    return isHelix(coordinate) || isPolar(coordinate);\n}\nexport function isTheta(coordinate) {\n    return isPolar(coordinate) && isTranspose(coordinate);\n}\nexport function isNonCartesian(coordinate) {\n    return (isPolar(coordinate) ||\n        isParallel(coordinate) ||\n        isRadial(coordinate) ||\n        isTheta(coordinate));\n}\nexport function getRadius(coordinate) {\n    if (isCircular(coordinate)) {\n        const [width, height] = coordinate.getSize();\n        const polar = coordinate\n            .getOptions()\n            .transformations.find((t) => t[0] === 'polar');\n        // coordinate.size * outerRadius.\n        if (polar)\n            return (Math.max(width, height) / 2) * polar[4];\n    }\n    return 0;\n}\nexport function radiusOf(coordinate) {\n    const { transformations } = coordinate.getOptions();\n    const [, , , innerRadius, outerRadius] = transformations.find((d) => d[0] === 'polar');\n    return [+innerRadius, +outerRadius];\n}\nexport function angleOf(coordinate, isRadius = true) {\n    const { transformations } = coordinate.getOptions();\n    const [, startAngle, endAngle] = transformations.find((d) => d[0] === 'polar');\n    return isRadius\n        ? [(+startAngle * 180) / Math.PI, (+endAngle * 180) / Math.PI]\n        : [startAngle, endAngle];\n}\nexport function getTransformOptions(coordinate, type) {\n    const { transformations } = coordinate.getOptions();\n    const [, ...args] = transformations.find((d) => d[0] === type);\n    return args;\n}\n//# sourceMappingURL=coordinate.js.map","export default function identity(x) {\n  return x;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","import { isNumber } from '@antv/util';\nimport { d3Ticks } from '../tick-methods/d3-ticks';\nimport { Base } from './base';\nexport class Constant extends Base {\n    /**\n     * 返回需要覆盖的默认选项\n     * @returns 需要覆盖的默认选项\n     */\n    getDefaultOptions() {\n        return {\n            range: [0],\n            domain: [0, 1],\n            unknown: undefined,\n            tickCount: 5,\n            tickMethod: d3Ticks,\n        };\n    }\n    /**\n     * 输入和输出满足：y = b，其中 b 是一个常量，是 options.range 的第一个元素\n     * @param _ 输入值\n     * @returns 输出值（常量）\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    map(_) {\n        const [v] = this.options.range;\n        return v !== undefined ? v : this.options.unknown;\n    }\n    /**\n     * 如果 x 是该比例尺的常量（\bx === b），返回输入值的范围（即定义域），否者返回 []\n     * @param x 输出值 (常量）\n     * @returns 定义域\n     */\n    invert(x) {\n        const [v] = this.options.range;\n        return x === v && v !== undefined ? this.options.domain : [];\n    }\n    getTicks() {\n        const { tickMethod, domain, tickCount } = this.options;\n        const [a, b] = domain;\n        if (!isNumber(a) || !isNumber(b))\n            return [];\n        return tickMethod(a, b, tickCount);\n    }\n    /**\n     * 克隆 Constant Scale\n     * @returns 拥有相同选项且独立的 Constant Scale\n     */\n    clone() {\n        return new Constant(this.options);\n    }\n}\n//# sourceMappingURL=constant.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { lowerFirst, upperFirst, isPlainObject } from '@antv/util';\nimport { Band, Constant } from '@antv/scale';\n/**\n * @description Get element's ancestor view node.\n * @param elemenet G2 element.\n * @returns Element's ancestor view node.\n */\nexport function getViewFromElement(element) {\n    var _a;\n    let current = element;\n    while (current) {\n        if (((_a = current.attributes) === null || _a === void 0 ? void 0 : _a.class) === 'view')\n            return current;\n        current = current.parentNode;\n    }\n    return null;\n}\n/**\n * @description Get element's original data.\n * @param elemenet G2 element.\n * @param elemenet View data, if not provided, will get from element's ancestor view.\n * @returns The original data of the element.\n */\nexport function dataOf(element, viewData) {\n    const view = viewData !== null && viewData !== void 0 ? viewData : getViewFromElement(element).__data__;\n    const datum = element.__data__;\n    const { markKey, index, seriesIndex } = datum;\n    const { markState } = view;\n    const selectedMark = Array.from(markState.keys()).find((mark) => mark.key === markKey);\n    if (!selectedMark)\n        return;\n    if (seriesIndex) {\n        return seriesIndex.map((i) => selectedMark.data[i]);\n    }\n    return selectedMark.data[index];\n}\n/**\n * @description Get element's series name.\n * @param elemenet G2 element.\n * @returns The series name of the element.\n */\nexport function seriesOf(elemenet) {\n    const viewData = getViewFromElement(elemenet).__data__;\n    const { scale } = viewData;\n    return groupNameOf(scale, elemenet.__data__);\n}\n/**\n * Get group name with view's scale and element's datum.\n */\nexport function groupNameOf(scale, datum) {\n    const { color: scaleColor, series: scaleSeries, facet = false } = scale;\n    const { color, series } = datum;\n    const invertAble = (scale) => {\n        return (scale &&\n            scale.invert &&\n            !(scale instanceof Band) &&\n            !(scale instanceof Constant));\n    };\n    // For non constant color channel.\n    if (invertAble(scaleSeries)) {\n        const cloned = scaleSeries.clone();\n        return cloned.invert(series);\n    }\n    if (series &&\n        scaleSeries instanceof Band &&\n        scaleSeries.invert(series) !== color &&\n        !facet) {\n        return scaleSeries.invert(series);\n    }\n    if (invertAble(scaleColor)) {\n        const name = scaleColor.invert(color);\n        // For threshold scale.\n        if (Array.isArray(name))\n            return null;\n        return name;\n    }\n    return null;\n}\nexport function identity(x) {\n    return x;\n}\n/**\n * Composes functions from left to right.\n */\nexport function compose(fns) {\n    return fns.reduce((composed, fn) => (x, ...args) => fn(composed(x, ...args), ...args), identity);\n}\n/**\n * Composes single-argument async functions from left to right.\n */\nexport function composeAsync(fns) {\n    return fns.reduce((composed, fn) => (x) => __awaiter(this, void 0, void 0, function* () {\n        const value = yield composed(x);\n        return fn(value);\n    }), identity);\n}\nexport function capitalizeFirst(str) {\n    return str.replace(/( |^)[a-z]/g, (L) => L.toUpperCase());\n}\nexport function error(message = '') {\n    throw new Error(message);\n}\nexport function copyAttributes(target, source) {\n    const { attributes } = source;\n    const exclude = new Set(['id', 'className']);\n    for (const [key, value] of Object.entries(attributes)) {\n        if (!exclude.has(key)) {\n            target.attr(key, value);\n        }\n    }\n}\nexport function defined(x) {\n    return x !== undefined && x !== null && !Number.isNaN(x);\n}\nexport function random(a, b) {\n    return a + (b - a) * Math.random();\n}\nexport function useMemo(compute) {\n    const map = new Map();\n    return (key) => {\n        if (map.has(key))\n            return map.get(key);\n        const value = compute(key);\n        map.set(key, value);\n        return value;\n    };\n}\nexport function appendTransform(node, transform) {\n    const { transform: preTransform } = node.style;\n    const unset = (d) => d === 'none' || d === undefined;\n    const prefix = unset(preTransform) ? '' : preTransform;\n    node.style.transform = `${prefix} ${transform}`.trimStart();\n}\nexport function subObject(obj, prefix) {\n    return maybeSubObject(obj, prefix) || {};\n}\nexport function maybeSubObject(obj, prefix) {\n    const entries = Object.entries(obj || {})\n        .filter(([key]) => key.startsWith(prefix))\n        .map(([key, value]) => [lowerFirst(key.replace(prefix, '').trim()), value])\n        .filter(([key]) => !!key);\n    return entries.length === 0 ? null : Object.fromEntries(entries);\n}\nexport function prefixObject(obj, prefix) {\n    return Object.fromEntries(Object.entries(obj).map(([key, value]) => {\n        return [`${prefix}${upperFirst(key)}`, value];\n    }));\n}\nexport function filterPrefixObject(obj, prefix) {\n    return Object.fromEntries(Object.entries(obj).filter(([key]) => prefix.find((p) => key.startsWith(p))));\n}\nexport function omitPrefixObject(obj, ...prefixes) {\n    return Object.fromEntries(Object.entries(obj).filter(([key]) => prefixes.every((prefix) => !key.startsWith(prefix))));\n}\nexport function maybePercentage(x, size) {\n    if (x === undefined)\n        return null;\n    if (typeof x === 'number')\n        return x;\n    const px = +x.replace('%', '');\n    return Number.isNaN(px) ? null : (px / 100) * size;\n}\nexport function isStrictObject(d) {\n    return (typeof d === 'object' &&\n        !(d instanceof Date) &&\n        d !== null &&\n        !Array.isArray(d));\n}\nexport function isUnset(value) {\n    return value === null || value === false;\n}\nexport function deepAssign(dist, src, maxLevel = 5, level = 0) {\n    if (level >= maxLevel)\n        return;\n    for (const key of Object.keys(src)) {\n        const value = src[key];\n        if (!isPlainObject(value) || !isPlainObject(dist[key])) {\n            dist[key] = value;\n        }\n        else {\n            deepAssign(dist[key], value, maxLevel, level + 1);\n        }\n    }\n    return dist;\n}\n//# sourceMappingURL=helper.js.map","import { Group, Rect, Circle, Path, Text, Ellipse, Image, Line, Polygon, Polyline, HTML, } from '@antv/g';\nimport { group } from '@antv/vendor/d3-array';\nimport { error } from './helper';\nexport function select(node) {\n    return new Selection([node], null, node, node.ownerDocument);\n}\n/**\n * A simple implementation of d3-selection for @antv/g.\n * It has the core features of d3-selection and extended ability.\n * Every methods of selection returns new selection if elements\n * are mutated(e.g. append, remove), otherwise return the selection itself(e.g. attr, style).\n * @see https://github.com/d3/d3-selection\n * @see https://github.com/antvis/g\n * @todo Nested selections.\n * @todo More useful functor.\n */\nexport class Selection {\n    constructor(elements = null, data = null, parent = null, document = null, selections = [\n        null,\n        null,\n        null,\n        null,\n        null,\n    ], transitions = [], updateElements = []) {\n        this._elements = Array.from(elements);\n        this._data = data;\n        this._parent = parent;\n        this._document = document;\n        this._enter = selections[0];\n        this._update = selections[1];\n        this._exit = selections[2];\n        this._merge = selections[3];\n        this._split = selections[4];\n        this._transitions = transitions;\n        this._facetElements = updateElements;\n    }\n    selectAll(selector) {\n        const elements = typeof selector === 'string'\n            ? this._parent.querySelectorAll(selector)\n            : selector;\n        return new Selection(elements, null, this._elements[0], this._document);\n    }\n    selectFacetAll(selector) {\n        const elements = typeof selector === 'string'\n            ? this._parent.querySelectorAll(selector)\n            : selector;\n        return new Selection(this._elements, null, this._parent, this._document, undefined, undefined, elements);\n    }\n    /**\n     * @todo Replace with querySelector which has bug now.\n     */\n    select(selector) {\n        const element = typeof selector === 'string'\n            ? this._parent.querySelectorAll(selector)[0] || null\n            : selector;\n        return new Selection([element], null, element, this._document);\n    }\n    append(node) {\n        const callback = typeof node === 'function' ? node : () => this.createElement(node);\n        const elements = [];\n        if (this._data !== null) {\n            // For empty selection, append new element to parent.\n            // Each element is bind with datum.\n            for (let i = 0; i < this._data.length; i++) {\n                const d = this._data[i];\n                const [datum, from] = Array.isArray(d) ? d : [d, null];\n                const newElement = callback(datum, i);\n                newElement.__data__ = datum;\n                if (from !== null)\n                    newElement.__fromElements__ = from;\n                this._parent.appendChild(newElement);\n                elements.push(newElement);\n            }\n            return new Selection(elements, null, this._parent, this._document);\n        }\n        else {\n            // For non-empty selection, append new element to\n            // selected element and return new selection.\n            for (let i = 0; i < this._elements.length; i++) {\n                const element = this._elements[i];\n                const datum = element.__data__;\n                const newElement = callback(datum, i);\n                element.appendChild(newElement);\n                elements.push(newElement);\n            }\n            return new Selection(elements, null, elements[0], this._document);\n        }\n    }\n    maybeAppend(id, node, className) {\n        const element = this._elements[0];\n        const child = element.getElementById(id);\n        if (child) {\n            return new Selection([child], null, this._parent, this._document);\n        }\n        const newChild = typeof node === 'string' ? this.createElement(node) : node();\n        newChild.id = id;\n        if (className)\n            newChild.className = className;\n        element.appendChild(newChild);\n        return new Selection([newChild], null, this._parent, this._document);\n    }\n    /**\n     * Bind data to elements, and produce three selection:\n     * Enter: Selection with empty elements and data to be bind to elements.\n     * Update: Selection with elements to be updated.\n     * Exit: Selection with elements to be removed.\n     */\n    data(data, id = (d) => d, groupId = () => null) {\n        // An Array of new data.\n        const enter = [];\n        // An Array of elements to be updated.\n        const update = [];\n        // A Set of elements to be removed.\n        const exit = new Set(this._elements);\n        // An Array of data to be merged into one element.\n        const merge = [];\n        // A Set of elements to be split into multiple datum.\n        const split = new Set();\n        // A Map from key to each element.\n        const keyElement = new Map(this._elements.map((d, i) => [id(d.__data__, i), d]));\n        // A Map from key to exist element. The Update Selection\n        // can get element from this map, this is for diff among\n        // facets.\n        const keyUpdateElement = new Map(this._facetElements.map((d, i) => [id(d.__data__, i), d]));\n        // A Map from groupKey to a group of elements.\n        const groupKeyElements = group(this._elements, (d) => groupId(d.__data__));\n        // Diff data with selection(elements with data).\n        // !!! Note\n        // The switch is strictly ordered, not not change the order of them.\n        for (let i = 0; i < data.length; i++) {\n            const datum = data[i];\n            const key = id(datum, i);\n            const groupKey = groupId(datum, i);\n            // Append element to update selection if incoming data has\n            // exactly the same key with elements.\n            if (keyElement.has(key)) {\n                const element = keyElement.get(key);\n                element.__data__ = datum;\n                element.__facet__ = false;\n                update.push(element);\n                exit.delete(element);\n                keyElement.delete(key);\n                // Append element to update selection if incoming data has\n                // exactly the same key with updateElements.\n            }\n            else if (keyUpdateElement.has(key)) {\n                const element = keyUpdateElement.get(key);\n                element.__data__ = datum;\n                // Flag this element should update its parentNode.\n                element.__facet__ = true;\n                update.push(element);\n                keyUpdateElement.delete(key);\n                // Append datum to merge selection if existed elements has\n                // its key as groupKey.\n            }\n            else if (groupKeyElements.has(key)) {\n                const group = groupKeyElements.get(key);\n                merge.push([datum, group]);\n                for (const element of group)\n                    exit.delete(element);\n                groupKeyElements.delete(key);\n                // Append element to split selection if incoming data has\n                // groupKey as its key, and bind to datum for it.\n            }\n            else if (keyElement.has(groupKey)) {\n                const element = keyElement.get(groupKey);\n                if (element.__toData__)\n                    element.__toData__.push(datum);\n                else\n                    element.__toData__ = [datum];\n                split.add(element);\n                exit.delete(element);\n            }\n            else {\n                // @todo Data with non-unique key.\n                enter.push(datum);\n            }\n        }\n        // Create new selection with enter, update and exit.\n        const S = [\n            new Selection([], enter, this._parent, this._document),\n            new Selection(update, null, this._parent, this._document),\n            new Selection(exit, null, this._parent, this._document),\n            new Selection([], merge, this._parent, this._document),\n            new Selection(split, null, this._parent, this._document),\n        ];\n        return new Selection(this._elements, null, this._parent, this._document, S);\n    }\n    merge(other) {\n        const elements = [...this._elements, ...other._elements];\n        const transitions = [...this._transitions, ...other._transitions];\n        return new Selection(elements, null, this._parent, this._document, undefined, transitions);\n    }\n    createElement(type) {\n        if (this._document) {\n            return this._document.createElement(type, {});\n        }\n        const Ctor = Selection.registry[type];\n        if (Ctor)\n            return new Ctor();\n        return error(`Unknown node type: ${type}`);\n    }\n    /**\n     * Apply callback for each selection(enter, update, exit)\n     * and merge them into one selection.\n     */\n    join(enter = (d) => d, update = (d) => d, exit = (d) => d.remove(), merge = (d) => d, split = (d) => d.remove()) {\n        const newEnter = enter(this._enter);\n        const newUpdate = update(this._update);\n        const newExit = exit(this._exit);\n        const newMerge = merge(this._merge);\n        const newSplit = split(this._split);\n        return newUpdate\n            .merge(newEnter)\n            .merge(newExit)\n            .merge(newMerge)\n            .merge(newSplit);\n    }\n    remove() {\n        // Remove node immediately if there is no transition,\n        // otherwise wait until transition finished.\n        for (let i = 0; i < this._elements.length; i++) {\n            const transition = this._transitions[i];\n            if (transition) {\n                const T = Array.isArray(transition) ? transition : [transition];\n                Promise.all(T.map((d) => d.finished)).then(() => {\n                    const element = this._elements[i];\n                    element.remove();\n                });\n            }\n            else {\n                const element = this._elements[i];\n                element.remove();\n            }\n        }\n        return new Selection([], null, this._parent, this._document, undefined, this._transitions);\n    }\n    each(callback) {\n        for (let i = 0; i < this._elements.length; i++) {\n            const element = this._elements[i];\n            const datum = element.__data__;\n            callback(datum, i, element);\n        }\n        return this;\n    }\n    attr(key, value) {\n        const callback = typeof value !== 'function' ? () => value : value;\n        return this.each(function (d, i, element) {\n            if (value !== undefined)\n                element[key] = callback(d, i, element);\n        });\n    }\n    style(key, value) {\n        const callback = typeof value !== 'function' ? () => value : value;\n        return this.each(function (d, i, element) {\n            if (value !== undefined)\n                element.style[key] = callback(d, i, element);\n        });\n    }\n    transition(value) {\n        const callback = typeof value !== 'function' ? () => value : value;\n        const { _transitions: T } = this;\n        return this.each(function (d, i, element) {\n            T[i] = callback(d, i, element);\n        });\n    }\n    on(event, handler) {\n        this.each(function (d, i, element) {\n            element.addEventListener(event, handler);\n        });\n        return this;\n    }\n    call(callback, ...args) {\n        callback(this, ...args);\n        return this;\n    }\n    node() {\n        return this._elements[0];\n    }\n    nodes() {\n        return this._elements;\n    }\n    transitions() {\n        return this._transitions;\n    }\n    parent() {\n        return this._parent;\n    }\n}\nSelection.registry = {\n    g: Group,\n    rect: Rect,\n    circle: Circle,\n    path: Path,\n    text: Text,\n    ellipse: Ellipse,\n    image: Image,\n    line: Line,\n    polygon: Polygon,\n    polyline: Polyline,\n    html: HTML,\n};\n//# sourceMappingURL=selection.js.map","export function sub([x1, y1], [x2, y2]) {\n    return [x1 - x2, y1 - y2];\n}\nexport function add([x1, y1], [x2, y2]) {\n    return [x1 + x2, y1 + y2];\n}\nexport function dist([x0, y0], [x1, y1]) {\n    return Math.sqrt(Math.pow((x0 - x1), 2) + Math.pow((y0 - y1), 2));\n}\n/**\n * Calculate angle of vector [x, y].\n */\nexport function angle([x, y]) {\n    return Math.atan2(y, x);\n}\n/**\n * Calculate angle of [x, y], then + Math.PI / 2.\n * Because of the difference between `Geometric coordinate system` and `Visualization coordinate system`.\n * @returns\n */\nexport function angleWithQuadrant([x, y]) {\n    return angle([x, y]) + Math.PI / 2;\n}\nexport function angleBetween(v0, v1) {\n    const a0 = angle(v0);\n    const a1 = angle(v1);\n    if (a0 < a1)\n        return a1 - a0;\n    return Math.PI * 2 - (a0 - a1);\n}\nexport function calcBBox(points) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    for (const [x, y] of points) {\n        minX = Math.min(x, minX);\n        maxX = Math.max(x, maxX);\n        minY = Math.min(y, minY);\n        maxY = Math.max(y, maxY);\n    }\n    const width = maxX - minX;\n    const height = maxY - minY;\n    return [minX, minY, width, height];\n}\n/**\n * Get the center of two points.\n */\nexport function mid([x1, y1], [x2, y2]) {\n    return [(x1 + x2) / 2, (y1 + y2) / 2];\n}\n//# sourceMappingURL=vector.js.map","/**\n * Clamp number within the inclusive range within the lower and upper bounds.\n */\nexport function clamp(v, lower, upper) {\n    return Math.max(lower, Math.min(v, upper));\n}\n/**\n * Precision conversion\n */\nexport function prettyNumber(n, precision = 10) {\n    if (typeof n !== 'number')\n        return n;\n    return Math.abs(n) < 1e-15 ? n : parseFloat(n.toFixed(precision));\n}\n//# sourceMappingURL=number.js.map","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","/**\n * Calls a defined callback function on each key:value of a object,\n * and returns a object contains the result.\n */\nexport function mapObject(object, callbackfn) {\n    return Object.entries(object).reduce((obj, [key, value]) => {\n        obj[key] = callbackfn(value, key, object);\n        return obj;\n    }, {});\n}\nexport function indexOf(array) {\n    return array.map((_, i) => i);\n}\n/**\n * @example [[1, 2, 3], ['a', 'b', 'c']] => [[1, 'a'], [2, 'b'], [3, 'c']]\n */\nexport function transpose(matrix) {\n    const row = matrix.length;\n    const col = matrix[0].length;\n    // Note: new Array(col).fill(new Array(row)) is not ok!!!\n    // Because in this case it will fill new Array(col) with the same array: new Array(row).\n    const transposed = new Array(col).fill(0).map(() => new Array(row));\n    for (let i = 0; i < col; i++) {\n        for (let j = 0; j < row; j++) {\n            transposed[i][j] = matrix[j][i];\n        }\n    }\n    return transposed;\n}\nexport function firstOf(array) {\n    return array[0];\n}\nexport function lastOf(array) {\n    return array[array.length - 1];\n}\nexport function isFlatArray(array) {\n    return !array.some(Array.isArray);\n}\nexport function unique(array) {\n    return Array.from(new Set(array));\n}\nexport function divide(array, callbackfn) {\n    const result = [[], []];\n    array.forEach((item) => {\n        result[callbackfn(item) ? 0 : 1].push(item);\n    });\n    return result;\n}\nfunction comb(array, len = array.length) {\n    if (len === 1)\n        return array.map((item) => [item]);\n    const result = [];\n    for (let i = 0; i < array.length; i++) {\n        const rest = array.slice(i + 1);\n        const restComb = comb(rest, len - 1);\n        restComb.forEach((comb) => {\n            result.push([array[i], ...comb]);\n        });\n    }\n    return result;\n}\n/**\n * get all combinations of two elements in an array\n * @example [1, 2, 3] => [[1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]]\n * @param array\n * @returns\n */\nexport function combine(array) {\n    if (array.length === 1)\n        return [array];\n    const result = [];\n    for (let i = 1; i <= array.length; i++) {\n        result.push(...comb(array, i));\n    }\n    return result;\n}\n//# sourceMappingURL=array.js.map","import { Linear } from '@antv/scale';\nimport { isNumber, lowerFirst } from '@antv/util';\nimport { extent } from '@antv/vendor/d3-array';\nimport { indexOf } from '../utils/array';\nimport { isPolar, isTranspose } from '../utils/coordinate';\nimport { angle, angleWithQuadrant, dist, sub } from '../utils/vector';\nexport function applyStyle(selection, style) {\n    for (const [key, value] of Object.entries(style)) {\n        selection.style(key, value);\n    }\n}\n/**\n * Draw polygon path with points.\n * @param path\n * @param points\n */\nexport function appendPolygon(path, points) {\n    points.forEach((p, idx) => idx === 0 ? path.moveTo(p[0], p[1]) : path.lineTo(p[0], p[1]));\n    path.closePath();\n    return path;\n}\n/**\n * Draw arrow between `from` and `to`.\n * @param from\n * @param to\n * @returns\n */\nexport function arrowPoints(from, to, options) {\n    const { arrowSize } = options;\n    const size = typeof arrowSize === 'string'\n        ? (+parseFloat(arrowSize) / 100) * dist(from, to)\n        : arrowSize;\n    // TODO Use config from style.\n    // Default arrow rotate is 30°.\n    const arrowAngle = Math.PI / 6;\n    const angle = Math.atan2(to[1] - from[1], to[0] - from[0]);\n    const arrowAngle1 = Math.PI / 2 - angle - arrowAngle;\n    const arrow1 = [\n        to[0] - size * Math.sin(arrowAngle1),\n        to[1] - size * Math.cos(arrowAngle1),\n    ];\n    const arrowAngle2 = angle - arrowAngle;\n    const arrow2 = [\n        to[0] - size * Math.cos(arrowAngle2),\n        to[1] - size * Math.sin(arrowAngle2),\n    ];\n    return [arrow1, arrow2];\n}\n/**\n * Draw arc by from -> to, with center and radius.\n * @param path\n * @param from\n * @param to\n * @param center\n * @param radius\n */\nexport function appendArc(path, from, to, center, radius) {\n    const startAngle = angle(sub(center, from)) + Math.PI;\n    const endAngle = angle(sub(center, to)) + Math.PI;\n    path.arc(center[0], center[1], radius, startAngle, endAngle, endAngle - startAngle < 0);\n    return path;\n}\n/**\n * @todo Fix wrong key point.\n */\nexport function computeGradient(C, X, Y, from = 'y', mode = 'between', tpShape = false) {\n    // The angles of gradients rendering are varies when 'from' and 'tpShape' are different.\n    const getTheta = (from, tpShape) => {\n        if (from === 'y' || from === true) {\n            if (tpShape) {\n                return 180;\n            }\n            else {\n                return 90;\n            }\n        }\n        else {\n            if (tpShape) {\n                return 90;\n            }\n            else {\n                return 0;\n            }\n        }\n    };\n    const P = from === 'y' || from === true ? Y : X;\n    const theta = getTheta(from, tpShape);\n    const I = indexOf(P);\n    const [min, max] = extent(I, (i) => P[i]);\n    // This need to improve for non-uniform distributed colors.\n    const p = new Linear({\n        domain: [min, max],\n        range: [0, 100],\n    });\n    const percentage = (i) => isNumber(P[i]) && !Number.isNaN(P[i]) ? p.map(P[i]) : 0;\n    const gradientMode = {\n        // Interpolate the colors for this segment.\n        between: (i) => `${C[i]} ${percentage(i)}%`,\n        // Use the color of the start point as the color for this segment.\n        start: (i) => i === 0\n            ? `${C[i]} ${percentage(i)}%`\n            : `${C[i - 1]} ${percentage(i)}%, ${C[i]} ${percentage(i)}%`,\n        // Use the color of the end point as the color for this segment.\n        end: (i) => i === C.length - 1\n            ? `${C[i]} ${percentage(i)}%`\n            : `${C[i]} ${percentage(i)}%, ${C[i + 1]} ${percentage(i)}%`,\n    };\n    const gradient = I.sort((a, b) => percentage(a) - percentage(b))\n        .map(gradientMode[mode] || gradientMode['between'])\n        .join(',');\n    return `linear-gradient(${theta}deg, ${gradient})`;\n}\nexport function reorder(points) {\n    const [p0, p1, p2, p3] = points;\n    return [p3, p0, p1, p2];\n}\nexport function getArcObject(coordinate, points, Y) {\n    const [p0, p1, , p3] = isTranspose(coordinate) ? reorder(points) : points;\n    const [y, y1] = Y;\n    const center = coordinate.getCenter();\n    const a1 = angleWithQuadrant(sub(p0, center));\n    const a2 = angleWithQuadrant(sub(p1, center));\n    // There are two situations that a2 === a1:\n    // 1. a1 - a2 = 0\n    // 2. |a1 - a2| = Math.PI * 2\n    // Distinguish them by y and y1:\n    const a3 = a2 === a1 && y !== y1 ? a2 + Math.PI * 2 : a2;\n    return {\n        startAngle: a1,\n        endAngle: a3 - a1 >= 0 ? a3 : Math.PI * 2 + a3,\n        innerRadius: dist(p3, center),\n        outerRadius: dist(p0, center),\n    };\n}\n/**\n * Pick connectStyle from style.\n * @param style\n */\nexport function getConnectStyle(style) {\n    const PREFIX = 'connect';\n    return Object.fromEntries(Object.entries(style)\n        .filter(([key]) => key.startsWith(PREFIX))\n        .map(([key, value]) => [\n        lowerFirst(key.replace(PREFIX, '').trim()),\n        value,\n    ])\n        .filter(([key]) => key !== undefined));\n}\nexport function toOpacityKey(options) {\n    const { colorAttribute, opacityAttribute = colorAttribute } = options;\n    return `${opacityAttribute}Opacity`;\n}\nexport function getTransform(coordinate, value) {\n    if (!isPolar(coordinate))\n        return '';\n    const center = coordinate.getCenter();\n    const { transform: suffix } = value;\n    return `translate(${center[0]}, ${center[1]}) ${suffix || ''}`;\n}\nexport function getOrigin(points) {\n    if (points.length === 1)\n        return points[0];\n    const [[x0, y0, z0 = 0], [x2, y2, z2 = 0]] = points;\n    return [(x0 + x2) / 2, (y0 + y2) / 2, (z0 + z2) / 2];\n}\n//# sourceMappingURL=utils.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { arc } from '@antv/vendor/d3-shape';\nimport { isPolar, isHelix, isTranspose } from '../../utils/coordinate';\nimport { select } from '../../utils/selection';\nimport { sub } from '../../utils/vector';\nimport { clamp } from '../../utils/number';\nimport { applyStyle, getArcObject, reorder, toOpacityKey } from '../utils';\n// Render rect in different coordinate.\nexport function rect(document, points, value, coordinate, style = {}) {\n    const { inset = 0, radius = 0, insetLeft = inset, insetTop = inset, insetRight = inset, insetBottom = inset, radiusBottomLeft = radius, radiusBottomRight = radius, radiusTopLeft = radius, radiusTopRight = radius, minWidth = -Infinity, maxWidth = Infinity, minHeight = -Infinity } = style, rest = __rest(style, [\"inset\", \"radius\", \"insetLeft\", \"insetTop\", \"insetRight\", \"insetBottom\", \"radiusBottomLeft\", \"radiusBottomRight\", \"radiusTopLeft\", \"radiusTopRight\", \"minWidth\", \"maxWidth\", \"minHeight\"]);\n    if (!isPolar(coordinate) && !isHelix(coordinate)) {\n        const tpShape = !!isTranspose(coordinate);\n        const [p0, , p2] = tpShape ? reorder(points) : points;\n        const [x, y] = p0;\n        const [width, height] = sub(p2, p0);\n        // Deal with width or height is negative.\n        const absX = width > 0 ? x : x + width;\n        const absY = height > 0 ? y : y + height;\n        const absWidth = Math.abs(width);\n        const absHeight = Math.abs(height);\n        const finalX = absX + insetLeft;\n        const finalY = absY + insetTop;\n        const finalWidth = absWidth - (insetLeft + insetRight);\n        const finalHeight = absHeight - (insetTop + insetBottom);\n        const clampWidth = tpShape\n            ? clamp(finalWidth, minHeight, Infinity)\n            : clamp(finalWidth, minWidth, maxWidth);\n        const clampHeight = tpShape\n            ? clamp(finalHeight, minWidth, maxWidth)\n            : clamp(finalHeight, minHeight, Infinity);\n        const clampX = tpShape ? finalX : finalX - (clampWidth - finalWidth) / 2;\n        const clampY = tpShape\n            ? finalY - (clampHeight - finalHeight) / 2\n            : finalY - (clampHeight - finalHeight);\n        return select(document.createElement('rect', {}))\n            .style('x', clampX)\n            .style('y', clampY)\n            .style('width', clampWidth)\n            .style('height', clampHeight)\n            .style('radius', [\n            radiusTopLeft,\n            radiusTopRight,\n            radiusBottomRight,\n            radiusBottomLeft,\n        ])\n            .call(applyStyle, rest)\n            .node();\n    }\n    // Render path in polar coordinate.\n    const { y, y1 } = value;\n    const center = coordinate.getCenter();\n    const arcObject = getArcObject(coordinate, points, [y, y1]);\n    const path = arc()\n        .cornerRadius(radius)\n        .padAngle((inset * Math.PI) / 180);\n    return select(document.createElement('path', {}))\n        .style('d', path(arcObject))\n        .style('transform', `translate(${center[0]}, ${center[1]})`)\n        .style('radius', radius)\n        .style('inset', inset)\n        .call(applyStyle, rest)\n        .node();\n}\n/**\n * Render rect in different coordinate.\n * Calc arc path based on control points directly rather startAngle, endAngle, innerRadius,\n * outerRadius. This is not accurate and will cause bug when the range of y scale is [1, 0]\n * for cell geometry.\n */\nexport const Color = (options, context) => {\n    // Render border only when colorAttribute is stroke.\n    const { colorAttribute, opacityAttribute = 'fill', first = true, last = true } = options, style = __rest(options, [\"colorAttribute\", \"opacityAttribute\", \"first\", \"last\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor, radius: defaultRadius = 0 } = defaults, restDefaults = __rest(defaults, [\"color\", \"radius\"]);\n        const defaultLineWidth = restDefaults.lineWidth || 1;\n        const { stroke, radius = defaultRadius, radiusTopLeft = radius, radiusTopRight = radius, radiusBottomRight = radius, radiusBottomLeft = radius, innerRadius = 0, innerRadiusTopLeft = innerRadius, innerRadiusTopRight = innerRadius, innerRadiusBottomRight = innerRadius, innerRadiusBottomLeft = innerRadius, lineWidth = colorAttribute === 'stroke' || stroke ? defaultLineWidth : 0, inset = 0, insetLeft = inset, insetRight = inset, insetBottom = inset, insetTop = inset, minWidth, maxWidth, minHeight } = style, rest = __rest(style, [\"stroke\", \"radius\", \"radiusTopLeft\", \"radiusTopRight\", \"radiusBottomRight\", \"radiusBottomLeft\", \"innerRadius\", \"innerRadiusTopLeft\", \"innerRadiusTopRight\", \"innerRadiusBottomRight\", \"innerRadiusBottomLeft\", \"lineWidth\", \"inset\", \"insetLeft\", \"insetRight\", \"insetBottom\", \"insetTop\", \"minWidth\", \"maxWidth\", \"minHeight\"]);\n        const { color = defaultColor, opacity } = value;\n        // Extended style, which is not supported by native g shape,\n        // should apply at first.\n        const standardDirRadius = [\n            first ? radiusTopLeft : innerRadiusTopLeft,\n            first ? radiusTopRight : innerRadiusTopRight,\n            last ? radiusBottomRight : innerRadiusBottomRight,\n            last ? radiusBottomLeft : innerRadiusBottomLeft,\n        ];\n        const standardDir = [\n            'radiusTopLeft',\n            'radiusTopRight',\n            'radiusBottomRight',\n            'radiusBottomLeft',\n        ];\n        // Transpose: rotate it clockwise by 90.\n        if (isTranspose(coordinate)) {\n            standardDir.push(standardDir.shift());\n        }\n        const extendedStyle = Object.assign(Object.assign({ radius }, Object.fromEntries(standardDir.map((d, i) => [d, standardDirRadius[i]]))), { inset,\n            insetLeft,\n            insetRight,\n            insetBottom,\n            insetTop,\n            minWidth,\n            maxWidth,\n            minHeight });\n        return (select(rect(document, points, value, coordinate, extendedStyle))\n            .call(applyStyle, restDefaults)\n            .style('fill', 'transparent')\n            .style(colorAttribute, color)\n            .style(toOpacityKey(options), opacity)\n            .style('lineWidth', lineWidth)\n            .style('stroke', stroke === undefined ? color : stroke)\n            // shape.style has higher priority.\n            .call(applyStyle, rest)\n            .node());\n    };\n};\n// @todo Should Shape have default animations using for ordinal scale?\nColor.props = {\n    defaultEnterAnimation: 'scaleInY',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=color.js.map","import { Color } from './color';\n/**\n * Render rect in different coordinate and using color channel for stroke and fill attribute.\n * The stroke attribute is valid with specified lineWidth attribute which defaults to zero.\n */\nexport const Rect = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill' }, options), context);\n};\nRect.props = Object.assign(Object.assign({}, Color.props), { defaultMarker: 'square' });\n//# sourceMappingURL=rect.js.map","import { Color } from './color';\n/**\n * Render rect in different coordinate and using color channel for stroke attribute.\n */\nexport const Hollow = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke' }, options), context);\n};\nHollow.props = Object.assign(Object.assign({}, Color.props), { defaultMarker: 'hollowSquare' });\n//# sourceMappingURL=hollow.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { line, curveLinearClosed } from '@antv/vendor/d3-shape';\nimport { isTranspose } from '../../utils/coordinate';\nimport { select } from '../../utils/selection';\nimport { applyStyle, reorder } from '../utils';\n/**\n * Adjust and return the new `points`.\n */\nfunction getFunnelPoints(points, nextPoints, coordinate) {\n    const [p0, p1, p2, p3] = points;\n    if (isTranspose(coordinate)) {\n        const newP1 = [nextPoints ? nextPoints[0][0] : p1[0], p1[1]];\n        const newP2 = [nextPoints ? nextPoints[3][0] : p2[0], p2[1]];\n        return [p0, newP1, newP2, p3];\n    }\n    const newP1 = [p1[0], nextPoints ? nextPoints[0][1] : p1[1]];\n    const newP2 = [p2[0], nextPoints ? nextPoints[3][1] : p2[1]];\n    return [p0, newP1, newP2, p3];\n}\n/**\n * Render funnel in different coordinate and using color channel for stroke and fill attribute.\n */\nexport const Funnel = (options, context) => {\n    const { adjustPoints = getFunnelPoints } = options, style = __rest(options, [\"adjustPoints\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults, point2d) => {\n        const { index } = value;\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const nextPoints = point2d[index + 1];\n        const funnelPoints = adjustPoints(points, nextPoints, coordinate);\n        const tpShape = !!isTranspose(coordinate);\n        const [p0, p1, p2, p3] = tpShape ? reorder(funnelPoints) : funnelPoints;\n        const { color = defaultColor, opacity } = value;\n        const b = line().curve(curveLinearClosed)([p0, p1, p2, p3]);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', b)\n            .style('fill', color)\n            .style('fillOpacity', opacity)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nFunnel.props = {\n    defaultMarker: 'square',\n};\n//# sourceMappingURL=funnel.js.map","import { isTranspose } from '../../utils/coordinate';\nimport { Funnel } from './funnel';\n/**\n * Adjust and return the new `points`.\n */\nfunction getPyramidPoints(points, nextPoints, coordinate) {\n    const [p0, p1, p2, p3] = points;\n    if (isTranspose(coordinate)) {\n        const newP1 = [\n            nextPoints ? nextPoints[0][0] : (p1[0] + p2[0]) / 2,\n            p1[1],\n        ];\n        const newP2 = [\n            nextPoints ? nextPoints[3][0] : (p1[0] + p2[0]) / 2,\n            p2[1],\n        ];\n        return [p0, newP1, newP2, p3];\n    }\n    const newP1 = [\n        p1[0],\n        nextPoints ? nextPoints[0][1] : (p1[1] + p2[1]) / 2,\n    ];\n    const newP2 = [\n        p2[0],\n        nextPoints ? nextPoints[3][1] : (p1[1] + p2[1]) / 2,\n    ];\n    return [p0, newP1, newP2, p3];\n}\n/**\n * Render pyramid in different coordinate and using color channel for stroke and fill attribute.\n */\nexport const Pyramid = (options, context) => {\n    return Funnel(Object.assign({ adjustPoints: getPyramidPoints }, options), context);\n};\nPyramid.props = {\n    defaultMarker: 'square',\n};\n//# sourceMappingURL=pyramid.js.map","function fillZero(digit) {\n    if (Math.abs(digit) > 10)\n        return String(digit);\n    return digit.toString().padStart(2, '0');\n}\nexport function dynamicFormatDateTime(date) {\n    const year = date.getFullYear();\n    const month = fillZero(date.getMonth() + 1);\n    const day = fillZero(date.getDate());\n    const yyyyMMDD = `${year}-${month}-${day}`;\n    const hour = date.getHours();\n    const minutes = date.getMinutes();\n    const seconds = date.getSeconds();\n    if (hour || minutes || seconds)\n        return `${yyyyMMDD} ${fillZero(hour)}:${fillZero(minutes)}:${fillZero(seconds)}`;\n    return yyyyMMDD;\n}\n//# sourceMappingURL=dateFormat.js.map","import { deepMix } from '@antv/util';\nimport { isUnset } from '../utils/helper';\nimport { dynamicFormatDateTime } from '../utils/dateFormat';\nimport { columnOf } from './utils/helper';\n/**\n * Infer title channel from x-position channel.\n */\nexport const MaybeTitle = (options = {}) => {\n    const { channel = 'x' } = options;\n    return (I, mark) => {\n        const { encode } = mark;\n        const { tooltip } = mark;\n        if (isUnset(tooltip))\n            return [I, mark];\n        const { title } = tooltip;\n        if (title !== undefined)\n            return [I, mark];\n        const titles = Object.keys(encode)\n            .filter((key) => key.startsWith(channel))\n            .filter((key) => !encode[key].inferred)\n            .map((key) => columnOf(encode, key))\n            .filter(([T]) => T)\n            .map((d) => d[0]);\n        if (titles.length === 0)\n            return [I, mark];\n        const T = [];\n        for (const i of I) {\n            T[i] = {\n                value: titles\n                    .map((t) => t[i] instanceof Date ? dynamicFormatDateTime(t[i]) : t[i])\n                    .join(', '),\n            };\n        }\n        return [\n            I,\n            deepMix({}, mark, {\n                tooltip: {\n                    title: T,\n                },\n            }),\n        ];\n    };\n};\nMaybeTitle.props = {};\n//# sourceMappingURL=maybeTitle.js.map","import { deepMix } from '@antv/util';\nimport { isUnset } from '../utils/helper';\n/**\n * Infer tooltip channel from specified channel.\n */\nexport const MaybeTooltip = (options) => {\n    const { channel } = options;\n    return (I, mark) => {\n        const { encode, tooltip } = mark;\n        if (isUnset(tooltip))\n            return [I, mark];\n        const { items = [] } = tooltip;\n        if (!items || items.length > 0)\n            return [I, mark];\n        const channels = Array.isArray(channel) ? channel : [channel];\n        const newItems = channels.flatMap((channel) => Object.keys(encode)\n            .filter((key) => key.startsWith(channel))\n            .map((key) => {\n            const { field, value, inferred = false, aggregate } = encode[key];\n            if (inferred)\n                return null;\n            // Do not show inferred column.\n            if (aggregate && value)\n                return { channel: key };\n            if (field)\n                return { field };\n            if (value)\n                return { channel: key };\n            return null;\n        })\n            .filter((d) => d !== null));\n        return [I, deepMix({}, mark, { tooltip: { items: newItems } })];\n    };\n};\nMaybeTooltip.props = {};\n//# sourceMappingURL=maybeTooltip.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { column } from './utils/helper';\n/**\n * Infer key for every element.\n */\nexport const MaybeKey = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { key } = encode, rest = __rest(encode, [\"key\"]);\n        if (key !== undefined)\n            return [I, mark];\n        const values = Object.values(rest).map(({ value }) => value);\n        const K = I.map((i) => values\n            .filter(Array.isArray)\n            .map((V) => V[i])\n            .join('-'));\n        return [I, deepMix({}, mark, { encode: { key: column(K) } })];\n    };\n};\nMaybeKey.props = {};\n//# sourceMappingURL=maybeKey.js.map","import { MaybeKey, MaybeTitle, MaybeTooltip } from '../transform';\nexport function baseChannels(options = {}) {\n    const { shapes } = options;\n    return [\n        { name: 'color' },\n        { name: 'opacity' },\n        { name: 'shape', range: shapes },\n        { name: 'enterType' },\n        { name: 'enterDelay', scaleKey: 'enter' },\n        { name: 'enterDuration', scaleKey: 'enter' },\n        { name: 'enterEasing' },\n        { name: 'key', scale: 'identity' },\n        { name: 'groupKey', scale: 'identity' },\n        { name: 'label', scale: 'identity' },\n    ];\n}\nexport function baseGeometryChannels(options = {}) {\n    return [...baseChannels(options), { name: 'title', scale: 'identity' }];\n}\nexport function tooltip3d() {\n    return [\n        { type: MaybeTitle, channel: 'color' },\n        { type: MaybeTooltip, channel: ['x', 'y', 'z'] },\n    ];\n}\nexport function tooltip2d() {\n    return [\n        { type: MaybeTitle, channel: 'color' },\n        { type: MaybeTooltip, channel: ['x', 'y'] },\n    ];\n}\nexport function tooltip1d() {\n    return [\n        { type: MaybeTitle, channel: 'x' },\n        { type: MaybeTooltip, channel: ['y'] },\n    ];\n}\nexport function tooltipXd() {\n    return [\n        { type: MaybeTitle, channel: 'color' },\n        { type: MaybeTooltip, channel: ['position'] },\n    ];\n}\nexport function baseAnnotationChannels(options = {}) {\n    return baseChannels(options);\n}\nexport function basePreInference() {\n    return [{ type: MaybeKey }];\n}\nexport function basePostInference() {\n    return [];\n}\nexport function bandWidth(scale, x) {\n    return scale.getBandWidth(scale.invert(x));\n}\nexport function createBandOffset(scale, value, options = {}) {\n    const { x: X, y: Y, series: S } = value;\n    const { x, y, series } = scale;\n    const { style: { bandOffset = series ? 0 : 0.5, bandOffsetX = bandOffset, bandOffsetY = bandOffset, } = {}, } = options;\n    const isBandX = !!(x === null || x === void 0 ? void 0 : x.getBandWidth);\n    const isBandY = !!(y === null || y === void 0 ? void 0 : y.getBandWidth);\n    const isSeries = !!(series === null || series === void 0 ? void 0 : series.getBandWidth);\n    if (!isBandX && !isBandY)\n        return (d) => d;\n    return (d, i) => {\n        const widthX = isBandX ? bandWidth(x, X[i]) : 0;\n        const widthY = isBandY ? bandWidth(y, Y[i]) : 0;\n        const f = () => (bandWidth(series, S[i]) / 2 + +S[i]) * widthX;\n        const offset = isSeries && S ? f() : 0;\n        const [x0, y0] = d;\n        return [x0 + bandOffsetX * widthX + offset, y0 + bandOffsetY * widthY];\n    };\n}\nexport function p(d) {\n    return parseFloat(d) / 100;\n}\nexport function visualMark(index, scale, value, coordinate) {\n    const { x: X, y: Y } = value;\n    const { innerWidth, innerHeight } = coordinate.getOptions();\n    const P = Array.from(index, (i) => {\n        const x0 = X[i];\n        const y0 = Y[i];\n        const x = typeof x0 === 'string' ? p(x0) * innerWidth : +x0;\n        const y = typeof y0 === 'string' ? p(y0) * innerHeight : +y0;\n        return [[x, y]];\n    });\n    return [index, P];\n}\nexport function field(encode) {\n    return typeof encode === 'function' ? encode : (d) => d[encode];\n}\nexport function valueof(data, encode) {\n    return Array.from(data, field(encode));\n}\nexport function initializeData(data, encode) {\n    const { source = (d) => d.source, target = (d) => d.target, value = (d) => d.value, } = encode;\n    const { links, nodes } = data;\n    const LS = valueof(links, source);\n    const LT = valueof(links, target);\n    const LV = valueof(links, value);\n    return {\n        links: links.map((_, i) => ({\n            target: LT[i],\n            source: LS[i],\n            value: LV[i],\n        })),\n        nodes: nodes || Array.from(new Set([...LS, ...LT]), (key) => ({ key })),\n    };\n}\n//# sourceMappingURL=utils.js.map","import { MaybeZeroY1, MaybeZeroX } from '../transform';\nimport { IntervalShape, IntervalHollow, IntervalFunnel, IntervalPyramid, } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, } from './utils';\nfunction bandWidth(scale, x) {\n    return scale.getBandWidth(scale.invert(x));\n}\nconst shape = {\n    rect: IntervalShape,\n    hollow: IntervalHollow,\n    funnel: IntervalFunnel,\n    pyramid: IntervalPyramid,\n};\n/**\n * Convert value for each channel to rect shapes.\n * p0        p1\n *    ┌────┐\n *    │    │\n *    │    │\n * p3 └────┘ p2\n */\nexport const Interval = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, y1: Y1, series: S, size: SZ } = value;\n        // Calc width for each interval.\n        // The scales for x and series channels must be band scale.\n        const x = scale.x;\n        const series = scale.series;\n        const [width] = coordinate.getSize();\n        const NSZ = SZ ? SZ.map((d) => +d / width) : null;\n        const x1x2 = !SZ\n            ? (x, w, i) => [x, x + w]\n            : (x, w, i) => {\n                const mx = x + w / 2;\n                const s = NSZ[i];\n                return [mx - s / 2, mx + s / 2];\n            };\n        // Calc the points of bounding box for the interval.\n        // They are start from left-top corner in clock wise order.\n        const P = Array.from(index, (i) => {\n            const groupWidth = bandWidth(x, X[i]);\n            const ratio = series ? bandWidth(series, S === null || S === void 0 ? void 0 : S[i]) : 1;\n            const width = groupWidth * ratio;\n            const offset = (+(S === null || S === void 0 ? void 0 : S[i]) || 0) * groupWidth;\n            const x0 = +X[i] + offset;\n            const [x1, x2] = x1x2(x0, width, i);\n            const y1 = +Y[i];\n            const y2 = +Y1[i];\n            const p1 = [x1, y1];\n            const p2 = [x2, y1];\n            const p3 = [x2, y2];\n            const p4 = [x1, y2];\n            return [p1, p2, p3, p4].map((d) => coordinate.map(d));\n        });\n        return [index, P];\n    };\n};\nInterval.props = {\n    defaultShape: 'rect',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', scale: 'band', required: true },\n        { name: 'y', required: true },\n        { name: 'series', scale: 'band' },\n        { name: 'size' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeZeroY1 },\n        { type: MaybeZeroX },\n    ],\n    postInference: [...basePostInference(), ...tooltip1d()],\n    interaction: { shareTooltip: true },\n};\n//# sourceMappingURL=interval.js.map","import { RectShape, RectHollow } from '../shape';\nimport { MaybeZeroY1 } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, } from './utils';\nconst shape = {\n    rect: RectShape,\n    hollow: RectHollow,\n};\nexport const Rect = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, x1: X1, y: Y, y1: Y1 } = value;\n        const P = Array.from(index, (i) => {\n            const p1 = [+X[i], +Y[i]];\n            const p2 = [+X1[i], +Y[i]];\n            const p3 = [+X1[i], +Y1[i]];\n            const p4 = [+X[i], +Y1[i]];\n            return [p1, p2, p3, p4].map((d) => coordinate.map(d));\n        });\n        return [index, P];\n    };\n};\nRect.props = {\n    defaultShape: 'rect',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference(), { type: MaybeZeroY1 }],\n    postInference: [...basePostInference(), ...tooltip1d()],\n    interaction: {\n        shareTooltip: true,\n    },\n};\n//# sourceMappingURL=rect.js.map","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import { CustomElement } from '@antv/g';\nexport function createElement(descriptor) {\n    const render = typeof descriptor === 'function' ? descriptor : descriptor.render;\n    return class extends CustomElement {\n        connectedCallback() {\n            this.draw();\n        }\n        attributeChangedCallback() {\n            this.draw();\n        }\n        draw() {\n            render(this);\n        }\n    };\n}\n//# sourceMappingURL=createElement.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { line, lineRadial, } from '@antv/vendor/d3-shape';\nimport { isPolar, isTranspose } from '../../utils/coordinate';\nimport { select } from '../../utils/selection';\nimport { applyStyle, computeGradient, getTransform } from '../utils';\nimport { createElement } from '../../utils/createElement';\nimport { subObject } from '../../utils/helper';\nimport { angleWithQuadrant, dist, sub } from '../../utils/vector';\nconst DoublePath = createElement((g) => {\n    const { d1, d2, style1, style2 } = g.attributes;\n    const document = g.ownerDocument;\n    select(g)\n        .maybeAppend('line', () => document.createElement('path', {}))\n        .style('d', d1)\n        .call(applyStyle, style1);\n    select(g)\n        .maybeAppend('line1', () => document.createElement('path', {}))\n        .style('d', d2)\n        .call(applyStyle, style2);\n});\n/**\n * Given a points sequence, split it into an array of defined points\n * and an array of undefined segments.\n *\n * Input - [[1, 2], [3, 4], [null, null], [null, null], [5, 6], [null, null], [7, 8]]\n * Output\n *  - [[1, 2], [3, 4], [5, 6], [7, 8]]\n *  - [\n *      [[3, 4], [5, 6]],\n *      [[5, 6], [7, 8]]\n *    ]\n */\nfunction segmentation(points, defined) {\n    const definedPoints = [];\n    const segments = [];\n    let m = false; // Is in a undefined sequence.\n    let dp = null; // The previous defined point.\n    for (const p of points) {\n        // If current point is a undefined point,\n        // enter a undefined sequence.\n        if (!defined(p[0]) || !defined(p[1]))\n            m = true;\n        else {\n            definedPoints.push(p);\n            // If current point is a defined point,\n            // and is in a undefined sequence, save\n            // the two closest defined points as this\n            // undefined sequence and exit it.\n            if (m) {\n                m = false;\n                segments.push([dp, p]);\n            }\n            // Update the previous defined point.\n            dp = p;\n        }\n    }\n    return [definedPoints, segments];\n}\nexport const Curve = (options, context) => {\n    const { curve, gradient = false, \n    // The color for each segment.\n    gradientColor = 'between', defined = (d) => !Number.isNaN(d) && d !== undefined && d !== null, connect: connectNulls = false } = options, style = __rest(options, [\"curve\", \"gradient\", \"gradientColor\", \"defined\", \"connect\"]);\n    const { coordinate, document } = context;\n    return (P, value, defaults) => {\n        // Compute styles.\n        const { color: defaultColor, lineWidth: defaultSize } = defaults, rest = __rest(defaults, [\"color\", \"lineWidth\"]);\n        const { color = defaultColor, size = defaultSize, seriesColor: sc, seriesX: sx, seriesY: sy, } = value;\n        const transform = getTransform(coordinate, value);\n        const tpShape = isTranspose(coordinate);\n        const stroke = gradient && sc\n            ? computeGradient(sc, sx, sy, gradient, gradientColor, tpShape)\n            : color;\n        const finalStyle = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, rest), (stroke && { stroke })), (size && { lineWidth: size })), (transform && { transform })), style);\n        // Compute points and segments.\n        let linePath;\n        if (isPolar(coordinate)) {\n            const center = coordinate.getCenter();\n            linePath = (points) => lineRadial()\n                .angle((_, idx) => angleWithQuadrant(sub(points[idx], center)))\n                .radius((_, idx) => dist(points[idx], center))\n                .defined(([x, y]) => defined(x) && defined(y))\n                .curve(curve)(points);\n        }\n        else {\n            linePath = line()\n                .x((d) => d[0])\n                .y((d) => d[1])\n                .defined(([x, y]) => defined(x) && defined(y))\n                .curve(curve);\n        }\n        const [DP, MS] = segmentation(P, defined);\n        const connectStyle = subObject(finalStyle, 'connect');\n        const missing = !!MS.length;\n        // Draw one path of connected defined points.\n        if (!missing || (connectNulls && !Object.keys(connectStyle).length)) {\n            return select(document.createElement('path', {}))\n                .style('d', linePath(DP) || [])\n                .call(applyStyle, finalStyle)\n                .node();\n        }\n        // Draw one path of unconnected defined points.\n        if (missing && !connectNulls) {\n            return select(document.createElement('path', {}))\n                .style('d', linePath(P))\n                .call(applyStyle, finalStyle)\n                .node();\n        }\n        // Draw two path.\n        // One for unconnected defined points.\n        // One for connected segments.\n        const connectPath = (segments) => segments.map(linePath).join(',');\n        return select(new DoublePath())\n            .style('style1', Object.assign(Object.assign({}, finalStyle), connectStyle))\n            .style('style2', finalStyle)\n            .style('d1', connectPath(MS))\n            .style('d2', linePath(P))\n            .node();\n    };\n};\nCurve.props = {\n    defaultMarker: 'smooth',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=curve.js.map","import { curveLinear, curveLinearClosed } from '@antv/vendor/d3-shape';\nimport { isPolar } from '../../utils/coordinate';\nimport { Curve } from './curve';\nexport const Line = (options, context) => {\n    const { coordinate } = context;\n    return (...params) => {\n        const curve = isPolar(coordinate) ? curveLinearClosed : curveLinear;\n        return Curve(Object.assign({ curve }, options), context)(...params);\n    };\n};\nLine.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'line' });\n//# sourceMappingURL=line.js.map","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { curveMonotoneX, curveMonotoneY, curveCatmullRomClosed, } from '@antv/vendor/d3-shape';\nimport { isPolar, isTranspose } from '../../utils/coordinate';\nimport { Curve } from './curve';\nexport const Smooth = (options, context) => {\n    const rest = __rest(options, []);\n    const { coordinate } = context;\n    return (...params) => {\n        const curve = isPolar(coordinate)\n            ? curveCatmullRomClosed\n            : isTranspose(coordinate)\n                ? curveMonotoneY\n                : curveMonotoneX;\n        return Curve(Object.assign({ curve }, rest), context)(...params);\n    };\n};\nSmooth.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'smooth' });\n//# sourceMappingURL=smooth.js.map","import { curveStepAfter } from '@antv/vendor/d3-shape';\nimport { Curve } from './curve';\nexport const HV = (options, context) => {\n    return Curve(Object.assign({ curve: curveStepAfter }, options), context);\n};\nHV.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'hv' });\n//# sourceMappingURL=hv.js.map","import { curveStepBefore } from '@antv/vendor/d3-shape';\nimport { Curve } from './curve';\nexport const VH = (options, context) => {\n    return Curve(Object.assign({ curve: curveStepBefore }, options), context);\n};\nVH.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'vh' });\n//# sourceMappingURL=vh.js.map","import { curveStep } from '@antv/vendor/d3-shape';\nimport { Curve } from './curve';\nexport const HVH = (options, context) => {\n    return Curve(Object.assign({ curve: curveStep }, options), context);\n};\nHVH.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'hvh' });\n//# sourceMappingURL=hvh.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { select } from '../../utils/selection';\nimport { applyStyle } from '../utils';\nimport { angle, sub, add } from '../../utils/vector';\nimport { defined } from '../../utils/helper';\nimport { Curve } from './curve';\n/**\n *\n * x9-x0---------x1-x2\n * /   |r1        |r2 \\\n *x8---p0---------p1---x3\n * \\ r4|          | r3 /\n *  x7-x6--------x5-x4\n */\nfunction stroke(path, p0, p1, s0, s1) {\n    const v = sub(p1, p0);\n    const a = angle(v);\n    const a1 = a + Math.PI / 2;\n    const r1 = [(s0 / 2) * Math.cos(a1), (s0 / 2) * Math.sin(a1)];\n    const r2 = [(s1 / 2) * Math.cos(a1), (s1 / 2) * Math.sin(a1)];\n    const r3 = [(s1 / 2) * Math.cos(a), (s1 / 2) * Math.sin(a)];\n    const r4 = [(s0 / 2) * Math.cos(a), (s0 / 2) * Math.sin(a)];\n    const x0 = add(p0, r1);\n    const x1 = add(p1, r2);\n    const x2 = add(x1, r3);\n    const x3 = add(p1, r3);\n    const x4 = sub(x3, r2);\n    const x5 = sub(p1, r2);\n    const x6 = sub(p0, r1);\n    const x7 = sub(x6, r4);\n    const x8 = sub(p0, r4);\n    const x9 = sub(x0, r4);\n    path.moveTo(...x0);\n    path.lineTo(...x1);\n    path.arcTo(...x2, ...x3, s1 / 2);\n    path.arcTo(...x4, ...x5, s1 / 2);\n    path.lineTo(...x6);\n    path.arcTo(...x7, ...x8, s0 / 2);\n    path.arcTo(...x9, ...x0, s0 / 2);\n    path.closePath();\n}\n// @todo Support connect and connectStyle.\nexport const Trail = (options, context) => {\n    const { document } = context;\n    return (P, value, defaults) => {\n        const { seriesSize, color } = value;\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const path = d3path();\n        for (let i = 0; i < P.length - 1; i++) {\n            const p0 = P[i];\n            const p1 = P[i + 1];\n            const s0 = seriesSize[i];\n            const s1 = seriesSize[i + 1];\n            if ([...p0, ...p1].every(defined))\n                stroke(path, p0, p1, s0, s1);\n        }\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('fill', color || defaultColor)\n            .style('d', path.toString())\n            .call(applyStyle, options)\n            .node();\n    };\n};\nTrail.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'line' });\n//# sourceMappingURL=trail.js.map","import { deepMix } from '@antv/util';\nimport { constant, visualColumn } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeGradient = () => {\n    return (I, mark) => {\n        const { style = {}, encode } = mark;\n        const { series } = encode;\n        const { gradient } = style;\n        if (!gradient || series)\n            return [I, mark];\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: {\n                    series: visualColumn(constant(I, undefined)),\n                },\n            }),\n        ];\n    };\n};\nMaybeGradient.props = {};\n//# sourceMappingURL=maybeGradient.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\n/**\n * Assume color channel is series channel.\n */\nexport const MaybeSeries = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { series, color } = encode;\n        if (series !== undefined || color === undefined)\n            return [I, mark];\n        const [C, fc] = columnOf(encode, 'color');\n        return [I, deepMix({}, mark, { encode: { series: column(C, fc) } })];\n    };\n};\nMaybeSeries.props = {};\n//# sourceMappingURL=maybeSeries.js.map","import { group } from '@antv/vendor/d3-array';\nimport { isParallel } from '../utils/coordinate';\nimport { LineShape, LineHV, LineVH, LineHVH, LineTrail, LineSmooth, } from '../shape';\nimport { MaybeSeries, MaybeGradient } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, tooltipXd, } from './utils';\nconst shape = {\n    line: LineShape,\n    smooth: LineSmooth,\n    hv: LineHV,\n    vh: LineVH,\n    hvh: LineHVH,\n    trail: LineTrail,\n};\nconst line = (index, scale, value, coordinate) => {\n    var _a, _b;\n    const { series: S, x: X, y: Y } = value;\n    const { x, y } = scale;\n    // Because x and y channel is not strictly required in Line.props,\n    // it should throw error with empty x or y channels.\n    if (X === undefined || Y === undefined) {\n        throw new Error('Missing encode for x or y channel.');\n    }\n    // Group data into series.\n    // There is only one series without specified series encode.\n    const series = S ? Array.from(group(index, (i) => S[i]).values()) : [index];\n    const I = series.map((group) => group[0]).filter((i) => i !== undefined);\n    // A group of data corresponds to one line.\n    const xoffset = (((_a = x === null || x === void 0 ? void 0 : x.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(x)) || 0) / 2;\n    const yoffset = (((_b = y === null || y === void 0 ? void 0 : y.getBandWidth) === null || _b === void 0 ? void 0 : _b.call(y)) || 0) / 2;\n    const P = Array.from(series, (I) => {\n        return I.map((i) => coordinate.map([+X[i] + xoffset, +Y[i] + yoffset]));\n    });\n    return [I, P, series];\n};\nconst parallel = (index, scale, value, coordinate) => {\n    // Extract all value for position[number] channels.\n    const PV = Object.entries(value)\n        .filter(([key]) => key.startsWith('position'))\n        .map(([, value]) => value);\n    // Because position channel is not strictly required in Line.props,\n    // it should throw error with empty position values.\n    if (PV.length === 0) {\n        throw new Error('Missing encode for position channel.');\n    }\n    // One data corresponds to one line.\n    const P = Array.from(index, (i) => {\n        // Transform high dimension vector to a list of two-dimension vectors.\n        // [a, b, c] -> [d, e, f, g, h, i]\n        const vector = PV.map((pv) => +pv[i]);\n        const vectors = coordinate.map(vector);\n        // Two-dimension vectors are stored in a flat array, so extract them.\n        // [d, e, f, g, h, i] -> [d, e], [f, g], [h, i]\n        const points = [];\n        for (let i = 0; i < vectors.length; i += 2) {\n            points.push([vectors[i], vectors[i + 1]]);\n        }\n        return points;\n    });\n    return [index, P];\n};\n/**\n * Convert value for each channel to line shapes.\n */\nexport const Line = () => {\n    return (index, scale, value, coordinate) => {\n        const mark = isParallel(coordinate) ? parallel : line;\n        return mark(index, scale, value, coordinate);\n    };\n};\nLine.props = {\n    defaultShape: 'line',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x' },\n        { name: 'y' },\n        { name: 'position', independent: true },\n        { name: 'size' },\n        { name: 'series', scale: 'band' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        // !!!Note This order is very important.\n        { type: MaybeGradient },\n        { type: MaybeSeries },\n    ],\n    postInference: [...basePostInference(), ...tooltip1d(), ...tooltipXd()],\n    interaction: {\n        shareTooltip: true,\n        seriesTooltip: true,\n        crosshairs: true,\n    },\n};\n//# sourceMappingURL=line.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Path } from '@antv/g';\nconst point = (x, y, r) => {\n    return [\n        ['M', x - r, y],\n        ['A', r, r, 0, 1, 0, x + r, y],\n        ['A', r, r, 0, 1, 0, x - r, y],\n        ['Z'],\n    ];\n};\npoint.style = ['fill'];\nconst hollowPoint = point.bind(undefined);\nhollowPoint.style = ['stroke', 'lineWidth'];\nconst square = (x, y, r) => {\n    return [\n        ['M', x - r, y - r],\n        ['L', x + r, y - r],\n        ['L', x + r, y + r],\n        ['L', x - r, y + r],\n        ['Z'],\n    ];\n};\nsquare.style = ['fill'];\nconst rect = square.bind(undefined);\nrect.style = ['fill'];\nconst hollowSquare = square.bind(undefined);\nhollowSquare.style = ['stroke', 'lineWidth'];\nconst diamond = (x, y, r) => {\n    const hr = r * 0.618;\n    return [\n        ['M', x - hr, y],\n        ['L', x, y - r],\n        ['L', x + hr, y],\n        ['L', x, y + r],\n        ['Z'],\n    ];\n};\ndiamond.style = ['fill'];\nconst hollowDiamond = diamond.bind(undefined);\nhollowDiamond.style = ['stroke', 'lineWidth'];\nconst triangle = (x, y, r) => {\n    const diffY = r * Math.sin((1 / 3) * Math.PI);\n    return [\n        ['M', x - r, y + diffY],\n        ['L', x, y - diffY],\n        ['L', x + r, y + diffY],\n        ['Z'],\n    ];\n};\ntriangle.style = ['fill'];\nconst hollowTriangle = triangle.bind(undefined);\nhollowTriangle.style = ['stroke', 'lineWidth'];\nconst triangleDown = (x, y, r) => {\n    const diffY = r * Math.sin((1 / 3) * Math.PI);\n    return [\n        ['M', x - r, y - diffY],\n        ['L', x + r, y - diffY],\n        ['L', x, y + diffY],\n        ['Z'],\n    ];\n};\ntriangleDown.style = ['fill'];\nconst hollowTriangleDown = triangleDown.bind(undefined);\nhollowTriangleDown.style = ['stroke', 'lineWidth'];\nconst hexagon = (x, y, r) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n        ['M', x, y - r],\n        ['L', x + diffX, y - r / 2],\n        ['L', x + diffX, y + r / 2],\n        ['L', x, y + r],\n        ['L', x - diffX, y + r / 2],\n        ['L', x - diffX, y - r / 2],\n        ['Z'],\n    ];\n};\nhexagon.style = ['fill'];\nconst hollowHexagon = hexagon.bind(undefined);\nhollowHexagon.style = ['stroke', 'lineWidth'];\nconst bowtie = (x, y, r) => {\n    const diffY = r - 1.5;\n    return [\n        ['M', x - r, y - diffY],\n        ['L', x + r, y + diffY],\n        ['L', x + r, y - diffY],\n        ['L', x - r, y + diffY],\n        ['Z'],\n    ];\n};\nbowtie.style = ['fill'];\nconst hollowBowtie = bowtie.bind(undefined);\nhollowBowtie.style = ['stroke', 'lineWidth'];\nconst line = (x, y, r) => {\n    return [\n        ['M', x, y + r],\n        ['L', x, y - r],\n    ];\n};\nline.style = ['stroke', 'lineWidth'];\nconst cross = (x, y, r) => {\n    return [\n        ['M', x - r, y - r],\n        ['L', x + r, y + r],\n        ['M', x + r, y - r],\n        ['L', x - r, y + r],\n    ];\n};\ncross.style = ['stroke', 'lineWidth'];\nconst tick = (x, y, r) => {\n    return [\n        ['M', x - r / 2, y - r],\n        ['L', x + r / 2, y - r],\n        ['M', x, y - r],\n        ['L', x, y + r],\n        ['M', x - r / 2, y + r],\n        ['L', x + r / 2, y + r],\n    ];\n};\ntick.style = ['stroke', 'lineWidth'];\nconst plus = (x, y, r) => {\n    return [\n        ['M', x - r, y],\n        ['L', x + r, y],\n        ['M', x, y - r],\n        ['L', x, y + r],\n    ];\n};\nplus.style = ['stroke', 'lineWidth'];\nconst hyphen = (x, y, r) => {\n    return [\n        ['M', x - r, y],\n        ['L', x + r, y],\n    ];\n};\nhyphen.style = ['stroke', 'lineWidth'];\nconst dot = (x, y, r) => {\n    return [\n        ['M', x - r, y],\n        ['L', x + r, y],\n    ];\n};\ndot.style = ['stroke', 'lineWidth'];\nconst dash = dot.bind(undefined);\ndash.style = ['stroke', 'lineWidth'];\nconst smooth = (x, y, r) => {\n    return [\n        ['M', x - r, y],\n        ['A', r / 2, r / 2, 0, 1, 1, x, y],\n        ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n};\nsmooth.style = ['stroke', 'lineWidth'];\nconst hv = (x, y, r) => {\n    return [\n        ['M', x - r - 1, y - 2.5],\n        ['L', x, y - 2.5],\n        ['L', x, y + 2.5],\n        ['L', x + r + 1, y + 2.5],\n    ];\n};\nhv.style = ['stroke', 'lineWidth'];\nconst vh = (x, y, r) => {\n    return [\n        ['M', x - r - 1, y + 2.5],\n        ['L', x, y + 2.5],\n        ['L', x, y - 2.5],\n        ['L', x + r + 1, y - 2.5],\n    ];\n};\nvh.style = ['stroke', 'lineWidth'];\nconst hvh = (x, y, r) => {\n    return [\n        ['M', x - (r + 1), y + 2.5],\n        ['L', x - r / 2, y + 2.5],\n        ['L', x - r / 2, y - 2.5],\n        ['L', x + r / 2, y - 2.5],\n        ['L', x + r / 2, y + 2.5],\n        ['L', x + r + 1, y + 2.5],\n    ];\n};\nhvh.style = ['stroke', 'lineWidth'];\nconst vhv = (x, y, r) => {\n    return [\n        ['M', x - 5, y + 2.5],\n        ['L', x - 5, y],\n        ['L', x, y],\n        ['L', x, y - 3],\n        ['L', x, y + 3],\n        ['L', x + 6.5, y + 3],\n    ];\n};\nvhv.style = ['stroke', 'lineWidth'];\nexport const Symbols = new Map([\n    ['bowtie', bowtie],\n    ['cross', cross],\n    ['dash', dash],\n    ['diamond', diamond],\n    ['dot', dot],\n    ['hexagon', hexagon],\n    ['hollowBowtie', hollowBowtie],\n    ['hollowDiamond', hollowDiamond],\n    ['hollowHexagon', hollowHexagon],\n    ['hollowPoint', hollowPoint],\n    ['hollowSquare', hollowSquare],\n    ['hollowTriangle', hollowTriangle],\n    ['hollowTriangleDown', hollowTriangleDown],\n    ['hv', hv],\n    ['hvh', hvh],\n    ['hyphen', hyphen],\n    ['line', line],\n    ['plus', plus],\n    ['point', point],\n    ['rect', rect],\n    ['smooth', smooth],\n    ['square', square],\n    ['tick', tick],\n    ['triangleDown', triangleDown],\n    ['triangle', triangle],\n    ['vh', vh],\n    ['vhv', vhv],\n]);\nexport function useMarker(type, _a) {\n    var { d, fill, lineWidth, path, stroke, color } = _a, style = __rest(_a, [\"d\", \"fill\", \"lineWidth\", \"path\", \"stroke\", \"color\"]);\n    const symbol = Symbols.get(type) || Symbols.get('point');\n    return (...args) => {\n        const path = new Path({\n            style: Object.assign(Object.assign({}, style), { d: symbol(...args), stroke: symbol.style.includes('stroke') ? color || stroke : '', fill: symbol.style.includes('fill') ? color || fill : '', lineWidth: symbol.style.includes('lineWidth')\n                    ? lineWidth || lineWidth || 2\n                    : 0 }),\n        });\n        return path;\n    };\n}\nexport function registerSymbol(type, marker) {\n    Symbols.set(type, marker);\n}\nexport function unregisterSymbol(type) {\n    Symbols.delete(type);\n}\n//# sourceMappingURL=marker.js.map","/**\n * camelCase('foo-bar');\n * // => 'fooBar'\n * @param s\n */\nexport function camelCase(s) {\n    return s.replace(/-(\\w)/g, function (_, letter) {\n        return letter.toUpperCase();\n    });\n}\n/**\n * kebabCase('fooBar');\n * // => 'foo-bar'\n * @param s\n */\nexport function kebabCase(s) {\n    return s.replace(/([A-Z])/g, '-$1').toLowerCase();\n}\n//# sourceMappingURL=string.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isFisheye } from '../../utils/coordinate';\nimport { Symbols } from '../../utils/marker';\nimport { select } from '../../utils/selection';\nimport { camelCase } from '../../utils/string';\nimport { applyStyle, getOrigin, toOpacityKey } from '../utils';\nexport function getRadius(mode, points, value, coordinate) {\n    if (points.length === 1)\n        return undefined;\n    const { size } = value;\n    if (mode === 'fixed')\n        return size;\n    if (mode === 'normal' || isFisheye(coordinate)) {\n        const [[x0, y0], [x2, y2]] = points;\n        const a = Math.abs((x2 - x0) / 2);\n        const b = Math.abs((y2 - y0) / 2);\n        return Math.max(0, (a + b) / 2);\n    }\n    return size;\n}\n/**\n * Render point in different coordinate.\n */\nexport const Color = (options, context) => {\n    // Render border only when colorAttribute is stroke.\n    const { colorAttribute, symbol, mode = 'auto' } = options, style = __rest(options, [\"colorAttribute\", \"symbol\", \"mode\"]);\n    const path = Symbols.get(camelCase(symbol)) || Symbols.get('point');\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { lineWidth, color: defaultColor } = defaults;\n        const finalLineWidth = style.stroke ? lineWidth || 1 : lineWidth;\n        const { color = defaultColor, transform, opacity } = value;\n        const [cx, cy] = getOrigin(points);\n        const r = getRadius(mode, points, value, coordinate);\n        const finalRadius = r || style.r || defaults.r;\n        return select(document.createElement('path', {}))\n            .call(applyStyle, defaults)\n            .style('fill', 'transparent')\n            .style('d', path(cx, cy, finalRadius))\n            .style('lineWidth', finalLineWidth)\n            .style('transform', transform)\n            .style('transformOrigin', `${cx - finalRadius} ${cy - finalRadius}`)\n            .style('stroke', color)\n            .style(toOpacityKey(options), opacity)\n            .style(colorAttribute, color)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nColor.props = {\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=color.js.map","import { Color } from './color';\n/**\n * ○\n */\nexport const HollowPoint = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'point' }, options), context);\n};\nHollowPoint.props = Object.assign({ defaultMarker: 'hollowPoint' }, Color.props);\n//# sourceMappingURL=hollow.js.map","import { Color } from './color';\n/**\n * ◇\n */\nexport const HollowDiamond = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'diamond' }, options), context);\n};\nHollowDiamond.props = Object.assign({ defaultMarker: 'hollowDiamond' }, Color.props);\n//# sourceMappingURL=hollowDiamond.js.map","import { Color } from './color';\n/**\n * ⬡\n */\nexport const HollowHexagon = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'hexagon' }, options), context);\n};\nHollowHexagon.props = Object.assign({ defaultMarker: 'hollowHexagon' }, Color.props);\n//# sourceMappingURL=hollowHexagon.js.map","import { Color } from './color';\n/**\n * □\n */\nexport const HollowSquare = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'square' }, options), context);\n};\nHollowSquare.props = Object.assign({ defaultMarker: 'hollowSquare' }, Color.props);\n//# sourceMappingURL=hollowSquare.js.map","import { Color } from './color';\n/**\n * ▽\n */\nexport const HollowTriangleDown = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'triangle-down' }, options), context);\n};\nHollowTriangleDown.props = Object.assign({ defaultMarker: 'hollowTriangleDown' }, Color.props);\n//# sourceMappingURL=hollowTriangleDown.js.map","import { Color } from './color';\n/**\n * △\n */\nexport const HollowTriangle = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'triangle' }, options), context);\n};\nHollowTriangle.props = Object.assign({ defaultMarker: 'hollowTriangle' }, Color.props);\n//# sourceMappingURL=hollowTriangle.js.map","import { Color } from './color';\n/**\n * ▷◁\n */\nexport const HollowBowtie = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'bowtie' }, options), context);\n};\nHollowBowtie.props = Object.assign({ defaultMarker: 'hollowBowtie' }, Color.props);\n//# sourceMappingURL=hollowBowtie.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { select } from '../../utils/selection';\nimport { applyStyle, getOrigin, toOpacityKey } from '../utils';\nimport { getRadius } from './color';\n/**\n * Render point in different coordinate.\n */\nexport const BaseCircle = (options, context) => {\n    // Render border only when colorAttribute is stroke.\n    const { colorAttribute, mode = 'auto' } = options, style = __rest(options, [\"colorAttribute\", \"mode\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { lineWidth, color: defaultColor } = defaults;\n        const finalLineWidth = style.stroke ? lineWidth || 1 : lineWidth;\n        const { color = defaultColor, transform, opacity } = value;\n        const [cx, cy] = getOrigin(points);\n        const r = getRadius(mode, points, value, coordinate);\n        const finalRadius = r || style.r || defaults.r;\n        return select(document.createElement('circle', {}))\n            .call(applyStyle, defaults)\n            .style('fill', 'transparent')\n            .style('cx', cx)\n            .style('cy', cy)\n            .style('r', finalRadius)\n            .style('lineWidth', finalLineWidth)\n            .style('transform', transform)\n            .style('transformOrigin', `${cx} ${cy}`)\n            .style('stroke', color)\n            .style(toOpacityKey(options), opacity)\n            .style(colorAttribute, color)\n            .call(applyStyle, style)\n            .node();\n    };\n};\n/**\n * ●\n */\nexport const Circle = (options, context) => {\n    return BaseCircle(Object.assign({ colorAttribute: 'fill' }, options), context);\n};\nCircle.props = {\n    defaultMarker: 'circle',\n    defaultEnterAnimation: 'fadeIn',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=circle.js.map","import { BaseCircle, Circle } from './circle';\n/**\n * ○\n */\nexport const HollowCircle = (options, context) => {\n    return BaseCircle(Object.assign({ colorAttribute: 'stroke' }, options), context);\n};\nHollowCircle.props = Object.assign({ defaultMarker: 'hollowPoint' }, Circle.props);\n//# sourceMappingURL=hollowCircle.js.map","import { Color } from './color';\n/**\n * ●\n */\nexport const Point = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'point' }, options), context);\n};\nPoint.props = Object.assign({ defaultMarker: 'point' }, Color.props);\n//# sourceMappingURL=point.js.map","import { Color } from './color';\n/**\n * +\n */\nexport const Plus = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'plus' }, options), context);\n};\nPlus.props = Object.assign({ defaultMarker: 'plus' }, Color.props);\n//# sourceMappingURL=plus.js.map","import { Color } from './color';\n/**\n * ◆\n */\nexport const Diamond = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'diamond' }, options), context);\n};\nDiamond.props = Object.assign({ defaultMarker: 'diamond' }, Color.props);\n//# sourceMappingURL=diamond.js.map","import { Color } from './color';\n/**\n * ■\n */\nexport const Square = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'square' }, options), context);\n};\nSquare.props = Object.assign({ defaultMarker: 'square' }, Color.props);\n//# sourceMappingURL=square.js.map","import { Color } from './color';\n/**\n * ▲\n */\nexport const Triangle = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'triangle' }, options), context);\n};\nTriangle.props = Object.assign({ defaultMarker: 'triangle' }, Color.props);\n//# sourceMappingURL=triangle.js.map","import { Color } from './color';\n/**\n * ⭓\n */\nexport const Hexagon = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'hexagon' }, options), context);\n};\nHexagon.props = Object.assign({ defaultMarker: 'hexagon' }, Color.props);\n//# sourceMappingURL=hexagon.js.map","import { Color } from './color';\n/**\n * ✕\n */\nexport const Cross = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'cross' }, options), context);\n};\nCross.props = Object.assign({ defaultMarker: 'cross' }, Color.props);\n//# sourceMappingURL=cross.js.map","import { Color } from './color';\n/**\n * ▶◀\n */\nexport const Bowtie = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'bowtie' }, options), context);\n};\nBowtie.props = Object.assign({ defaultMarker: 'bowtie' }, Color.props);\n//# sourceMappingURL=bowtie.js.map","import { Color } from './color';\n/**\n * -\n */\nexport const Hyphen = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'hyphen' }, options), context);\n};\nHyphen.props = Object.assign({ defaultMarker: 'hyphen' }, Color.props);\n//# sourceMappingURL=hyphen.js.map","import { Color } from './color';\n/**\n * |\n */\nexport const Line = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'line' }, options), context);\n};\nLine.props = Object.assign({ defaultMarker: 'line' }, Color.props);\n//# sourceMappingURL=line.js.map","import { Color } from './color';\n/**\n * 工\n */\nexport const Tick = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'stroke', symbol: 'tick' }, options), context);\n};\nTick.props = Object.assign({ defaultMarker: 'tick' }, Color.props);\n//# sourceMappingURL=tick.js.map","import { Color } from './color';\n/**\n * ▼\n */\nexport const TriangleDown = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill', symbol: 'triangle-down' }, options), context);\n};\nTriangleDown.props = Object.assign({ defaultMarker: 'triangleDown' }, Color.props);\n//# sourceMappingURL=triangleDown.js.map","import { deepMix } from '@antv/util';\nimport { inferredColumn, constant } from './utils/helper';\n/**\n * Add zero constant encode for y channel.\n */\nexport const MaybeZeroY = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { y } = encode;\n        if (y !== undefined)\n            return [I, mark];\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: { y: inferredColumn(constant(I, 0)) },\n                scale: { y: { guide: null } },\n            }),\n        ];\n    };\n};\nMaybeZeroY.props = {};\n//# sourceMappingURL=maybeZeroY.js.map","import { deepMix } from '@antv/util';\nimport { constant, visualColumn } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeSize = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { size } = encode;\n        if (size !== undefined)\n            return [I, mark];\n        return [\n            I,\n            deepMix({}, mark, { encode: { size: visualColumn(constant(I, 3)) } }),\n        ];\n    };\n};\nMaybeSize.props = {};\n//# sourceMappingURL=maybeSize.js.map","import { PointBowtie, PointCross, PointDiamond, PointHexagon, PointHollowBowtie, PointHollowDiamond, PointHollowHexagon, PointHollow, PointHollowSquare, PointHollowTriangle, PointHollowTriangleDown, PointHyphen, PointLine, PointTriangleDown, PointPlus, PointSquare, PointShape, PointTick, PointTriangle, PointCircle, PointHollowCircle, } from '../shape';\nimport { MaybeZeroX, MaybeZeroY, MaybeSize } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, createBandOffset, tooltip2d, } from './utils';\nconst shape = {\n    hollow: PointHollow,\n    hollowDiamond: PointHollowDiamond,\n    hollowHexagon: PointHollowHexagon,\n    hollowSquare: PointHollowSquare,\n    hollowTriangleDown: PointHollowTriangleDown,\n    hollowTriangle: PointHollowTriangle,\n    hollowBowtie: PointHollowBowtie,\n    hollowCircle: PointHollowCircle,\n    point: PointShape,\n    plus: PointPlus,\n    diamond: PointDiamond,\n    square: PointSquare,\n    triangle: PointTriangle,\n    hexagon: PointHexagon,\n    cross: PointCross,\n    bowtie: PointBowtie,\n    hyphen: PointHyphen,\n    line: PointLine,\n    tick: PointTick,\n    triangleDown: PointTriangleDown,\n    circle: PointCircle,\n};\n/**\n * Convert value for each channel to point shapes.\n * Calc the bbox of each point based on x, y and r.\n * This is for allowing their radius can be affected by coordinate(e.g. fisheye).\n */\nexport const Point = (options) => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, x1: X1, y1: Y1, size: S, dx: DX, dy: DY } = value;\n        const [width, height] = coordinate.getSize();\n        const offset = createBandOffset(scale, value, options);\n        const xy = (i) => {\n            const dx = +((DX === null || DX === void 0 ? void 0 : DX[i]) || 0);\n            const dy = +((DY === null || DY === void 0 ? void 0 : DY[i]) || 0);\n            const x = X1 ? (+X[i] + +X1[i]) / 2 : +X[i];\n            const y = Y1 ? (+Y[i] + +Y1[i]) / 2 : +Y[i];\n            const cx = x + dx;\n            const cy = y + dy;\n            return [cx, cy];\n        };\n        const P = S\n            ? Array.from(index, (i) => {\n                const [cx, cy] = xy(i);\n                const r = +S[i];\n                const a = r / width;\n                const b = r / height;\n                const p1 = [cx - a, cy - b];\n                const p2 = [cx + a, cy + b];\n                return [\n                    coordinate.map(offset(p1, i)),\n                    coordinate.map(offset(p2, i)),\n                ];\n            })\n            : Array.from(index, (i) => [coordinate.map(offset(xy(i), i))]);\n        return [index, P];\n    };\n};\nPoint.props = {\n    defaultShape: 'hollow',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'series', scale: 'band' },\n        { name: 'size', quantitative: 'sqrt' },\n        { name: 'dx', scale: 'identity' },\n        { name: 'dy', scale: 'identity' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeZeroX },\n        { type: MaybeZeroY },\n    ],\n    postInference: [...basePostInference(), { type: MaybeSize }, ...tooltip2d()],\n};\n//# sourceMappingURL=point.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isNumber } from '@antv/util';\nimport { Marker } from '@antv/component';\nimport { line } from '@antv/vendor/d3-shape';\nimport { createElement } from '../../utils/createElement';\nimport { applyStyle } from '../utils';\nimport { subObject } from '../../utils/helper';\nimport { select } from '../../utils/selection';\nimport { dist } from '../../utils/vector';\nfunction getConnectorPoint(shape) {\n    const { min: [x0, y0], max: [x1, y1], } = shape.getLocalBounds();\n    let x = 0;\n    let y = 0;\n    if (x0 > 0)\n        x = x0;\n    if (x1 < 0)\n        x = x1;\n    if (y0 > 0)\n        y = y0;\n    if (y1 < 0)\n        y = y1;\n    return [x, y];\n}\nfunction inferBackgroundBounds(textShape, padding = []) {\n    const [top = 0, right = 0, bottom = top, left = right] = padding;\n    const container = textShape.parentNode;\n    const angle = container.getEulerAngles();\n    container.setEulerAngles(0);\n    const { min, halfExtents } = textShape.getLocalBounds();\n    const [x, y] = min;\n    const [hw, hh] = halfExtents;\n    container.setEulerAngles(angle);\n    return {\n        x: x - left,\n        y: y - top,\n        width: hw * 2 + left + right,\n        height: hh * 2 + top + bottom,\n    };\n}\nconst cos = (p0, p1, p2) => {\n    const a = dist(p0, p1);\n    const b = dist(p1, p2);\n    const c = dist(p2, p0);\n    return (Math.pow(a, 2) + Math.pow(b, 2) - Math.pow(c, 2)) / (2 * a * b);\n};\n// A path from element to label.\n// Adapted drawLabelLine from https://github.com/antvis/G2/blob/master/src/geometry/label/layout/pie/spider.ts\nfunction inferConnectorPath(shape, end, control, coordCenter, left = true, top = true) {\n    const path = (points) => line()(points);\n    if (!end[0] && !end[1])\n        return path([getConnectorPoint(shape), end]);\n    if (!control.length)\n        return path([[0, 0], end]);\n    const [inflection, start] = control;\n    const p1 = [...start];\n    const p2 = [...inflection];\n    // Label has been adjusted, so add offset to the label.\n    if (start[0] !== inflection[0]) {\n        const offset = left ? -4 : 4;\n        p1[1] = start[1];\n        // For the label in the first quadrant.\n        if (top && !left) {\n            p1[0] = Math.max(inflection[0], start[0] - offset);\n            if (start[1] < inflection[1]) {\n                p2[1] = p1[1];\n            }\n            else {\n                p2[1] = inflection[1];\n                p2[0] = Math.max(p2[0], p1[0] - offset);\n            }\n        }\n        // For the label in the second quadrant.\n        if (!top && !left) {\n            p1[0] = Math.max(inflection[0], start[0] - offset);\n            if (start[1] > inflection[1]) {\n                p2[1] = p1[1];\n            }\n            else {\n                p2[1] = inflection[1];\n                p2[0] = Math.max(p2[0], p1[0] - offset);\n            }\n        }\n        // For the label in the third quadrant.\n        if (!top && left) {\n            p1[0] = Math.min(inflection[0], start[0] - offset);\n            if (start[1] > inflection[1]) {\n                p2[1] = p1[1];\n            }\n            else {\n                p2[1] = inflection[1];\n                p2[0] = Math.min(p2[0], p1[0] - offset);\n            }\n        }\n        // For the label in the fourth quadrant.\n        if (top && left) {\n            p1[0] = Math.min(inflection[0], start[0] - offset);\n            if (start[1] < inflection[1]) {\n                p2[1] = p1[1];\n            }\n            else {\n                p2[1] = inflection[1];\n                p2[0] = Math.min(p2[0], p1[0] - offset);\n            }\n        }\n    }\n    return path([start, p1, p2, inflection, end]);\n}\nexport const Advance = createElement((g) => {\n    const _a = g.attributes, { className, \n    // Do not pass className\n    class: _c, transform, rotate, labelTransform, labelTransformOrigin, x, y, x0 = x, y0 = y, text, background, connector, startMarker, endMarker, coordCenter, innerHTML } = _a, rest = __rest(_a, [\"className\", \"class\", \"transform\", \"rotate\", \"labelTransform\", \"labelTransformOrigin\", \"x\", \"y\", \"x0\", \"y0\", \"text\", \"background\", \"connector\", \"startMarker\", \"endMarker\", \"coordCenter\", \"innerHTML\"]);\n    g.style.transform = `translate(${x}, ${y})`;\n    // Position is invalid, do not render the UI,\n    // or clear previous elements.\n    if ([x, y, x0, y0].some((v) => !isNumber(v))) {\n        g.children.forEach((d) => d.remove());\n        return;\n    }\n    const _b = subObject(rest, 'background'), { padding } = _b, backgroundStyle = __rest(_b, [\"padding\"]);\n    const _d = subObject(rest, 'connector'), { points: controlPoints = [] } = _d, connectorStyle = __rest(_d, [\"points\"]);\n    let textShape;\n    if (innerHTML) {\n        textShape = select(g)\n            .maybeAppend('html', 'html', className)\n            .style('zIndex', 0)\n            .style('innerHTML', innerHTML)\n            .call(applyStyle, Object.assign({ transform: labelTransform, transformOrigin: labelTransformOrigin }, rest))\n            .node();\n    }\n    else {\n        textShape = select(g)\n            .maybeAppend('text', 'text')\n            .style('zIndex', 0)\n            .style('text', text)\n            .call(applyStyle, Object.assign({ textBaseline: 'middle', transform: labelTransform, transformOrigin: labelTransformOrigin }, rest))\n            .node();\n    }\n    const rect = select(g)\n        .maybeAppend('background', 'rect')\n        .style('zIndex', -1)\n        .call(applyStyle, inferBackgroundBounds(textShape, padding))\n        .call(applyStyle, background ? backgroundStyle : {})\n        .node();\n    const left = +x0 < coordCenter[0];\n    const top = +y0 < coordCenter[1];\n    const end = [+x0 - +x, +y0 - +y];\n    const connectorPath = inferConnectorPath(rect, end, controlPoints, coordCenter, left, top);\n    const markerStart = startMarker &&\n        new Marker({\n            id: 'startMarker',\n            style: Object.assign({ x: 0, y: 0 }, subObject(rest, 'startMarker')),\n        });\n    const markerEnd = endMarker &&\n        new Marker({\n            id: 'endMarker',\n            style: Object.assign({ x: 0, y: 0 }, subObject(rest, 'endMarker')),\n        });\n    select(g)\n        .maybeAppend('connector', 'path')\n        .style('zIndex', 0)\n        .style('d', connectorPath)\n        .style('markerStart', markerStart)\n        .style('markerEnd', markerEnd)\n        .call(applyStyle, connector ? connectorStyle : {});\n});\n//# sourceMappingURL=advance.js.map","import { applyStyle } from '../../shape/utils';\nimport { select } from '../../utils/selection';\nimport { Advance } from './advance';\n/**\n * @todo autoRotate when in polar coordinate\n */\nexport const Text = (options, context) => {\n    const { coordinate } = context;\n    return (points, value, defaults) => {\n        const { color, text = '', fontSize, rotate = 0, transform = '' } = value;\n        const textStyle = {\n            text: String(text),\n            stroke: color,\n            fill: color,\n            fontSize,\n        };\n        const [[x0, y0]] = points;\n        return select(new Advance())\n            .style('x', x0)\n            .style('y', y0)\n            .call(applyStyle, defaults)\n            .style('transform', `${transform}rotate(${+rotate})`)\n            .style('coordCenter', coordinate.getCenter())\n            .call(applyStyle, textStyle)\n            .call(applyStyle, options)\n            .node();\n    };\n};\nText.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=text.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Marker } from '@antv/component';\nimport { createElement } from '../../utils/createElement';\nimport { subObject } from '../../utils/helper';\nimport { select } from '../../utils/selection';\nimport { applyStyle } from '../../shape/utils';\n/**\n * Get the path to draw a built-in badge, which is like a balloon.\n */\nfunction getPath(r) {\n    const offset = r / Math.sqrt(2);\n    const dy = r * Math.sqrt(2);\n    const [p0x, p0y] = [-offset, offset - dy];\n    const [p1x, p1y] = [0, 0];\n    const [p2x, p2y] = [offset, offset - dy];\n    return [\n        ['M', p0x, p0y],\n        ['A', r, r, 0, 1, 1, p2x, p2y],\n        ['L', p1x, p1y],\n        ['Z'],\n    ];\n}\nfunction inferTextPosition(shape) {\n    const { min, max } = shape.getLocalBounds();\n    return [(min[0] + max[0]) * 0.5, (min[1] + max[1]) * 0.5];\n}\nconst BadgeShape = createElement((g) => {\n    const _a = g.attributes, { class: className, x: x0, y: y0, transform } = _a, rest = __rest(_a, [\"class\", \"x\", \"y\", \"transform\"]);\n    const markerStyle = subObject(rest, 'marker');\n    const { size = 24 } = markerStyle;\n    const symbol = () => getPath(size / 2);\n    const bgShape = select(g)\n        .maybeAppend('marker', () => new Marker({}))\n        .call((selection) => selection.node().update(Object.assign({ symbol }, markerStyle)))\n        .node();\n    const [x, y] = inferTextPosition(bgShape);\n    select(g)\n        .maybeAppend('text', 'text')\n        .style('x', x)\n        .style('y', y)\n        .call(applyStyle, rest);\n});\nexport const Badge = (options, context) => {\n    const style = __rest(options, []);\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, text = '' } = value;\n        const textStyle = {\n            text: String(text),\n            stroke: color,\n            fill: color,\n        };\n        const [[x0, y0]] = points;\n        return select(new BadgeShape())\n            .call(applyStyle, rest)\n            .style('transform', `translate(${x0},${y0})`)\n            .call(applyStyle, textStyle)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nBadge.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=badge.js.map","import { Text } from '@antv/g';\nimport { applyStyle } from '../../shape/utils';\nimport { select } from '../../utils/selection';\n/**\n * @todo autoRotate when in polar coordinate\n * Tag shape for Text mark, used in wordCloud plot.\n */\nexport const Tag = (options, context) => {\n    const { coordinate } = context;\n    return (points, value, defaults) => {\n        const { color, text = '', fontSize, rotate = 0, transform = '' } = value;\n        const textStyle = {\n            text: String(text),\n            stroke: color,\n            fill: color,\n            fontSize,\n            textAlign: 'center',\n            textBaseline: 'middle',\n        };\n        const [[x0, y0]] = points;\n        const n = select(new Text())\n            .style('x', x0)\n            .style('y', y0)\n            .call(applyStyle, defaults)\n            .style('transformOrigin', 'center center')\n            .style('transform', `${transform}rotate(${rotate}deg)`)\n            .style('coordCenter', coordinate.getCenter())\n            .call(applyStyle, textStyle)\n            .call(applyStyle, options)\n            .node();\n        return n;\n    };\n};\nTag.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=tag.js.map","import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeTuple = () => {\n    return (I, mark) => {\n        const { data } = mark;\n        if (!Array.isArray(data) || data.some(isObject))\n            return [I, mark];\n        const position = Array.isArray(data[0]) ? data : [data];\n        const X = position.map((d) => d[0]);\n        const Y = position.map((d) => d[1]);\n        return [I, deepMix({}, mark, { encode: { x: column(X), y: column(Y) } })];\n    };\n};\nMaybeTuple.props = {};\n//# sourceMappingURL=maybeTuple.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { column } from './utils/helper';\n/**\n * Set visual position with style.x and style.y.\n * The priority of style.x, style.y is higher than data.\n */\nexport const MaybeVisualPosition = () => {\n    return (I, mark) => {\n        const { data, style = {} } = mark, restMark = __rest(mark, [\"data\", \"style\"]);\n        const { x: x0, y: y0 } = style, rest = __rest(style, [\"x\", \"y\"]);\n        if (x0 == undefined || y0 == undefined)\n            return [I, mark];\n        const x = x0 || 0;\n        const y = y0 || 0;\n        return [\n            [0],\n            deepMix({}, restMark, {\n                data: [0],\n                cartesian: true,\n                encode: {\n                    x: column([x]),\n                    y: column([y]),\n                },\n                scale: {\n                    x: { type: 'identity', independent: true, guide: null },\n                    y: { type: 'identity', independent: true, guide: null }, // hide axis\n                },\n                style: rest,\n            }),\n        ];\n    };\n};\nMaybeVisualPosition.props = {};\n//# sourceMappingURL=maybeVisualPosition.js.map","import { TextShape, TextBadge, TextTag } from '../shape';\nimport { MaybeTuple, MaybeVisualPosition } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, createBandOffset, tooltip2d, visualMark, } from './utils';\nconst shape = {\n    text: TextShape,\n    badge: TextBadge,\n    tag: TextTag,\n};\nexport const Text = (options) => {\n    const { cartesian = false } = options;\n    if (cartesian)\n        return visualMark;\n    return ((index, scale, value, coordinate) => {\n        const { x: X, y: Y } = value;\n        const offset = createBandOffset(scale, value, options);\n        const P = Array.from(index, (i) => {\n            const p = [+X[i], +Y[i]];\n            return [coordinate.map(offset(p, i))];\n        });\n        return [index, P];\n    });\n};\nText.props = {\n    defaultShape: 'text',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'text', scale: 'identity' },\n        { name: 'fontSize', scale: 'identity' },\n        { name: 'rotate', scale: 'identity' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeTuple },\n        { type: MaybeVisualPosition },\n    ],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=text.js.map","import { deepMix } from '@antv/util';\n/**\n * Set padding of x and y scale to zero.\n */\nexport const MaybeZeroPadding = () => {\n    return (I, mark) => {\n        return [\n            I,\n            deepMix({ scale: { x: { padding: 0 }, y: { padding: 0 } } }, mark),\n        ];\n    };\n};\nMaybeZeroPadding.props = {};\n//# sourceMappingURL=maybeZeroPadding.js.map","import { CellShape, CellHollow } from '../shape';\nimport { MaybeZeroX, MaybeZeroY, MaybeZeroPadding } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip2d, } from './utils';\nconst shape = {\n    cell: CellShape,\n    hollow: CellHollow,\n};\n/**\n * Convert value for each channel to Cell shapes.\n * Calc the bbox of each Cell based on x, y and r.\n * This is for allowing their radius can be affected by coordinate(e.g. fisheye).\n */\nexport const Cell = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y } = value;\n        const x = scale.x;\n        const y = scale.y;\n        const P = Array.from(index, (i) => {\n            const width = x.getBandWidth(x.invert(+X[i]));\n            const height = y.getBandWidth(y.invert(+Y[i]));\n            const x1 = +X[i];\n            const y1 = +Y[i];\n            const p1 = [x1, y1];\n            const p2 = [x1 + width, y1];\n            const p3 = [x1 + width, y1 + height];\n            const p4 = [x1, y1 + height];\n            return [p1, p2, p3, p4].map((d) => coordinate.map(d));\n        });\n        return [index, P];\n    };\n};\nCell.props = {\n    defaultShape: 'cell',\n    defaultLabelShape: 'label',\n    shape,\n    composite: false,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true, scale: 'band' },\n        { name: 'y', required: true, scale: 'band' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeZeroX },\n        { type: MaybeZeroY },\n        { type: MaybeZeroPadding },\n    ],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=cell.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { area, areaRadial } from '@antv/vendor/d3-shape';\nimport { select } from '../../utils/selection';\nimport { isPolar, isTranspose } from '../../utils/coordinate';\nimport { angleWithQuadrant, sub, dist } from '../../utils/vector';\nimport { applyStyle, computeGradient, getTransform } from '../utils';\nimport { subObject } from '../../utils/helper';\nimport { createElement } from '../../utils/createElement';\n/**\n * Given a points sequence, split it into an array of defined points\n * and an array of undefined segments.\n *\n * Input - [p0, p1, p2, p3, p4, p5], p1 ~ p2 is `Y1`, p3 ~ p5 is `Y0`.\n * Output - When all of Y1 & Y0 is defined, move into defined points, or else undefined segments.\n */\nfunction segmentation(points, defined) {\n    const definedPointsY1 = [];\n    const definedPointsY0 = [];\n    const segments = [];\n    let m = false; // Is in a undefined sequence.\n    let dp = null; // The previous defined point.\n    const mid = points.length / 2;\n    for (let i = 0; i < mid; i++) {\n        const y1 = points[i];\n        const y0 = points[i + mid];\n        // If current point is a undefined point,\n        // enter a undefined sequence.\n        if ([...y1, ...y0].some((v) => !defined(v)))\n            m = true;\n        else {\n            definedPointsY1.push(y1);\n            definedPointsY0.push(y0);\n            // If current point is a defined point,\n            // and is in a undefined sequence, save\n            // the two closest defined points as this\n            // undefined sequence and exit it.\n            if (m && dp) {\n                m = false;\n                const [dpy1, dpy0] = dp;\n                segments.push([dpy1, y1, dpy0, y0]);\n            }\n            // Update the previous defined point.\n            dp = [y1, y0];\n        }\n    }\n    return [definedPointsY1.concat(definedPointsY0), segments];\n}\nconst DoubleArea = createElement((g) => {\n    const { areaPath, connectPath, areaStyle, connectStyle } = g.attributes;\n    const document = g.ownerDocument;\n    select(g)\n        .maybeAppend('connect-path', () => document.createElement('path', {}))\n        .style('d', connectPath)\n        .call(applyStyle, connectStyle);\n    select(g)\n        .maybeAppend('area-path', () => document.createElement('path', {}))\n        .style('d', areaPath)\n        .call(applyStyle, areaStyle);\n});\nexport const Curve = (options, context) => {\n    const { curve, gradient = false, defined = (d) => !Number.isNaN(d) && d !== undefined && d !== null, connect: connectNulls = false } = options, style = __rest(options, [\"curve\", \"gradient\", \"defined\", \"connect\"]);\n    const { coordinate, document } = context;\n    return (P, value, defaults) => {\n        const { color: defaultColor } = defaults;\n        const { color = defaultColor, seriesColor: sc, seriesX: sx, seriesY: sy, } = value;\n        const tpShape = isTranspose(coordinate);\n        const transform = getTransform(coordinate, value);\n        const fill = gradient && sc\n            ? computeGradient(sc, sx, sy, gradient, undefined, tpShape)\n            : color;\n        const finalStyle = Object.assign(Object.assign(Object.assign(Object.assign({}, defaults), { stroke: fill, fill: fill }), (transform && { transform })), style);\n        const [DP, MS] = segmentation(P, defined);\n        const connectStyle = subObject(finalStyle, 'connect');\n        const missing = !!MS.length;\n        const getPathNode = (path) => {\n            return select(document.createElement('path', {}))\n                .style('d', path || '')\n                .call(applyStyle, finalStyle)\n                .node();\n        };\n        if (!isPolar(coordinate)) {\n            /**\n             * Draw area shape by points.\n             */\n            const areaPath = (points) => {\n                const Y1 = points.slice(0, points.length / 2);\n                const Y0 = points.slice(points.length / 2);\n                return tpShape\n                    ? area()\n                        .y((_, idx) => Y1[idx][1])\n                        .x1((_, idx) => Y1[idx][0])\n                        .x0((_, idx) => Y0[idx][0])\n                        .defined((_, idx) => [...Y1[idx], ...Y0[idx]].every(defined))\n                        .curve(curve)(Y1)\n                    : area()\n                        .x((_, idx) => Y1[idx][0])\n                        .y1((_, idx) => Y1[idx][1])\n                        .y0((_, idx) => Y0[idx][1])\n                        .defined((_, idx) => [...Y1[idx], ...Y0[idx]].every(defined))\n                        .curve(curve)(Y1);\n            };\n            // Draw one area of connected defined points.\n            if (!missing || (connectNulls && !Object.keys(connectStyle).length)) {\n                return getPathNode(areaPath(DP));\n            }\n            // Draw one area of unconnected defined points.\n            if (missing && !connectNulls) {\n                return getPathNode(areaPath(P));\n            }\n            // Draw two area.\n            // One for unconnected defined points.\n            // One for connected segments.\n            return select(new DoubleArea())\n                .style('areaStyle', finalStyle)\n                .style('connectStyle', Object.assign(Object.assign({}, connectStyle), style))\n                .style('areaPath', areaPath(P))\n                .style('connectPath', MS.map(areaPath).join(''))\n                .node();\n        }\n        else {\n            /**\n             * Draw areaRadial shape by points.\n             */\n            const areaRadialPath = (points) => {\n                const center = coordinate.getCenter();\n                const Y1 = points.slice(0, points.length / 2);\n                const Y0 = points.slice(points.length / 2);\n                return areaRadial()\n                    .angle((_, idx) => angleWithQuadrant(sub(Y1[idx], center)))\n                    .outerRadius((_, idx) => dist(Y1[idx], center))\n                    .innerRadius((_, idx) => dist(Y0[idx], center))\n                    .defined((_, idx) => [...Y1[idx], ...Y0[idx]].every(defined))\n                    .curve(curve)(Y0);\n            };\n            // Draw one area of connected defined points.\n            if (!missing || (connectNulls && !Object.keys(connectStyle).length)) {\n                return getPathNode(areaRadialPath(DP));\n            }\n            // Draw one area of unconnected defined points.\n            if (missing && !connectNulls) {\n                return getPathNode(areaRadialPath(P));\n            }\n            // Draw two area.\n            // One for unconnected defined points.\n            // One for connected segments.\n            return select(new DoubleArea())\n                .style('areaStyle', finalStyle)\n                .style('connectStyle', Object.assign(Object.assign({}, connectStyle), style))\n                .style('areaPath', areaRadialPath(P))\n                .style('connectPath', MS.map(areaRadialPath).join(''))\n                .node();\n        }\n    };\n};\nCurve.props = {\n    defaultMarker: 'smooth',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=curve.js.map","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","import { curveLinearClosed, curveLinear } from '@antv/vendor/d3-shape';\nimport { isPolar } from '../../utils/coordinate';\nimport { Curve } from './curve';\nexport const Area = (options, context) => {\n    const { coordinate } = context;\n    return (...params) => {\n        const curve = isPolar(coordinate) ? curveLinearClosed : curveLinear;\n        return Curve(Object.assign({ curve: curve }, options), context)(...params);\n    };\n};\nArea.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'square' });\n//# sourceMappingURL=area.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { curveCatmullRomClosed, curveMonotoneX, curveMonotoneY, } from '@antv/vendor/d3-shape';\nimport { isPolar, isTranspose } from '../../utils/coordinate';\nimport { Curve } from './curve';\nexport const Smooth = (options, context) => {\n    const rest = __rest(options, []);\n    const { coordinate } = context;\n    return (...params) => {\n        const curve = isPolar(coordinate)\n            ? curveCatmullRomClosed\n            : isTranspose(coordinate)\n                ? curveMonotoneY\n                : curveMonotoneX;\n        return Curve(Object.assign({ curve }, rest), context)(...params);\n    };\n};\nSmooth.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'smooth' });\n//# sourceMappingURL=smooth.js.map","import { curveStep } from '@antv/vendor/d3-shape';\nimport { Curve } from './curve';\nexport const HVH = (options, context) => {\n    return (...params) => {\n        return Curve(Object.assign({ curve: curveStep }, options), context)(...params);\n    };\n};\nHVH.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'hvh' });\n//# sourceMappingURL=hvh.js.map","import { curveStepBefore } from '@antv/vendor/d3-shape';\nimport { Curve } from './curve';\nexport const VH = (options, context) => {\n    return (...params) => {\n        return Curve(Object.assign({ curve: curveStepBefore }, options), context)(...params);\n    };\n};\nVH.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'vh' });\n//# sourceMappingURL=vh.js.map","import { curveStepAfter } from '@antv/vendor/d3-shape';\nimport { Curve } from './curve';\nexport const HV = (options, context) => {\n    return (...params) => {\n        return Curve(Object.assign({ curve: curveStepAfter }, options), context)(...params);\n    };\n};\nHV.props = Object.assign(Object.assign({}, Curve.props), { defaultMarker: 'hv' });\n//# sourceMappingURL=hv.js.map","import { group } from '@antv/vendor/d3-array';\nimport { AreaShape, AreaHV, AreaHVH, AreaSmooth, AreaVH } from '../shape';\nimport { MaybeSeries, MaybeZeroY1, MaybeZeroPadding } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, } from './utils';\nconst shape = {\n    area: AreaShape,\n    smooth: AreaSmooth,\n    hvh: AreaHVH,\n    vh: AreaVH,\n    hv: AreaHV,\n};\n/*\n * Convert value for each channel to area shapes.\n *\n *     ▲\n *     │\n *     │                                         y2\n *     │\n *     │                     y1     xxxxxxxxxxxxx\n *     │                         xxxx            x\n *     │                      xxx                x\n *     │                    xxx                  x\n *     │        y0       xxx                     x\n *     │           xxxxxxx                       x\n *     │          x                              x\n *     │         xx                              x\n *     │         x                               x\n *     │         x                               x\n *     │         x                               x\n *     │         x                               x\n *     │         x                               x\n *     │         x                               x\n *     │         x                               x\n * ────┼─────────x───────────────────────────────x──────────────►\n *     │        y3             y4                y5\n */\nexport const Area = () => {\n    return (index, scale, value, coordinate) => {\n        var _a, _b;\n        const { x: X, y: Y, y1: Y1, series: S } = value;\n        const { x, y } = scale;\n        // Group data by series field.\n        const series = S ? Array.from(group(index, (i) => S[i]).values()) : [index];\n        const I = series.map((group) => group[0]).filter((i) => i !== undefined);\n        // A group of data corresponds to one area.\n        const xoffset = (((_a = x === null || x === void 0 ? void 0 : x.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(x)) || 0) / 2;\n        const yoffset = (((_b = y === null || y === void 0 ? void 0 : y.getBandWidth) === null || _b === void 0 ? void 0 : _b.call(y)) || 0) / 2;\n        const P = Array.from(series, (SI) => {\n            const l = SI.length;\n            const points = new Array(l * 2);\n            for (let idx = 0; idx < SI.length; idx++) {\n                const i = SI[idx];\n                points[idx] = coordinate.map([+X[i] + xoffset, +Y[i] + yoffset]); // y1\n                points[l + idx] = coordinate.map([+X[i] + xoffset, +Y1[i] + yoffset]); // y0\n            }\n            return points;\n        });\n        return [I, P, series];\n    };\n};\nArea.props = {\n    defaultShape: 'area',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'size' },\n        { name: 'series', scale: 'band' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeSeries },\n        { type: MaybeZeroY1 },\n        { type: MaybeZeroPadding },\n    ],\n    postInference: [...basePostInference(), ...tooltip1d()],\n    interaction: {\n        shareTooltip: true,\n        seriesTooltip: true,\n        crosshairs: true,\n    },\n};\n//# sourceMappingURL=area.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeIdentityY = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { y1 } = encode;\n        if (y1)\n            return [I, mark];\n        const [Y] = columnOf(encode, 'y');\n        return [I, deepMix({}, mark, { encode: { y1: column([...Y]) } })];\n    };\n};\nMaybeIdentityY.props = {};\n//# sourceMappingURL=maybeIdentityY.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeIdentityX = () => {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { x1 } = encode;\n        if (x1)\n            return [I, mark];\n        const [X] = columnOf(encode, 'x');\n        return [I, deepMix({}, mark, { encode: { x1: column([...X]) } })];\n    };\n};\nMaybeIdentityX.props = {};\n//# sourceMappingURL=maybeIdentityX.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { applyStyle, arrowPoints } from '../utils';\nimport { select } from '../../utils/selection';\n/**\n * Connect 2 points with a single line with arrow.\n * ----->\n */\nexport const Vector = (options, context) => {\n    const { arrow = true, arrowSize = '40%' } = options, style = __rest(options, [\"arrow\", \"arrowSize\"]);\n    const { document } = context;\n    return (points, value, defaults) => {\n        const { defaultColor } = defaults, rest = __rest(defaults, [\"defaultColor\"]);\n        const { color = defaultColor, transform } = value;\n        const [from, to] = points;\n        // Draw line\n        const path = d3path();\n        path.moveTo(...from);\n        path.lineTo(...to);\n        // Draw 2 arrows.\n        if (arrow) {\n            // Calculate arrow end point.\n            const [arrow1, arrow2] = arrowPoints(from, to, { arrowSize });\n            path.moveTo(...arrow1);\n            path.lineTo(...to);\n            path.lineTo(...arrow2);\n        }\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nVector.props = {\n    defaultMarker: 'line',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=vector.js.map","import { Vector } from '../../shape/vector/vector';\n/**\n * Connect 2 points with a single line with arrow.\n * ----->\n */\nexport const Link = (options, context) => {\n    const { arrow = false } = options;\n    return (...params) => {\n        return Vector(Object.assign(Object.assign({}, options), { arrow }), context)(...params);\n    };\n};\nLink.props = {\n    defaultMarker: 'line',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=link.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { appendArc, applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isPolar } from '../../utils/coordinate';\nimport { dist, mid } from '../../utils/vector';\n/**\n * Connect points for 2 points:\n * - In rect, draw half circle.\n * - In polar, draw quadratic curve.\n */\nexport const Arc = (options, context) => {\n    const style = __rest(options, []);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, transform } = value;\n        const [from, to] = points;\n        const path = d3path();\n        path.moveTo(from[0], from[1]);\n        if (isPolar(coordinate)) {\n            const center = coordinate.getCenter();\n            path.quadraticCurveTo(center[0], center[1], to[0], to[1]);\n        }\n        else {\n            const center = mid(from, to);\n            const raduis = dist(from, to) / 2;\n            appendArc(path, from, to, center, raduis);\n        }\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nArc.props = {\n    defaultMarker: 'smooth',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=arc.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\n/**\n * Connect 2 points with a smooth line, used in tree.\n */\nexport const Smooth = (options, context) => {\n    const style = __rest(options, []);\n    const { document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, transform } = value;\n        const [from, to] = points;\n        const path = d3path();\n        path.moveTo(from[0], from[1]);\n        path.bezierCurveTo(from[0] / 2 + to[0] / 2, from[1], from[0] / 2 + to[0] / 2, to[1], to[0], to[1]);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nSmooth.props = {\n    defaultMarker: 'smooth',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=smooth.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { appendArc, applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isTranspose, isPolar } from '../../utils/coordinate';\nimport { dist } from '../../utils/vector';\n/**\n * Get vhv path in different coordinate.\n */\nfunction getVHVPath(from, to, coordinate, ratio) {\n    const path = d3path();\n    if (isPolar(coordinate)) {\n        const center = coordinate.getCenter();\n        const a = dist(from, center);\n        const b = dist(to, center);\n        const radius = (b - a) * ratio + a;\n        path.moveTo(from[0], from[1]);\n        appendArc(path, from, to, center, radius);\n        path.lineTo(to[0], to[1]);\n        return path;\n    }\n    if (isTranspose(coordinate)) {\n        path.moveTo(from[0], from[1]);\n        // VHV in x.\n        path.lineTo(from[0] + (to[0] - from[0]) * ratio, from[1]);\n        path.lineTo(from[0] + (to[0] - from[0]) * ratio, to[1]);\n        path.lineTo(to[0], to[1]);\n        return path;\n    }\n    path.moveTo(from[0], from[1]);\n    // VHV in y.\n    path.lineTo(from[0], from[1] + (to[1] - from[1]) * ratio);\n    path.lineTo(to[0], from[1] + (to[1] - from[1]) * ratio);\n    path.lineTo(to[0], to[1]);\n    return path;\n}\n/**\n * Connect 2 points with a VHV line, used in tree.\n */\nexport const VHV = (options, context) => {\n    const { cornerRatio = 1 / 3 } = options, style = __rest(options, [\"cornerRatio\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { defaultColor } = defaults, rest = __rest(defaults, [\"defaultColor\"]);\n        const { color = defaultColor, transform } = value;\n        const [from, to] = points;\n        const path = getVHVPath(from, to, coordinate, cornerRatio);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nVHV.props = {\n    defaultMarker: 'vhv',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=vhv.js.map","import { MaybeIdentityX, MaybeIdentityY } from '../transform';\nimport { LinkArc, LinkShape, LinkSmooth, LinkVHV } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, createBandOffset, tooltip2d, } from './utils';\nconst shape = {\n    link: LinkShape,\n    arc: LinkArc,\n    smooth: LinkSmooth,\n    vhv: LinkVHV,\n};\n/**\n * Connect `start` to `end` with single line.\n */\nexport const Link = (options) => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, x1: X1 = X, y1: Y1 = Y } = value;\n        const offset = createBandOffset(scale, value, options);\n        const P = index.map((i) => [\n            coordinate.map(offset([+X[i], +Y[i]], i)),\n            coordinate.map(offset([+X1[i], +Y1[i]], i)),\n        ]);\n        return [index, P];\n    };\n};\nLink.props = {\n    defaultShape: 'link',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeIdentityY },\n        { type: MaybeIdentityX },\n    ],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=link.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { p } from '../../mark/utils';\nexport const Image = (options, context) => {\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, src = '', size = 32, transform = '' } = value;\n        let { width = size, height = size } = options;\n        const [[x0, y0]] = points;\n        // Support percentage width, height.\n        const [w, h] = coordinate.getSize();\n        width = typeof width === 'string' ? p(width) * w : width;\n        height = typeof height === 'string' ? p(height) * h : height;\n        const x = x0 - Number(width) / 2;\n        const y = y0 - Number(height) / 2;\n        return select(document.createElement('image', {}))\n            .call(applyStyle, rest)\n            .style('x', x)\n            .style('y', y)\n            .style('src', src)\n            .style('stroke', color)\n            .style('transform', transform)\n            .call(applyStyle, options)\n            .style('width', width)\n            .style('height', height)\n            .node();\n    };\n};\nImage.props = {\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=image.js.map","import { MaybeTuple, MaybeVisualPosition } from '../transform';\nimport { ImageShape } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, createBandOffset, tooltip2d, visualMark, } from './utils';\nconst shape = {\n    image: ImageShape,\n};\nexport const Image = (options) => {\n    const { cartesian } = options;\n    if (cartesian)\n        return visualMark;\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y } = value;\n        const offset = createBandOffset(scale, value, options);\n        const P = Array.from(index, (i) => {\n            const p = [+X[i], +Y[i]];\n            return [coordinate.map(offset(p, i))];\n        });\n        return [index, P];\n    };\n};\nImage.props = {\n    defaultShape: 'image',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'src', scale: 'identity' },\n        { name: 'size' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeTuple },\n        { type: MaybeVisualPosition },\n    ],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=image.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { isPolar } from '../../utils/coordinate';\nimport { applyStyle, appendPolygon, appendArc } from '../utils';\nimport { select } from '../../utils/selection';\nimport { dist } from '../../utils/vector';\nfunction getPolygonPath(points, coordinate) {\n    const path = d3path();\n    // In polar, draw arc.\n    if (isPolar(coordinate)) {\n        const center = coordinate.getCenter();\n        const closedPoints = [...points, points[0]];\n        // Calculate dist array for cache.\n        const dists = closedPoints.map((p) => dist(p, center));\n        closedPoints.forEach((curr, idx) => {\n            if (idx === 0) {\n                path.moveTo(curr[0], curr[1]);\n                return;\n            }\n            const currDist = dists[idx];\n            const prev = points[idx - 1];\n            const prevDist = dists[idx - 1];\n            // When radius is equal, draw 2 point with arc.\n            // todo: choose a minimum value.\n            if (prevDist !== undefined && Math.abs(currDist - prevDist) < 1e-10) {\n                appendArc(path, prev, curr, center, currDist);\n            }\n            else {\n                path.lineTo(curr[0], curr[1]);\n            }\n        });\n        path.closePath();\n        return path;\n    }\n    // In rect, draw polygon.\n    return appendPolygon(path, points);\n}\nexport const Polygon = (options, context) => {\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, transform } = value;\n        const path = getPolygonPath(points, coordinate);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color)\n            .style('fill', color)\n            .style('transform', transform)\n            .call(applyStyle, options)\n            .node();\n    };\n};\nPolygon.props = {\n    defaultMarker: 'square',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=polygon.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { appendArc, applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isPolar } from '../../utils/coordinate';\nimport { dist } from '../../utils/vector';\nfunction getRibbonPath(points, coordinate) {\n    const [p0, p1, p2, p3] = points;\n    const path = d3path();\n    // In polar, draw shape only for Chord.\n    if (isPolar(coordinate)) {\n        const center = coordinate.getCenter();\n        const radius = dist(center, p0);\n        path.moveTo(p0[0], p0[1]);\n        // p0 -> p2\n        path.quadraticCurveTo(center[0], center[1], p2[0], p2[1]);\n        // p2 -> p3\n        appendArc(path, p2, p3, center, radius);\n        // p3 -> p1\n        path.quadraticCurveTo(center[0], center[1], p1[0], p1[1]);\n        // p1 -> p0\n        appendArc(path, p1, p0, center, radius);\n        path.closePath();\n        return path;\n    }\n    // In Rect, draw shape for Sankey.\n    path.moveTo(p0[0], p0[1]);\n    path.bezierCurveTo(p0[0] / 2 + p2[0] / 2, p0[1], p0[0] / 2 + p2[0] / 2, p2[1], p2[0], p2[1]);\n    path.lineTo(p3[0], p3[1]);\n    path.bezierCurveTo(p3[0] / 2 + p1[0] / 2, p3[1], p3[0] / 2 + p1[0] / 2, p1[1], p1[0], p1[1]);\n    path.lineTo(p0[0], p0[1]);\n    path.closePath();\n    return path;\n}\n/**\n * Connect points for 4 points:\n * - In rect, draw ribbon used in Sankey.\n * - In polar, draw arc used in Chord.\n */\nexport const Ribbon = (options, context) => {\n    const style = __rest(options, []);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor, transform } = value;\n        const path = getRibbonPath(points, coordinate);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('fill', color || defaultColor)\n            .style('stroke', color || defaultColor)\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nRibbon.props = {\n    defaultMarker: 'square',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=ribbon.js.map","import { PolygonShape, PolygonRibbon } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip2d, } from './utils';\nconst shape = {\n    polygon: PolygonShape,\n    ribbon: PolygonRibbon,\n};\n/**\n * Convert value for each channel to polygon shapes.\n */\nexport const Polygon = () => {\n    return (index, scale, value, coordinate) => {\n        const Xn = Object.entries(value)\n            .filter(([key]) => key.startsWith('x'))\n            .map(([, value]) => value);\n        const Yn = Object.entries(value)\n            .filter(([key]) => key.startsWith('y'))\n            .map(([, value]) => value);\n        const P = index.map((i) => {\n            const Pn = [];\n            for (let j = 0; j < Xn.length; j++) {\n                const x = Xn[j][i];\n                if (x === undefined)\n                    break;\n                const y = Yn[j][i];\n                Pn.push(coordinate.map([+x, +y]));\n            }\n            return Pn;\n        });\n        return [index, P];\n    };\n};\nPolygon.props = {\n    defaultShape: 'polygon',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference()],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=polygon.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isPolar } from '../../utils/coordinate';\nimport { angle, sub, dist } from '../../utils/vector';\nfunction getPath(points, coordinate) {\n    const path = d3path();\n    if (!isPolar(coordinate)) {\n        path.moveTo(...points[0]);\n        path.lineTo(...points[1]);\n        path.moveTo(...points[2]);\n        path.lineTo(...points[3]);\n        path.moveTo(...points[4]);\n        path.lineTo(...points[5]);\n        path.lineTo(...points[6]);\n        path.lineTo(...points[7]);\n        path.closePath();\n        path.moveTo(...points[8]);\n        path.lineTo(...points[9]);\n        path.moveTo(...points[10]);\n        path.lineTo(...points[11]);\n        path.moveTo(...points[12]);\n        path.lineTo(...points[13]);\n    }\n    else {\n        // In polar coordinate.\n        const center = coordinate.getCenter();\n        const [x, y] = center;\n        const startAngle = angle(sub(points[0], center));\n        const endAngle = angle(sub(points[1], center));\n        const radiusHigh = dist(center, points[2]);\n        const radiusQ3 = dist(center, points[3]);\n        const radiusMedian = dist(center, points[8]);\n        const radiusQ1 = dist(center, points[10]);\n        const radiusLow = dist(center, points[11]);\n        path.moveTo(...points[0]);\n        path.arc(x, y, radiusHigh, startAngle, endAngle);\n        path.arc(x, y, radiusHigh, endAngle, startAngle, true);\n        path.moveTo(...points[2]);\n        path.lineTo(...points[3]);\n        path.moveTo(...points[4]);\n        path.arc(x, y, radiusQ3, startAngle, endAngle); // 4 -> 5\n        path.lineTo(...points[6]); // 5 -> 6\n        path.arc(x, y, radiusQ1, endAngle, startAngle, true); // 6 -> 7\n        path.closePath();\n        path.moveTo(...points[8]);\n        path.arc(x, y, radiusMedian, startAngle, endAngle); // 8 -> 9\n        path.arc(x, y, radiusMedian, endAngle, startAngle, true); // 9 -> 8\n        path.moveTo(...points[10]);\n        path.lineTo(...points[11]);\n        path.moveTo(...points[12]);\n        path.arc(x, y, radiusLow, startAngle, endAngle); // 12 -> 13\n        path.arc(x, y, radiusLow, endAngle, startAngle, true); // 13 -> 12\n    }\n    return path;\n}\nexport const Box = (options, context) => {\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color, transform } = value;\n        const { color: defaultColor, fill = defaultColor, stroke = defaultColor } = defaults, rest = __rest(defaults, [\"color\", \"fill\", \"stroke\"]);\n        const path = getPath(points, coordinate);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', stroke)\n            .style('fill', color || fill)\n            .style('transform', transform)\n            .call(applyStyle, options)\n            .node();\n    };\n};\nBox.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=box.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { isPolar } from '../../utils/coordinate';\nimport { angle, sub, dist } from '../../utils/vector';\nfunction getPath(p, coordinate, size = 4) {\n    const path = d3path();\n    if (!isPolar(coordinate)) {\n        path.moveTo(...p[2]);\n        path.lineTo(...p[3]);\n        path.lineTo(p[3][0] - size, p[3][1]);\n        path.lineTo(p[10][0] - size, p[10][1]);\n        path.lineTo(p[10][0] + size, p[10][1]);\n        path.lineTo(p[3][0] + size, p[3][1]);\n        path.lineTo(...p[3]);\n        path.closePath();\n        path.moveTo(...p[10]);\n        path.lineTo(...p[11]);\n        path.moveTo(p[3][0] + size / 2, p[8][1]);\n        path.arc(p[3][0], p[8][1], size / 2, 0, Math.PI * 2);\n        path.closePath();\n        return path;\n    }\n    const center = coordinate.getCenter();\n    const [x, y] = center;\n    const radiusQ3 = dist(center, p[3]);\n    const radiusMedian = dist(center, p[8]);\n    const radiusQ1 = dist(center, p[10]);\n    const middleAngle = angle(sub(p[2], center));\n    const rectAngle = Math.asin(size / radiusMedian);\n    const startAngle = middleAngle - rectAngle;\n    const endAngle = middleAngle + rectAngle;\n    path.moveTo(...p[2]);\n    path.lineTo(...p[3]);\n    path.moveTo(Math.cos(startAngle) * radiusQ3 + x, Math.sin(startAngle) * radiusQ3 + y);\n    path.arc(x, y, radiusQ3, startAngle, endAngle);\n    path.lineTo(Math.cos(endAngle) * radiusQ1 + x, Math.sin(endAngle) * radiusQ1 + y);\n    path.arc(x, y, radiusQ1, endAngle, startAngle, true);\n    path.lineTo(Math.cos(startAngle) * radiusQ3 + x, Math.sin(startAngle) * radiusQ3 + y);\n    path.closePath();\n    path.moveTo(...p[10]);\n    path.lineTo(...p[11]);\n    const a = (startAngle + endAngle) / 2;\n    path.moveTo(Math.cos(a) * (radiusMedian + size / 2) + x, Math.sin(a) * (radiusMedian + size / 2) + y);\n    path.arc(Math.cos(a) * radiusMedian + x, Math.sin(a) * radiusMedian + y, size / 2, a, Math.PI * 2 + a);\n    path.closePath();\n    return path;\n}\nexport const Violin = (options, context) => {\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color, transform } = value;\n        // TODO: how to setting it by size channel.\n        const size = 4;\n        const { color: defaultColor, fill = defaultColor, stroke = defaultColor } = defaults, rest = __rest(defaults, [\"color\", \"fill\", \"stroke\"]);\n        const path = getPath(points, coordinate, size);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', stroke)\n            .style('fill', color || fill)\n            .style('transform', transform)\n            .call(applyStyle, options)\n            .node();\n    };\n};\nViolin.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=violin.js.map","import { BoxShape, BoxViolin } from '../shape';\nimport { MaybeZeroX } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, } from './utils';\nconst shape = {\n    box: BoxShape,\n    violin: BoxViolin,\n};\n/**\n * Convert value for each channel to box shapes.\n *\n * p0           p2          p1\n *    ──────────┬──────────\n *              │\n *              │\n *              │\n *              │\n *              │\n *              │\n *              │ p3\n * p4 ┌─────────┴──────────┐ p5\n *    │                    │\n *    │                    │\n * p8 ├────────────────────┤ p9\n *    │                    │\n *    │        p10         │\n * p7 └─────────┬──────────┘ p6\n *              │\n *              │\n *              │\n *              │\n *              │\n *              │\n *              │\n *              │\n *   ───────────┴───────────\n * p12         p11           p13\n */\nexport const Box = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, y1: Y1, y2: Y2, y3: Y3, y4: Y4, series: S } = value;\n        // Calc width for each box.\n        // The scales for x and series channels must be band scale.\n        const xScale = scale.x;\n        const series = scale.series;\n        const P = Array.from(index, (i) => {\n            const groupWidth = xScale.getBandWidth(xScale.invert(+X[i]));\n            const ratio = series ? series.getBandWidth(series.invert(+(S === null || S === void 0 ? void 0 : S[i]))) : 1;\n            const width = groupWidth * ratio;\n            const offset = (+(S === null || S === void 0 ? void 0 : S[i]) || 0) * groupWidth;\n            const x = +X[i] + offset + width / 2;\n            const [low, q1, median, q3, high] = [\n                +Y[i],\n                +Y1[i],\n                +Y2[i],\n                +Y3[i],\n                +Y4[i],\n            ];\n            const P13 = [\n                [x - width / 2, high],\n                [x + width / 2, high],\n                [x, high],\n                [x, q3],\n                [x - width / 2, q3],\n                [x + width / 2, q3],\n                [x + width / 2, q1],\n                [x - width / 2, q1],\n                [x - width / 2, median],\n                [x + width / 2, median],\n                [x, q1],\n                [x, low],\n                [x - width / 2, low],\n                [x + width / 2, low],\n            ];\n            return P13.map((d) => coordinate.map(d));\n        });\n        return [index, P];\n    };\n};\nBox.props = {\n    defaultShape: 'box',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', scale: 'band', required: true },\n        { name: 'y', required: true },\n        { name: 'series', scale: 'band' },\n    ],\n    preInference: [...basePreInference(), { type: MaybeZeroX }],\n    postInference: [...basePostInference(), ...tooltip1d()],\n    interaction: {\n        shareTooltip: true,\n    },\n};\n//# sourceMappingURL=box.js.map","import { VectorShape } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip2d, } from './utils';\nconst shape = {\n    vector: VectorShape,\n};\n/**\n * Convert value for each channel to start, end.\n * The angle starts from the X axis(right direction).\n */\nexport const Vector = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, size: S, rotate: R } = value;\n        const [width, height] = coordinate.getSize();\n        const P = index.map((i) => {\n            const angle = (+R[i] / 180) * Math.PI;\n            const s = +S[i];\n            const a = s / width;\n            const b = s / height;\n            const vx = a * Math.cos(angle);\n            const vy = -b * Math.sin(angle);\n            return [\n                coordinate.map([+X[i] - vx / 2, +Y[i] - vy / 2]),\n                coordinate.map([+X[i] + vx / 2, +Y[i] + vy / 2]),\n            ];\n        });\n        return [index, P];\n    };\n};\nVector.props = {\n    defaultShape: 'vector',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'rotate', required: true, scale: 'identity' },\n        { name: 'size', required: true },\n    ],\n    preInference: [...basePreInference()],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=vector.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { arc, line } from '@antv/vendor/d3-shape';\nimport { isPolar } from '../../utils/coordinate';\nimport { select } from '../../utils/selection';\nimport { dist } from '../../utils/vector';\nimport { subObject } from '../../utils/helper';\nimport { applyStyle } from '../utils';\nfunction getArrowMarker(document, arrowSize, arrowStyle) {\n    const arrowMarker = document.createElement('path', {\n        style: Object.assign({ d: `M ${arrowSize},${arrowSize} L -${arrowSize},0 L ${arrowSize},-${arrowSize} L 0,0 Z`, transformOrigin: 'center' }, arrowStyle),\n    });\n    return arrowMarker;\n}\nfunction getPath(points, coordinate) {\n    if (!isPolar(coordinate))\n        return line()\n            .x((d) => d[0])\n            .y((d) => d[1])(points);\n    const center = coordinate.getCenter();\n    return arc()({\n        startAngle: 0,\n        endAngle: Math.PI * 2,\n        outerRadius: dist(points[0], center),\n        innerRadius: dist(points[1], center),\n    });\n}\nfunction getTransform(coordinate, transform) {\n    if (!isPolar(coordinate))\n        return transform;\n    const [cx, cy] = coordinate.getCenter();\n    return `translate(${cx}, ${cy}) ${transform || ''}`;\n}\nexport const Line = (options, context) => {\n    const { arrow, arrowSize = 4 } = options, style = __rest(options, [\"arrow\", \"arrowSize\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor, lineWidth } = defaults, shapeTheme = __rest(defaults, [\"color\", \"lineWidth\"]);\n        const { color = defaultColor, size = lineWidth } = value;\n        const arrowMarker = arrow\n            ? getArrowMarker(document, arrowSize, Object.assign({ fill: style.stroke || color, stroke: style.stroke || color }, subObject(style, 'arrow')))\n            : null;\n        const path = getPath(points, coordinate);\n        const transform = getTransform(coordinate, value.transform);\n        return select(document.createElement('path', {}))\n            .call(applyStyle, shapeTheme)\n            .style('d', path)\n            .style('stroke', color)\n            .style('lineWidth', size)\n            .style('transform', transform)\n            .style('markerEnd', arrowMarker)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nLine.props = {\n    defaultMarker: 'line',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=line.js.map","import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeTupleX = () => {\n    return (I, mark) => {\n        const { data } = mark;\n        if (!Array.isArray(data) || data.some(isObject))\n            return [I, mark];\n        return [I, deepMix({}, mark, { encode: { x: column(data) } })];\n    };\n};\nMaybeTupleX.props = {};\n//# sourceMappingURL=maybeTupleX.js.map","import { deepMix } from '@antv/util';\nimport { LineXY } from '../shape';\nimport { MaybeTupleX } from '../transform';\nimport { basePostInference, baseAnnotationChannels, basePreInference, createBandOffset, } from './utils';\nconst shape = {\n    line: LineXY,\n};\nexport const LineX = (options) => {\n    return (index, scale, value, coordinate) => {\n        const { x: X } = value;\n        const offset = createBandOffset(scale, value, deepMix({ style: { bandOffset: 0 } }, options));\n        const P = Array.from(index, (i) => {\n            const p1 = [X[i], 1];\n            const p2 = [X[i], 0];\n            return [p1, p2].map((d) => coordinate.map(offset(d, i)));\n        });\n        return [index, P];\n    };\n};\nLineX.props = {\n    defaultShape: 'line',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n    ],\n    preInference: [...basePreInference(), { type: MaybeTupleX }],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=lineX.js.map","import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add 3 constant encode for size channel.\n * This is useful for point geometry.\n */\nexport const MaybeTupleY = () => {\n    return (I, mark) => {\n        const { data } = mark;\n        if (!Array.isArray(data) || data.some(isObject))\n            return [I, mark];\n        return [I, deepMix({}, mark, { encode: { y: column(data) } })];\n    };\n};\nMaybeTupleY.props = {};\n//# sourceMappingURL=maybeTupleY.js.map","import { deepMix } from '@antv/util';\nimport { LineXY } from '../shape';\nimport { MaybeTupleY } from '../transform';\nimport { baseAnnotationChannels, basePreInference, basePostInference, createBandOffset, } from './utils';\nconst shape = {\n    line: LineXY,\n};\nexport const LineY = (options) => {\n    return (index, scale, value, coordinate) => {\n        const { y: Y } = value;\n        const offset = createBandOffset(scale, value, deepMix({ style: { bandOffset: 0 } }, options));\n        const P = Array.from(index, (i) => {\n            const p1 = [0, Y[i]];\n            const p2 = [1, Y[i]];\n            return [p1, p2].map((d) => coordinate.map(offset(d, i)));\n        });\n        return [index, P];\n    };\n};\nLineY.props = {\n    defaultShape: 'line',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference(), { type: MaybeTupleY }],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=lineY.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Path } from '@antv/g';\nimport { Marker } from '@antv/component';\nimport { line as d3line } from '@antv/vendor/d3-shape';\nimport { isTranspose } from '../../utils/coordinate';\nimport { subObject } from '../../utils/helper';\nimport { select } from '../../utils/selection';\nimport { applyStyle } from '../utils';\nfunction inferSymbol(x, y, r) {\n    return [['M', x, y], ['L', x + 2 * r, y - r], ['L', x + 2 * r, y + r], ['Z']];\n}\n/**\n * @todo support polar later.\n */\nfunction inferConnectorPath(points) {\n    return d3line()\n        .x((d) => d[0])\n        .y((d) => d[1])(points);\n}\nfunction getPoints(coordinate, points, offset1, offset2, length1 = 0) {\n    const [[x0, y0], [x1, y1]] = points;\n    if (isTranspose(coordinate)) {\n        const X0 = x0 + offset1;\n        const X1 = x1 + offset2;\n        const X = X0 + length1;\n        return [\n            [X0, y0],\n            [X, y0],\n            [X, y1],\n            [X1, y1],\n        ];\n    }\n    const Y0 = y0 - offset1;\n    const Y1 = y1 - offset2;\n    const Y = Y0 - length1;\n    return [\n        [x0, Y0],\n        [x0, Y],\n        [x1, Y],\n        [x1, Y1],\n    ];\n}\nexport const Connector = (options, context) => {\n    const { offset = 0, offset1 = offset, offset2 = offset, connectLength1: length1, endMarker = true } = options, style = __rest(options, [\"offset\", \"offset1\", \"offset2\", \"connectLength1\", \"endMarker\"]);\n    const { coordinate } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor, connectLength1 } = defaults, rest = __rest(defaults, [\"color\", \"connectLength1\"]);\n        const { color, transform } = value;\n        const P = getPoints(coordinate, points, offset1, offset2, length1 !== null && length1 !== void 0 ? length1 : connectLength1);\n        const makerStyle = subObject(Object.assign(Object.assign({}, style), defaults), 'endMarker');\n        return select(new Path())\n            .call(applyStyle, rest)\n            .style('d', inferConnectorPath(P))\n            .style('stroke', color || defaultColor)\n            .style('transform', transform)\n            .style('markerEnd', endMarker\n            ? new Marker({\n                className: 'marker',\n                style: Object.assign(Object.assign({}, makerStyle), { symbol: inferSymbol }),\n            })\n            : null)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nConnector.props = {\n    defaultMarker: 'line',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=connector.js.map","import { ConnectorShape } from '../shape';\nimport { baseAnnotationChannels, basePostInference, basePreInference, } from './utils';\nimport { Link } from './link';\nconst shape = {\n    connector: ConnectorShape,\n};\nexport const Connector = (...args) => {\n    return Link(...args);\n};\nConnector.props = {\n    defaultShape: 'connector',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference()],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=connector.js.map","import { RangeShape } from '../shape';\nimport { baseAnnotationChannels, basePostInference, basePreInference, } from './utils';\nfunction extend(channel, extended, value, scale) {\n    if (extended)\n        return () => [0, 1];\n    const { [channel]: C, [`${channel}1`]: C1 } = value;\n    return (i) => {\n        var _a;\n        const offset = ((_a = scale.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(scale, scale.invert(+C1[i]))) || 0;\n        return [C[i], C1[i] + offset];\n    };\n}\nexport function AbstractRange(options = {}) {\n    const { extendX = false, extendY = false } = options;\n    return (index, scale, value, coordinate) => {\n        const x = extend('x', extendX, value, scale.x);\n        const y = extend('y', extendY, value, scale.y);\n        const P = Array.from(index, (i) => {\n            const [x1, x2] = x(i);\n            const [y1, y2] = y(i);\n            const p1 = [x1, y1];\n            const p2 = [x2, y1];\n            const p3 = [x2, y2];\n            const p4 = [x1, y2];\n            return [p1, p2, p3, p4].map((d) => coordinate.map(d));\n        });\n        return [index, P];\n    };\n}\nconst shape = { range: RangeShape };\nexport const Range = () => {\n    return AbstractRange();\n};\nRange.props = {\n    defaultShape: 'range',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference()],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=range.js.map","import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add a default encode for rangeX\n * when data is just an array\n */\nexport const MaybeDefaultX = () => {\n    return (I, mark) => {\n        const { data } = mark;\n        if (Array.isArray(data) &&\n            (data.every(Array.isArray) || !data.some(isObject))) {\n            const extractX = (data, index) => Array.isArray(data[0])\n                ? data.map((item) => item[index])\n                : [data[index]];\n            return [\n                I,\n                deepMix({}, mark, {\n                    encode: {\n                        x: column(extractX(data, 0)),\n                        x1: column(extractX(data, 1)),\n                    },\n                }),\n            ];\n        }\n        return [I, mark];\n    };\n};\nMaybeDefaultX.props = {};\n//# sourceMappingURL=maybeDefaultX.js.map","import { RangeShape } from '../shape';\nimport { MaybeDefaultX } from '../transform';\nimport { baseAnnotationChannels, basePostInference, basePreInference, } from './utils';\nimport { AbstractRange } from './range';\nconst shape = {\n    range: RangeShape,\n};\nexport const RangeX = () => {\n    return AbstractRange({ extendY: true });\n};\nRangeX.props = {\n    defaultShape: 'range',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n    ],\n    preInference: [...basePreInference(), { type: MaybeDefaultX }],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=rangeX.js.map","import { deepMix } from '@antv/util';\nimport { column, isObject } from './utils/helper';\n/**\n * Add a default encode for rangeY\n * when data is just an array\n */\nexport const MaybeDefaultY = () => {\n    return (I, mark) => {\n        const { data } = mark;\n        if (Array.isArray(data) &&\n            (data.every(Array.isArray) || !data.some(isObject))) {\n            const extractY = (data, index) => Array.isArray(data[0])\n                ? data.map((item) => item[index])\n                : [data[index]];\n            return [\n                I,\n                deepMix({}, mark, {\n                    encode: {\n                        y: column(extractY(data, 0)),\n                        y1: column(extractY(data, 1)),\n                    },\n                }),\n            ];\n        }\n        return [I, mark];\n    };\n};\nMaybeDefaultY.props = {};\n//# sourceMappingURL=maybeDefaultY.js.map","import { RangeShape } from '../shape';\nimport { MaybeDefaultY } from '../transform';\nimport { baseAnnotationChannels, basePostInference, basePreInference, } from './utils';\nimport { AbstractRange } from './range';\nconst shape = {\n    range: RangeShape,\n};\nexport const RangeY = () => {\n    return AbstractRange({ extendX: true });\n};\nRangeY.props = {\n    defaultShape: 'range',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseAnnotationChannels({ shapes: Object.keys(shape) }),\n        { name: 'y', required: true },\n    ],\n    preInference: [...basePreInference(), { type: MaybeDefaultY }],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=rangeY.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\n/**\n * Draw a filled or hollow path.\n */\nexport const Color = (options, context) => {\n    const { arrow, colorAttribute } = options, style = __rest(options, [\"arrow\", \"colorAttribute\"]);\n    const { coordinate, document } = context;\n    return (points, value, defaults) => {\n        const { color: defaultColor, stroke } = defaults, rest = __rest(defaults, [\"color\", \"stroke\"]);\n        const { d, color = defaultColor } = value;\n        const [width, height] = coordinate.getSize();\n        return (select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            // Path support string, function with parameter { width, height }.\n            .style('d', typeof d === 'function' ? d({ width, height }) : d)\n            .style(colorAttribute, color)\n            .call(applyStyle, style)\n            .node());\n    };\n};\nColor.props = {\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=color.js.map","import { Color } from './color';\n/**\n * A filled path.\n */\nexport const Path = (options, context) => {\n    return Color(Object.assign({ colorAttribute: 'fill' }, options), context);\n};\nPath.props = {\n    defaultMarker: 'hvh',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=path.js.map","import { Color } from './color';\n/**\n * A hollow path.\n */\nexport const Hollow = (options, context) => {\n    return Color(Object.assign({ fill: 'none', colorAttribute: 'stroke' }, options), context);\n};\nHollow.props = {\n    defaultMarker: 'hvh',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=hollow.js.map","import { PathShape, PathHollow } from '../shape';\nimport { baseGeometryChannels, basePostInference, basePreInference, } from './utils';\nconst shape = {\n    path: PathShape,\n    hollow: PathHollow,\n};\n/**\n * Draw a path.\n */\nexport const Path = (options) => {\n    return (index, scale, value, coordinate) => {\n        // The points is meaning less for path mark,\n        // because the position of path shapes specified\n        // by the d option. So set [0, 0] for render pipeline.\n        return [index, index.map(() => [[0, 0]])];\n    };\n};\nPath.props = {\n    defaultShape: 'path',\n    defaultLabelShape: 'label',\n    shape,\n    composite: false,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'd', scale: 'identity' },\n    ],\n    preInference: [...basePreInference()],\n    postInference: [...basePostInference()],\n};\n//# sourceMappingURL=path.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/**\n * Draw a custom shape.\n */\nexport const Shape = (options, context) => {\n    const { render } = options, rest = __rest(options, [\"render\"]);\n    return (points) => {\n        const [[x0, y0]] = points;\n        return render(Object.assign(Object.assign({}, rest), { x: x0, y: y0 }), context);\n    };\n};\nShape.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=shape.js.map","import { deepMix } from '@antv/util';\n/**\n * Mark functional attribute constant.\n */\nexport const MaybeFunctionAttribute = () => {\n    return (I, mark) => {\n        const { style = {} } = mark;\n        return [\n            I,\n            deepMix({}, mark, {\n                style: Object.assign(Object.assign({}, style), Object.fromEntries(Object.entries(style)\n                    .filter(([, v]) => typeof v === 'function')\n                    .map(([k, v]) => [k, () => v]))),\n            }),\n        ];\n    };\n};\nMaybeFunctionAttribute.props = {};\n//# sourceMappingURL=maybeFunctionAttribute.js.map","import { ShapeShape } from '../shape';\nimport { MaybeTuple, MaybeVisualPosition, MaybeFunctionAttribute, } from '../transform';\nimport { basePreInference, createBandOffset, visualMark } from './utils';\nconst shape = {\n    shape: ShapeShape,\n};\n/**\n * @todo Unify with text, image and point.\n */\nexport const Shape = (options) => {\n    const { cartesian } = options;\n    if (cartesian)\n        return visualMark;\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y } = value;\n        const offset = createBandOffset(scale, value, options);\n        const P = Array.from(index, (i) => {\n            const p = [+X[i], +Y[i]];\n            return [coordinate.map(offset(p, i))];\n        });\n        return [index, P];\n    };\n};\nShape.props = {\n    defaultShape: 'shape',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeTuple },\n        { type: MaybeVisualPosition },\n        { type: MaybeFunctionAttribute },\n    ],\n};\n//# sourceMappingURL=shape.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { path as d3path } from '@antv/vendor/d3-path';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\n/**\n * Draw density shape.\n */\nexport const Density = (options, context) => {\n    const { document } = context;\n    return (points, value, defaults) => {\n        const { transform } = value;\n        const { color: defaultColor } = defaults, rest = __rest(defaults, [\"color\"]);\n        const { color = defaultColor } = value;\n        const [first, ...p] = points;\n        // todo smooth, hollow\n        const path = d3path();\n        path.moveTo(...first);\n        p.forEach(([x, y]) => {\n            path.lineTo(x, y);\n        });\n        path.closePath();\n        return select(document.createElement('path', {}))\n            .call(applyStyle, rest)\n            .style('d', path.toString())\n            .style('stroke', color || defaultColor) // Always has stroke color.\n            .style('fill', color || defaultColor)\n            .style('fillOpacity', 0.4)\n            .style('transform', transform)\n            .call(applyStyle, options)\n            .node();\n    };\n};\nDensity.props = {\n    defaultMarker: 'square',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=density.js.map","import { DensityShape } from '../shape';\nimport { MaybeZeroY1, MaybeZeroX } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip1d, } from './utils';\nconst shape = {\n    density: DensityShape,\n};\nexport const Density = () => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, series: S } = value;\n        const Yn = Object.entries(value)\n            .filter(([key]) => key.startsWith('y'))\n            .map(([, value]) => value);\n        const SZn = Object.entries(value)\n            .filter(([key]) => key.startsWith('size'))\n            .map(([, value]) => value);\n        // Because x and y channel is not strictly required in Line.props,\n        // it should throw error with empty x or y channels.\n        if (X === undefined || Yn === undefined || SZn === undefined) {\n            throw new Error('Missing encode for x or y or size channel.');\n        }\n        // Calc width for each box.\n        // The scales for x and series channels must be band scale.\n        const xScale = scale.x;\n        const series = scale.series;\n        const P = Array.from(index, (i) => {\n            const groupWidth = xScale.getBandWidth(xScale.invert(+X[i]));\n            const ratio = series ? series.getBandWidth(series.invert(+(S === null || S === void 0 ? void 0 : S[i]))) : 1;\n            const width = groupWidth * ratio;\n            const offset = (+(S === null || S === void 0 ? void 0 : S[i]) || 0) * groupWidth;\n            const x = +X[i] + offset + width / 2;\n            const PN = [\n                ...Yn.map((_, idx) => [x + +SZn[idx][i] / index.length, +Yn[idx][i]]),\n                ...Yn.map((_, idx) => [\n                    x - +SZn[idx][i] / index.length,\n                    +Yn[idx][i],\n                ]).reverse(), // left\n            ];\n            return PN.map((p) => coordinate.map(p));\n        });\n        return [index, P];\n    };\n};\nDensity.props = {\n    defaultShape: 'density',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', scale: 'band', required: true },\n        { name: 'y', required: true },\n        { name: 'size', required: true },\n        { name: 'series', scale: 'band' },\n        { name: 'size', required: true, scale: 'identity' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeZeroY1 },\n        { type: MaybeZeroX },\n    ],\n    postInference: [...basePostInference(), ...tooltip1d()],\n    interaction: { shareTooltip: true },\n};\n//# sourceMappingURL=density.js.map","export default function (max) {\n\tvar num, curr, prev;\n\tvar limit = max || 1;\n\n\tfunction keep(key, value) {\n\t\tif (++num > limit) {\n\t\t\tprev = curr;\n\t\t\treset(1);\n\t\t\t++num;\n\t\t}\n\t\tcurr[key] = value;\n\t}\n\n\tfunction reset(isPartial) {\n\t\tnum = 0;\n\t\tcurr = Object.create(null);\n\t\tisPartial || (prev=Object.create(null));\n\t}\n\n\treset();\n\n\treturn {\n\t\tclear: reset,\n\t\thas: function (key) {\n\t\t\treturn curr[key] !== void 0 || prev[key] !== void 0;\n\t\t},\n\t\tget: function (key) {\n\t\t\tvar val = curr[key];\n\t\t\tif (val !== void 0) return val;\n\t\t\tif ((val=prev[key]) !== void 0) {\n\t\t\t\tkeep(key, val);\n\t\t\t\treturn val;\n\t\t\t}\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif (curr[key] !== void 0) {\n\t\t\t\tcurr[key] = value;\n\t\t\t} else {\n\t\t\t\tkeep(key, value);\n\t\t\t}\n\t\t}\n\t};\n}\n","import flru from 'flru';\nconst cache = flru(3);\n/**\n * A decorator to return new function with LRU cache.\n */\nexport function lru(fn, keyFn = (...args) => `${args[0]}`, maxSize = 16) {\n    const cache = flru(maxSize);\n    return (...args) => {\n        const key = keyFn(...args);\n        let v = cache.get(key);\n        if (cache.has(key))\n            return cache.get(key);\n        v = fn(...args);\n        cache.set(key, v);\n        return v;\n    };\n}\n//# sourceMappingURL=lru.js.map","import { lru } from '../../../utils/lru';\nimport { parseGradient } from './gradient';\nfunction newCanvas(createCanvas, width, height) {\n    const c = createCanvas ? createCanvas() : document.createElement('canvas');\n    c.width = width;\n    c.height = height;\n    return c;\n}\n/**\n * Get a point with template.\n * @param radius\n * @param blurFactor\n * @returns\n */\nconst getPointTemplate = lru((radius, blurFactor, createCanvas) => {\n    const tplCanvas = newCanvas(createCanvas, radius * 2, radius * 2);\n    const tplCtx = tplCanvas.getContext('2d');\n    const x = radius;\n    const y = radius;\n    if (blurFactor === 1) {\n        tplCtx.beginPath();\n        tplCtx.arc(x, y, radius, 0, 2 * Math.PI, false);\n        tplCtx.fillStyle = 'rgba(0,0,0,1)';\n        tplCtx.fill();\n    }\n    else {\n        const gradient = tplCtx.createRadialGradient(x, y, radius * blurFactor, x, y, radius);\n        gradient.addColorStop(0, 'rgba(0,0,0,1)');\n        gradient.addColorStop(1, 'rgba(0,0,0,0)');\n        tplCtx.fillStyle = gradient;\n        tplCtx.fillRect(0, 0, 2 * radius, 2 * radius);\n    }\n    return tplCanvas;\n}, (radius) => `${radius}`);\n/**\n * Get a color palette with len = 256 base on gradient.\n * @param gradientConfig\n * @returns\n */\nfunction getColorPalette(gradientConfig, createCanvas) {\n    const paletteCanvas = newCanvas(createCanvas, 256, 1);\n    const paletteCtx = paletteCanvas.getContext('2d');\n    const gradient = paletteCtx.createLinearGradient(0, 0, 256, 1);\n    parseGradient(gradientConfig).forEach(([r, c]) => {\n        gradient.addColorStop(r, c);\n    });\n    paletteCtx.fillStyle = gradient;\n    paletteCtx.fillRect(0, 0, 256, 1);\n    return paletteCtx.getImageData(0, 0, 256, 1).data;\n}\n/**\n * Draw all circle with alpha.\n */\nfunction drawAlpha(shadowCtx, min, max, data, options, createCanvas) {\n    const { blur } = options;\n    let len = data.length;\n    while (len--) {\n        const { x, y, value: v, radius } = data[len];\n        // Ff value is bigger than max, use max as value.\n        const value = Math.min(v, max);\n        const rectX = x - radius;\n        const rectY = y - radius;\n        const tpl = getPointTemplate(radius, 1 - blur, createCanvas);\n        // Value from minimum / value range, => [0, 1].\n        const templateAlpha = (value - min) / (max - min);\n        // Small values are not visible because globalAlpha < .001 cannot be read from imageData.\n        shadowCtx.globalAlpha = Math.max(templateAlpha, 0.001);\n        shadowCtx.drawImage(tpl, rectX, rectY);\n    }\n    return shadowCtx;\n}\nfunction colorize(shadowCtx, maxWidth, maxHeight, palette, options) {\n    const { minOpacity, opacity, maxOpacity, useGradientOpacity } = options;\n    const x = 0;\n    const y = 0;\n    const width = maxWidth;\n    const height = maxHeight;\n    const img = shadowCtx.getImageData(x, y, width, height);\n    const imgData = img.data;\n    const len = imgData.length;\n    for (let i = 3; i < len; i += 4) {\n        const alpha = imgData[i];\n        const offset = alpha * 4;\n        if (!offset) {\n            continue;\n        }\n        // Should be in [min, max], min >= 0.\n        const finalAlpha = opacity || Math.max(0, Math.min(maxOpacity, Math.max(minOpacity, alpha)));\n        // Update rgba.\n        imgData[i - 3] = palette[offset];\n        imgData[i - 2] = palette[offset + 1];\n        imgData[i - 1] = palette[offset + 2];\n        imgData[i] = useGradientOpacity ? palette[offset + 3] : finalAlpha;\n    }\n    return img;\n}\n/**\n * Render a heatmap with canvas.\n * See [heatmap.js](https://github.com/pa7/heatmap.js/blob/master/src/renderer/canvas2d.js).\n */\nexport function HeatmapRenderer(width, height, min, max, data, options, createCanvas) {\n    const opts = Object.assign({ blur: 0.85, minOpacity: 0, opacity: 0.6, maxOpacity: 1, gradient: [\n            [0.25, 'rgb(0,0,255)'],\n            [0.55, 'rgb(0,255,0)'],\n            [0.85, 'yellow'],\n            [1.0, 'rgb(255,0,0)'],\n        ] }, options);\n    opts.minOpacity *= 255;\n    opts.opacity *= 255;\n    opts.maxOpacity *= 255;\n    const shadowCanvas = newCanvas(createCanvas, width, height);\n    const shadowCtx = shadowCanvas.getContext('2d');\n    const palette = getColorPalette(opts.gradient, createCanvas);\n    shadowCtx.clearRect(0, 0, width, height);\n    drawAlpha(shadowCtx, min, max, data, opts, createCanvas);\n    const img = colorize(shadowCtx, width, height, palette, opts);\n    const canvas = newCanvas(createCanvas, width, height);\n    const ctx = canvas.getContext('2d');\n    ctx.putImageData(img, 0, 0);\n    return ctx;\n}\n//# sourceMappingURL=index.js.map","/**\n * Parse heatmap gradient.\n */\nexport function parseGradient(gradient) {\n    if (typeof gradient === 'string') {\n        return gradient.split(' ').map((stop) => {\n            const [r, c] = stop.split(':');\n            return [+r, c];\n        });\n    }\n    return gradient;\n}\n//# sourceMappingURL=gradient.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { max as d3max, min as d3min } from '@antv/vendor/d3-array';\nimport { applyStyle } from '../utils';\nimport { select } from '../../utils/selection';\nimport { HeatmapRenderer } from './renderer';\nfunction deleteKey(obj, fn) {\n    return Object.keys(obj).reduce((r, k) => {\n        const v = obj[k];\n        if (!fn(v, k))\n            r[k] = v;\n        return r;\n    }, {});\n}\nexport const Heatmap = (options, context) => {\n    const { gradient, opacity, maxOpacity, minOpacity, blur, useGradientOpacity } = options, style = __rest(options, [\"gradient\", \"opacity\", \"maxOpacity\", \"minOpacity\", \"blur\", \"useGradientOpacity\"]);\n    const { coordinate, createCanvas, document } = context;\n    return (points, value, defaults) => {\n        const { transform } = value;\n        const [width, height] = coordinate.getSize();\n        const data = points.map((p) => ({\n            x: p[0],\n            y: p[1],\n            value: p[2],\n            radius: p[3],\n        }));\n        const min = d3min(points, (p) => p[2]);\n        const max = d3max(points, (p) => p[2]);\n        const options = {\n            gradient,\n            opacity,\n            minOpacity,\n            maxOpacity,\n            blur,\n            useGradientOpacity,\n        };\n        const ctx = width && height\n            ? HeatmapRenderer(width, height, min, max, data, deleteKey(options, (v) => v === undefined), createCanvas)\n            : { canvas: null };\n        return select(document.createElement('image', {}))\n            .call(applyStyle, defaults)\n            .style('x', 0)\n            .style('y', 0)\n            .style('width', width)\n            .style('height', height)\n            .style('src', ctx.canvas.toDataURL())\n            .style('transform', transform)\n            .call(applyStyle, style)\n            .node();\n    };\n};\nHeatmap.props = {\n    defaultMarker: 'point',\n    defaultEnterAnimation: 'fadeIn',\n    defaultUpdateAnimation: 'morphing',\n    defaultExitAnimation: 'fadeOut',\n};\n//# sourceMappingURL=heatmap.js.map","import { HeatmapShape } from '../shape';\nimport { MaybeZeroX, MaybeZeroY } from '../transform';\nimport { baseGeometryChannels, basePostInference, basePreInference, tooltip2d, } from './utils';\nconst shape = {\n    heatmap: HeatmapShape,\n};\n/**\n * Draw heatmap with gradient.\n */\nexport const Heatmap = (options) => {\n    return (index, scale, value, coordinate) => {\n        const { x: X, y: Y, size: S, color: C } = value;\n        const P = Array.from(index, (i) => {\n            // Default size = 40.\n            const r = S ? +S[i] : 40;\n            // Warning: x, y, value, radius.\n            return [...coordinate.map([+X[i], +Y[i]]), C[i], r];\n        });\n        return [[0], [P]];\n    };\n};\nHeatmap.props = {\n    defaultShape: 'heatmap',\n    defaultLabelShape: 'label',\n    composite: false,\n    shape,\n    channels: [\n        ...baseGeometryChannels({ shapes: Object.keys(shape) }),\n        { name: 'x', required: true },\n        { name: 'y', required: true },\n        { name: 'color', scale: 'identity', required: true },\n        { name: 'size' },\n    ],\n    preInference: [\n        ...basePreInference(),\n        { type: MaybeZeroX },\n        { type: MaybeZeroY },\n    ],\n    postInference: [...basePostInference(), ...tooltip2d()],\n};\n//# sourceMappingURL=heatmap.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nfunction initializeData(data, encode) {\n    const { text = 'text', value = 'value' } = encode;\n    return data.map((d) => (Object.assign(Object.assign({}, d), { text: d[text], value: d[value] })));\n}\nconst GET_DEFAULT_OPTIONS = () => ({\n    axis: false,\n    type: 'text',\n    encode: {\n        x: 'x',\n        y: 'y',\n        text: 'text',\n        rotate: 'rotate',\n        fontSize: 'size',\n        shape: 'tag',\n    },\n    scale: {\n        x: { range: [0, 1] },\n        y: { range: [0, 1] },\n    },\n    style: {\n        fontFamily: (d) => d.fontFamily,\n    },\n});\nexport const WordCloud = (options, context) => __awaiter(void 0, void 0, void 0, function* () {\n    const { width, height } = context;\n    const { data, encode = {}, scale, style = {}, layout = {} } = options, resOptions = __rest(options, [\"data\", \"encode\", \"scale\", \"style\", \"layout\"]);\n    const initializedData = initializeData(data, encode);\n    return deepMix({}, GET_DEFAULT_OPTIONS(), Object.assign(Object.assign({ data: {\n            value: initializedData,\n            transform: [\n                Object.assign({ type: 'wordCloud', size: [width, height] }, layout),\n            ],\n        }, encode,\n        scale,\n        style }, resOptions), { axis: false }));\n});\nWordCloud.props = {};\n//# sourceMappingURL=wordCloud.js.map","/**\n * Classic palette of AntV for ordinal data with 10 colors.\n */\nexport const Category10 = () => {\n    return [\n        '#5B8FF9',\n        '#5AD8A6',\n        '#5D7092',\n        '#F6BD16',\n        '#6F5EF9',\n        '#6DC8EC',\n        '#945FB9',\n        '#FF9845',\n        '#1E9493',\n        '#FF99C3',\n    ];\n};\nCategory10.props = {};\n//# sourceMappingURL=category10.js.map","/**\n * Classic palette of AntV for ordinal data with 20 colors.\n */\nexport const Category20 = () => {\n    return [\n        '#5B8FF9',\n        '#CDDDFD',\n        '#5AD8A6',\n        '#CDF3E4',\n        '#5D7092',\n        '#CED4DE',\n        '#F6BD16',\n        '#FCEBB9',\n        '#6F5EF9',\n        '#D3CEFD',\n        '#6DC8EC',\n        '#D3EEF9',\n        '#945FB9',\n        '#DECFEA',\n        '#FF9845',\n        '#FFE0C7',\n        '#1E9493',\n        '#BBDEDE',\n        '#FF99C3',\n        '#FFE0ED',\n    ];\n};\nCategory20.props = {};\n//# sourceMappingURL=category20.js.map","import { Linear as LinearScale } from '@antv/scale';\nexport const Linear = (options) => {\n    return new LinearScale(options);\n};\nLinear.props = {};\n//# sourceMappingURL=linear.js.map","import { Ordinal as OrdinalScale } from '@antv/scale';\nexport const Ordinal = (options) => {\n    return new OrdinalScale(options);\n};\nOrdinal.props = {};\n//# sourceMappingURL=ordinal.js.map","import { Band as BandScale } from '@antv/scale';\nexport const Band = (options) => {\n    return new BandScale(options);\n};\nBand.props = {};\n//# sourceMappingURL=band.js.map","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n    if (isNil(o)) {\n        return 0;\n    }\n    if (isArraylike(o)) {\n        return o.length;\n    }\n    return Object.keys(o).length;\n}\n//# sourceMappingURL=size.js.map","import isArrayLike from './is-array-like';\nvar indexOf = function (arr, obj) {\n    if (!isArrayLike(arr)) {\n        return -1;\n    }\n    var m = Array.prototype.indexOf;\n    if (m) {\n        return m.call(arr, obj);\n    }\n    var index = -1;\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n};\nexport default indexOf;\n//# sourceMappingURL=index-of.js.map","// 为了解决 js 运算的精度问题\nexport function prettyNumber(n) {\n    return Math.abs(n) < 1e-14 ? n : parseFloat(n.toFixed(14));\n}\n//# sourceMappingURL=pretty-number.js.map","import { indexOf, size } from '@antv/util';\nimport { prettyNumber } from '../utils/pretty-number';\nexport const DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexport const ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nconst eps = Number.EPSILON * 100;\nfunction mod(n, m) {\n    return ((n % m) + m) % m;\n}\nfunction round(n) {\n    return Math.round(n * 1e12) / 1e12;\n}\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n    const n = size(Q);\n    const i = indexOf(Q, q);\n    let v = 0;\n    const m = mod(lmin, lstep);\n    if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n        v = 1;\n    }\n    return 1 - i / (n - 1) - j + v;\n}\nfunction simplicityMax(q, Q, j) {\n    const n = size(Q);\n    const i = indexOf(Q, q);\n    const v = 1;\n    return 1 - i / (n - 1) - j + v;\n}\nfunction density(k, m, dMin, dMax, lMin, lMax) {\n    const r = (k - 1) / (lMax - lMin);\n    const rt = (m - 1) / (Math.max(lMax, dMax) - Math.min(dMin, lMin));\n    return 2 - Math.max(r / rt, rt / r);\n}\nfunction densityMax(k, m) {\n    if (k >= m) {\n        return 2 - (k - 1) / (m - 1);\n    }\n    return 1;\n}\nfunction coverage(dMin, dMax, lMin, lMax) {\n    const range = dMax - dMin;\n    return 1 - (0.5 * ((dMax - lMax) ** 2 + (dMin - lMin) ** 2)) / (0.1 * range) ** 2;\n}\nfunction coverageMax(dMin, dMax, span) {\n    const range = dMax - dMin;\n    if (span > range) {\n        const half = (span - range) / 2;\n        return 1 - half ** 2 / (0.1 * range) ** 2;\n    }\n    return 1;\n}\nfunction legibility() {\n    return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dMin 最小值\n * @param dMax 最大值\n * @param m tick个数\n * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n * @param Q nice numbers集合\n * @param w 四个优化组件的权重\n */\nexport const wilkinsonExtended = (dMin, dMax, n = 5, onlyLoose = true, Q = DEFAULT_Q, w = [0.25, 0.2, 0.5, 0.05]) => {\n    const m = n < 0 ? 0 : Math.round(n);\n    // nan 也会导致异常\n    if (Number.isNaN(dMin) || Number.isNaN(dMax) || typeof dMin !== 'number' || typeof dMax !== 'number' || !m) {\n        return [];\n    }\n    // js 极大值极小值问题，差值小于 1e-15 会导致计算出错\n    if (dMax - dMin < 1e-15 || m === 1) {\n        return [dMin];\n    }\n    const best = {\n        score: -2,\n        lmin: 0,\n        lmax: 0,\n        lstep: 0,\n    };\n    let j = 1;\n    while (j < Infinity) {\n        // for (const q of Q)\n        for (let i = 0; i < Q.length; i += 1) {\n            const q = Q[i];\n            const sm = simplicityMax(q, Q, j);\n            if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n                j = Infinity;\n                break;\n            }\n            let k = 2;\n            while (k < Infinity) {\n                const dm = densityMax(k, m);\n                if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n                    break;\n                }\n                const delta = (dMax - dMin) / (k + 1) / j / q;\n                let z = Math.ceil(Math.log10(delta));\n                while (z < Infinity) {\n                    const step = j * q * 10 ** z;\n                    const cm = coverageMax(dMin, dMax, step * (k - 1));\n                    if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n                        break;\n                    }\n                    const minStart = Math.floor(dMax / step) * j - (k - 1) * j;\n                    const maxStart = Math.ceil(dMin / step) * j;\n                    if (minStart <= maxStart) {\n                        const count = maxStart - minStart;\n                        for (let i = 0; i <= count; i += 1) {\n                            const start = minStart + i;\n                            const lMin = start * (step / j);\n                            const lMax = lMin + step * (k - 1);\n                            const lStep = step;\n                            const s = simplicity(q, Q, j, lMin, lMax, lStep);\n                            const c = coverage(dMin, dMax, lMin, lMax);\n                            const g = density(k, m, dMin, dMax, lMin, lMax);\n                            const l = legibility();\n                            const score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n                            if (score > best.score && (!onlyLoose || (lMin <= dMin && lMax >= dMax))) {\n                                best.lmin = lMin;\n                                best.lmax = lMax;\n                                best.lstep = lStep;\n                                best.score = score;\n                            }\n                        }\n                    }\n                    z += 1;\n                }\n                k += 1;\n            }\n        }\n        j += 1;\n    }\n    // 处理精度问题，保证这三个数没有精度问题\n    const lmax = prettyNumber(best.lmax);\n    const lmin = prettyNumber(best.lmin);\n    const lstep = prettyNumber(best.lstep);\n    // 加 round 是为处理 extended(0.94, 1, 5)\n    // 保证生成的 tickCount 没有精度问题\n    const tickCount = Math.floor(round((lmax - lmin) / lstep)) + 1;\n    const ticks = new Array(tickCount);\n    // 少用乘法：防止出现 -1.2 + 1.2 * 3 = 2.3999999999999995 的情况\n    ticks[0] = prettyNumber(lmin);\n    for (let i = 1; i < tickCount; i += 1) {\n        ticks[i] = prettyNumber(ticks[i - 1] + lstep);\n    }\n    return ticks;\n};\n//# sourceMappingURL=wilkinson-extended.js.map","import { isNumber } from '@antv/util';\nimport { Base } from './base';\nimport { wilkinsonExtended } from '../tick-methods/wilkinson-extended';\nimport { isValid } from '../utils';\nexport class Identity extends Base {\n    /**\n     * 返回需要覆盖的默认选项\n     * @returns 需要覆盖的默认选项\n     */\n    getDefaultOptions() {\n        return {\n            domain: [0, 1],\n            range: [0, 1],\n            tickCount: 5,\n            unknown: undefined,\n            tickMethod: wilkinsonExtended,\n        };\n    }\n    /**\n     * 输入和输出满足：y = x\n     * @param x 输入值\n     * @returns 输出值\n     */\n    map(x) {\n        return isValid(x) ? x : this.options.unknown;\n    }\n    /**\n     * map 的逆运算：x = y，在这里和 map 是相同方法\n     * @param x 输出值\n     * @returns 输入值\n     */\n    invert(x) {\n        return this.map(x);\n    }\n    /**\n     * 克隆 Identity Scale\n     * @returns 拥有相同选项且独立的 Identity Scale\n     */\n    clone() {\n        return new Identity(this.options);\n    }\n    /**\n     * 根据比例尺的配置去生成 ticks，该 ticks 主要用于生成坐标轴\n     * @returns 返回一个 ticks 的数组\n     */\n    getTicks() {\n        const { domain, tickCount, tickMethod } = this.options;\n        const [min, max] = domain;\n        if (!isNumber(min) || !isNumber(max))\n            return [];\n        return tickMethod(min, max, tickCount);\n    }\n}\n//# sourceMappingURL=identity.js.map","import { Identity as IdentityScale } from '@antv/scale';\nexport const Identity = (options) => {\n    return new IdentityScale(options);\n};\nIdentity.props = {};\n//# sourceMappingURL=identity.js.map","import { Band } from './band';\nimport { defaultUnknown } from './ordinal';\n/**\n * Point 比例尺\n *\n * 一种特殊的 band scale，它的 bandWidth 恒为 0。\n *\n * 由于部分选项较为抽象，见下图描述：\n *\n * PO = Padding = PaddingInner\n * domain =  [\"A\", \"B\", \"C\"]\n *\n * |<------------------------------------------- range ------------------------------------------->|\n * |             |                                 |                                 |             |\n * |<--step*PO-->|<--------------step------------->|<--------------step------------->|<--step*PO-->|\n * |             |                                 |                                 |             |\n * |             A                                 B                                 C             |\n * |-----------------------------------------------------------------------------------------------|\n *\n * 性能方便较 d3 快出 8 - 9 倍\n */\nexport class Point extends Band {\n    // 覆盖默认配置\n    getDefaultOptions() {\n        return {\n            domain: [],\n            range: [0, 1],\n            align: 0.5,\n            round: false,\n            padding: 0,\n            unknown: defaultUnknown,\n            paddingInner: 1,\n            paddingOuter: 0,\n        };\n    }\n    // 能接受的参数只是 PointOptions，不能有 paddingInner 这些属性\n    constructor(options) {\n        super(options);\n    }\n    // Point 的 paddingInner 只能是1，不能被覆盖\n    getPaddingInner() {\n        return 1;\n    }\n    clone() {\n        return new Point(this.options);\n    }\n    update(options) {\n        super.update(options);\n    }\n    getPaddingOuter() {\n        return this.options.padding;\n    }\n}\n//# sourceMappingURL=point.js.map","import { Point as PointScale } from '@antv/scale';\nexport const Point = (options) => {\n    return new PointScale(options);\n};\nPoint.props = {};\n//# sourceMappingURL=point.js.map","var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigitsOptional = \"\\\\d\\\\d?\";\nvar twoDigits = \"\\\\d\\\\d\";\nvar threeDigits = \"\\\\d{3}\";\nvar fourDigits = \"\\\\d{4}\";\nvar word = \"[^\\\\s]+\";\nvar literal = /\\[([^]*?)\\]/gm;\nfunction shorten(arr, sLen) {\n    var newArr = [];\n    for (var i = 0, len = arr.length; i < len; i++) {\n        newArr.push(arr[i].substr(0, sLen));\n    }\n    return newArr;\n}\nvar monthUpdate = function (arrName) { return function (v, i18n) {\n    var lowerCaseArr = i18n[arrName].map(function (v) { return v.toLowerCase(); });\n    var index = lowerCaseArr.indexOf(v.toLowerCase());\n    if (index > -1) {\n        return index;\n    }\n    return null;\n}; };\nfunction assign(origObj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n        var obj = args_1[_a];\n        for (var key in obj) {\n            // @ts-ignore ex\n            origObj[key] = obj[key];\n        }\n    }\n    return origObj;\n}\nvar dayNames = [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\"\n];\nvar monthNames = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nvar defaultI18n = {\n    dayNamesShort: dayNamesShort,\n    dayNames: dayNames,\n    monthNamesShort: monthNamesShort,\n    monthNames: monthNames,\n    amPm: [\"am\", \"pm\"],\n    DoFn: function (dayOfMonth) {\n        return (dayOfMonth +\n            [\"th\", \"st\", \"nd\", \"rd\"][dayOfMonth % 10 > 3\n                ? 0\n                : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10]);\n    }\n};\nvar globalI18n = assign({}, defaultI18n);\nvar setGlobalDateI18n = function (i18n) {\n    return (globalI18n = assign(globalI18n, i18n));\n};\nvar regexEscape = function (str) {\n    return str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n};\nvar pad = function (val, len) {\n    if (len === void 0) { len = 2; }\n    val = String(val);\n    while (val.length < len) {\n        val = \"0\" + val;\n    }\n    return val;\n};\nvar formatFlags = {\n    D: function (dateObj) { return String(dateObj.getDate()); },\n    DD: function (dateObj) { return pad(dateObj.getDate()); },\n    Do: function (dateObj, i18n) {\n        return i18n.DoFn(dateObj.getDate());\n    },\n    d: function (dateObj) { return String(dateObj.getDay()); },\n    dd: function (dateObj) { return pad(dateObj.getDay()); },\n    ddd: function (dateObj, i18n) {\n        return i18n.dayNamesShort[dateObj.getDay()];\n    },\n    dddd: function (dateObj, i18n) {\n        return i18n.dayNames[dateObj.getDay()];\n    },\n    M: function (dateObj) { return String(dateObj.getMonth() + 1); },\n    MM: function (dateObj) { return pad(dateObj.getMonth() + 1); },\n    MMM: function (dateObj, i18n) {\n        return i18n.monthNamesShort[dateObj.getMonth()];\n    },\n    MMMM: function (dateObj, i18n) {\n        return i18n.monthNames[dateObj.getMonth()];\n    },\n    YY: function (dateObj) {\n        return pad(String(dateObj.getFullYear()), 4).substr(2);\n    },\n    YYYY: function (dateObj) { return pad(dateObj.getFullYear(), 4); },\n    h: function (dateObj) { return String(dateObj.getHours() % 12 || 12); },\n    hh: function (dateObj) { return pad(dateObj.getHours() % 12 || 12); },\n    H: function (dateObj) { return String(dateObj.getHours()); },\n    HH: function (dateObj) { return pad(dateObj.getHours()); },\n    m: function (dateObj) { return String(dateObj.getMinutes()); },\n    mm: function (dateObj) { return pad(dateObj.getMinutes()); },\n    s: function (dateObj) { return String(dateObj.getSeconds()); },\n    ss: function (dateObj) { return pad(dateObj.getSeconds()); },\n    S: function (dateObj) {\n        return String(Math.round(dateObj.getMilliseconds() / 100));\n    },\n    SS: function (dateObj) {\n        return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n    },\n    SSS: function (dateObj) { return pad(dateObj.getMilliseconds(), 3); },\n    a: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n    },\n    A: function (dateObj, i18n) {\n        return dateObj.getHours() < 12\n            ? i18n.amPm[0].toUpperCase()\n            : i18n.amPm[1].toUpperCase();\n    },\n    ZZ: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return ((offset > 0 ? \"-\" : \"+\") +\n            pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4));\n    },\n    Z: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return ((offset > 0 ? \"-\" : \"+\") +\n            pad(Math.floor(Math.abs(offset) / 60), 2) +\n            \":\" +\n            pad(Math.abs(offset) % 60, 2));\n    }\n};\nvar monthParse = function (v) { return +v - 1; };\nvar emptyDigits = [null, twoDigitsOptional];\nvar emptyWord = [null, word];\nvar amPm = [\n    \"isPm\",\n    word,\n    function (v, i18n) {\n        var val = v.toLowerCase();\n        if (val === i18n.amPm[0]) {\n            return 0;\n        }\n        else if (val === i18n.amPm[1]) {\n            return 1;\n        }\n        return null;\n    }\n];\nvar timezoneOffset = [\n    \"timezoneOffset\",\n    \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n    function (v) {\n        var parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n        if (parts) {\n            var minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n            return parts[0] === \"+\" ? minutes : -minutes;\n        }\n        return 0;\n    }\n];\nvar parseFlags = {\n    D: [\"day\", twoDigitsOptional],\n    DD: [\"day\", twoDigits],\n    Do: [\"day\", twoDigitsOptional + word, function (v) { return parseInt(v, 10); }],\n    M: [\"month\", twoDigitsOptional, monthParse],\n    MM: [\"month\", twoDigits, monthParse],\n    YY: [\n        \"year\",\n        twoDigits,\n        function (v) {\n            var now = new Date();\n            var cent = +(\"\" + now.getFullYear()).substr(0, 2);\n            return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n        }\n    ],\n    h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n    hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n    H: [\"hour\", twoDigitsOptional],\n    HH: [\"hour\", twoDigits],\n    m: [\"minute\", twoDigitsOptional],\n    mm: [\"minute\", twoDigits],\n    s: [\"second\", twoDigitsOptional],\n    ss: [\"second\", twoDigits],\n    YYYY: [\"year\", fourDigits],\n    S: [\"millisecond\", \"\\\\d\", function (v) { return +v * 100; }],\n    SS: [\"millisecond\", twoDigits, function (v) { return +v * 10; }],\n    SSS: [\"millisecond\", threeDigits],\n    d: emptyDigits,\n    dd: emptyDigits,\n    ddd: emptyWord,\n    dddd: emptyWord,\n    MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n    MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n    a: amPm,\n    A: amPm,\n    ZZ: timezoneOffset,\n    Z: timezoneOffset\n};\n// Some common format strings\nvar globalMasks = {\n    default: \"ddd MMM DD YYYY HH:mm:ss\",\n    shortDate: \"M/D/YY\",\n    mediumDate: \"MMM D, YYYY\",\n    longDate: \"MMMM D, YYYY\",\n    fullDate: \"dddd, MMMM D, YYYY\",\n    isoDate: \"YYYY-MM-DD\",\n    isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n    shortTime: \"HH:mm\",\n    mediumTime: \"HH:mm:ss\",\n    longTime: \"HH:mm:ss.SSS\"\n};\nvar setGlobalDateMasks = function (masks) { return assign(globalMasks, masks); };\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nvar format = function (dateObj, mask, i18n) {\n    if (mask === void 0) { mask = globalMasks[\"default\"]; }\n    if (i18n === void 0) { i18n = {}; }\n    if (typeof dateObj === \"number\") {\n        dateObj = new Date(dateObj);\n    }\n    if (Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n        isNaN(dateObj.getTime())) {\n        throw new Error(\"Invalid Date pass to format\");\n    }\n    mask = globalMasks[mask] || mask;\n    var literals = [];\n    // Make literals inactive by replacing them with @@@\n    mask = mask.replace(literal, function ($0, $1) {\n        literals.push($1);\n        return \"@@@\";\n    });\n    var combinedI18nSettings = assign(assign({}, globalI18n), i18n);\n    // Apply formatting rules\n    mask = mask.replace(token, function ($0) {\n        return formatFlags[$0](dateObj, combinedI18nSettings);\n    });\n    // Inline literal values back into the formatted value\n    return mask.replace(/@@@/g, function () { return literals.shift(); });\n};\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(dateStr, format, i18n) {\n    if (i18n === void 0) { i18n = {}; }\n    if (typeof format !== \"string\") {\n        throw new Error(\"Invalid format in fecha parse\");\n    }\n    // Check to see if the format is actually a mask\n    format = globalMasks[format] || format;\n    // Avoid regular expression denial of service, fail early for really long strings\n    // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n    if (dateStr.length > 1000) {\n        return null;\n    }\n    // Default to the beginning of the year.\n    var today = new Date();\n    var dateInfo = {\n        year: today.getFullYear(),\n        month: 0,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        isPm: null,\n        timezoneOffset: null\n    };\n    var parseInfo = [];\n    var literals = [];\n    // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n    var newFormat = format.replace(literal, function ($0, $1) {\n        literals.push(regexEscape($1));\n        return \"@@@\";\n    });\n    var specifiedFields = {};\n    var requiredFields = {};\n    // Change every token that we find into the correct regex\n    newFormat = regexEscape(newFormat).replace(token, function ($0) {\n        var info = parseFlags[$0];\n        var field = info[0], regex = info[1], requiredField = info[3];\n        // Check if the person has specified the same field twice. This will lead to confusing results.\n        if (specifiedFields[field]) {\n            throw new Error(\"Invalid format. \" + field + \" specified twice in format\");\n        }\n        specifiedFields[field] = true;\n        // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n        if (requiredField) {\n            requiredFields[requiredField] = true;\n        }\n        parseInfo.push(info);\n        return \"(\" + regex + \")\";\n    });\n    // Check all the required fields are present\n    Object.keys(requiredFields).forEach(function (field) {\n        if (!specifiedFields[field]) {\n            throw new Error(\"Invalid format. \" + field + \" is required in specified format\");\n        }\n    });\n    // Add back all the literals after\n    newFormat = newFormat.replace(/@@@/g, function () { return literals.shift(); });\n    // Check if the date string matches the format. If it doesn't return null\n    var matches = dateStr.match(new RegExp(newFormat, \"i\"));\n    if (!matches) {\n        return null;\n    }\n    var combinedI18nSettings = assign(assign({}, globalI18n), i18n);\n    // For each match, call the parser function for that date part\n    for (var i = 1; i < matches.length; i++) {\n        var _a = parseInfo[i - 1], field = _a[0], parser = _a[2];\n        var value = parser\n            ? parser(matches[i], combinedI18nSettings)\n            : +matches[i];\n        // If the parser can't make sense of the value, return null\n        if (value == null) {\n            return null;\n        }\n        dateInfo[field] = value;\n    }\n    if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n        dateInfo.hour = +dateInfo.hour + 12;\n    }\n    else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n        dateInfo.hour = 0;\n    }\n    var dateTZ;\n    if (dateInfo.timezoneOffset == null) {\n        dateTZ = new Date(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute, dateInfo.second, dateInfo.millisecond);\n        var validateFields = [\n            [\"month\", \"getMonth\"],\n            [\"day\", \"getDate\"],\n            [\"hour\", \"getHours\"],\n            [\"minute\", \"getMinutes\"],\n            [\"second\", \"getSeconds\"]\n        ];\n        for (var i = 0, len = validateFields.length; i < len; i++) {\n            // Check to make sure the date field is within the allowed range. Javascript dates allows values\n            // outside the allowed range. If the values don't match the value was invalid\n            if (specifiedFields[validateFields[i][0]] &&\n                dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()) {\n                return null;\n            }\n        }\n    }\n    else {\n        dateTZ = new Date(Date.UTC(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute - dateInfo.timezoneOffset, dateInfo.second, dateInfo.millisecond));\n        // We can't validate dates in another timezone unfortunately. Do a basic check instead\n        if (dateInfo.month > 11 ||\n            dateInfo.month < 0 ||\n            dateInfo.day > 31 ||\n            dateInfo.day < 1 ||\n            dateInfo.hour > 23 ||\n            dateInfo.hour < 0 ||\n            dateInfo.minute > 59 ||\n            dateInfo.minute < 0 ||\n            dateInfo.second > 59 ||\n            dateInfo.second < 0) {\n            return null;\n        }\n    }\n    // Don't allow invalid dates\n    return dateTZ;\n}\nvar fecha = {\n    format: format,\n    parse: parse,\n    defaultI18n: defaultI18n,\n    setGlobalDateI18n: setGlobalDateI18n,\n    setGlobalDateMasks: setGlobalDateMasks\n};\n\nexport default fecha;\nexport { assign, format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n//# sourceMappingURL=fecha.js.map\n","export const DURATION_SECOND = 1000;\nexport const DURATION_MINUTE = DURATION_SECOND * 60;\nexport const DURATION_HOUR = DURATION_MINUTE * 60;\nexport const DURATION_DAY = DURATION_HOUR * 24;\nexport const DURATION_WEEK = DURATION_DAY * 7;\nexport const DURATION_MONTH = DURATION_DAY * 30;\nexport const DURATION_YEAR = DURATION_DAY * 365;\nexport function createInterval(duration, floorish, offseti, field) {\n    const adjust = (date, step) => {\n        const test = (date) => field(date) % step === 0;\n        let i = step;\n        while (i && !test(date)) {\n            offseti(date, -1);\n            i -= 1;\n        }\n        return date;\n    };\n    const floori = (date, step) => {\n        if (step)\n            adjust(date, step);\n        floorish(date);\n    };\n    const floor = (date, step) => {\n        const d = new Date(+date);\n        floori(d, step);\n        return d;\n    };\n    const ceil = (date, step) => {\n        const d = new Date(+date - 1);\n        floori(d, step);\n        offseti(d, step);\n        floori(d);\n        return d;\n    };\n    const range = (start, stop, step, shouldAdjust) => {\n        const ticks = [];\n        const roundStep = Math.floor(step);\n        const t = shouldAdjust ? ceil(start, step) : ceil(start);\n        for (let i = t; i < stop; offseti(i, roundStep), floori(i)) {\n            ticks.push(new Date(+i));\n        }\n        return ticks;\n    };\n    return {\n        ceil,\n        floor,\n        range,\n        duration,\n    };\n}\nexport const millisecond = createInterval(1, (date) => date, (date, step = 1) => {\n    date.setTime(+date + step);\n}, (date) => date.getTime());\nexport const second = createInterval(DURATION_SECOND, (date) => {\n    date.setMilliseconds(0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_SECOND * step);\n}, (date) => date.getSeconds());\nexport const minute = createInterval(DURATION_MINUTE, (date) => {\n    date.setSeconds(0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_MINUTE * step);\n}, (date) => date.getMinutes());\nexport const hour = createInterval(DURATION_HOUR, (date) => {\n    date.setMinutes(0, 0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_HOUR * step);\n}, (date) => date.getHours());\nexport const day = createInterval(DURATION_DAY, (date) => {\n    date.setHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_DAY * step);\n}, (date) => date.getDate() - 1);\nexport const month = createInterval(DURATION_MONTH, (date) => {\n    date.setDate(1);\n    date.setHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    const month = date.getMonth();\n    date.setMonth(month + step);\n}, (date) => date.getMonth());\nexport const week = createInterval(DURATION_WEEK, (date) => {\n    date.setDate(date.getDate() - (date.getDay() % 7));\n    date.setHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    date.setDate(date.getDate() + 7 * step);\n}, (date) => {\n    const start = month.floor(date);\n    const end = new Date(+date);\n    return Math.floor((+end - +start) / DURATION_WEEK);\n});\nexport const year = createInterval(DURATION_YEAR, (date) => {\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    const year = date.getFullYear();\n    date.setFullYear(year + step);\n}, (date) => date.getFullYear());\nexport const localIntervalMap = {\n    millisecond,\n    second,\n    minute,\n    hour,\n    day,\n    week,\n    month,\n    year,\n};\n//# sourceMappingURL=time-interval.js.map","import { createInterval, DURATION_SECOND, DURATION_MINUTE, DURATION_HOUR, DURATION_DAY, DURATION_WEEK, DURATION_MONTH, DURATION_YEAR, } from './time-interval';\nexport const utcMillisecond = createInterval(1, (date) => date, (date, step = 1) => {\n    date.setTime(+date + step);\n}, (date) => date.getTime());\nexport const utcSecond = createInterval(DURATION_SECOND, (date) => {\n    date.setUTCMilliseconds(0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_SECOND * step);\n}, (date) => date.getUTCSeconds());\nexport const utcMinute = createInterval(DURATION_MINUTE, (date) => {\n    date.setUTCSeconds(0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_MINUTE * step);\n}, (date) => date.getUTCMinutes());\nexport const utcHour = createInterval(DURATION_HOUR, (date) => {\n    date.setUTCMinutes(0, 0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_HOUR * step);\n}, (date) => date.getUTCHours());\nexport const utcDay = createInterval(DURATION_DAY, (date) => {\n    date.setUTCHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_DAY * step);\n}, (date) => date.getUTCDate() - 1);\nexport const utcMonth = createInterval(DURATION_MONTH, (date) => {\n    date.setUTCDate(1);\n    date.setUTCHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    const month = date.getUTCMonth();\n    date.setUTCMonth(month + step);\n}, (date) => date.getUTCMonth());\nexport const utcWeek = createInterval(DURATION_WEEK, (date) => {\n    date.setUTCDate(date.getUTCDate() - ((date.getUTCDay() + 7) % 7));\n    date.setUTCHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    date.setTime(+date + DURATION_WEEK * step);\n}, (date) => {\n    const start = utcMonth.floor(date);\n    const end = new Date(+date);\n    return Math.floor((+end - +start) / DURATION_WEEK);\n});\nexport const utcYear = createInterval(DURATION_YEAR, (date) => {\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n}, (date, step = 1) => {\n    const year = date.getUTCFullYear();\n    date.setUTCFullYear(year + step);\n}, (date) => date.getUTCFullYear());\nexport const utcIntervalMap = {\n    millisecond: utcMillisecond,\n    second: utcSecond,\n    minute: utcMinute,\n    hour: utcHour,\n    day: utcDay,\n    week: utcWeek,\n    month: utcMonth,\n    year: utcYear,\n};\n//# sourceMappingURL=utc-interval.js.map","import { localIntervalMap } from './time-interval';\nimport { utcIntervalMap } from './utc-interval';\nimport { bisect } from './bisect';\nimport { tickStep } from './ticks';\nfunction chooseTickIntervals(utc) {\n    const intervalMap = utc ? utcIntervalMap : localIntervalMap;\n    const { year, month, week, day, hour, minute, second, millisecond } = intervalMap;\n    const tickIntervals = [\n        [second, 1],\n        [second, 5],\n        [second, 15],\n        [second, 30],\n        [minute, 1],\n        [minute, 5],\n        [minute, 15],\n        [minute, 30],\n        [hour, 1],\n        [hour, 3],\n        [hour, 6],\n        [hour, 12],\n        [day, 1],\n        [day, 2],\n        [week, 1],\n        [month, 1],\n        [month, 3],\n        [year, 1],\n    ];\n    return {\n        tickIntervals,\n        year,\n        millisecond,\n    };\n}\nexport function findTickInterval(start, stop, count, interval, utc) {\n    const lo = +start;\n    const hi = +stop;\n    const { tickIntervals, year, millisecond } = chooseTickIntervals(utc);\n    const getter = ([interval, count]) => interval.duration * count;\n    const targetCount = interval ? (hi - lo) / interval : count || 5;\n    const targetInterval = interval || (hi - lo) / targetCount;\n    const len = tickIntervals.length;\n    const i = bisect(tickIntervals, targetInterval, 0, len, getter);\n    let matchInterval;\n    if (i === len) {\n        const step = tickStep(lo / year.duration, hi / year.duration, targetCount);\n        matchInterval = [year, step];\n    }\n    else if (i) {\n        const closeToLow = targetInterval / getter(tickIntervals[i - 1]) < getter(tickIntervals[i]) / targetInterval;\n        const [timeInterval, targetStep] = closeToLow ? tickIntervals[i - 1] : tickIntervals[i];\n        const step = interval ? Math.ceil(interval / timeInterval.duration) : targetStep;\n        matchInterval = [timeInterval, step];\n    }\n    else {\n        const step = Math.max(tickStep(lo, hi, targetCount), 1);\n        matchInterval = [millisecond, step];\n    }\n    return matchInterval;\n}\n//# sourceMappingURL=find-tick-interval.js.map","import { findTickInterval } from '../utils';\nexport const d3Time = (min, max, count, interval, utc) => {\n    const r = min > max;\n    const lo = r ? max : min;\n    const hi = r ? min : max;\n    const [tickInterval, step] = findTickInterval(lo, hi, count, interval, utc);\n    const ticks = tickInterval.range(lo, new Date(+hi + 1), step, true);\n    return r ? ticks.reverse() : ticks;\n};\n//# sourceMappingURL=d3-time.js.map","import { findTickInterval } from './find-tick-interval';\nexport const d3TimeNice = (min, max, count, interval, utc) => {\n    const r = min > max;\n    const lo = r ? max : min;\n    const hi = r ? min : max;\n    const [tickInterval, step] = findTickInterval(lo, hi, count, interval, utc);\n    const domain = [tickInterval.floor(lo, step), tickInterval.ceil(hi, step)];\n    return r ? domain.reverse() : domain;\n};\n//# sourceMappingURL=d3-time-nice.js.map","import { identity } from '@antv/util';\nimport { format } from 'fecha';\nimport { Continuous } from './continuous';\nimport { d3Time } from '../tick-methods/d3-time';\nimport { d3TimeNice, createInterpolateNumber, localIntervalMap, utcIntervalMap, chooseNiceTimeMask } from '../utils';\nfunction offset(date) {\n    const minuteOffset = date.getTimezoneOffset();\n    const d = new Date(date);\n    d.setMinutes(d.getMinutes() + minuteOffset, d.getSeconds(), d.getMilliseconds());\n    return d;\n}\nexport class Time extends Continuous {\n    getDefaultOptions() {\n        return {\n            domain: [new Date(2000, 0, 1), new Date(2000, 0, 2)],\n            range: [0, 1],\n            nice: false,\n            tickCount: 5,\n            tickInterval: undefined,\n            unknown: undefined,\n            clamp: false,\n            tickMethod: d3Time,\n            interpolate: createInterpolateNumber,\n            mask: undefined,\n            utc: false,\n        };\n    }\n    chooseTransforms() {\n        const transform = (x) => +x;\n        const untransform = (x) => new Date(x);\n        return [transform, untransform];\n    }\n    chooseNice() {\n        return d3TimeNice;\n    }\n    getTickMethodOptions() {\n        const { domain, tickCount, tickInterval, utc } = this.options;\n        const min = domain[0];\n        const max = domain[domain.length - 1];\n        return [min, max, tickCount, tickInterval, utc];\n    }\n    getFormatter() {\n        const { mask, utc } = this.options;\n        const maskMap = utc ? utcIntervalMap : localIntervalMap;\n        const time = utc ? offset : identity; // fecha 不支持 utc 格式化，所以需要设置一个偏移\n        return (d) => format(time(d), mask || chooseNiceTimeMask(d, maskMap));\n    }\n    clone() {\n        return new Time(this.options);\n    }\n}\n//# sourceMappingURL=time.js.map","export function chooseNiceTimeMask(date, intervalMap) {\n    const { second, minute, hour, day, week, month, year } = intervalMap;\n    if (second.floor(date) < date)\n        return '.SSS';\n    if (minute.floor(date) < date)\n        return ':ss';\n    if (hour.floor(date) < date)\n        return 'hh:mm';\n    if (day.floor(date) < date)\n        return 'hh A';\n    if (month.floor(date) < date) {\n        if (week.floor(date) < date)\n            return 'MMM DD';\n        return 'ddd DD';\n    }\n    if (year.floor(date) < date)\n        return 'MMMM';\n    return 'YYYY';\n}\n//# sourceMappingURL=choose-mask.js.map","import { Time as TimeScale } from '@antv/scale';\nexport const Time = (options) => {\n    return new TimeScale(options);\n};\nTime.props = {};\n//# sourceMappingURL=time.js.map","const reflect = (f) => {\n    return (x) => -f(-x);\n};\nexport const logs = (base, shouldReflect) => {\n    const baseCache = Math.log(base);\n    const log = base === Math.E\n        ? Math.log\n        : base === 10\n            ? Math.log10\n            : base === 2\n                ? Math.log2\n                : (x) => Math.log(x) / baseCache;\n    return shouldReflect ? reflect(log) : log;\n};\nexport const pows = (base, shouldReflect) => {\n    const pow = base === Math.E ? Math.exp : (x) => base ** x;\n    return shouldReflect ? reflect(pow) : pow;\n};\n//# sourceMappingURL=log.js.map","import { d3Ticks } from './d3-ticks';\nimport { pows, logs } from '../utils';\nexport const d3Log = (a, b, n, base = 10) => {\n    const shouldReflect = a < 0;\n    const pow = pows(base, shouldReflect);\n    const log = logs(base, shouldReflect);\n    const r = b < a;\n    const min = r ? b : a;\n    const max = r ? a : b;\n    let i = log(min);\n    let j = log(max);\n    let ticks = [];\n    // 如果 base 是整数\n    if (!(base % 1) && j - i < n) {\n        i = Math.floor(i);\n        j = Math.ceil(j);\n        if (shouldReflect) {\n            for (; i <= j; i += 1) {\n                const p = pow(i);\n                for (let k = base - 1; k >= 1; k -= 1) {\n                    const t = p * k;\n                    if (t > max)\n                        break;\n                    if (t >= min)\n                        ticks.push(t);\n                }\n            }\n        }\n        else {\n            for (; i <= j; i += 1) {\n                const p = pow(i);\n                for (let k = 1; k < base; k += 1) {\n                    const t = p * k;\n                    if (t > max)\n                        break;\n                    if (t >= min)\n                        ticks.push(t);\n                }\n            }\n        }\n        if (ticks.length * 2 < n)\n            ticks = d3Ticks(min, max, n);\n    }\n    else {\n        const count = n === -1 ? j - i : Math.min(j - i, n);\n        ticks = d3Ticks(i, j, count).map(pow);\n    }\n    return r ? ticks.reverse() : ticks;\n};\n//# sourceMappingURL=d3-log.js.map","import { logs, pows } from './log';\nexport const d3LogNice = (a, b, _, base) => {\n    const shouldReflect = a < 0;\n    const log = logs(base, shouldReflect);\n    const pow = pows(base, shouldReflect);\n    const r = a > b;\n    const min = r ? b : a;\n    const max = r ? a : b;\n    const niceDomain = [pow(Math.floor(log(min))), pow(Math.ceil(log(max)))];\n    return r ? niceDomain.reverse() : niceDomain;\n};\n//# sourceMappingURL=d3-log-nice.js.map","import { Continuous } from './continuous';\nimport { createInterpolateValue, logs, pows } from '../utils';\nimport { d3Log } from '../tick-methods/d3-log';\nimport { d3LogNice } from '../utils/d3-log-nice';\n/**\n * Linear 比例尺\n *\n * 构造一个线性的对数比例尺\n */\nexport class Log extends Continuous {\n    getDefaultOptions() {\n        return {\n            domain: [1, 10],\n            range: [0, 1],\n            base: 10,\n            interpolate: createInterpolateValue,\n            tickMethod: d3Log,\n            tickCount: 5,\n        };\n    }\n    chooseNice() {\n        return d3LogNice;\n    }\n    getTickMethodOptions() {\n        const { domain, tickCount, base } = this.options;\n        const min = domain[0];\n        const max = domain[domain.length - 1];\n        return [min, max, tickCount, base];\n    }\n    chooseTransforms() {\n        const { base, domain } = this.options;\n        const shouldReflect = domain[0] < 0;\n        return [logs(base, shouldReflect), pows(base, shouldReflect)];\n    }\n    clone() {\n        return new Log(this.options);\n    }\n}\n//# sourceMappingURL=log.js.map","import { Log as LogScale } from '@antv/scale';\nexport const Log = (options) => {\n    return new LogScale(options);\n};\nLog.props = {};\n//# sourceMappingURL=log.js.map","import { identity } from '@antv/util';\nimport { Continuous } from './continuous';\nimport { createInterpolateValue } from '../utils';\nimport { d3Ticks } from '../tick-methods/d3-ticks';\nconst transformPow = (exponent) => {\n    return (x) => {\n        return x < 0 ? -((-x) ** exponent) : x ** exponent;\n    };\n};\nconst transformPowInvert = (exponent) => {\n    return (x) => {\n        return x < 0 ? -((-x) ** (1 / exponent)) : x ** (1 / exponent);\n    };\n};\nconst transformSqrt = (x) => {\n    return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n};\n/**\n * Pow 比例尺\n *\n * 类似于 linear scale, 不同之处在于在计算输出范围值之前对输入域值应用了指数变换,.\n * 即 y = x ^ k 其中 k（指数）可以是任何实数。\n */\nexport class Pow extends Continuous {\n    getDefaultOptions() {\n        return {\n            domain: [0, 1],\n            range: [0, 1],\n            nice: false,\n            clamp: false,\n            round: false,\n            exponent: 2,\n            interpolate: createInterpolateValue,\n            tickMethod: d3Ticks,\n            tickCount: 5,\n        };\n    }\n    // 显示指定 options 的类型为 PowOptions O 的类型\n    constructor(options) {\n        super(options);\n    }\n    chooseTransforms() {\n        const { exponent } = this.options;\n        if (exponent === 1)\n            return [identity, identity];\n        const transform = exponent === 0.5 ? transformSqrt : transformPow(exponent);\n        const untransform = transformPowInvert(exponent);\n        return [transform, untransform];\n    }\n    clone() {\n        return new Pow(this.options);\n    }\n}\n//# sourceMappingURL=pow.js.map","import { Pow as PowScale } from '@antv/scale';\nexport const Pow = (options) => {\n    return new PowScale(options);\n};\nPow.props = {};\n//# sourceMappingURL=pow.js.map","import { createInterpolateValue } from '../utils';\nimport { Pow } from './pow';\nimport { d3Ticks } from '../tick-methods/d3-ticks';\nexport class Sqrt extends Pow {\n    getDefaultOptions() {\n        return {\n            domain: [0, 1],\n            range: [0, 1],\n            nice: false,\n            clamp: false,\n            round: false,\n            interpolate: createInterpolateValue,\n            tickMethod: d3Ticks,\n            tickCount: 5,\n            exponent: 0.5,\n        };\n    }\n    constructor(options) {\n        super(options);\n    }\n    update(options) {\n        super.update(options);\n    }\n    clone() {\n        return new Sqrt(this.options);\n    }\n}\n//# sourceMappingURL=sqrt.js.map","import { Sqrt as SqrtScale } from '@antv/scale';\nexport const Sqrt = (options) => {\n    return new SqrtScale(options);\n};\nSqrt.props = {};\n//# sourceMappingURL=sqrt.js.map","import { Base } from './base';\nimport { bisect, isValid } from '../utils';\n/**\n * 将连续的定义域分段，每一段所有的值对应离散的值域中一个值\n */\nexport class Threshold extends Base {\n    getDefaultOptions() {\n        return {\n            domain: [0.5],\n            range: [0, 1],\n        };\n    }\n    constructor(options) {\n        super(options);\n    }\n    /**\n     * 二分查找到输入值在哪一段，返回对应的值域中的值\n     */\n    map(x) {\n        if (!isValid(x))\n            return this.options.unknown;\n        const index = bisect(this.thresholds, x, 0, this.n);\n        return this.options.range[index];\n    }\n    /**\n     * 在值域中找到对应的值，并返回在定义域中属于哪一段\n     */\n    invert(y) {\n        const { range } = this.options;\n        const index = range.indexOf(y);\n        const domain = this.thresholds;\n        return [domain[index - 1], domain[index]];\n    }\n    clone() {\n        return new Threshold(this.options);\n    }\n    rescale() {\n        const { domain, range } = this.options;\n        this.n = Math.min(domain.length, range.length - 1);\n        this.thresholds = domain;\n    }\n}\n//# sourceMappingURL=threshold.js.map","import { Threshold as ThresholdScale } from '@antv/scale';\nexport const Threshold = (options) => {\n    return new ThresholdScale(options);\n};\nThreshold.props = {};\n//# sourceMappingURL=threshold.js.map","/**\n * 给予一个排序好的数组，分位数\n *\n * @param arr 排序好的数组\n * @param percentage 百分比\n * @returns {number} 计算结果\n */\nfunction quantileSorted(arr, percentage) {\n    const len = arr.length;\n    if (!len) {\n        return undefined;\n    }\n    if (len < 2) {\n        return arr[len - 1];\n    }\n    const i = (len - 1) * percentage;\n    const i0 = Math.floor(i);\n    const v0 = arr[i0];\n    const v1 = arr[i0 + 1];\n    return v0 + (v1 - v0) * (i - i0);\n}\n/**\n * 给定一个数组, 创建分位数数组\n *\n * @param arr 排序好的数组\n * @param n 分位数数组长度\n * @param isSorted 数组是否排序好\n * @returns {number[]} 分位数数组\n */\nexport function createQuartile(arr, n, isSorted = false) {\n    const numberArr = arr;\n    if (!isSorted) {\n        numberArr.sort((a, b) => a - b);\n    }\n    const tmp = [];\n    for (let i = 1; i < n; i += 1) {\n        tmp.push(quantileSorted(numberArr, i / n));\n    }\n    return tmp;\n}\n//# sourceMappingURL=create-quartile.js.map","import { Threshold } from './threshold';\nimport { wilkinsonExtended } from '../tick-methods/wilkinson-extended';\nimport { createQuartile } from '../utils/create-quartile';\n/**\n * 类似 Threshold 比例尺，区别在于分位数比例尺 (Quantile) 将一个离散的输入域映射到一个离散的输出域\n * 输入域被指定为一组离散的样本值，输出域中的值的数量决定了分位数的数量。\n */\nexport class Quantile extends Threshold {\n    getDefaultOptions() {\n        return {\n            domain: [],\n            range: [],\n            tickCount: 5,\n            unknown: undefined,\n            tickMethod: wilkinsonExtended,\n        };\n    }\n    constructor(options) {\n        super(options);\n    }\n    rescale() {\n        const { domain, range } = this.options;\n        this.n = range.length - 1;\n        this.thresholds = createQuartile(domain, this.n + 1, false);\n    }\n    /**\n     * 如果是在第一段后或者最后一段就把两端的值添加上\n     */\n    invert(y) {\n        const [a, b] = super.invert(y);\n        const { domain } = this.options;\n        const dMin = domain[0];\n        const dMax = domain[domain.length - 1];\n        return a === undefined && b === undefined ? [a, b] : [a || dMin, b || dMax];\n    }\n    getThresholds() {\n        return this.thresholds;\n    }\n    clone() {\n        return new Quantile(this.options);\n    }\n    getTicks() {\n        const { tickCount, domain, tickMethod } = this.options;\n        const lastIndex = domain.length - 1;\n        const min = domain[0];\n        const max = domain[lastIndex];\n        return tickMethod(min, max, tickCount);\n    }\n}\n//# sourceMappingURL=quantile.js.map","import { Quantile as QuantileScale } from '@antv/scale';\nexport const Quantile = (options) => {\n    return new QuantileScale(options);\n};\nQuantile.props = {};\n//# sourceMappingURL=quantile.js.map","import { Threshold } from './threshold';\nimport { wilkinsonExtended } from '../tick-methods/wilkinson-extended';\nimport { d3LinearNice } from '../utils';\n/**\n * 类似 Threshold 比例尺，区别在于 thresholds 是根据连续的 domain 根据离散的 range 的数量计算而得到的。\n */\nexport class Quantize extends Threshold {\n    getDefaultOptions() {\n        return {\n            domain: [0, 1],\n            range: [0.5],\n            nice: false,\n            tickCount: 5,\n            tickMethod: wilkinsonExtended,\n        };\n    }\n    constructor(options) {\n        super(options);\n    }\n    nice() {\n        const { nice } = this.options;\n        if (nice) {\n            const [min, max, tickCount] = this.getTickMethodOptions();\n            this.options.domain = d3LinearNice(min, max, tickCount);\n        }\n    }\n    getTicks() {\n        const { tickMethod } = this.options;\n        const [min, max, tickCount] = this.getTickMethodOptions();\n        return tickMethod(min, max, tickCount);\n    }\n    getTickMethodOptions() {\n        const { domain, tickCount } = this.options;\n        const min = domain[0];\n        const max = domain[domain.length - 1];\n        return [min, max, tickCount];\n    }\n    rescale() {\n        this.nice();\n        const { range, domain } = this.options;\n        const [x0, x1] = domain;\n        this.n = range.length - 1;\n        this.thresholds = new Array(this.n);\n        for (let i = 0; i < this.n; i += 1) {\n            this.thresholds[i] = ((i + 1) * x1 - (i - this.n) * x0) / (this.n + 1);\n        }\n    }\n    /**\n     * 如果是在第一段后或者最后一段就把两端的值添加上\n     */\n    invert(y) {\n        const [a, b] = super.invert(y);\n        const [x0, x1] = this.options.domain;\n        return a === undefined && b === undefined ? [a, b] : [a || x0, b || x1];\n    }\n    getThresholds() {\n        return this.thresholds;\n    }\n    clone() {\n        return new Quantize(this.options);\n    }\n}\n//# sourceMappingURL=quantize.js.map","import { Quantize as QuantizeScale } from '@antv/scale';\nexport const Quantize = (options) => {\n    return new QuantizeScale(options);\n};\nQuantize.props = {};\n//# sourceMappingURL=quantize.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar Sequential_1;\nimport { identity } from '@antv/util';\nimport { d3Ticks } from '../tick-methods/d3-ticks';\nimport { compose, createInterpolateNumber, createNormalize, interpolatize } from '../utils';\nimport { Linear } from './linear';\nfunction rangeOf(interpolator) {\n    return [interpolator(0), interpolator(1)];\n}\nconst normalizeDomain = (domain) => {\n    const [d0, d1] = domain;\n    // [d0, d1] => [0, 1]\n    const normalize = compose(createInterpolateNumber(0, 1), createNormalize(d0, d1));\n    return normalize;\n};\n/**\n * Sequential 比例尺\n *\n * 构造可创建一个在输入和输出之间通过插值函数进行转换的比例尺\n */\n// @Sequentialish\nlet Sequential = Sequential_1 = class Sequential extends Linear {\n    getDefaultOptions() {\n        return {\n            domain: [0, 1],\n            unknown: undefined,\n            nice: false,\n            clamp: false,\n            round: false,\n            interpolator: identity,\n            tickMethod: d3Ticks,\n            tickCount: 5,\n        };\n    }\n    constructor(options) {\n        super(options);\n    }\n    clone() {\n        return new Sequential_1(this.options);\n    }\n};\nSequential = Sequential_1 = __decorate([\n    interpolatize(rangeOf, normalizeDomain)\n], Sequential);\nexport { Sequential };\n//# sourceMappingURL=sequential.js.map","import { isNumber } from '@antv/util';\nimport { compose } from './compose';\nconst createInterpolatorRound = (interpolator) => {\n    return (t) => {\n        // If result is not number, it can't be rounded.\n        const res = interpolator(t);\n        return isNumber(res) ? Math.round(res) : res;\n    };\n};\nexport function interpolatize(rangeOf, normalizeDomain) {\n    return (Scale) => {\n        Scale.prototype.rescale = function () {\n            this.initRange();\n            this.nice();\n            const [transform] = this.chooseTransforms();\n            this.composeOutput(transform, this.chooseClamp(transform));\n        };\n        Scale.prototype.initRange = function () {\n            const { interpolator } = this.options;\n            this.options.range = rangeOf(interpolator);\n        };\n        Scale.prototype.composeOutput = function (transform, clamp) {\n            const { domain, interpolator, round } = this.getOptions();\n            const normalize = normalizeDomain(domain.map(transform));\n            const interpolate = round ? createInterpolatorRound(interpolator) : interpolator;\n            this.output = compose(interpolate, normalize, clamp, transform);\n        };\n        Scale.prototype.invert = undefined;\n    };\n}\n//# sourceMappingURL=interpolatize.js.map","import { Sequential as SequentialScale } from '@antv/scale';\nexport const Sequential = (options) => {\n    return new SequentialScale(options);\n};\nSequential.props = {};\n//# sourceMappingURL=sequential.js.map","import { Constant as ConstantScale } from '@antv/scale';\nexport const Constant = (options) => {\n    return new ConstantScale(options);\n};\nConstant.props = {};\n//# sourceMappingURL=constant.js.map","export function create({ colorDefault, colorBlack, colorWhite, colorStroke, colorBackground, padding1, padding2, padding3, alpha90, alpha65, alpha45, alpha25, alpha10, category10, category20, sizeDefault = 1, padding = 'auto', margin = 16, }) {\n    return {\n        padding,\n        margin,\n        size: sizeDefault,\n        color: colorDefault,\n        category10,\n        category20,\n        enter: {\n            duration: 300,\n            fill: 'both',\n            delay: 0,\n        },\n        update: {\n            duration: 300,\n            fill: 'both',\n            delay: 0,\n        },\n        exit: {\n            duration: 300,\n            fill: 'both',\n            delay: 0,\n        },\n        view: {\n            viewFill: colorBackground,\n            plotFill: 'transparent',\n            mainFill: 'transparent',\n            contentFill: 'transparent',\n        },\n        line: {\n            line: {\n                fill: '',\n                strokeOpacity: 1,\n                lineWidth: 1,\n                lineCap: 'round',\n            },\n        },\n        point: {\n            point: {\n                r: 3,\n                fillOpacity: 0.95,\n                lineWidth: 0,\n            },\n            hollow: {\n                r: 3,\n                strokeOpacity: 0.95,\n                lineWidth: 1,\n            },\n            plus: {\n                r: 3,\n                strokeOpacity: 0.95,\n                lineWidth: 3,\n            },\n            diamond: {\n                r: 3,\n                strokeOpacity: 0.95,\n                lineWidth: 1,\n            },\n        },\n        interval: {\n            rect: {\n                fillOpacity: 0.95,\n            },\n            hollow: {\n                fill: '',\n                strokeOpacity: 1,\n                lineWidth: 2,\n            },\n        },\n        area: {\n            area: {\n                fillOpacity: 0.85,\n                lineWidth: 0,\n            },\n        },\n        polygon: {\n            polygon: {\n                fillOpacity: 0.95,\n            },\n        },\n        cell: {\n            cell: {\n                fillOpacity: 0.95,\n            },\n            hollow: {\n                fill: '',\n                strokeOpacity: 1,\n                lineWidth: 2,\n            },\n        },\n        rect: {\n            rect: {\n                fillOpacity: 0.95,\n            },\n            hollow: {\n                fill: '',\n                strokeOpacity: 1,\n                lineWidth: 2,\n            },\n        },\n        link: {\n            link: {\n                fill: '',\n                strokeOpacity: 1,\n            },\n        },\n        vector: {\n            vector: {\n                fillOpacity: 1,\n            },\n        },\n        box: {\n            box: {\n                fillOpacity: 0.95,\n                stroke: colorBlack,\n                lineWidth: 1,\n            },\n        },\n        text: {\n            text: {\n                fill: '#1D2129',\n                fontSize: 12,\n                lineWidth: 0,\n                connectorStroke: colorStroke,\n                connectorStrokeOpacity: 0.45,\n                connectorLineWidth: 1,\n                backgroundFill: colorStroke,\n                backgroundFillOpacity: 0.15,\n                backgroundPadding: [2, 4],\n                startMarkerSymbol: 'circle',\n                startMarkerSize: 4,\n                endMarkerSymbol: 'circle',\n                endMarkerSize: 4,\n            },\n            badge: {\n                fill: '#1D2129',\n                fillOpacity: 0.65,\n                lineWidth: 0,\n                fontSize: 10,\n                textAlign: 'center',\n                textBaseline: 'middle',\n                markerFill: colorStroke,\n                markerFillOpacity: 0.25,\n                markerStrokeOpacity: 0,\n            },\n        },\n        lineX: {\n            line: {\n                stroke: colorStroke,\n                strokeOpacity: 0.45,\n                lineWidth: 1,\n            },\n        },\n        lineY: {\n            line: {\n                stroke: colorStroke,\n                strokeOpacity: 0.45,\n                lineWidth: 1,\n            },\n        },\n        rangeX: {\n            range: {\n                fill: colorStroke,\n                fillOpacity: 0.15,\n                lineWidth: 0,\n            },\n        },\n        rangeY: {\n            range: {\n                fill: colorStroke,\n                fillOpacity: 0.15,\n                lineWidth: 0,\n            },\n        },\n        connector: {\n            connector: {\n                stroke: colorStroke,\n                strokeOpacity: 0.45,\n                lineWidth: 1,\n                connectLength1: 12,\n                endMarker: true,\n                endMarkerSize: 6,\n                endMarkerFill: colorStroke,\n                endMarkerFillOpacity: 0.95,\n            },\n        },\n        axis: {\n            arrow: false,\n            gridLineDash: [3, 4],\n            gridLineWidth: 0.5,\n            gridStroke: colorBlack,\n            gridStrokeOpacity: alpha10,\n            labelAlign: 'horizontal',\n            labelFill: colorBlack,\n            labelOpacity: alpha45,\n            labelFontSize: 12,\n            labelFontWeight: 'normal',\n            labelSpacing: padding1,\n            line: false,\n            lineLineWidth: 0.5,\n            lineStroke: colorBlack,\n            lineStrokeOpacity: alpha45,\n            tickLength: 4,\n            tickLineWidth: 1,\n            tickStroke: colorBlack,\n            tickOpacity: alpha45,\n            titleFill: colorBlack,\n            titleOpacity: alpha90,\n            titleFontSize: 12,\n            titleFontWeight: 'normal',\n            titleSpacing: 12,\n            titleTransformOrigin: 'center',\n            lineArrowOffset: 6,\n            lineArrowSize: 6,\n        },\n        axisTop: {\n            gridDirection: 'positive',\n            labelDirection: 'negative',\n            tickDirection: 'negative',\n            titlePosition: 'top',\n            titleSpacing: 12,\n            labelSpacing: 4,\n            titleTextBaseline: 'middle',\n        },\n        axisBottom: {\n            gridDirection: 'negative',\n            labelDirection: 'positive',\n            tickDirection: 'positive',\n            titlePosition: 'bottom',\n            titleSpacing: 12,\n            labelSpacing: 4,\n            titleTextBaseline: 'bottom',\n            titleTransform: 'translate(0, 8)',\n        },\n        axisLeft: {\n            gridDirection: 'positive',\n            labelDirection: 'negative',\n            labelSpacing: 4,\n            tickDirection: 'negative',\n            titlePosition: 'left',\n            titleSpacing: 12,\n            titleTextBaseline: 'middle',\n            titleDirection: 'vertical',\n            titleTransform: 'rotate(-90) translate(0, -8)',\n            titleTransformOrigin: 'center',\n        },\n        axisRight: {\n            gridDirection: 'negative',\n            labelDirection: 'positive',\n            labelSpacing: 4,\n            tickDirection: 'positive',\n            titlePosition: 'right',\n            titleSpacing: 12,\n            titleTextBaseline: 'top',\n            titleDirection: 'vertical',\n            titleTransformOrigin: 'center',\n        },\n        axisLinear: {\n            girdClosed: true,\n            gridConnect: 'arc',\n            gridDirection: 'negative',\n            gridType: 'surround',\n            titlePosition: 'top',\n            titleSpacing: 0,\n        },\n        axisArc: {\n            title: false,\n            titlePosition: 'inner',\n            line: false,\n            tick: true,\n            labelSpacing: 4,\n        },\n        axisRadar: {\n            girdClosed: true,\n            gridStrokeOpacity: 0.3,\n            gridType: 'surround',\n            label: false,\n            tick: false,\n            titlePosition: 'start',\n        },\n        legendCategory: {\n            backgroundFill: 'transparent',\n            itemBackgroundFill: 'transparent',\n            itemLabelFill: colorBlack,\n            itemLabelFillOpacity: alpha90,\n            itemLabelFontSize: 12,\n            itemLabelFontWeight: 'normal',\n            itemMarkerFillOpacity: 1,\n            itemMarkerSize: 8,\n            itemSpacing: [padding1, padding1],\n            itemValueFill: colorBlack,\n            itemValueFillOpacity: 0.65,\n            itemValueFontSize: 12,\n            itemValueFontWeight: 'normal',\n            navButtonFill: colorBlack,\n            navButtonFillOpacity: 0.65,\n            navPageNumFill: colorBlack,\n            navPageNumFillOpacity: 0.45,\n            navPageNumFontSize: 12,\n            padding: 8,\n            title: false,\n            titleFill: colorBlack,\n            titleFillOpacity: 0.65,\n            titleFontSize: 12,\n            titleFontWeight: 'normal',\n            titleSpacing: 4,\n            tickStroke: colorBlack,\n            tickStrokeOpacity: 0.25,\n            rowPadding: padding1,\n            colPadding: padding2,\n            maxRows: 3,\n            maxCols: 3,\n        },\n        legendContinuous: {\n            handleHeight: 12,\n            handleLabelFill: colorBlack,\n            handleLabelFillOpacity: alpha45,\n            handleLabelFontSize: 12,\n            handleLabelFontWeight: 'normal',\n            handleMarkerFill: colorBlack,\n            handleMarkerFillOpacity: 0.6,\n            handleMarkerLineWidth: 1,\n            handleMarkerStroke: colorBlack,\n            handleMarkerStrokeOpacity: 0.25,\n            handleWidth: 10,\n            labelFill: colorBlack,\n            labelFillOpacity: alpha45,\n            labelFontSize: 12,\n            labelFontWeight: 'normal',\n            labelSpacing: 3,\n            tick: true,\n            tickLength: 12,\n            ribbonSize: 12,\n            ribbonFill: '#aaa',\n            handle: true,\n            handleLabel: false,\n            handleShape: 'slider',\n            handleIconSize: 12 / 1.8,\n            indicator: false,\n            titleFontSize: 12,\n            titleSpacing: 4,\n            titleFontWeight: 'normal',\n            titleFillOpacity: alpha90,\n            tickStroke: colorBlack,\n            tickStrokeOpacity: alpha45,\n        },\n        label: {\n            fill: colorBlack,\n            fillOpacity: 0.65,\n            fontSize: 12,\n            fontWeight: 'normal',\n            stroke: undefined,\n            offset: 12,\n            connectorStroke: colorBlack,\n            connectorStrokeOpacity: 0.45,\n            connectorLineWidth: 1,\n            connectorLength: 12,\n            connectorLength2: 8,\n            connectorDistance: 4,\n        },\n        innerLabel: {\n            fill: colorWhite,\n            fontSize: 12,\n            fillOpacity: 0.85,\n            fontWeight: 'normal',\n            stroke: undefined,\n            offset: 0,\n        },\n        htmlLabel: {\n            fontSize: 12,\n            opacity: 0.65,\n            color: colorBlack,\n            fontWeight: 'normal',\n        },\n        slider: {\n            trackSize: 16,\n            trackFill: colorStroke,\n            trackFillOpacity: 1,\n            selectionFill: colorDefault,\n            selectionFillOpacity: 0.15,\n            handleIconSize: 10,\n            handleIconFill: '#f7f7f7',\n            handleIconFillOpacity: 1,\n            handleIconStroke: colorBlack,\n            handleIconStrokeOpacity: 0.25,\n            handleIconLineWidth: 1,\n            handleIconRadius: 2,\n            handleLabelFill: colorBlack,\n            handleLabelFillOpacity: 0.45,\n            handleLabelFontSize: 12,\n            handleLabelFontWeight: 'normal',\n        },\n        scrollbar: {\n            padding: [0, 0, 0, 0],\n            trackSize: 6,\n            isRound: true,\n            slidable: true,\n            scrollable: true,\n            trackFill: '#e5e5e5',\n            trackFillOpacity: 0,\n            thumbFill: '#000',\n            thumbFillOpacity: 0.15,\n            thumbHighlightedFillOpacity: 0.2,\n        },\n        title: {\n            spacing: 8,\n            titleFill: colorBlack,\n            titleFillOpacity: alpha90,\n            titleFontSize: 16,\n            titleFontWeight: 'bold',\n            titleTextBaseline: 'top',\n            subtitleFill: colorBlack,\n            subtitleFillOpacity: alpha65,\n            subtitleFontSize: 12,\n            subtitleFontWeight: 'normal',\n            subtitleTextBaseline: 'top',\n        },\n        tooltip: {\n            css: {\n                '.g2-tooltip': {\n                    'font-family': 'sans-serif',\n                },\n            },\n        },\n    };\n}\n//# sourceMappingURL=create.js.map","import { deepMix } from '@antv/util';\nimport { create } from './create';\nexport const tokens = {\n    colorBlack: '#1D2129',\n    colorWhite: '#ffffff',\n    colorStroke: '#416180',\n    colorDefault: '#1783FF',\n    colorBackground: 'transparent',\n    category10: [\n        '#1783FF',\n        '#00C9C9',\n        '#F0884D',\n        '#D580FF',\n        '#7863FF',\n        '#60C42D',\n        '#BD8F24',\n        '#FF80CA',\n        '#2491B3',\n        '#17C76F',\n    ],\n    category20: [\n        '#1783FF',\n        '#00C9C9',\n        '#F0884D',\n        '#D580FF',\n        '#7863FF',\n        '#60C42D',\n        '#BD8F24',\n        '#FF80CA',\n        '#2491B3',\n        '#17C76F',\n        '#AABA01',\n        '#BC7CFC',\n        '#237CBC',\n        '#2DE379',\n        '#CE8032',\n        '#FF7AF4',\n        '#545FD3',\n        '#AFE410',\n        '#D8C608',\n        '#FFA1E0',\n    ],\n    padding1: 8,\n    padding2: 12,\n    padding3: 20,\n    alpha90: 0.9,\n    alpha65: 0.65,\n    alpha45: 0.45,\n    alpha25: 0.25,\n    alpha10: 0.1,\n};\nconst defaults = create(tokens);\n/**\n * Default theme.\n */\nexport const Light = (options) => {\n    return deepMix({}, defaults, options);\n};\nLight.props = {};\n//# sourceMappingURL=light.js.map","import { deepMix } from '@antv/util';\nimport { Light } from './light';\n/**\n * Default theme.\n */\nexport const Classic = (options) => {\n    return deepMix({}, Light(), {\n        category10: 'category10',\n        category20: 'category20',\n    }, options);\n};\nClassic.props = {};\n//# sourceMappingURL=classic.js.map","import { deepMix } from '@antv/util';\nimport { create } from './create';\nexport const tokens = {\n    colorBlack: '#fff',\n    colorWhite: '#000',\n    colorStroke: '#416180',\n    colorDefault: '#1783FF',\n    colorBackground: 'transparent',\n    category10: [\n        '#1783FF',\n        '#00C9C9',\n        '#F0884D',\n        '#D580FF',\n        '#7863FF',\n        '#60C42D',\n        '#BD8F24',\n        '#FF80CA',\n        '#2491B3',\n        '#17C76F',\n    ],\n    category20: [\n        '#1783FF',\n        '#00C9C9',\n        '#F0884D',\n        '#D580FF',\n        '#7863FF',\n        '#60C42D',\n        '#BD8F24',\n        '#FF80CA',\n        '#2491B3',\n        '#17C76F',\n        '#AABA01',\n        '#BC7CFC',\n        '#237CBC',\n        '#2DE379',\n        '#CE8032',\n        '#FF7AF4',\n        '#545FD3',\n        '#AFE410',\n        '#D8C608',\n        '#FFA1E0',\n    ],\n    padding1: 8,\n    padding2: 12,\n    padding3: 20,\n    alpha90: 0.9,\n    alpha65: 0.65,\n    alpha45: 0.45,\n    alpha25: 0.25,\n    alpha10: 0.25,\n};\nconst defaults = create(tokens);\nexport const Dark = (options) => {\n    return deepMix({}, defaults, {\n        tooltip: {\n            crosshairsStroke: '#fff',\n            crosshairsLineWidth: 1,\n            crosshairsStrokeOpacity: 0.25,\n            css: {\n                '.g2-tooltip': {\n                    background: '#1f1f1f',\n                    opacity: 0.95,\n                },\n                '.g2-tooltip-title': {\n                    color: '#A6A6A6',\n                },\n                '.g2-tooltip-list-item-name-label': {\n                    color: '#A6A6A6',\n                },\n                '.g2-tooltip-list-item-value': {\n                    color: '#A6A6A6',\n                },\n            },\n        },\n    }, options);\n};\n//# sourceMappingURL=dark.js.map","import { Dark } from './dark';\n/**\n * Dark theme.\n */\nexport const ClassicDark = (options) => {\n    return Object.assign({}, Dark(), {\n        category10: 'category10',\n        category20: 'category20',\n    }, options);\n};\nClassicDark.props = {};\n//# sourceMappingURL=classicDark.js.map","import { deepMix } from '@antv/util';\nimport { create } from './create';\nexport const tokens = {\n    colorBlack: '#000',\n    colorWhite: '#fff',\n    colorStroke: '#888',\n    colorDefault: '#4e79a7',\n    colorBackground: 'transparent',\n    category10: [\n        '#4e79a7',\n        '#f28e2c',\n        '#e15759',\n        '#76b7b2',\n        '#59a14f',\n        '#edc949',\n        '#af7aa1',\n        '#ff9da7',\n        '#9c755f',\n        '#bab0ab',\n    ],\n    category20: [\n        '#4e79a7',\n        '#f28e2c',\n        '#e15759',\n        '#76b7b2',\n        '#59a14f',\n        '#edc949',\n        '#af7aa1',\n        '#ff9da7',\n        '#9c755f',\n        '#bab0ab',\n    ],\n    padding1: 8,\n    padding2: 12,\n    padding3: 20,\n    alpha90: 0.9,\n    alpha65: 0.65,\n    alpha45: 0.45,\n    alpha25: 0.25,\n    alpha10: 0.1,\n};\nconst defaults = create(tokens);\nexport const Academy = (options) => {\n    return deepMix({}, defaults, {\n        text: { text: { fontSize: 10 } },\n        axis: {\n            gridLineDash: [0, 0],\n            gridLineWidth: 1,\n            gridStroke: '#ddd',\n            gridStrokeOpacity: 1,\n            labelOpacity: 1,\n            labelStrokeOpacity: 1,\n            labelFontSize: 10,\n            line: true,\n            lineLineWidth: 1,\n            lineStroke: '#888',\n            lineStrokeOpacity: 1,\n            tickLength: 5,\n            tickStrokeOpacity: 1,\n            titleOpacity: 1,\n            titleStrokeOpacity: 1,\n            titleFillOpacity: 1,\n            titleFontSize: 11,\n            titleFontWeight: 'bold',\n        },\n        axisLeft: {\n            gridFilter: (_, i) => i !== 0,\n        },\n        axisRight: {\n            gridFilter: (_, i) => i !== 0,\n        },\n        legendCategory: {\n            itemLabelFillOpacity: 1,\n            itemLabelFontSize: 10,\n            itemValueFillOpacity: 1,\n            itemValueFontSize: 10,\n            titleFillOpacity: 1,\n            titleFontSize: 11,\n            titleFontWeight: 'bold',\n        },\n        legendContinuous: {\n            handleLabelFontSize: 10,\n            labelFillOpacity: 0.45,\n            labelFontSize: 10,\n        },\n        label: {\n            fontSize: 10,\n        },\n        innerLabel: {\n            fontSize: 10,\n        },\n        htmlLabel: {\n            fontSize: 10,\n        },\n        slider: {\n            handleLabelFontSize: 10,\n            trackFillOpacity: 0.05,\n        },\n    }, options);\n};\nAcademy.props = {};\n//# sourceMappingURL=academy.js.map","import { __read } from \"tslib\";\nimport { BBox } from '../../bbox';\nexport function getItemsBBox(items) {\n    var minX = Infinity;\n    var minY = Infinity;\n    var maxX = -Infinity;\n    var maxY = -Infinity;\n    for (var i = 0; i < items.length; i++) {\n        var _a = items[i], x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        var _b = __read([x + width, y + height], 2), X = _b[0], Y = _b[1];\n        if (x < minX)\n            minX = x;\n        if (y < minY)\n            minY = y;\n        if (X > maxX)\n            maxX = X;\n        if (Y > maxY)\n            maxY = Y;\n    }\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n}\n//# sourceMappingURL=helper.js.map","import { __read } from \"tslib\";\nimport { getItemsBBox } from '../utils';\nimport { BBox } from '../../bbox';\nexport var flex = function (container, children, config) {\n    var width = container.width, height = container.height;\n    var _a = config.flexDirection, flexDirection = _a === void 0 ? 'row' : _a, _b = config.flexWrap, flexWrap = _b === void 0 ? 'nowrap' : _b, _c = config.justifyContent, justifyContent = _c === void 0 ? 'flex-start' : _c, _d = config.alignContent, alignContent = _d === void 0 ? 'flex-start' : _d, _e = config.alignItems, alignItems = _e === void 0 ? 'flex-start' : _e;\n    var isHorizontalFlow = flexDirection === 'row'; // || flexDirection === 'row-reverse';\n    var isLeftToRightFlow = flexDirection === 'row' || flexDirection === 'column';\n    // implement default layout;\n    // flex direction\n    var direction = isHorizontalFlow ? (isLeftToRightFlow ? [1, 0] : [-1, 0]) : isLeftToRightFlow ? [0, 1] : [0, -1];\n    var _f = __read([0, 0], 2), offsetX = _f[0], offsetY = _f[1];\n    var itemsFromDirection = children.map(function (child) {\n        var _a;\n        var width = child.width, height = child.height;\n        var _b = __read([offsetX, offsetY], 2), x = _b[0], y = _b[1];\n        _a = __read([offsetX + width * direction[0], offsetY + height * direction[1]], 2), offsetX = _a[0], offsetY = _a[1];\n        return new BBox(x, y, width, height);\n    });\n    // flex wrap\n    // todo\n    // justify content\n    // flex-start, flex-end, center\n    var itemsForJustifyContentBBox = getItemsBBox(itemsFromDirection);\n    var justifyContentOffset = {\n        'flex-start': 0,\n        'flex-end': isHorizontalFlow\n            ? width - itemsForJustifyContentBBox.width\n            : height - itemsForJustifyContentBBox.height,\n        center: isHorizontalFlow\n            ? (width - itemsForJustifyContentBBox.width) / 2\n            : (height - itemsForJustifyContentBBox.height) / 2,\n    };\n    var itemsFromJustifyContent = itemsFromDirection.map(function (item) {\n        var x = item.x, y = item.y;\n        var itemBox = BBox.fromRect(item);\n        itemBox.x = isHorizontalFlow ? x + justifyContentOffset[justifyContent] : x;\n        itemBox.y = isHorizontalFlow ? y : y + justifyContentOffset[justifyContent];\n        return itemBox;\n    });\n    // align items\n    // flex-start, flex-end, center\n    var itemsForAlignItemsBBox = getItemsBBox(itemsFromJustifyContent);\n    var calcAlignItemsOffset = function (box) {\n        var _a = __read(isHorizontalFlow ? ['height', height] : ['width', width], 2), key = _a[0], size = _a[1];\n        switch (alignItems) {\n            case 'flex-start':\n                return 0;\n            case 'flex-end':\n                return size - box[key];\n            case 'center':\n                return size / 2 - box[key] / 2;\n            default:\n                return 0;\n        }\n    };\n    var itemsFromAlignItems = itemsFromJustifyContent.map(function (item) {\n        var x = item.x, y = item.y;\n        var itemBox = BBox.fromRect(item);\n        itemBox.x = isHorizontalFlow ? x : x + calcAlignItemsOffset(itemBox);\n        itemBox.y = isHorizontalFlow ? y + calcAlignItemsOffset(itemBox) : y;\n        return itemBox;\n    });\n    var finalItems = itemsFromAlignItems.map(function (item) {\n        var _a, _b;\n        var itemBox = BBox.fromRect(item);\n        itemBox.x += (_a = container.x) !== null && _a !== void 0 ? _a : 0;\n        itemBox.y += (_b = container.y) !== null && _b !== void 0 ? _b : 0;\n        return itemBox;\n    });\n    return finalItems;\n};\n//# sourceMappingURL=index.js.map","export var grid = function (container, children, config) {\n    // todo\n    return [];\n};\n//# sourceMappingURL=index.js.map","import { __extends, __read } from \"tslib\";\nimport { ElementEvent } from '@antv/g';\nimport { Group } from '../../shapes';\nimport { BBox } from '../../util';\nimport { calcLayout } from '../../util/layout';\nimport { parseSeriesAttr } from '../../util/series';\nvar Layout = /** @class */ (function (_super) {\n    __extends(Layout, _super);\n    function Layout(options) {\n        var _this = _super.call(this, options) || this;\n        _this.layoutEvents = [ElementEvent.BOUNDS_CHANGED, ElementEvent.INSERTED, ElementEvent.REMOVED];\n        _this.$margin = parseSeriesAttr(0);\n        _this.$padding = parseSeriesAttr(0);\n        var _a = options.style || {}, _b = _a.margin, margin = _b === void 0 ? 0 : _b, _c = _a.padding, padding = _c === void 0 ? 0 : _c;\n        _this.margin = margin;\n        _this.padding = padding;\n        _this.isMutationObserved = true;\n        _this.bindEvents();\n        return _this;\n    }\n    Object.defineProperty(Layout.prototype, \"margin\", {\n        get: function () {\n            return this.$margin;\n        },\n        set: function (value) {\n            this.$margin = parseSeriesAttr(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Layout.prototype, \"padding\", {\n        get: function () {\n            return this.$padding;\n        },\n        set: function (value) {\n            this.$padding = parseSeriesAttr(value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Layout.prototype.getBBox = function () {\n        var _a = this.attributes, _b = _a.x, x = _b === void 0 ? 0 : _b, _c = _a.y, y = _c === void 0 ? 0 : _c, width = _a.width, height = _a.height;\n        var _d = __read(this.$margin, 4), marginTop = _d[0], marginRight = _d[1], marginBottom = _d[2], marginLeft = _d[3];\n        return new BBox(x - marginLeft, y - marginTop, width + marginLeft + marginRight, height + marginTop + marginBottom);\n    };\n    Layout.prototype.appendChild = function (child, index) {\n        child.isMutationObserved = true;\n        _super.prototype.appendChild.call(this, child, index);\n        return child;\n    };\n    Layout.prototype.getAvailableSpace = function () {\n        var _a = this.attributes, width = _a.width, height = _a.height;\n        var _b = __read(this.$padding, 4), paddingTop = _b[0], paddingRight = _b[1], paddingBottom = _b[2], paddingLeft = _b[3];\n        var _c = __read(this.$margin, 4), marginTop = _c[0], marginLeft = _c[3];\n        return new BBox(paddingLeft + marginLeft, paddingTop + marginTop, width - paddingLeft - paddingRight, height - paddingTop - paddingBottom);\n    };\n    Layout.prototype.layout = function () {\n        if (!this.attributes.display || !this.isConnected)\n            return;\n        if (this.children.some(function (child) { return !child.isConnected; }))\n            return;\n        try {\n            var _a = this.attributes, x = _a.x, y = _a.y;\n            this.style.transform = \"translate(\".concat(x, \", \").concat(y, \")\");\n            var bboxes_1 = calcLayout(this.getAvailableSpace(), this.children.map(function (child) { return child.getBBox(); }), this.attributes);\n            this.children.forEach(function (child, index) {\n                var _a = bboxes_1[index], x = _a.x, y = _a.y;\n                child.style.transform = \"translate(\".concat(x, \", \").concat(y, \")\");\n            });\n        }\n        catch (e) {\n            // do nothing\n        }\n    };\n    Layout.prototype.bindEvents = function () {\n        var _this = this;\n        this.layoutEvents.forEach(function (event) {\n            _this.addEventListener(event, function (e) {\n                if (!e.target)\n                    return;\n                e.target.isMutationObserved = true;\n                _this.layout();\n            });\n        });\n    };\n    Layout.prototype.attributeChangedCallback = function (name, oldValue, newValue) {\n        if (name === 'margin')\n            this.margin = newValue;\n        else if (name === 'padding')\n            this.padding = newValue;\n        this.layout();\n    };\n    return Layout;\n}(Group));\nexport { Layout };\n//# sourceMappingURL=layout.js.map","import { flex } from './flex';\nimport { grid } from './grid';\nexport default (function (container, children, config) {\n    if (children.length === 0)\n        return [];\n    var callers = { flex: flex, grid: grid };\n    var caller = config.display in callers ? callers[config.display] : null;\n    // @ts-ignore\n    return (caller === null || caller === void 0 ? void 0 : caller.call(null, container, children, config)) || [];\n});\n//# sourceMappingURL=executer.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { CustomElement } from '@antv/g';\nimport { Layout } from '@antv/component';\nimport { deepMix, upperFirst } from '@antv/util';\nimport { select } from '../utils/selection';\nexport function createComponent(descriptor) {\n    return class extends CustomElement {\n        constructor(config) {\n            super(config);\n            this.descriptor = descriptor;\n        }\n        connectedCallback() {\n            var _a, _b;\n            (_b = (_a = this.descriptor).render) === null || _b === void 0 ? void 0 : _b.call(_a, this.attributes, this);\n        }\n        update(cfg = {}) {\n            var _a, _b;\n            this.attr(deepMix({}, this.attributes, cfg));\n            (_b = (_a = this.descriptor).render) === null || _b === void 0 ? void 0 : _b.call(_a, this.attributes, this);\n        }\n    };\n}\nexport function maybeAppend(parent, selector, node) {\n    if (!parent.querySelector(selector)) {\n        return select(parent).append(node);\n    }\n    return select(parent).select(selector);\n}\nexport function titleContent(field) {\n    return Array.isArray(field) ? field.join(', ') : `${field || ''}`;\n}\nexport function inferComponentLayout(position, userDefinitions) {\n    const preset = {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    };\n    let { flexDirection, justifyContent, alignItems } = preset;\n    const layout = {\n        top: ['row', 'flex-start', 'center'],\n        bottom: ['row', 'flex-start', 'center'],\n        left: ['column', 'flex-start', 'center'],\n        right: ['column', 'flex-start', 'center'],\n        center: ['column', 'center', 'center'],\n    };\n    if (position in layout) {\n        [flexDirection, justifyContent, alignItems] = layout[position];\n    }\n    return Object.assign({ display: 'flex', flexDirection,\n        justifyContent,\n        alignItems }, userDefinitions);\n}\nexport class G2Layout extends Layout {\n    get child() {\n        var _a;\n        return (_a = this.children) === null || _a === void 0 ? void 0 : _a[0];\n    }\n    update(options) {\n        var _a;\n        this.attr(options);\n        const { subOptions } = options;\n        (_a = this.child) === null || _a === void 0 ? void 0 : _a.update(subOptions);\n    }\n}\nexport class LegendCategoryLayout extends G2Layout {\n    update(options) {\n        var _a;\n        const { subOptions } = options;\n        this.attr(options);\n        (_a = this.child) === null || _a === void 0 ? void 0 : _a.update(subOptions);\n    }\n}\nexport function scaleOf(scales, type) {\n    var _a;\n    return (_a = scales.filter((s) => s.getOptions().name === type)) === null || _a === void 0 ? void 0 : _a[0];\n}\nexport function isHorizontal(orientation) {\n    return orientation === 'horizontal' || orientation === 0;\n}\nexport function isVertical(orientation) {\n    return orientation === 'vertical' || orientation === -Math.PI / 2;\n}\nexport function inferComponentShape(value, options, component) {\n    const { bbox } = value;\n    const { position = 'top', size: userDefinedSize, length: userDefinedLength, } = options;\n    const isHorizontal = ['top', 'bottom', 'center'].includes(position);\n    const [bboxSize, bboxLength] = isHorizontal\n        ? [bbox.height, bbox.width]\n        : [bbox.width, bbox.height];\n    const { defaultSize, defaultLength } = component.props;\n    const size = userDefinedSize || defaultSize || bboxSize;\n    const length = userDefinedLength || defaultLength || bboxLength;\n    const orientation = isHorizontal ? 'horizontal' : 'vertical';\n    const [width, height] = isHorizontal ? [length, size] : [size, length];\n    return {\n        orientation,\n        width,\n        height,\n        size,\n        length,\n    };\n}\nexport function domainOf(scales) {\n    // to get a available scale's domain\n    return scales\n        .find((scale) => scale.getOptions().domain.length > 0)\n        .getOptions().domain;\n}\nexport function adaptor(style) {\n    const reservedKeys = [\n        'arrow',\n        'crosshairs',\n        'grid',\n        'handle',\n        'handleLabel',\n        'indicator',\n        'label',\n        'line',\n        'tick',\n        'tip',\n        'title',\n        'trunc',\n    ];\n    // @ts-ignore\n    const { style: styles } = style, rest = __rest(style, [\"style\"]);\n    const finalStyle = {};\n    Object.entries(rest).forEach(([key, value]) => {\n        if (reservedKeys.includes(key)) {\n            finalStyle[`show${upperFirst(key)}`] = value;\n        }\n        else\n            finalStyle[key] = value;\n    });\n    return Object.assign(Object.assign({}, finalStyle), styles);\n}\n//# sourceMappingURL=utils.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Axis as AxisComponent } from '@antv/component';\nimport { Linear as LinearScale } from '@antv/scale';\nimport { deepMix, omit, upperFirst } from '@antv/util';\nimport { extent } from '@antv/vendor/d3-array';\nimport { format } from '@antv/vendor/d3-format';\nimport { angleOf, isFisheye, isParallel, isPolar, isRadial, isTheta, isTranspose, radiusOf, } from '../utils/coordinate';\nimport { prettyNumber } from '../utils/number';\nimport { capitalizeFirst } from '../utils/helper';\nimport { adaptor, isVertical, titleContent } from './utils';\nexport function rotateAxis(axis, options) {\n    const { eulerAngles, origin } = options;\n    if (origin) {\n        axis.setOrigin(origin);\n    }\n    if (eulerAngles) {\n        axis.rotate(eulerAngles[0], eulerAngles[1], eulerAngles[2]);\n    }\n}\nfunction sizeOf(coordinate) {\n    // @ts-ignore\n    const { innerWidth, innerHeight, depth } = coordinate.getOptions();\n    return [innerWidth, innerHeight, depth];\n}\nfunction createFisheye(position, coordinate) {\n    const { width, height } = coordinate.getOptions();\n    return (tick) => {\n        if (!isFisheye(coordinate))\n            return tick;\n        const tickPoint = position === 'bottom' ? [tick, 1] : [0, tick];\n        const vector = coordinate.map(tickPoint);\n        if (position === 'bottom') {\n            const v = vector[0];\n            const x = new LinearScale({\n                domain: [0, width],\n                range: [0, 1],\n            });\n            return x.map(v);\n        }\n        else if (position === 'left') {\n            const v = vector[1];\n            const x = new LinearScale({\n                domain: [0, height],\n                range: [0, 1],\n            });\n            return x.map(v);\n        }\n        return tick;\n    };\n}\nfunction ticksOf(scale, domain, tickMethod) {\n    if (scale.getTicks)\n        return scale.getTicks();\n    if (!tickMethod)\n        return domain;\n    const [min, max] = extent(domain, (d) => +d);\n    const { tickCount } = scale.getOptions();\n    return tickMethod(min, max, tickCount);\n}\n// Set inset for axis.\nfunction createInset(position, coordinate) {\n    if (isPolar(coordinate))\n        return (d) => d;\n    const options = coordinate.getOptions();\n    const { innerWidth, innerHeight, insetTop, insetBottom, insetLeft, insetRight, } = options;\n    const [start, end, size] = position === 'left' || position === 'right'\n        ? [insetTop, insetBottom, innerHeight]\n        : [insetLeft, insetRight, innerWidth];\n    const x = new LinearScale({\n        domain: [0, 1],\n        range: [start / size, 1 - end / size],\n    });\n    return (i) => x.map(i);\n}\n/**\n * Calc ticks based on scale and coordinate.\n */\nfunction getData(scale, domain, tickCount, defaultTickFormatter, tickFilter, tickMethod, position, coordinate) {\n    var _a;\n    if (tickCount !== undefined || tickMethod !== undefined) {\n        scale.update(Object.assign(Object.assign({}, (tickCount && { tickCount })), (tickMethod && { tickMethod })));\n    }\n    const ticks = ticksOf(scale, domain, tickMethod);\n    const filteredTicks = tickFilter ? ticks.filter(tickFilter) : ticks;\n    const toString = (d) => d instanceof Date\n        ? String(d)\n        : typeof d === 'object' && !!d\n            ? d\n            : String(d);\n    const labelFormatter = defaultTickFormatter || ((_a = scale.getFormatter) === null || _a === void 0 ? void 0 : _a.call(scale)) || toString;\n    const applyInset = createInset(position, coordinate);\n    const applyFisheye = createFisheye(position, coordinate);\n    const isHorizontal = (position) => ['top', 'bottom', 'center', 'outer'].includes(position);\n    const isVertical = (position) => ['left', 'right'].includes(position);\n    // @todo GUI should consider the overlap problem for the first\n    // and label of arc axis.\n    if (isPolar(coordinate) || isTranspose(coordinate)) {\n        return filteredTicks.map((d, i, array) => {\n            var _a, _b;\n            const offset = ((_a = scale.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(scale, d)) / 2 || 0;\n            const tick = applyInset(scale.map(d) + offset);\n            const shouldReverse = (isRadial(coordinate) && position === 'center') ||\n                (isTranspose(coordinate) &&\n                    ((_b = scale.getTicks) === null || _b === void 0 ? void 0 : _b.call(scale)) &&\n                    isHorizontal(position)) ||\n                (isTranspose(coordinate) && isVertical(position));\n            return {\n                value: shouldReverse ? 1 - tick : tick,\n                label: toString(labelFormatter(prettyNumber(d), i, array)),\n                id: String(i),\n            };\n        });\n    }\n    return filteredTicks.map((d, i, array) => {\n        var _a;\n        const offset = ((_a = scale.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(scale, d)) / 2 || 0;\n        const tick = applyFisheye(applyInset(scale.map(d) + offset));\n        const shouldReverse = isVertical(position);\n        return {\n            value: shouldReverse ? 1 - tick : tick,\n            label: toString(labelFormatter(prettyNumber(d), i, array)),\n            id: String(i),\n        };\n    });\n}\nfunction inferGridLength(position, coordinate, plane = 'xy') {\n    const [width, height, depth] = sizeOf(coordinate);\n    if (plane === 'xy') {\n        if (position.includes('bottom') || position.includes('top'))\n            return height;\n        return width;\n    }\n    else if (plane === 'xz') {\n        if (position.includes('bottom') || position.includes('top'))\n            return depth;\n        return width;\n    }\n    else {\n        if (position.includes('bottom') || position.includes('top'))\n            return height;\n        return depth;\n    }\n}\nfunction inferLabelOverlap(transform = [], style) {\n    if (transform.length > 0)\n        return transform;\n    const { labelAutoRotate, labelAutoHide, labelAutoEllipsis, labelAutoWrap } = style;\n    const finalTransforms = [];\n    const addToTransforms = (overlap, state) => {\n        if (state) {\n            finalTransforms.push(Object.assign(Object.assign({}, overlap), state));\n        }\n    };\n    addToTransforms({\n        type: 'rotate',\n        optionalAngles: [0, 15, 30, 45, 60, 90],\n    }, labelAutoRotate);\n    addToTransforms({ type: 'ellipsis', minLength: 20 }, labelAutoEllipsis);\n    addToTransforms({ type: 'hide' }, labelAutoHide);\n    addToTransforms({ type: 'wrap', wordWrapWidth: 100, maxLines: 3, recoveryWhenFail: true }, labelAutoWrap);\n    return finalTransforms;\n}\nfunction inferArcStyle(position, bbox, innerRadius, outerRadius, coordinate) {\n    const { x, y, width, height } = bbox;\n    const center = [x + width / 2, y + height / 2];\n    const radius = Math.min(width, height) / 2;\n    const [startAngle, endAngle] = angleOf(coordinate);\n    const [w, h] = sizeOf(coordinate);\n    const r = Math.min(w, h) / 2;\n    const common = {\n        center,\n        radius,\n        startAngle,\n        endAngle,\n        gridLength: (outerRadius - innerRadius) * r,\n    };\n    if (position === 'inner') {\n        // @ts-ignore\n        const { insetLeft, insetTop } = coordinate.getOptions();\n        return Object.assign(Object.assign({}, common), { center: [center[0] - insetLeft, center[1] - insetTop], labelAlign: 'perpendicular', labelDirection: 'positive', tickDirection: 'positive', gridDirection: 'negative' });\n    }\n    // arc outer\n    return Object.assign(Object.assign({}, common), { labelAlign: 'parallel', labelDirection: 'negative', tickDirection: 'negative', gridDirection: 'positive' });\n}\nfunction inferGrid(value, coordinate, scale) {\n    if (isTheta(coordinate) || isParallel(coordinate))\n        return false;\n    // Display axis grid for non-discrete values.\n    return value === undefined ? !!scale.getTicks : value;\n}\nfunction infer3DAxisLinearOverrideStyle(coordinate) {\n    // @ts-ignore\n    const { depth } = coordinate.getOptions();\n    return depth\n        ? {\n            tickIsBillboard: true,\n            lineIsBillboard: true,\n            labelIsBillboard: true,\n            titleIsBillboard: true,\n            gridIsBillboard: true,\n        }\n        : {};\n}\nfunction inferAxisLinearOverrideStyle(position, orientation, bbox, coordinate, xScale) {\n    const { x, y, width, height } = bbox;\n    if (position === 'bottom') {\n        return { startPos: [x, y], endPos: [x + width, y] };\n    }\n    if (position === 'left') {\n        return { startPos: [x + width, y + height], endPos: [x + width, y] };\n    }\n    if (position === 'right') {\n        return { startPos: [x, y + height], endPos: [x, y] };\n    }\n    if (position === 'top') {\n        return { startPos: [x, y + height], endPos: [x + width, y + height] };\n    }\n    // linear axis, maybe in parallel, polar, radial or radar systems.\n    if (position === 'center') {\n        // axisY\n        if (orientation === 'vertical') {\n            return {\n                startPos: [x, y],\n                endPos: [x, y + height],\n            };\n        }\n        // axisX\n        else if (orientation === 'horizontal') {\n            return {\n                startPos: [x, y],\n                endPos: [x + width, y],\n            };\n        }\n        // axis with rotate\n        else if (typeof orientation === 'number') {\n            const [cx, cy] = coordinate.getCenter();\n            const [innerRadius, outerRadius] = radiusOf(coordinate);\n            const [startAngle, endAngle] = angleOf(coordinate);\n            const r = Math.min(width, height) / 2;\n            // @ts-ignore\n            const { insetLeft, insetTop } = coordinate.getOptions();\n            const innerR = innerRadius * r;\n            const outerR = outerRadius * r;\n            const [actualCx, actualCy] = [cx + x - insetLeft, cy + y - insetTop];\n            const [cos, sin] = [Math.cos(orientation), Math.sin(orientation)];\n            const startPos = [\n                actualCx + outerR * cos,\n                actualCy + outerR * sin,\n            ];\n            const endPos = [\n                actualCx + innerR * cos,\n                actualCy + innerR * sin,\n            ];\n            const getAxisXDomainLength = () => {\n                const { domain } = xScale.getOptions();\n                return domain.length;\n            };\n            const controllAngleCount = isPolar(coordinate) && xScale ? getAxisXDomainLength() : 3;\n            return {\n                startPos,\n                endPos,\n                gridClosed: Math.abs(endAngle - startAngle - 360) < 1e-6,\n                gridCenter: [actualCx, actualCy],\n                gridControlAngles: new Array(controllAngleCount)\n                    .fill(0)\n                    .map((d, i, arr) => ((endAngle - startAngle) / controllAngleCount) * i),\n            };\n        }\n    }\n    // position is inner or outer for arc axis won't be here\n    return {};\n}\nconst ArcAxisComponent = (options) => {\n    const { order, size, position, orientation, labelFormatter, tickFilter, tickCount, tickMethod, important = {}, style = {}, indexBBox, title, grid = false } = options, rest = __rest(options, [\"order\", \"size\", \"position\", \"orientation\", \"labelFormatter\", \"tickFilter\", \"tickCount\", \"tickMethod\", \"important\", \"style\", \"indexBBox\", \"title\", \"grid\"]);\n    return ({ scales: [scale], value, coordinate, theme }) => {\n        const { bbox } = value;\n        const { domain } = scale.getOptions();\n        const data = getData(scale, domain, tickCount, labelFormatter, tickFilter, tickMethod, position, coordinate);\n        // Bind computed bbox if exists.\n        const labels = indexBBox\n            ? data.map((d, i) => {\n                const bbox = indexBBox.get(i);\n                if (!bbox)\n                    return d;\n                // bbox: [label, bbox]\n                // Make than indexBBox can match current label.\n                if (bbox[0] !== d.label)\n                    return d;\n                return Object.assign(Object.assign({}, d), { bbox: bbox[1] });\n            })\n            : data;\n        const [innerRadius, outerRadius] = radiusOf(coordinate);\n        const defaultStyle = inferArcStyle(position, bbox, innerRadius, outerRadius, coordinate);\n        const { axis: axisTheme, axisArc = {} } = theme;\n        const finalStyle = adaptor(deepMix({}, axisTheme, axisArc, defaultStyle, Object.assign(Object.assign({ type: 'arc', data: labels, titleText: titleContent(title), grid }, rest), important)));\n        return new AxisComponent({\n            // @fixme transform is not valid for arcAxis.\n            // @ts-ignore\n            style: omit(finalStyle, ['transform']),\n        });\n    };\n};\nfunction inferThemeStyle(scale, coordinate, theme, direction, position, orientation) {\n    const baseStyle = theme.axis;\n    const positionStyle = ['top', 'right', 'bottom', 'left'].includes(position)\n        ? theme[`axis${capitalizeFirst(position)}`]\n        : theme.axisLinear;\n    const channel = scale.getOptions().name;\n    const channelStyle = theme[`axis${upperFirst(channel)}`] || {};\n    return Object.assign({}, baseStyle, positionStyle, channelStyle);\n}\nfunction inferDefaultStyle(scale, coordinate, theme, direction, position, orientation) {\n    const themeStyle = inferThemeStyle(scale, coordinate, theme, direction, position, orientation);\n    if (position === 'center') {\n        return Object.assign(Object.assign(Object.assign(Object.assign({}, themeStyle), { labelDirection: direction === 'right' ? 'negative' : 'positive' }), (direction === 'center'\n            ? { labelTransform: 'translate(50%,0)' }\n            : null)), { tickDirection: direction === 'right' ? 'negative' : 'positive', labelSpacing: direction === 'center' ? 0 : 4, titleSpacing: isVertical(orientation) ? 10 : 0, tick: direction === 'center' ? false : undefined });\n    }\n    return themeStyle;\n}\nconst LinearAxisComponent = (options) => {\n    const { direction = 'left', important = {}, labelFormatter, order, orientation, actualPosition, position, size, style = {}, title, tickCount, tickFilter, tickMethod, transform, indexBBox } = options, userDefinitions = __rest(options, [\"direction\", \"important\", \"labelFormatter\", \"order\", \"orientation\", \"actualPosition\", \"position\", \"size\", \"style\", \"title\", \"tickCount\", \"tickFilter\", \"tickMethod\", \"transform\", \"indexBBox\"]);\n    return ({ scales, value, coordinate, theme }) => {\n        const { bbox } = value;\n        const [scale] = scales;\n        const { domain, xScale } = scale.getOptions();\n        const defaultStyle = inferDefaultStyle(scale, coordinate, theme, direction, position, orientation);\n        const internalAxisStyle = Object.assign(Object.assign(Object.assign({}, defaultStyle), style), userDefinitions);\n        const gridLength = inferGridLength(actualPosition || position, coordinate, options.plane);\n        const overrideStyle = inferAxisLinearOverrideStyle(position, orientation, bbox, coordinate, xScale);\n        const threeDOverrideStyle = infer3DAxisLinearOverrideStyle(coordinate);\n        const data = getData(scale, domain, tickCount, labelFormatter, tickFilter, tickMethod, position, coordinate);\n        // Bind computed bbox if exists.\n        const labels = indexBBox\n            ? data.map((d, i) => {\n                const bbox = indexBBox.get(i);\n                if (!bbox)\n                    return d;\n                // bbox: [label, bbox]\n                // Make than indexBBox can match current label.\n                if (bbox[0] !== d.label)\n                    return d;\n                return Object.assign(Object.assign({}, d), { bbox: bbox[1] });\n            })\n            : data;\n        const finalAxisStyle = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, internalAxisStyle), { type: 'linear', data: labels, crossSize: size, titleText: titleContent(title), labelOverlap: inferLabelOverlap(transform, internalAxisStyle), grid: inferGrid(internalAxisStyle.grid, coordinate, scale), gridLength, \n            // Always showLine, make title could align the end of axis.\n            line: true, indexBBox }), (!internalAxisStyle.line ? { lineOpacity: 0 } : null)), overrideStyle), threeDOverrideStyle), important);\n        // For hide overlap, do not set crossSize.\n        const hasHide = finalAxisStyle.labelOverlap.find((d) => d.type === 'hide');\n        if (hasHide)\n            finalAxisStyle.crossSize = false;\n        return new AxisComponent({\n            className: 'axis',\n            style: adaptor(finalAxisStyle),\n        });\n    };\n};\nconst axisFactor = (axis) => {\n    return (options) => {\n        const { labelFormatter: useDefinedLabelFormatter, labelFilter: userDefinedLabelFilter = () => true, } = options;\n        return (context) => {\n            var _a;\n            const { scales: [scale], } = context;\n            const ticks = ((_a = scale.getTicks) === null || _a === void 0 ? void 0 : _a.call(scale)) || scale.getOptions().domain;\n            const labelFormatter = typeof useDefinedLabelFormatter === 'string'\n                ? format(useDefinedLabelFormatter)\n                : useDefinedLabelFormatter;\n            const labelFilter = (datum, index, array) => userDefinedLabelFilter(ticks[index], index, ticks);\n            const normalizedOptions = Object.assign(Object.assign({}, options), { labelFormatter,\n                labelFilter,\n                scale });\n            return axis(normalizedOptions)(context);\n        };\n    };\n};\nexport const LinearAxis = axisFactor(LinearAxisComponent);\nexport const ArcAxis = axisFactor(ArcAxisComponent);\nLinearAxis.props = {\n    defaultPosition: 'center',\n    defaultSize: 45,\n    defaultOrder: 0,\n    defaultCrossPadding: [12, 12],\n    defaultPadding: [12, 12],\n};\nArcAxis.props = {\n    defaultPosition: 'outer',\n    defaultOrientation: 'vertical',\n    defaultSize: 45,\n    defaultOrder: 0,\n    defaultCrossPadding: [12, 12],\n    defaultPadding: [12, 12],\n};\n//# sourceMappingURL=axis.js.map","import { LinearAxis, rotateAxis } from './axis';\n/**\n * LinearAxis component bind to x scale.\n */\nexport const AxisX = (options) => {\n    return (...args) => {\n        // empirical value for crossPadding\n        const axisX = LinearAxis(Object.assign({}, { crossPadding: 50 }, options))(...args);\n        rotateAxis(axisX, options);\n        return axisX;\n    };\n};\nAxisX.props = Object.assign(Object.assign({}, LinearAxis.props), { defaultPosition: 'bottom' });\nexport function axisXConfig() { }\n//# sourceMappingURL=axisX.js.map","import { LinearAxis, rotateAxis } from './axis';\n/**\n * LinearAxis component bind to y scale.\n */\nexport const AxisY = (options) => {\n    return (...args) => {\n        const axisY = LinearAxis(Object.assign({}, { crossPadding: 10 }, options))(...args);\n        rotateAxis(axisY, options);\n        return axisY;\n    };\n};\nAxisY.props = Object.assign(Object.assign({}, LinearAxis.props), { defaultPosition: 'left' });\n//# sourceMappingURL=axisY.js.map","import isArrayLike from './is-array-like';\nexport default function last(o) {\n    if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n    }\n    return undefined;\n}\n//# sourceMappingURL=last.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Category } from '@antv/component';\nimport { last } from '@antv/util';\nimport { format } from '@antv/vendor/d3-format';\nimport { Identity } from '@antv/scale';\nimport { useMarker } from '../utils/marker';\nimport { adaptor, domainOf, LegendCategoryLayout, inferComponentLayout, inferComponentShape, scaleOf, titleContent, } from './utils';\nfunction inferShape(scales, markState) {\n    const shapeScale = scaleOf(scales, 'shape');\n    const colorScale = scaleOf(scales, 'color');\n    // NOTE!!!\n    // scaleOrdinal.map will mute domain.\n    const shapeScale1 = shapeScale ? shapeScale.clone() : null;\n    // Infer the main shape if multiple marks are used.\n    const shapes = [];\n    for (const [mark, state] of markState) {\n        const namespace = mark.type;\n        const domain = (colorScale === null || colorScale === void 0 ? void 0 : colorScale.getOptions().domain.length) > 0\n            ? colorScale === null || colorScale === void 0 ? void 0 : colorScale.getOptions().domain\n            : state.data;\n        const shape = domain.map((d, i) => {\n            var _a;\n            if (shapeScale1)\n                return shapeScale1.map(d || 'point');\n            return ((_a = mark === null || mark === void 0 ? void 0 : mark.style) === null || _a === void 0 ? void 0 : _a.shape) || state.defaultShape || 'point';\n        });\n        if (typeof namespace === 'string')\n            shapes.push([namespace, shape]);\n    }\n    if (shapes.length === 0)\n        return ['point', ['point']];\n    if (shapes.length === 1)\n        return shapes[0];\n    if (!shapeScale)\n        return shapes[0];\n    // Evaluate the maximum likelihood of shape\n    const { range } = shapeScale.getOptions();\n    return shapes\n        .map(([namespace, shape]) => {\n        let sum = 0;\n        for (let i = 0; i < shapes.length; i++) {\n            const targetShape = range[i % range.length];\n            if (shape[i] === targetShape)\n                sum++;\n        }\n        return [sum / shape.length, [namespace, shape]];\n    })\n        .sort((a, b) => b[0] - a[0])[0][1];\n}\nfunction inferItemMarker(options, context) {\n    const { scales, library, markState } = context;\n    const [mark, shapes] = inferShape(scales, markState);\n    const { itemMarker, itemMarkerSize: size } = options;\n    const create = (name, d) => {\n        var _a, _b, _c;\n        const marker = ((_c = (_b = (_a = library[`mark.${mark}`]) === null || _a === void 0 ? void 0 : _a.props) === null || _b === void 0 ? void 0 : _b.shape[name]) === null || _c === void 0 ? void 0 : _c.props.defaultMarker) || last(name.split('.'));\n        const radius = typeof size === 'function' ? size(d) : size;\n        return () => useMarker(marker, { color: d.color })(0, 0, radius);\n    };\n    const shapeOf = (i) => `${shapes[i]}`;\n    const shapeScale = scaleOf(scales, 'shape');\n    if (shapeScale && !itemMarker)\n        return (d, i) => create(shapeOf(i), d);\n    if (typeof itemMarker === 'function') {\n        return (d, i) => {\n            // @todo Fix this in GUI.\n            // It should pass primitive value rather object.\n            const node = itemMarker(d.id, i);\n            if (typeof node === 'string')\n                return create(node, d);\n            return node;\n        };\n    }\n    return (d, i) => create(itemMarker || shapeOf(i), d);\n}\nfunction inferItemMarkerOpacity(scales) {\n    const scale = scaleOf(scales, 'opacity');\n    if (scale) {\n        const { range } = scale.getOptions();\n        return (d, i) => range[i];\n    }\n    return undefined;\n}\nfunction inferItemMarkerSize(scales, defaults) {\n    const scale = scaleOf(scales, 'size');\n    if (scale instanceof Identity)\n        return scale.map(NaN) * 2;\n    return defaults;\n}\nfunction inferCategoryStyle(options, context) {\n    const { labelFormatter = (d) => `${d}` } = options;\n    const { scales, theme } = context;\n    const defaultSize = theme.legendCategory.itemMarkerSize;\n    const itemMarkerSize = inferItemMarkerSize(scales, defaultSize);\n    const baseStyle = {\n        itemMarker: inferItemMarker(Object.assign(Object.assign({}, options), { itemMarkerSize }), context),\n        itemMarkerSize: itemMarkerSize,\n        itemMarkerOpacity: inferItemMarkerOpacity(scales),\n    };\n    const finalLabelFormatter = typeof labelFormatter === 'string'\n        ? format(labelFormatter)\n        : labelFormatter;\n    const colorScale = scaleOf(scales, 'color');\n    const domain = domainOf(scales);\n    const colorOf = colorScale\n        ? (d) => colorScale.map(d)\n        : () => context.theme.color;\n    return Object.assign(Object.assign({}, baseStyle), { data: domain.map((d) => ({\n            id: d,\n            label: finalLabelFormatter(d),\n            color: colorOf(d),\n        })) });\n}\nfunction inferLegendShape(value, options, component) {\n    const { position } = options;\n    if (position === 'center') {\n        const { bbox } = value;\n        // to be confirm: if position is center, we should use the width and height of user definition.\n        const { width, height } = bbox;\n        return { width, height };\n    }\n    const { width, height } = inferComponentShape(value, options, component);\n    return { width, height };\n}\nfunction filterEmptyIds(legendStyle) {\n    return Object.assign(Object.assign({}, legendStyle), { data: (legendStyle === null || legendStyle === void 0 ? void 0 : legendStyle.data.filter((item) => item.id !== '')) || [] });\n}\n/**\n * Guide Component for ordinal color scale.\n */\nexport const LegendCategory = (options) => {\n    const { labelFormatter, layout, order, orientation, position, size, title, cols, itemMarker } = options, style = __rest(options, [\"labelFormatter\", \"layout\", \"order\", \"orientation\", \"position\", \"size\", \"title\", \"cols\", \"itemMarker\"]);\n    const { gridRow } = style;\n    return (context) => {\n        const { value, theme } = context;\n        const { bbox } = value;\n        const { width, height } = inferLegendShape(value, options, LegendCategory);\n        const finalLayout = inferComponentLayout(position, layout);\n        const legendStyle = Object.assign(Object.assign(Object.assign(Object.assign({ orientation: ['right', 'left', 'center'].includes(position)\n                ? 'vertical'\n                : 'horizontal', width,\n            height, layout: cols !== undefined ? 'grid' : 'flex' }, (cols !== undefined && { gridCol: cols })), (gridRow !== undefined && { gridRow })), { titleText: titleContent(title) }), inferCategoryStyle(options, context));\n        const { legendCategory: legendTheme = {} } = theme;\n        // Filter out the data items with empty string IDs in the wordCloud's data before generating the legend.\n        const categoryStyle = adaptor(Object.assign({}, legendTheme, filterEmptyIds(legendStyle), style));\n        const layoutWrapper = new LegendCategoryLayout({\n            style: Object.assign(Object.assign({ x: bbox.x, y: bbox.y, width: bbox.width, height: bbox.height }, finalLayout), { \n                // @ts-ignore\n                subOptions: categoryStyle }),\n        });\n        layoutWrapper.appendChild(new Category({\n            className: 'legend-category',\n            style: categoryStyle,\n        }));\n        return layoutWrapper;\n    };\n};\nLegendCategory.props = {\n    defaultPosition: 'top',\n    defaultOrder: 1,\n    defaultSize: 40,\n    defaultCrossPadding: [12, 12],\n    defaultPadding: [12, 12],\n};\n//# sourceMappingURL=legendCategory.js.map","import { __read } from \"tslib\";\nfunction search(array, value) {\n    for (var i = 1; i < array.length; i += 1) {\n        var st = array[i - 1];\n        var end = array[i];\n        if (value >= st && value <= end) {\n            return [st, end];\n        }\n    }\n    return [value, value];\n}\nexport function getBlockColor(partition, color, orientation) {\n    var colors = Array.from(color);\n    var count = partition.length;\n    return new Array(count).fill(0).reduce(function (r, v, idx) {\n        var c = colors[idx % colors.length];\n        return (r += \" \".concat(partition[idx], \":\").concat(c).concat(idx < count - 1 ? \" \".concat(partition[idx + 1], \":\").concat(c) : ''));\n    }, \"l(\".concat(orientation === 'horizontal' ? '0' : '270', \")\"));\n}\nexport function getNextTickValue(ticks, value) {\n    var _a = __read(search(ticks, value), 2), v1 = _a[0], v2 = _a[1];\n    return { tick: value > (v1 + v2) / 2 ? v2 : v1, range: [v1, v2] };\n}\n//# sourceMappingURL=utils.js.map","import { __assign, __extends, __read } from \"tslib\";\nimport { parseColor } from '@antv/g';\nimport { isFunction } from '@antv/util';\nimport { Component } from '../../../core';\nimport { classNames, select, subStyleProps } from '../../../util';\nimport { ifHorizontal } from '../utils';\nimport { getBlockColor } from './utils';\nvar CLASS_NAMES = classNames({\n    trackGroup: 'background-group',\n    track: 'background',\n    selectionGroup: 'ribbon-group',\n    selection: 'ribbon',\n    clipPath: 'clip-path',\n}, 'ribbon');\nfunction getShape(attr) {\n    var orientation = attr.orientation, size = attr.size, length = attr.length;\n    return ifHorizontal(orientation, [length, size], [size, length]);\n}\nfunction getTrackPath(attr) {\n    var type = attr.type;\n    var _a = __read(getShape(attr), 2), cw = _a[0], ch = _a[1];\n    if (type === 'size') {\n        return [['M', 0, ch], ['L', 0 + cw, 0], ['L', 0 + cw, ch], ['Z']];\n    }\n    return [['M', 0, ch], ['L', 0, 0], ['L', 0 + cw, 0], ['L', 0 + cw, ch], ['Z']];\n}\nfunction getSelectionPath(attr) {\n    return getTrackPath(attr);\n}\nfunction getColor(attr) {\n    var orientation = attr.orientation, color = attr.color, block = attr.block, partition = attr.partition;\n    var colors;\n    if (isFunction(color)) {\n        var len = 20;\n        colors = new Array(len).fill(0).map(function (_, index, arr) { return color(index / (arr.length - 1)); });\n    }\n    else\n        colors = color;\n    var count = colors.length;\n    var genericColor = colors.map(function (c) { return parseColor(c).toString(); });\n    if (!count)\n        return '';\n    if (count === 1)\n        return genericColor[0];\n    if (block)\n        return getBlockColor(partition, genericColor, orientation);\n    return genericColor.reduce(function (r, c, idx) { return (r += \" \".concat(idx / (count - 1), \":\").concat(c)); }, \"l(\".concat(ifHorizontal(orientation, '0', '270'), \")\"));\n}\nfunction getClipPath(attr) {\n    var orientation = attr.orientation, range = attr.range;\n    if (!range)\n        return [];\n    var _a = __read(getShape(attr), 2), width = _a[0], height = _a[1];\n    var _b = __read(range, 2), st = _b[0], et = _b[1];\n    var x = ifHorizontal(orientation, st * width, 0);\n    var y = ifHorizontal(orientation, 0, st * height);\n    var w = ifHorizontal(orientation, et * width, width);\n    var h = ifHorizontal(orientation, height, et * height);\n    return [['M', x, y], ['L', x, h], ['L', w, h], ['L', w, y], ['Z']];\n}\nfunction renderTrack(container, attr) {\n    var style = subStyleProps(attr, 'track');\n    container.maybeAppendByClassName(CLASS_NAMES.track, 'path').styles(__assign({ d: getTrackPath(attr) }, style));\n}\nfunction renderSelection(container, attr) {\n    var style = subStyleProps(attr, 'selection');\n    var fill = getColor(attr);\n    var ribbon = container\n        .maybeAppendByClassName(CLASS_NAMES.selection, 'path')\n        .styles(__assign({ d: getSelectionPath(attr), fill: fill }, style));\n    var clipPath = ribbon\n        .maybeAppendByClassName(CLASS_NAMES.clipPath, 'path')\n        .styles({ d: getClipPath(attr) })\n        .node();\n    ribbon.style('clipPath', clipPath);\n}\nvar Ribbon = /** @class */ (function (_super) {\n    __extends(Ribbon, _super);\n    function Ribbon(options) {\n        return _super.call(this, options, {\n            type: 'color',\n            orientation: 'horizontal',\n            size: 30,\n            range: [0, 1],\n            length: 200,\n            block: false,\n            partition: [],\n            color: ['#fff', '#000'],\n            trackFill: '#e5e5e5',\n        }) || this;\n    }\n    Ribbon.prototype.render = function (attribute, container) {\n        var trackGroup = select(container).maybeAppendByClassName(CLASS_NAMES.trackGroup, 'g');\n        renderTrack(trackGroup, attribute);\n        /**\n         * - ribbon group\n         *  |- ribbon\n         * - clip path\n         */\n        var ribbonGroup = select(container).maybeAppendByClassName(CLASS_NAMES.selectionGroup, 'g');\n        renderSelection(ribbonGroup, attribute);\n    };\n    return Ribbon;\n}(Component));\nexport { Ribbon };\n//# sourceMappingURL=ribbon.js.map","import { __assign, __extends, __read, __spreadArray } from \"tslib\";\nimport { CustomEvent } from '@antv/g';\nimport { Linear } from '@antv/scale';\nimport { clamp, isUndefined } from '@antv/util';\nimport { Component } from '../../core';\nimport { BBox, deepAssign, getEventPos, hide, ifShow, select, show, subStyleProps, superStyleProps, toPrecision, } from '../../util';\nimport { Axis } from '../axis';\nimport { CLASS_NAMES as AXIS_CLASS_NAMES } from '../axis/constant';\nimport { Indicator } from '../indicator';\nimport { Handle as SliderHandle } from '../slider/handle';\nimport { Title } from '../title';\nimport { CLASS_NAMES, CONTINUOUS_DEFAULT_OPTIONS, STEP_RATIO } from './constant';\nimport { Handle } from './continuous/handle';\nimport { Ribbon } from './continuous/ribbon';\nimport { getNextTickValue } from './continuous/utils';\nimport { getSafetySelections, getStepValueByValue, ifHorizontal } from './utils';\nfunction getMinMax(data) {\n    return {\n        min: Math.min.apply(Math, __spreadArray([], __read(data.map(function (d) { return d.value; })), false)),\n        max: Math.max.apply(Math, __spreadArray([], __read(data.map(function (d) { return d.value; })), false)),\n    };\n}\nvar Continuous = /** @class */ (function (_super) {\n    __extends(Continuous, _super);\n    function Continuous(options) {\n        var _this = _super.call(this, options, CONTINUOUS_DEFAULT_OPTIONS) || this;\n        _this.eventToOffsetScale = new Linear({});\n        _this.innerRibbonScale = new Linear({});\n        _this.cacheLabelBBox = null;\n        _this.cacheHandleBBox = null;\n        _this.onHovering = function (e) {\n            var _a = _this.attributes, data = _a.data, block = _a.block;\n            e.stopPropagation();\n            var value = _this.getValueByCanvasPoint(e);\n            if (block) {\n                var range = getNextTickValue(data.map(function (_a) {\n                    var value = _a.value;\n                    return value;\n                }), value).range;\n                var selection = _this.getRealSelection(range);\n                _this.showIndicator((range[0] + range[1]) / 2, \"\".concat(selection[0], \"-\").concat(selection[1]));\n                _this.dispatchIndicated(value, range);\n            }\n            else {\n                var safetyValue = _this.getTickValue(value);\n                _this.showIndicator(safetyValue, \"\".concat(_this.getRealValue(safetyValue)));\n                _this.dispatchIndicated(safetyValue);\n            }\n        };\n        _this.onDragStart = function (target) { return function (e) {\n            e.stopPropagation();\n            // 关闭滑动\n            if (!_this.attributes.slidable)\n                return;\n            _this.target = target;\n            _this.prevValue = _this.getTickValue(_this.getValueByCanvasPoint(e));\n            document.addEventListener('mousemove', _this.onDragging);\n            document.addEventListener('touchmove', _this.onDragging);\n            document.addEventListener('mouseleave', _this.onDragEnd);\n            document.addEventListener('mouseup', _this.onDragEnd);\n            document.addEventListener('mouseup', _this.onDragEnd);\n            document.addEventListener('touchend', _this.onDragEnd);\n        }; };\n        _this.onDragging = function (e) {\n            var target = _this.target;\n            _this.updateMouse();\n            var _a = __read(_this.selection, 2), start = _a[0], end = _a[1];\n            var currValue = _this.getTickValue(_this.getValueByCanvasPoint(e));\n            var diffValue = currValue - _this.prevValue;\n            if (target === 'start')\n                start !== currValue && _this.updateSelection(currValue, end);\n            else if (target === 'end')\n                end !== currValue && _this.updateSelection(start, currValue);\n            else if (target === 'ribbon' && diffValue !== 0) {\n                _this.prevValue = currValue;\n                _this.updateSelection(diffValue, diffValue, true);\n            }\n        };\n        _this.onDragEnd = function () {\n            _this.style.cursor = 'pointer';\n            document.removeEventListener('mousemove', _this.onDragging);\n            document.removeEventListener('touchmove', _this.onDragging);\n            document.removeEventListener('mouseup', _this.onDragEnd);\n            document.removeEventListener('touchend', _this.onDragEnd);\n        };\n        return _this;\n    }\n    Object.defineProperty(Continuous.prototype, \"handleOffsetRatio\", {\n        get: function () {\n            return this.ifHorizontal(0.5, 0.5);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.getBBox = function () {\n        var _a = this.attributes, width = _a.width, height = _a.height;\n        return new BBox(0, 0, width, height);\n    };\n    Continuous.prototype.render = function (attributes, container) {\n        var _this = this;\n        // 渲染顺序\n        // 1. 绘制 title, 获得可用空间\n        // 2. 绘制 label, handle\n        // 3. 基于可用空间、label高度、handle 宽高，计算 ribbon 宽高\n        // 4. 绘制 ribbon\n        // 5. 调整 label、handle 位置\n        var showLabel = attributes.showLabel;\n        /** title */\n        this.renderTitle(select(container));\n        var _a = this.availableSpace, x = _a.x, y = _a.y;\n        /** label */\n        /** content */\n        var contentGroup = select(container)\n            .maybeAppendByClassName(CLASS_NAMES.contentGroup, 'g')\n            .styles({ transform: \"translate(\".concat(x, \", \").concat(y, \")\") });\n        var labelGroup = contentGroup.maybeAppendByClassName(CLASS_NAMES.labelGroup, 'g').styles({ zIndex: 1 });\n        ifShow(!!showLabel, labelGroup, function (group) {\n            _this.renderLabel(group);\n        });\n        var ribbonGroup = contentGroup.maybeAppendByClassName(CLASS_NAMES.ribbonGroup, 'g').styles({ zIndex: 0 });\n        /** handle */\n        this.handlesGroup = contentGroup.maybeAppendByClassName(CLASS_NAMES.handlesGroup, 'g').styles({ zIndex: 2 });\n        this.renderHandles();\n        /** ribbon */\n        this.renderRibbon(ribbonGroup);\n        this.renderIndicator(contentGroup);\n        /** adjust */\n        this.adjustLabel();\n        this.adjustHandles();\n        // this.adjustTitle();\n    };\n    Object.defineProperty(Continuous.prototype, \"range\", {\n        get: function () {\n            var _a = this.attributes, data = _a.data, domain = _a.domain;\n            return domain ? { min: domain[0], max: domain[1] } : getMinMax(data);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"ribbonScale\", {\n        get: function () {\n            var _a = this.range, min = _a.min, max = _a.max;\n            this.innerRibbonScale.update({\n                domain: [min, max],\n                range: [0, 1],\n            });\n            return this.innerRibbonScale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"ribbonRange\", {\n        get: function () {\n            var _a = __read(this.selection, 2), min = _a[0], max = _a[1];\n            var scale = this.ribbonScale;\n            return [scale.map(min), scale.map(max)];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"selection\", {\n        get: function () {\n            var _a = this.range, min = _a.min, max = _a.max;\n            var _b = this.attributes.defaultValue, _c = _b === void 0 ? [min, max] : _b, _d = __read(_c, 2), start = _d[0], end = _d[1];\n            return [start, end];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.ifHorizontal = function (a, b) {\n        return ifHorizontal(this.attributes.orientation, typeof a === 'function' ? a() : a, typeof b === 'function' ? b() : b);\n    };\n    Continuous.prototype.renderTitle = function (container) {\n        var _a = this.attributes, showTitle = _a.showTitle, titleText = _a.titleText, width = _a.width, height = _a.height;\n        var style = subStyleProps(this.attributes, 'title');\n        var finalTitleStyle = __assign(__assign({}, style), { width: width, height: height, text: titleText });\n        var that = this;\n        container\n            .selectAll(CLASS_NAMES.title.class)\n            .data(showTitle ? [titleText] : [])\n            .join(function (enter) {\n            return enter\n                .append(function () { return new Title({ style: finalTitleStyle }); })\n                .attr('className', CLASS_NAMES.title.name)\n                .each(function () {\n                that.title = this;\n            });\n        }, function (update) { return update.update(finalTitleStyle); }, function (exit) {\n            return exit\n                .each(function () {\n                that.title = undefined;\n            })\n                .remove();\n        });\n    };\n    Object.defineProperty(Continuous.prototype, \"availableSpace\", {\n        get: function () {\n            if (this.title)\n                return this.title.getAvailableSpace();\n            var _a = this.attributes, width = _a.width, height = _a.height;\n            return new BBox(0, 0, width, height);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"labelFixedSpacing\", {\n        get: function () {\n            var showTick = this.attributes.showTick;\n            return showTick ? 5 : 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"labelPosition\", {\n        get: function () {\n            var _a = this.attributes, orientation = _a.orientation, labelDirection = _a.labelDirection;\n            var positions = {\n                vertical: { positive: 'right', negative: 'left' },\n                horizontal: { positive: 'bottom', negative: 'top' },\n            };\n            return positions[orientation][labelDirection];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"labelBBox\", {\n        get: function () {\n            var _a;\n            var showLabel = this.attributes.showLabel;\n            if (!showLabel)\n                return new BBox(0, 0, 0, 0);\n            if (this.cacheLabelBBox)\n                return this.cacheLabelBBox;\n            var _b = ((_a = this.label.querySelector(AXIS_CLASS_NAMES.labelGroup.class)) === null || _a === void 0 ? void 0 : _a.children.slice(-1)[0]).getBBox(), width = _b.width, height = _b.height;\n            this.cacheLabelBBox = new BBox(0, 0, width, height);\n            return this.cacheLabelBBox;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"labelShape\", {\n        get: function () {\n            var _a = this.attributes, showLabel = _a.showLabel, _b = _a.labelSpacing, labelSpacing = _b === void 0 ? 0 : _b;\n            if (!showLabel)\n                return { width: 0, height: 0, size: 0, length: 0 };\n            var _c = this.labelBBox, width = _c.width, height = _c.height;\n            var size = this.ifHorizontal(height, width) + labelSpacing + this.labelFixedSpacing;\n            var length = this.ifHorizontal(width, height);\n            return { width: width, height: height, size: size, length: length };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"ribbonBBox\", {\n        get: function () {\n            var _a = this.attributes, showHandle = _a.showHandle, userDefinedRibbonSize = _a.ribbonSize;\n            var _b = this.availableSpace, availableWidth = _b.width, availableHeight = _b.height;\n            var _c = this.labelShape, labelSize = _c.size, labelLength = _c.length;\n            var _d = __read(this.ifHorizontal([availableHeight, availableWidth], [availableWidth, availableHeight]), 2), availableSize = _d[0], availableLength = _d[1];\n            var _e = showHandle ? this.handleShape : { size: 0, length: 0 }, handleSize = _e.size, handleLength = _e.length;\n            var handleRatio = this.handleOffsetRatio;\n            var ribbonSize = 0;\n            var labelPosition = this.labelPosition;\n            if (userDefinedRibbonSize) {\n                ribbonSize = userDefinedRibbonSize;\n            }\n            else if (['bottom', 'right'].includes(labelPosition)) {\n                ribbonSize = Math.min(availableSize - labelSize, (availableSize - handleSize) / handleRatio);\n            }\n            else if (availableSize * (1 - handleRatio) > handleSize) {\n                ribbonSize = Math.max(availableSize - labelSize, 0);\n            }\n            else\n                ribbonSize = Math.max((availableSize - labelSize - handleSize) / handleRatio, 0);\n            var edgeLength = Math.max(handleLength, labelLength);\n            var ribbonLength = availableLength - edgeLength;\n            var _f = __read(this.ifHorizontal([ribbonLength, ribbonSize], [ribbonSize, ribbonLength]), 2), width = _f[0], height = _f[1];\n            // 需要考虑 handle 的占用空间\n            // todo 为了防止因为 handle 文本变化导致的 ribbon 位置变化，handle size 取最大值\n            var finalLabelOccupy = ['top', 'left'].includes(labelPosition) ? labelSize : 0;\n            var _g = __read(this.ifHorizontal([edgeLength / 2, finalLabelOccupy], [finalLabelOccupy, edgeLength / 2]), 2), x = _g[0], y = _g[1];\n            return new BBox(x, y, width, height);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"ribbonShape\", {\n        get: function () {\n            var _a = this.ribbonBBox, width = _a.width, height = _a.height;\n            return this.ifHorizontal({ size: height, length: width }, { size: width, length: height });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.renderRibbon = function (container) {\n        var _a = this.attributes, data = _a.data, type = _a.type, orientation = _a.orientation, color = _a.color, block = _a.block;\n        var ribbonStyle = subStyleProps(this.attributes, 'ribbon');\n        var _b = this.range, min = _b.min, max = _b.max;\n        var _c = this.ribbonBBox, x = _c.x, y = _c.y;\n        var _d = this.ribbonShape, length = _d.length, size = _d.size;\n        var style = deepAssign({\n            transform: \"translate(\".concat(x, \", \").concat(y, \")\"),\n            length: length,\n            size: size,\n            type: type,\n            orientation: orientation,\n            color: color,\n            block: block,\n            partition: data.map(function (d) { return (d.value - min) / (max - min); }),\n            range: this.ribbonRange,\n        }, ribbonStyle);\n        this.ribbon = container.maybeAppendByClassName(CLASS_NAMES.ribbon, function () { return new Ribbon({ style: style }); }).update(style);\n    };\n    Continuous.prototype.getHandleClassName = function (type) {\n        // @ts-ignore\n        return \"\".concat(CLASS_NAMES.prefix(\"\".concat(type, \"-handle\")));\n    };\n    Continuous.prototype.renderHandles = function () {\n        var _a = this.attributes, showHandle = _a.showHandle, orientation = _a.orientation;\n        var handleStyle = subStyleProps(this.attributes, 'handle');\n        var _b = __read(this.selection, 2), min = _b[0], max = _b[1];\n        var style = __assign(__assign({}, handleStyle), { orientation: orientation });\n        var _c = handleStyle.shape, shape = _c === void 0 ? 'slider' : _c;\n        var HandleCtor = shape === 'basic' ? Handle : SliderHandle;\n        var that = this;\n        this.handlesGroup\n            .selectAll(CLASS_NAMES.handle.class)\n            .data(showHandle\n            ? [\n                { value: min, type: 'start' },\n                { value: max, type: 'end' },\n            ]\n            : [], function (d) { return d.type; })\n            .join(function (enter) {\n            return enter\n                .append(function () { return new HandleCtor({ style: style }); })\n                .attr('className', function (_a) {\n                var type = _a.type;\n                return \"\".concat(CLASS_NAMES.handle, \" \").concat(that.getHandleClassName(type));\n            })\n                .each(function (_a) {\n                var type = _a.type, labelText = _a.value;\n                this.update({ labelText: labelText });\n                var name = \"\".concat(type, \"Handle\");\n                that[name] = this;\n                this.addEventListener('pointerdown', that.onDragStart(type));\n            });\n        }, function (update) {\n            return update.update(style).each(function (_a) {\n                var labelText = _a.value;\n                this.update({ labelText: labelText });\n            });\n        }, function (exit) {\n            return exit\n                .each(function (_a) {\n                var type = _a.type;\n                var name = \"\".concat(type, \"Handle\");\n                that[name] = undefined;\n            })\n                .remove();\n        });\n    };\n    Continuous.prototype.adjustHandles = function () {\n        var _a = __read(this.selection, 2), min = _a[0], max = _a[1];\n        this.setHandlePosition('start', min);\n        this.setHandlePosition('end', max);\n    };\n    Object.defineProperty(Continuous.prototype, \"handleBBox\", {\n        get: function () {\n            if (this.cacheHandleBBox)\n                return this.cacheHandleBBox;\n            if (!this.attributes.showHandle)\n                return new BBox(0, 0, 0, 0);\n            var _a = this.startHandle.getBBox(), startHandleWidth = _a.width, startHandleHeight = _a.height;\n            var _b = this.endHandle.getBBox(), endHandleWidth = _b.width, endHandleHeight = _b.height;\n            var _c = __read([Math.max(startHandleWidth, endHandleWidth), Math.max(startHandleHeight, endHandleHeight)], 2), width = _c[0], height = _c[1];\n            this.cacheHandleBBox = new BBox(0, 0, width, height);\n            return this.cacheHandleBBox;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"handleShape\", {\n        /**\n         *  因为 handle label 的宽高是动态的，所以 handle bbox 是第一次渲染时的 bbox\n         */\n        get: function () {\n            var _a = this.handleBBox, width = _a.width, height = _a.height;\n            var _b = __read(this.ifHorizontal([height, width], [width, height]), 2), size = _b[0], length = _b[1];\n            return { width: width, height: height, size: size, length: length };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.setHandlePosition = function (type, value) {\n        var handleFormatter = this.attributes.handleFormatter;\n        var _a = this.ribbonBBox, ribbonX = _a.x, ribbonY = _a.y;\n        var ribbonSize = this.ribbonShape.size;\n        var offset = this.getOffset(value);\n        var _b = __read(this.ifHorizontal([ribbonX + offset, ribbonY + ribbonSize * this.handleOffsetRatio], [ribbonX + ribbonSize * this.handleOffsetRatio, ribbonY + offset]), 2), x = _b[0], y = _b[1];\n        var handle = this.handlesGroup.select(\".\".concat(this.getHandleClassName(type))).node();\n        handle === null || handle === void 0 ? void 0 : handle.update({ transform: \"translate(\".concat(x, \", \").concat(y, \")\"), formatter: handleFormatter });\n    };\n    Continuous.prototype.renderIndicator = function (container) {\n        var style = subStyleProps(this.attributes, 'indicator');\n        this.indicator = container.maybeAppendByClassName(CLASS_NAMES.indicator, function () { return new Indicator({}); }).update(style);\n        // this.hideIndicator();\n    };\n    Object.defineProperty(Continuous.prototype, \"labelData\", {\n        get: function () {\n            var _this = this;\n            var data = this.attributes.data;\n            return data.reduce(function (acc, curr, index, arr) {\n                var _a, _b;\n                var id = (_a = curr === null || curr === void 0 ? void 0 : curr.id) !== null && _a !== void 0 ? _a : index.toString();\n                acc.push(__assign(__assign({}, curr), { id: id, index: index, type: 'value', label: (_b = curr === null || curr === void 0 ? void 0 : curr.label) !== null && _b !== void 0 ? _b : curr.value.toString(), value: _this.ribbonScale.map(curr.value) }));\n                if (index < arr.length - 1) {\n                    var next = arr[index + 1];\n                    var _c = __read([curr.value, next.value], 2), cr = _c[0], nx = _c[1];\n                    var midVal = (cr + nx) / 2;\n                    acc.push(__assign(__assign({}, curr), { id: id, index: index, type: 'range', range: [cr, nx], label: [cr, nx].join('~'), value: _this.ribbonScale.map(midVal) }));\n                }\n                return acc;\n            }, []);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Continuous.prototype, \"labelStyle\", {\n        get: function () {\n            var _a = __read(['center', 'middle'], 2), labelTextAlign = _a[0], labelTextBaseline = _a[1];\n            var labelPosition = this.labelPosition;\n            if (labelPosition === 'top')\n                labelTextBaseline = 'bottom';\n            else if (labelPosition === 'bottom')\n                labelTextBaseline = 'top';\n            else if (labelPosition === 'left')\n                labelTextAlign = 'end';\n            else if (labelPosition === 'right')\n                labelTextAlign = 'start';\n            return {\n                labelTextAlign: labelTextAlign,\n                labelTextBaseline: labelTextBaseline,\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.renderLabel = function (container) {\n        var _a = this.attributes, _b = _a.showTick, showTick = _b === void 0 ? false : _b, labelFilter = _a.labelFilter, labelFormatter = _a.labelFormatter;\n        var tickStyle = subStyleProps(this.attributes, 'tick');\n        var labelStyle = subStyleProps(this.attributes, 'label');\n        var align = labelStyle.align;\n        var style = deepAssign(__assign({ showLine: false, showGrid: false, showTick: showTick, type: 'linear', startPos: [0, 0], endPos: [0, 0], tickDirection: 'negative', labelTransform: 'rotate(0)' }, this.labelStyle), superStyleProps(tickStyle, 'tick'), superStyleProps(labelStyle, 'label'), { data: this.labelData });\n        var functionStyle = {\n            tickFilter: function (datum, index, data) {\n                if ((datum === null || datum === void 0 ? void 0 : datum.type) !== 'value')\n                    return false;\n                if (labelFilter)\n                    return labelFilter(datum, datum.index, data.filter(function (d) { return d.type !== 'value'; }));\n                return true;\n            },\n            labelFilter: function (datum, index, data) {\n                if ((datum === null || datum === void 0 ? void 0 : datum.type) !== align)\n                    return false;\n                if (labelFilter)\n                    return labelFilter(datum, datum.index, data.filter(function (d) { return d.type === align; }));\n                return true;\n            },\n            labelFormatter: labelFormatter,\n        };\n        var finalLabelStyle = __assign(__assign(__assign({}, style), functionStyle), { labelOverlap: [{ type: 'hide' }] });\n        this.label = container.maybeAppendByClassName(CLASS_NAMES.label, function () { return new Axis({ style: finalLabelStyle }); }).node();\n        this.label.update(finalLabelStyle, false);\n    };\n    Object.defineProperty(Continuous.prototype, \"labelAxisStyle\", {\n        get: function () {\n            // @ts-ignore\n            var _a = this.attributes, showTick = _a.showTick, labelDirection = _a.labelDirection, labelSpacing = _a.labelSpacing, definedTickLength = _a.tickLength;\n            var ribbonSize = this.ribbonShape.size;\n            var labelPosition = this.labelPosition;\n            var labelFixedSpacing = this.labelFixedSpacing;\n            var _b = __read([0, 0, 0], 3), offset = _b[0], spacing = _b[1], tickLength = _b[2];\n            var internalVal = definedTickLength !== null && definedTickLength !== void 0 ? definedTickLength : ribbonSize;\n            if (showTick) {\n                tickLength = internalVal;\n                spacing = labelFixedSpacing;\n                if (labelDirection === 'positive') {\n                    if (labelPosition === 'right') {\n                        offset = internalVal;\n                        tickLength = internalVal;\n                    }\n                    else if (labelPosition === 'bottom')\n                        offset = tickLength;\n                }\n                else if (labelDirection === 'negative') {\n                    if (labelPosition === 'top')\n                        offset = ribbonSize;\n                    else if (labelPosition === 'left')\n                        offset = ribbonSize;\n                }\n            }\n            else if (labelDirection === 'positive') {\n                if (labelPosition === 'right')\n                    spacing = internalVal;\n                else if (labelPosition === 'bottom') {\n                    offset = ribbonSize + labelFixedSpacing;\n                    spacing = labelSpacing;\n                }\n            }\n            else if (labelDirection === 'negative') {\n                if (labelPosition === 'left')\n                    spacing = labelSpacing;\n                else if (labelPosition === 'top')\n                    spacing = labelSpacing;\n            }\n            return { offset: offset, spacing: spacing, tickLength: tickLength };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.adjustLabel = function () {\n        var showLabel = this.attributes.showLabel;\n        if (!showLabel)\n            return;\n        var _a = this.ribbonBBox, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        var _b = this.labelAxisStyle, axisOffset = _b.offset, axisSpacing = _b.spacing, axisTickLength = _b.tickLength;\n        var _c = __read(this.ifHorizontal([\n            [x, y + axisOffset],\n            [x + width, y + axisOffset],\n        ], [\n            [x + axisOffset, y + height],\n            [x + axisOffset, y],\n        ]), 2), startPos = _c[0], endPos = _c[1];\n        this.label.update({\n            startPos: startPos,\n            endPos: endPos,\n            tickLength: axisTickLength,\n            labelSpacing: axisSpacing,\n        }, false);\n    };\n    Continuous.prototype.bindEvents = function () {\n        this.style.cursor = 'pointer';\n        // 绑定 drag 开始事件\n        this.ribbon.on('pointerdown', this.onDragStart('ribbon'));\n        this.ribbon.on('pointermove', this.onHovering);\n        this.addEventListener('pointerout', this.hideIndicator);\n    };\n    Continuous.prototype.showIndicator = function (value, text) {\n        if (text === void 0) { text = \"\".concat(value); }\n        var showIndicator = this.attributes.showIndicator;\n        if (!showIndicator || typeof value !== 'number') {\n            this.hideIndicator();\n            return;\n        }\n        var _a = this.range, min = _a.min, max = _a.max;\n        var _b = this.ribbonBBox, x = _b.x, y = _b.y;\n        var safeValue = clamp(value, min, max);\n        var offset = this.getOffset(safeValue);\n        var pos = this.ifHorizontal([offset + x, y], [x, offset + y]);\n        this.indicator.update({\n            x: pos[0],\n            y: pos[1],\n            position: this.ifHorizontal('top', 'left'),\n            labelText: text,\n        });\n        show(this.indicator.node());\n    };\n    Continuous.prototype.hideIndicator = function () {\n        hide(this.indicator.node());\n    };\n    Continuous.prototype.updateMouse = function () {\n        if (this.attributes.slidable)\n            this.style.cursor = 'grabbing';\n    };\n    Continuous.prototype.setSelection = function (start, end) {\n        this.updateSelection(start, end);\n    };\n    Continuous.prototype.updateSelection = function (stVal, endVal, isOffset) {\n        var _a;\n        if (isOffset === void 0) { isOffset = false; }\n        var _b = __read(this.selection, 2), currSt = _b[0], currEnd = _b[1];\n        var _c = __read([stVal, endVal], 2), start = _c[0], end = _c[1];\n        if (isOffset) {\n            // 获取当前值\n            start += currSt;\n            end += currEnd;\n        }\n        // 值校验\n        var _d = this.range, min = _d.min, max = _d.max;\n        _a = __read(getSafetySelections([min, max], [start, end], this.selection), 2), start = _a[0], end = _a[1];\n        this.update({ defaultValue: [start, end] });\n        this.dispatchSelection();\n    };\n    Object.defineProperty(Continuous.prototype, \"step\", {\n        get: function () {\n            var _a = this.attributes.step, step = _a === void 0 ? 1 : _a;\n            var _b = this.range, min = _b.min, max = _b.max;\n            if (isUndefined(step))\n                return toPrecision((max - min) * STEP_RATIO, 0);\n            return step;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Continuous.prototype.getTickValue = function (value) {\n        var _a = this.attributes, data = _a.data, block = _a.block;\n        var min = this.range.min;\n        if (block)\n            return getNextTickValue(data.map(function (_a) {\n                var value = _a.value;\n                return value;\n            }), value).tick;\n        return getStepValueByValue(value, this.step, min);\n    };\n    /**\n     * 事件触发的位置对应的value值\n     */\n    Continuous.prototype.getValueByCanvasPoint = function (e) {\n        var _a = this.range, min = _a.min, max = _a.max;\n        var _b = __read(this.ribbon.node().getPosition(), 2), x = _b[0], y = _b[1];\n        var startPos = this.ifHorizontal(x, y);\n        var currValue = this.ifHorizontal.apply(this, __spreadArray([], __read(getEventPos(e)), false));\n        var offset = currValue - startPos;\n        var value = clamp(this.getOffset(offset, true), min, max);\n        return value;\n    };\n    /** reverse: 屏幕偏移量 -> 值 */\n    Continuous.prototype.getOffset = function (value, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        var _a = this.range, min = _a.min, max = _a.max;\n        var ribbonLen = this.ribbonShape.length;\n        var scale = this.eventToOffsetScale;\n        scale.update({ domain: [min, max], range: [0, ribbonLen] });\n        if (reverse)\n            return scale.invert(value);\n        return scale.map(value);\n    };\n    Continuous.prototype.getRealSelection = function (range) {\n        var max = this.range.max;\n        var _a = __read(range, 2), start = _a[0], end = _a[1];\n        return this.ifHorizontal([start, end], [max - end, max - start]);\n    };\n    Continuous.prototype.getRealValue = function (value) {\n        var max = this.range.max;\n        return this.ifHorizontal(value, max - value);\n    };\n    Continuous.prototype.dispatchSelection = function () {\n        var selection = this.getRealSelection(this.selection);\n        var evt = new CustomEvent('valuechange', {\n            detail: {\n                value: selection,\n            },\n        });\n        this.dispatchEvent(evt);\n    };\n    Continuous.prototype.dispatchIndicated = function (value, range) {\n        var _this = this;\n        var max = this.range.max;\n        var detail = this.ifHorizontal(function () {\n            return {\n                value: value,\n                range: range,\n            };\n        }, function () {\n            return {\n                value: max - value,\n                range: range ? _this.getRealSelection(range) : undefined,\n            };\n        });\n        var evt = new CustomEvent('indicate', {\n            detail: detail,\n        });\n        this.dispatchEvent(evt);\n    };\n    return Continuous;\n}(Component));\nexport { Continuous };\n//# sourceMappingURL=continuous.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { parseColor } from '@antv/g';\nimport { Continuous } from '@antv/component';\nimport { Constant, Quantile, Quantize, Threshold } from '@antv/scale';\nimport { format } from '@antv/vendor/d3-format';\nimport { lastOf } from '../utils/array';\nimport { G2Layout, adaptor, inferComponentLayout, inferComponentShape, isHorizontal, scaleOf, titleContent, } from './utils';\nfunction updateShapeDimensions(shape, finalSize, orientation) {\n    shape.size = finalSize;\n    if (isHorizontal(orientation)) {\n        shape.height = finalSize;\n    }\n    else {\n        shape.width = finalSize;\n    }\n    return shape;\n}\nfunction inferContinuousShape(value, options, component) {\n    const { size } = options;\n    const shape = inferComponentShape(value, options, component);\n    return updateShapeDimensions(shape, size, shape.orientation);\n}\nfunction getFormatter(max) {\n    return (value) => ({\n        value: value / max,\n        label: String(value),\n    });\n}\nfunction getQuantizeOrQuantileConfig(shape, colorScale, min, max, range) {\n    const thresholds = colorScale.thresholds;\n    const formatter = getFormatter(max);\n    return Object.assign(Object.assign({}, shape), { color: range, data: [min, ...thresholds, max].map(formatter) });\n}\nfunction getThresholdConfig(shape, colorScale, range) {\n    const thresholds = colorScale.thresholds;\n    const data = [-Infinity, ...thresholds, Infinity].map((value, index) => ({\n        value: index,\n        label: value,\n    }));\n    return Object.assign(Object.assign({}, shape), { data, color: range, labelFilter: (datum, index) => {\n            return index > 0 && index < data.length - 1;\n        } });\n}\nfunction rangeOf(scale) {\n    const { domain } = scale.getOptions();\n    const [min, max] = [domain[0], lastOf(domain)];\n    return [min, max];\n}\n/**\n * if color scale is not defined, create a constant color scale based on default color\n * @param scale\n * @param theme\n */\nfunction createColorScale(scale, defaultColor) {\n    const options = scale.getOptions();\n    const newScale = scale.clone();\n    newScale.update(Object.assign(Object.assign({}, options), { range: [parseColor(defaultColor).toString()] }));\n    return newScale;\n}\nfunction getLinearConfig(shape, colorScale, sizeScale, opacityScale, scales, theme) {\n    const { length } = shape;\n    const definedScale = sizeScale || opacityScale;\n    // Only use defaultColor when there is no color scale\n    // in this view.\n    const defaultColor = scales.color\n        ? theme.legendContinuous.ribbonFill || 'black'\n        : theme.color;\n    const scale = colorScale || createColorScale(definedScale, defaultColor);\n    const [min, max] = rangeOf(scale);\n    const [domainMin, domainMax] = rangeOf([colorScale, sizeScale, opacityScale]\n        .filter((d) => d !== undefined)\n        .find((d) => !(d instanceof Constant)));\n    return Object.assign(Object.assign({}, shape), { domain: [domainMin, domainMax], data: scale.getTicks().map((value) => ({ value })), color: new Array(Math.floor(length)).fill(0).map((d, i) => {\n            const value = ((max - min) / (length - 1)) * i + min;\n            const color = scale.map(value) || defaultColor;\n            const opacity = opacityScale ? opacityScale.map(value) : 1;\n            return color.replace(/rgb[a]*\\(([\\d]{1,3}) *, *([\\d]{1,3}) *, *([\\d]{1,3})[\\S\\s]*\\)/, (match, p1, p2, p3) => `rgba(${p1}, ${p2}, ${p3}, ${opacity})`);\n        }) });\n}\nfunction inferContinuousConfig(scales, scale, value, options, component, theme) {\n    const colorScale = scaleOf(scales, 'color');\n    const shape = inferContinuousShape(value, options, component);\n    if (colorScale instanceof Threshold) {\n        const { range } = colorScale.getOptions();\n        const [min, max] = rangeOf(colorScale);\n        // for quantize, quantile scale\n        if (colorScale instanceof Quantize || colorScale instanceof Quantile) {\n            return getQuantizeOrQuantileConfig(shape, colorScale, min, max, range);\n        }\n        // for threshold\n        return getThresholdConfig(shape, colorScale, range);\n    }\n    // for linear, pow, sqrt, log, time, utc scale\n    const sizeScale = scaleOf(scales, 'size');\n    const opacityScale = scaleOf(scales, 'opacity');\n    return getLinearConfig(shape, colorScale, sizeScale, opacityScale, scale, theme);\n}\n/**\n * Guide Component for continuous color scale.\n * @todo Custom style.\n */\nexport const LegendContinuous = (options) => {\n    const { labelFormatter, layout, order, orientation, position, size, title, style, crossPadding, padding } = options, rest = __rest(options, [\"labelFormatter\", \"layout\", \"order\", \"orientation\", \"position\", \"size\", \"title\", \"style\", \"crossPadding\", \"padding\"]);\n    return ({ scales, value, theme, scale }) => {\n        const { bbox } = value;\n        const { x, y, width, height } = bbox;\n        const finalLayout = inferComponentLayout(position, layout);\n        const { legendContinuous: legendTheme = {} } = theme;\n        const finalStyle = adaptor(Object.assign({}, legendTheme, Object.assign(Object.assign({ titleText: titleContent(title), labelAlign: 'value', labelFormatter: typeof labelFormatter === 'string'\n                ? (d) => format(labelFormatter)(d.label)\n                : labelFormatter }, inferContinuousConfig(scales, scale, value, options, LegendContinuous, theme)), style), rest));\n        const layoutWrapper = new G2Layout({\n            style: Object.assign(Object.assign({ x,\n                y,\n                width,\n                height }, finalLayout), { \n                // @ts-ignore\n                subOptions: finalStyle }),\n        });\n        layoutWrapper.appendChild(new Continuous({\n            className: 'legend-continuous',\n            style: finalStyle,\n        }));\n        return layoutWrapper;\n    };\n};\nLegendContinuous.props = {\n    defaultPosition: 'top',\n    defaultOrientation: 'vertical',\n    defaultOrder: 1,\n    defaultSize: 60,\n    defaultLength: 200,\n    defaultLegendSize: 60,\n    defaultPadding: [20, 10],\n    defaultCrossPadding: [12, 12], // [horizontal, vertical]\n};\n//# sourceMappingURL=legendContinuous.js.map","import { Group } from '@antv/g';\n// A empty component to pass parse view tree stage.\nexport const Legends = (options) => {\n    return () => {\n        return new Group();\n    };\n};\nLegends.props = {};\n//# sourceMappingURL=legends.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { applyStyle } from '../shape/utils';\nimport { subObject } from '../utils/helper';\nimport { createComponent, maybeAppend } from './utils';\nfunction inferStyleByAlign(x, y, width, align) {\n    switch (align) {\n        case 'center':\n            return {\n                x: x + width / 2,\n                y,\n                textAlign: 'middle',\n            };\n        case 'right':\n            return {\n                x: x + width,\n                y,\n                textAlign: 'right',\n            };\n        default:\n            return {\n                x,\n                y,\n                textAlign: 'left',\n            };\n    }\n}\nconst Title = createComponent({\n    render(attributes, container) {\n        const { width, title, subtitle, spacing = 2, align = 'left', x, y } = attributes, style = __rest(attributes, [\"width\", \"title\", \"subtitle\", \"spacing\", \"align\", \"x\", \"y\"]);\n        container.style.transform = `translate(${x}, ${y})`;\n        const titleStyle = subObject(style, 'title');\n        const subtitleStyle = subObject(style, 'subtitle');\n        const mainTitle = maybeAppend(container, '.title', 'text')\n            .attr('className', 'title')\n            .call(applyStyle, Object.assign(Object.assign(Object.assign({}, inferStyleByAlign(0, 0, width, align)), { fontSize: 14, textBaseline: 'top', text: title }), titleStyle))\n            .node();\n        const bounds = mainTitle.getLocalBounds();\n        maybeAppend(container, '.sub-title', 'text')\n            .attr('className', 'sub-title')\n            .call((selection) => {\n            if (!subtitle)\n                return selection.node().remove();\n            selection.node().attr(Object.assign(Object.assign(Object.assign({}, inferStyleByAlign(0, bounds.max[1] + spacing, width, align)), { fontSize: 12, textBaseline: 'top', text: subtitle }), subtitleStyle));\n        });\n    },\n});\n/**\n * Title Component.\n */\nexport const TitleComponent = (options) => {\n    return ({ value, theme }) => {\n        const { x, y, width, height } = value.bbox;\n        return new Title({\n            style: deepMix({}, theme.title, Object.assign({ x,\n                y,\n                width,\n                height }, options)),\n        });\n    };\n};\nTitleComponent.props = {\n    defaultPosition: 'top',\n    defaultOrder: 2,\n    defaultSize: 36,\n    defaultCrossPadding: [20, 20],\n    defaultPadding: [12, 12],\n};\n//# sourceMappingURL=title.js.map","import { bisectLeft, sort } from '@antv/vendor/d3-array';\nfunction constrain(x, lo, hi) {\n    return Math.min(hi, Math.max(lo, x));\n}\nexport function isOrdinalScale(scale) {\n    return !!scale.getBandWidth;\n}\nexport function invert(scale, x, start) {\n    if (!isOrdinalScale(scale))\n        return scale.invert(x);\n    const { adjustedRange } = scale;\n    const { domain } = scale.getOptions();\n    const offset = start ? -1 : 0;\n    const step = scale.getStep();\n    const range = start ? adjustedRange : adjustedRange.map((d) => d + step);\n    // R[i0 - 1] < x <= R[i0]\n    const i0 = bisectLeft(range, x);\n    const i1 = constrain(i0 + offset, 0, domain.length - 1);\n    return domain[i1];\n}\nexport function domainOf(scale, values, ratioX) {\n    if (!values)\n        return scale.getOptions().domain;\n    if (!isOrdinalScale(scale)) {\n        const sortedDomain = sort(values);\n        if (!ratioX)\n            return sortedDomain;\n        const [d] = sortedDomain;\n        const { range } = scale.getOptions();\n        const [r0, r1] = range;\n        const v = r0 > r1 ? -1 : 1;\n        const d1 = scale.invert(scale.map(d) + v * ratioX);\n        return [d, d1];\n    }\n    const { domain } = scale.getOptions();\n    const v1 = values[0];\n    const start = domain.indexOf(v1);\n    if (ratioX) {\n        const end = start + Math.round(domain.length * ratioX);\n        return domain.slice(start, end);\n    }\n    const v2 = values[values.length - 1];\n    const end = domain.indexOf(v2);\n    return domain.slice(start, end + 1);\n}\nexport function selectionOf(x, y, x1, y1, scale, coordinate) {\n    const { x: scaleX, y: scaleY } = scale;\n    const abstractDomain = (point, start) => {\n        const [x, y] = coordinate.invert(point);\n        return [invert(scaleX, x, start), invert(scaleY, y, start)];\n    };\n    const p0 = abstractDomain([x, y], true);\n    const p1 = abstractDomain([x1, y1], false);\n    const domainX = domainOf(scaleX, [p0[0], p1[0]]);\n    const domainY = domainOf(scaleY, [p0[1], p1[1]]);\n    return [domainX, domainY];\n}\nexport function abstractOf(domain, scale) {\n    const [d0, d1] = domain;\n    const maybeStep = (scale) => (scale.getStep ? scale.getStep() : 0);\n    return [scale.map(d0), scale.map(d1) + maybeStep(scale)];\n}\nexport function pixelsOf(selection, scale, coordinate) {\n    const { x: scaleX, y: scaleY } = scale;\n    const [X, Y] = selection;\n    const AX = abstractOf(X, scaleX);\n    const AY = abstractOf(Y, scaleY);\n    const p0 = [AX[0], AY[0]];\n    const p1 = [AX[1], AY[1]];\n    const [x, y] = coordinate.map(p0);\n    const [x1, y1] = coordinate.map(p1);\n    return [x, y, x1, y1];\n}\n//# sourceMappingURL=scale.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Slider as SliderComponent } from '@antv/component';\nimport { format } from '@antv/vendor/d3-format';\nimport { isArray } from '@antv/util';\nimport { isTranspose } from '../utils/coordinate';\nimport { invert } from '../utils/scale';\nfunction inferPosition(bbox, position, trackSize) {\n    const { x, y, width, height } = bbox;\n    if (position === 'left')\n        return [x + width - trackSize, y];\n    if (position === 'right')\n        return [x, y];\n    if (position === 'bottom')\n        return [x, y];\n    if (position === 'top')\n        return [x, y + height - trackSize];\n}\n/**\n * Slider component.\n */\nexport const Slider = (options) => {\n    // do not pass size.\n    const { orientation, labelFormatter, size, style = {}, position } = options, rest = __rest(options, [\"orientation\", \"labelFormatter\", \"size\", \"style\", \"position\"]);\n    return (context) => {\n        var _a;\n        const { scales: [scale], value, theme, coordinate, } = context;\n        const { bbox } = value;\n        const { width, height } = bbox;\n        const { slider: sliderTheme = {} } = theme;\n        const defaultFormatter = ((_a = scale.getFormatter) === null || _a === void 0 ? void 0 : _a.call(scale)) || ((v) => v + '');\n        const formatter = typeof labelFormatter === 'string'\n            ? format(labelFormatter)\n            : labelFormatter;\n        const isHorizontal = orientation === 'horizontal';\n        const reverse = isTranspose(coordinate) && isHorizontal;\n        const { trackSize = sliderTheme.trackSize } = style;\n        const [x0, y0] = inferPosition(bbox, position, trackSize);\n        return new SliderComponent({\n            className: 'slider',\n            style: Object.assign({}, sliderTheme, Object.assign(Object.assign({ x: x0, y: y0, trackLength: isHorizontal ? width : height, orientation, formatter: (v) => {\n                    const f = formatter || defaultFormatter;\n                    const v1 = reverse ? 1 - v : v;\n                    const tick = invert(scale, v1, true);\n                    return f(tick);\n                }, sparklineData: inferSparklineData(options, context) }, style), rest)),\n        });\n    };\n};\nfunction markValue(markState, channels) {\n    const [value] = Array.from(markState.entries())\n        .filter(([mark]) => mark.type === 'line' || mark.type === 'area')\n        .filter(([mark]) => mark.slider)\n        .map(([mark]) => {\n        const { encode, slider } = mark;\n        if (slider === null || slider === void 0 ? void 0 : slider.x) {\n            const channel = (name) => {\n                const channel = encode[name];\n                return [name, channel ? channel.value : undefined];\n            };\n            return Object.fromEntries(channels.map(channel));\n        }\n    });\n    if (!(value === null || value === void 0 ? void 0 : value.series))\n        return value === null || value === void 0 ? void 0 : value.y;\n    const result = value.series.reduce((acc, curr, index) => {\n        acc[curr] = acc[curr] || [];\n        acc[curr].push(value.y[index]);\n        return acc;\n    }, {});\n    return Object.values(result);\n}\nfunction inferSparklineData(options, context) {\n    const { markState } = context;\n    if (isArray(options.sparklineData))\n        return options.sparklineData;\n    return markValue(markState, ['y', 'series']);\n}\nSlider.props = {\n    defaultPosition: 'bottom',\n    defaultSize: 24,\n    defaultOrder: 1,\n    defaultCrossPadding: [12, 12],\n    defaultPadding: [12, 12],\n};\n//# sourceMappingURL=slider.js.map","import { Slider } from './slider';\n/**\n * SliderX component.\n */\nexport const SliderX = (options) => {\n    return Slider(Object.assign(Object.assign({}, options), { orientation: 'horizontal' }));\n};\nSliderX.props = Object.assign(Object.assign({}, Slider.props), { defaultPosition: 'bottom' });\n//# sourceMappingURL=sliderX.js.map","import { Slider } from './slider';\n/**\n * SliderY component.\n */\nexport const SliderY = (options) => {\n    return Slider(Object.assign(Object.assign({}, options), { orientation: 'vertical' }));\n};\nSliderY.props = Object.assign(Object.assign({}, Slider.props), { defaultPosition: 'left' });\n//# sourceMappingURL=sliderY.js.map","import { __assign, __extends, __read } from \"tslib\";\nimport { CustomEvent } from '@antv/g';\nimport { clamp } from '@antv/util';\nimport { Component } from '../../core';\nimport { getEventPos, parseSeriesAttr, select, subStyleProps, superStyleProps } from '../../util';\nimport { Slider } from '../slider';\nvar Scrollbar = /** @class */ (function (_super) {\n    __extends(Scrollbar, _super);\n    function Scrollbar(options) {\n        var _this = _super.call(this, options, {\n            x: 0,\n            y: 0,\n            isRound: true,\n            orientation: 'vertical',\n            padding: [2, 2, 2, 2],\n            scrollable: true,\n            slidable: true,\n            thumbCursor: 'default',\n            trackSize: 10,\n            value: 0,\n        }) || this;\n        _this.range = [0, 1];\n        /**\n         * 值改变事件\n         */\n        _this.onValueChange = function (oldValue) {\n            var newValue = _this.attributes.value;\n            if (oldValue === newValue)\n                return;\n            var evtVal = {\n                detail: {\n                    oldValue: oldValue,\n                    value: newValue,\n                },\n            };\n            _this.dispatchEvent(new CustomEvent('scroll', evtVal));\n            _this.dispatchEvent(new CustomEvent('valuechange', evtVal));\n        };\n        /**\n         * 点击轨道事件\n         */\n        _this.onTrackClick = function (e) {\n            var slidable = _this.attributes.slidable;\n            if (!slidable)\n                return;\n            var _a = __read(_this.getLocalPosition(), 2), x = _a[0], y = _a[1];\n            var _b = __read(_this.padding, 4), top = _b[0], left = _b[3];\n            var basePos = _this.getOrientVal([x + left, y + top]);\n            var clickPos = _this.getOrientVal(getEventPos(e));\n            var value = (clickPos - basePos) / _this.trackLength;\n            _this.setValue(value, true);\n        };\n        _this.onThumbMouseenter = function (e) {\n            _this.dispatchEvent(new CustomEvent('thumbMouseenter', { detail: e.detail }));\n        };\n        _this.onTrackMouseenter = function (e) {\n            _this.dispatchEvent(new CustomEvent('trackMouseenter', { detail: e.detail }));\n        };\n        _this.onThumbMouseleave = function (e) {\n            _this.dispatchEvent(new CustomEvent('thumbMouseleave', { detail: e.detail }));\n        };\n        _this.onTrackMouseleave = function (e) {\n            _this.dispatchEvent(new CustomEvent('trackMouseleave', { detail: e.detail }));\n        };\n        return _this;\n    }\n    Object.defineProperty(Scrollbar.prototype, \"padding\", {\n        get: function () {\n            var padding = this.attributes.padding;\n            return parseSeriesAttr(padding);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scrollbar.prototype, \"value\", {\n        get: function () {\n            var value = this.attributes.value;\n            var _a = __read(this.range, 2), min = _a[0], max = _a[1];\n            return clamp(value, min, max);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scrollbar.prototype, \"trackLength\", {\n        get: function () {\n            var _a = this.attributes, viewportLength = _a.viewportLength, _b = _a.trackLength, trackLength = _b === void 0 ? viewportLength : _b;\n            return trackLength;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scrollbar.prototype, \"availableSpace\", {\n        get: function () {\n            var trackSize = this.attributes.trackSize;\n            var trackLength = this.trackLength;\n            var _a = __read(this.padding, 4), top = _a[0], right = _a[1], bottom = _a[2], left = _a[3];\n            var _b = __read(this.getOrientVal([\n                [trackLength, trackSize],\n                [trackSize, trackLength],\n            ]), 2), width = _b[0], height = _b[1];\n            return {\n                x: left,\n                y: top,\n                width: +width - (left + right),\n                height: +height - (top + bottom),\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scrollbar.prototype, \"trackRadius\", {\n        get: function () {\n            var _a = this.attributes, isRound = _a.isRound, trackSize = _a.trackSize;\n            if (!isRound)\n                return 0;\n            return trackSize / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scrollbar.prototype, \"thumbRadius\", {\n        get: function () {\n            var _a = this.attributes, isRound = _a.isRound, thumbRadius = _a.thumbRadius;\n            if (!isRound)\n                return 0;\n            var _b = this.availableSpace, width = _b.width, height = _b.height;\n            return thumbRadius || this.getOrientVal([height, width]) / 2;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * accord to thumbLen and value, calculate the values of slider\n     */\n    Scrollbar.prototype.getValues = function (value) {\n        if (value === void 0) { value = this.value; }\n        var _a = this.attributes, viewportLength = _a.viewportLength, contentLength = _a.contentLength;\n        var unit = viewportLength / contentLength;\n        var _b = __read(this.range, 2), min = _b[0], max = _b[1];\n        var start = value * (max - min - unit);\n        return [start, start + unit];\n    };\n    Scrollbar.prototype.getValue = function () {\n        return this.value;\n    };\n    Scrollbar.prototype.renderSlider = function (container) {\n        var _a = this.attributes, x = _a.x, y = _a.y, orientation = _a.orientation, trackSize = _a.trackSize, padding = _a.padding, slidable = _a.slidable;\n        var trackStyle = subStyleProps(this.attributes, 'track');\n        var selectionStyle = subStyleProps(this.attributes, 'thumb');\n        var style = __assign(__assign({ x: x, y: y, brushable: false, orientation: orientation, padding: padding, selectionRadius: this.thumbRadius, showHandle: false, slidable: slidable, trackLength: this.trackLength, trackRadius: this.trackRadius, trackSize: trackSize, values: this.getValues() }, superStyleProps(trackStyle, 'track')), superStyleProps(selectionStyle, 'selection'));\n        this.slider = select(container)\n            .maybeAppendByClassName('scrollbar', function () { return new Slider({ style: style }); })\n            .update(style)\n            .node();\n    };\n    Scrollbar.prototype.render = function (attributes, container) {\n        this.renderSlider(container);\n    };\n    /**\n     * 设置value\n     * @param value 当前位置的占比\n     */\n    Scrollbar.prototype.setValue = function (value, animate) {\n        if (animate === void 0) { animate = false; }\n        var oldValue = this.attributes.value;\n        var _a = __read(this.range, 2), min = _a[0], max = _a[1];\n        this.slider.setValues(this.getValues(clamp(value, min, max)), animate);\n        // 通知触发valueChange\n        // todo 调用 setValue 不触发 valuechange\n        this.onValueChange(oldValue);\n    };\n    Scrollbar.prototype.bindEvents = function () {\n        var _this = this;\n        this.slider.addEventListener('trackClick', function (e) {\n            e.stopPropagation();\n            _this.onTrackClick(e.detail);\n        });\n        this.onHover();\n    };\n    /**\n     * 根据orient取出对应轴向上的值\n     * 主要用于取鼠标坐标在orient方向上的位置\n     */\n    Scrollbar.prototype.getOrientVal = function (values) {\n        var orientation = this.attributes.orientation;\n        return orientation === 'horizontal' ? values[0] : values[1];\n    };\n    /**\n     * 悬浮事件\n     */\n    Scrollbar.prototype.onHover = function () {\n        this.slider.addEventListener('selectionMouseenter', this.onThumbMouseenter);\n        this.slider.addEventListener('trackMouseenter', this.onTrackMouseenter);\n        this.slider.addEventListener('selectionMouseleave', this.onThumbMouseleave);\n        this.slider.addEventListener('trackMouseleave', this.onTrackMouseleave);\n    };\n    Scrollbar.tag = 'scrollbar';\n    return Scrollbar;\n}(Component));\nexport { Scrollbar };\n//# sourceMappingURL=index.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Scrollbar as ScrollbarComponent } from '@antv/component';\n/**\n * Scrollbar component.\n */\nexport const Scrollbar = (options) => {\n    const { orientation, labelFormatter, style } = options, rest = __rest(options, [\"orientation\", \"labelFormatter\", \"style\"]);\n    return ({ scales: [scale], value, theme }) => {\n        const { bbox } = value;\n        const { x, y, width, height } = bbox;\n        const { scrollbar: scrollbarTheme = {} } = theme;\n        const { ratio, range } = scale.getOptions();\n        const mainSize = orientation === 'horizontal' ? width : height;\n        const actualSize = mainSize / ratio;\n        const [r0, r1] = range;\n        const value1 = r1 > r0 ? 0 : 1;\n        return new ScrollbarComponent({\n            className: 'g2-scrollbar',\n            style: Object.assign({}, scrollbarTheme, Object.assign(Object.assign(Object.assign(Object.assign({}, style), { x,\n                y, trackLength: mainSize, value: value1 }), rest), { orientation, contentLength: actualSize, viewportLength: mainSize })),\n        });\n    };\n};\nScrollbar.props = {\n    defaultPosition: 'bottom',\n    defaultSize: 24,\n    defaultOrder: 1,\n    defaultCrossPadding: [12, 12],\n    defaultPadding: [12, 12],\n};\n//# sourceMappingURL=scrollbar.js.map","import { Scrollbar } from './scrollbar';\n/**\n * ScrollbarX component.\n */\nexport const ScrollbarX = (options) => {\n    return Scrollbar(Object.assign(Object.assign({}, options), { orientation: 'horizontal' }));\n};\nScrollbarX.props = Object.assign(Object.assign({}, Scrollbar.props), { defaultPosition: 'bottom' });\n//# sourceMappingURL=scrollbarX.js.map","import { Scrollbar } from './scrollbar';\n/**\n * ScrollbarY component.\n */\nexport const ScrollbarY = (options) => {\n    return Scrollbar(Object.assign(Object.assign({}, options), { orientation: 'vertical' }));\n};\nScrollbarY.props = Object.assign(Object.assign({}, Scrollbar.props), { defaultPosition: 'left' });\n//# sourceMappingURL=scrollbarY.js.map","import { isTranspose } from '../utils/coordinate';\n/**\n * Scale mark from nothing to desired shape in x direction.\n */\nexport const ScaleInX = (options, context) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    const { coordinate } = context;\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = shape.style;\n        const [transformOrigin, transform] = isTranspose(coordinate)\n            ? [`left bottom`, `scale(1, ${ZERO})`] // left-bottom corner\n            : [`left top`, `scale(${ZERO}, 1)`]; // left-top corner\n        // Using a short fadeIn transition to hide element with scale(0.001)\n        // which is still visible.\n        const keyframes = [\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.01,\n            },\n            {\n                transform: `${prefix} scale(1, 1)`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        return animation;\n    };\n};\n//# sourceMappingURL=scaleInX.js.map","import { isTranspose } from '../utils/coordinate';\n/**\n * Scale mark from desired shape to nothing in x direction.\n */\nexport const ScaleOutX = (options, context) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    const { coordinate } = context;\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = shape.style;\n        const [transformOrigin, transform] = isTranspose(coordinate)\n            ? [`left bottom`, `scale(1, ${ZERO})`] // left-bottom corner\n            : [`left top`, `scale(${ZERO}, 1)`]; // left-top corner\n        // Using a short fadeIn transition to hide element with scale(0.001)\n        // which is still visible.\n        const keyframes = [\n            {\n                transform: `${prefix} scale(1, 1)`.trimStart(),\n                transformOrigin,\n            },\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.99,\n            },\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        return animation;\n    };\n};\n//# sourceMappingURL=scaleOutX.js.map","import { CSS, PropertySyntax } from '@antv/g';\nimport { isTranspose, isPolar } from '../utils/coordinate';\nimport { getArcObject } from '../shape/utils';\n/**\n * Scale mark from nothing to desired shape in y direction.\n */\nexport const ScaleInY = (options, context) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    const { coordinate } = context;\n    // the polar coordinate need\n    CSS.registerProperty({\n        name: 'scaleInYRadius',\n        inherits: false,\n        initialValue: '',\n        interpolable: true,\n        syntax: PropertySyntax.NUMBER,\n    });\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const PolarScaleInY = (shape) => {\n            const { __data__, style } = shape;\n            const { fillOpacity = 1, strokeOpacity = 1, opacity = 1 } = style;\n            const { points, y, y1 } = __data__;\n            const arcObject = getArcObject(coordinate, points, [y, y1]);\n            const { innerRadius, outerRadius } = arcObject;\n            const keyframes = [\n                {\n                    scaleInYRadius: innerRadius + ZERO,\n                    fillOpacity: 0,\n                    strokeOpacity: 0,\n                    opacity: 0,\n                },\n                {\n                    scaleInYRadius: innerRadius + ZERO,\n                    fillOpacity,\n                    strokeOpacity,\n                    opacity,\n                    offset: 0.01,\n                },\n                {\n                    scaleInYRadius: outerRadius,\n                    fillOpacity,\n                    strokeOpacity,\n                    opacity,\n                },\n            ];\n            const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n            return animation;\n        };\n        const RectangularScaleInY = (shape) => {\n            const { style } = shape;\n            const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = style;\n            const [transformOrigin, transform] = isTranspose(coordinate)\n                ? [`left top`, `scale(${ZERO}, 1)`] // left-top corner\n                : [`left bottom`, `scale(1, ${ZERO})`]; // left-bottom corner\n            // Using a short fadeIn transition to hide element with scale(0.001)\n            // which is still visible.\n            const keyframes = [\n                {\n                    transform: `${prefix} ${transform}`.trimStart(),\n                    transformOrigin,\n                    fillOpacity: 0,\n                    strokeOpacity: 0,\n                    opacity: 0,\n                },\n                {\n                    transform: `${prefix} ${transform}`.trimStart(),\n                    transformOrigin,\n                    fillOpacity,\n                    strokeOpacity,\n                    opacity,\n                    offset: 0.01,\n                },\n                {\n                    transform: `${prefix} scale(1, 1)`.trimStart(),\n                    transformOrigin,\n                    fillOpacity,\n                    strokeOpacity,\n                    opacity,\n                },\n            ];\n            const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n            return animation;\n        };\n        if (isPolar(coordinate)) {\n            return PolarScaleInY(shape);\n        }\n        else {\n            return RectangularScaleInY(shape);\n        }\n    };\n};\n//# sourceMappingURL=scaleInY.js.map","import { isTranspose } from '../utils/coordinate';\n/**\n * Scale mark from desired shape to nothing in y direction.\n */\nexport const ScaleOutY = (options, context) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    const { coordinate } = context;\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = shape.style;\n        const [transformOrigin, transform] = isTranspose(coordinate)\n            ? [`left top`, `scale(${ZERO}, 1)`] // left-top corner\n            : [`left bottom`, `scale(1, ${ZERO})`]; // left-bottom corner\n        // Using a short fadeIn transition to hide element with scale(0.001)\n        // which is still visible.\n        const keyframes = [\n            {\n                transform: `${prefix} scale(1, 1)`.trimStart(),\n                transformOrigin,\n            },\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.99,\n            },\n            {\n                transform: `${prefix} ${transform}`.trimStart(),\n                transformOrigin,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        return animation;\n    };\n};\n//# sourceMappingURL=scaleOutY.js.map","import { arc } from '@antv/vendor/d3-shape';\nimport { CSS, PropertySyntax } from '@antv/g';\nimport { getArcObject } from '../shape/utils';\nimport { isPolar } from '../utils/coordinate';\nimport { ScaleInX } from './scaleInX';\n/**\n * Transform mark from transparent to solid.\n */\nexport const WaveIn = (options, context) => {\n    const ZERO = 0.0001;\n    // @see https://g-next.antv.vision/zh/docs/api/css/css-properties-values-api#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7\n    CSS.registerProperty({\n        name: 'waveInArcAngle',\n        inherits: false,\n        initialValue: '',\n        interpolable: true,\n        syntax: PropertySyntax.NUMBER,\n    });\n    const { coordinate } = context;\n    return (from, to, defaults) => {\n        const [shape] = from;\n        if (!isPolar(coordinate)) {\n            return ScaleInX(options, context)(from, to, defaults);\n        }\n        const { __data__, style } = shape;\n        const { radius = 0, inset = 0, fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = style;\n        const { points, y, y1 } = __data__;\n        const path = arc()\n            .cornerRadius(radius)\n            .padAngle((inset * Math.PI) / 180);\n        const arcObject = getArcObject(coordinate, points, [y, y1]);\n        const { startAngle, endAngle } = arcObject;\n        const keyframes = [\n            // Use custom interpolable CSS property.\n            {\n                waveInArcAngle: startAngle + ZERO,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n            {\n                waveInArcAngle: startAngle + ZERO,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.01,\n            },\n            {\n                waveInArcAngle: endAngle,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        animation.onframe = function () {\n            shape.style.d = path(Object.assign(Object.assign({}, arcObject), { endAngle: Number(shape.style.waveInArcAngle) }));\n        };\n        animation.onfinish = function () {\n            shape.style.d = path(Object.assign(Object.assign({}, arcObject), { endAngle: endAngle }));\n        };\n        return animation;\n    };\n};\nWaveIn.props = {};\n//# sourceMappingURL=waveIn.js.map","/**\n * Transform mark from transparent to solid.\n */\nexport const FadeIn = (options) => {\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { fillOpacity = 1, strokeOpacity = 1, opacity = 1 } = shape.style;\n        const keyframes = [\n            { fillOpacity: 0, strokeOpacity: 0, opacity: 0 },\n            {\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n            },\n        ];\n        return shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n    };\n};\nFadeIn.props = {};\n//# sourceMappingURL=fadeIn.js.map","/**\n * Transform mark from solid to transparent.\n */\nexport const FadeOut = (options) => {\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { fillOpacity = 1, strokeOpacity = 1, opacity = 1 } = shape.style;\n        const keyframes = [\n            {\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n            },\n            { fillOpacity: 0, strokeOpacity: 0, opacity: 0 },\n        ];\n        return shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n    };\n};\nFadeOut.props = {};\n//# sourceMappingURL=fadeOut.js.map","export const ZoomIn = (options) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = shape.style;\n        const transformOrigin = 'center center';\n        const keyframes = [\n            {\n                transform: `${prefix} scale(${ZERO})`.trimStart(),\n                transformOrigin,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n            {\n                transform: `${prefix} scale(${ZERO})`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.01,\n            },\n            {\n                transform: `${prefix} scale(1)`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        return animation;\n    };\n};\n//# sourceMappingURL=zoomIn.js.map","export const ZoomOut = (options) => {\n    // Small enough to hide or show very small part of mark,\n    // but bigger enough to not cause bug.\n    const ZERO = 0.0001;\n    return (from, _, defaults) => {\n        const [shape] = from;\n        const { transform: prefix = '', fillOpacity = 1, strokeOpacity = 1, opacity = 1, } = shape.style;\n        const transformOrigin = 'center center';\n        const keyframes = [\n            { transform: `${prefix} scale(1)`.trimStart(), transformOrigin },\n            {\n                transform: `${prefix} scale(${ZERO})`.trimStart(),\n                transformOrigin,\n                fillOpacity,\n                strokeOpacity,\n                opacity,\n                offset: 0.99,\n            },\n            {\n                transform: `${prefix} scale(${ZERO})`.trimStart(),\n                transformOrigin,\n                fillOpacity: 0,\n                strokeOpacity: 0,\n                opacity: 0,\n            },\n        ];\n        const animation = shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n        return animation;\n    };\n};\n//# sourceMappingURL=zoomOut.js.map","/**\n * Transform mark from transparent to solid.\n */\nexport const PathIn = (options) => {\n    return (from, _, defaults) => {\n        var _a, _b;\n        const [shape] = from;\n        const length = ((_b = (_a = shape).getTotalLength) === null || _b === void 0 ? void 0 : _b.call(_a)) || 0;\n        const keyframes = [\n            { lineDash: [0, length] },\n            { lineDash: [length, 0] },\n        ];\n        return shape.animate(keyframes, Object.assign(Object.assign({}, defaults), options));\n    };\n};\nPathIn.props = {};\n//# sourceMappingURL=pathIn.js.map","import { Shape } from '@antv/g';\nconst DEFAULT_ATTRIBUTE_VALUE = {\n    opacity: 1,\n    strokeOpacity: 1,\n    fillOpacity: 1,\n    lineWidth: 0,\n    x: 0,\n    y: 0,\n    cx: 0,\n    cy: 0,\n    r: 0,\n    rx: 0,\n    ry: 0,\n    width: 0,\n    height: 0,\n};\nexport const GEOMETRY_ATTRIBUTES = {\n    [Shape.CIRCLE]: ['cx', 'cy', 'r'],\n    [Shape.ELLIPSE]: ['cx', 'cy', 'rx', 'ry'],\n    [Shape.RECT]: ['x', 'y', 'width', 'height'],\n    [Shape.IMAGE]: ['x', 'y', 'width', 'height'],\n    [Shape.LINE]: ['x1', 'y1', 'x2', 'y2'],\n    [Shape.POLYLINE]: ['points'],\n    [Shape.POLYGON]: ['points'],\n};\nexport function attributeOf(shape, keys, useDefaultValue = false) {\n    const attribute = {};\n    for (const key of keys) {\n        const value = shape.style[key];\n        if (value) {\n            attribute[key] = value;\n        }\n        else if (useDefaultValue) {\n            attribute[key] = DEFAULT_ATTRIBUTE_VALUE[key];\n        }\n    }\n    return attribute;\n}\nexport const attributeKeys = [\n    'fill',\n    'stroke',\n    'fillOpacity',\n    'strokeOpacity',\n    'opacity',\n    'lineWidth',\n];\n//# sourceMappingURL=utils.js.map","import { convertToPath, Path, Shape, } from '@antv/g';\nimport { get } from '@antv/util';\nimport { copyAttributes } from '../utils/helper';\nimport { attributeKeys, attributeOf, GEOMETRY_ATTRIBUTES } from './utils';\nfunction localBBoxOf(shape) {\n    const { min, max } = shape.getLocalBounds();\n    const [x0, y0] = min;\n    const [x1, y1] = max;\n    const height = y1 - y0;\n    const width = x1 - x0;\n    return [x0, y0, width, height];\n}\nfunction d(bbox) {\n    const [x, y, width, height] = bbox;\n    return `\n    M ${x} ${y}\n    L ${x + width} ${y}\n    L ${x + width} ${y + height}\n    L ${x} ${y + height}\n    Z\n  `;\n}\nfunction pack(shape, count) {\n    const [x0, y0, width, height] = localBBoxOf(shape);\n    const aspect = height / width;\n    const col = Math.ceil(Math.sqrt(count / aspect));\n    const row = Math.ceil(count / col);\n    const B = [];\n    const h = height / row;\n    let j = 0;\n    let n = count;\n    while (n > 0) {\n        const c = Math.min(n, col);\n        const w = width / c;\n        for (let i = 0; i < c; i++) {\n            const x = x0 + i * w;\n            const y = y0 + j * h;\n            B.push(d([x, y, w, h]));\n        }\n        n -= c;\n        j += 1;\n    }\n    return B;\n}\nfunction normalizeSplit(split = 'pack') {\n    if (typeof split == 'function')\n        return split;\n    return pack;\n}\n/**\n * Use attributes relative to geometry to do shape to shape animation.\n *\n * For example, the x, y, width, height of `Rect`, the cx, cy, r of `Circle`.\n * And for `Group`, it will use the bbox of the group.\n */\nfunction shapeToShape(from, to, timeEffect) {\n    let { transform: fromTransform } = from.style;\n    const { transform: toTransform } = to.style;\n    // Replace first to get right bbox after mounting.\n    replaceChild(to, from);\n    let keys = attributeKeys;\n    if (from.nodeName === Shape.GROUP) {\n        // Apply translate and scale transform.\n        const [x0, y0, w0, h0] = localBBoxOf(from);\n        const [x1, y1, w1, h1] = localBBoxOf(to);\n        const dx = x0 - x1;\n        const dy = y0 - y1;\n        const sx = w0 / w1;\n        const sy = h0 / h1;\n        fromTransform = `translate(${dx}, ${dy}) scale(${sx}, ${sy})`;\n    }\n    else {\n        keys = keys.concat(GEOMETRY_ATTRIBUTES[from.nodeName] || []);\n    }\n    const keyframes = [\n        Object.assign({ transform: fromTransform !== null && fromTransform !== void 0 ? fromTransform : 'none' }, attributeOf(from, keys, true)),\n        Object.assign({ transform: toTransform !== null && toTransform !== void 0 ? toTransform : 'none' }, attributeOf(to, keys, true)),\n    ];\n    const animation = to.animate(keyframes, timeEffect);\n    return animation;\n}\n/**\n * Replace object and copy className and __data__\n */\nfunction replaceChild(newChild, oldChild) {\n    newChild['__data__'] = oldChild['__data__'];\n    newChild.className = oldChild.className;\n    // @ts-ignore\n    newChild.markType = oldChild.markType;\n    oldChild.parentNode.replaceChild(newChild, oldChild);\n}\n/**\n * Replace element with a path shape.\n */\nfunction maybePath(node, d) {\n    const { nodeName } = node;\n    if (nodeName === 'path')\n        return node;\n    const path = new Path({\n        style: Object.assign(Object.assign({}, attributeOf(node, attributeKeys)), { d }),\n    });\n    replaceChild(path, node);\n    return path;\n}\nfunction hasUniqueString(search, pattern) {\n    const first = search.indexOf(pattern);\n    const last = search.lastIndexOf(pattern);\n    return first === last;\n}\n// Path definition with multiple m and M command has sub path.\n// eg. 'M10,10...M20,20', 'm10,10...m20,20'\nfunction hasSubPath(path) {\n    return !hasUniqueString(path, 'm') || !hasUniqueString(path, 'M');\n}\nfunction shape2path(shape) {\n    const path = convertToPath(shape);\n    if (!path)\n        return;\n    // Path definition with sub path can't do path morphing animation,\n    // so skip this kind of path.\n    if (hasSubPath(path))\n        return;\n    return path;\n}\n// Check if the path has a markerEnd | markerStart\nfunction hasMarker(shape) {\n    const { nodeName } = shape;\n    if (nodeName === 'path') {\n        const attributes = get(shape, 'attributes');\n        return attributes.markerEnd || attributes.markerStart;\n    }\n    return false;\n}\nfunction oneToOne(shape, from, to, timeEffect) {\n    // If the nodeTypes of from and to are equal,\n    // or non of them can convert to path,\n    // the apply shape to shape animation.\n    const { nodeName: fromName } = from;\n    const { nodeName: toName } = to;\n    const fromPath = shape2path(from);\n    const toPath = shape2path(to);\n    const isSameNodes = fromName === toName && fromName !== 'path';\n    const hasNonPathNode = fromPath === undefined || toPath === undefined;\n    // Path with mark can not use animate like ordinary path.\n    const isPathWithMarker = hasMarker(from) || hasMarker(to);\n    if (isSameNodes || hasNonPathNode || isPathWithMarker)\n        return shapeToShape(from, to, timeEffect);\n    const pathShape = maybePath(shape, fromPath);\n    // Convert Path will take transform, anchor, etc into account,\n    // so there is no need to specify these attributes in keyframes.\n    const keyframes = [\n        Object.assign({}, attributeOf(from, attributeKeys)),\n        Object.assign({}, attributeOf(to, attributeKeys)),\n    ];\n    if (fromPath !== toPath) {\n        keyframes[0].d = fromPath;\n        keyframes[1].d = toPath;\n        const animation = pathShape.animate(keyframes, timeEffect);\n        animation.onfinish = () => {\n            // Should keep the original path definition.\n            copyAttributes(pathShape, to);\n            pathShape.style.d = toPath;\n            pathShape.style.transform = 'none';\n        };\n        // Remove transform because it already applied in path\n        // converted by convertToPath.\n        pathShape.style.transform = 'none';\n        return animation;\n    }\n    // No need to apply animation since fromPath equals toPath.\n    return null;\n}\nfunction oneToMultiple(from, to, timeEffect, split) {\n    // Hide the shape to be split before being removing.\n    from.style.visibility = 'hidden';\n    const D = split(from, to.length);\n    return to.map((shape, i) => {\n        const path = new Path({\n            style: Object.assign({ d: D[i] }, attributeOf(from, attributeKeys)),\n        });\n        return oneToOne(shape, path, shape, timeEffect);\n    });\n}\nfunction multipleToOne(from, to, timeEffect, split) {\n    const D = split(to, from.length);\n    const { fillOpacity = 1, strokeOpacity = 1, opacity = 1 } = to.style;\n    const keyframes = [\n        { fillOpacity: 0, strokeOpacity: 0, opacity: 0 },\n        { fillOpacity: 0, strokeOpacity: 0, opacity: 0, offset: 0.99 },\n        {\n            fillOpacity,\n            strokeOpacity,\n            opacity,\n        },\n    ];\n    const animation = to.animate(keyframes, timeEffect);\n    const animations = from.map((shape, i) => {\n        const path = new Path({\n            style: {\n                d: D[i],\n                fill: to.style.fill,\n            },\n        });\n        return oneToOne(shape, shape, path, timeEffect);\n    });\n    return [...animations, animation];\n}\n/**\n * Morphing animations.\n * @todo Support more split function.\n */\nexport const Morphing = (options) => {\n    return (from, to, defaults) => {\n        const split = normalizeSplit(options.split);\n        const timeEffect = Object.assign(Object.assign({}, defaults), options);\n        const { length: fl } = from;\n        const { length: tl } = to;\n        if ((fl === 1 && tl === 1) || (fl > 1 && tl > 1)) {\n            const [f] = from;\n            const [t] = to;\n            return oneToOne(f, f, t, timeEffect);\n        }\n        if (fl === 1 && tl > 1) {\n            const [f] = from;\n            return oneToMultiple(f, to, timeEffect, split);\n        }\n        if (fl > 1 && tl === 1) {\n            const [t] = to;\n            return multipleToOne(from, t, timeEffect, split);\n        }\n        return null;\n    };\n};\nMorphing.props = {};\n//# sourceMappingURL=morphing.js.map","import { Path } from '@antv/g';\nimport { ScaleInX } from './scaleInX';\n/**\n * Scale mark from nothing to desired shape in x direction.\n */\nexport const GrowInX = (options, context) => {\n    return (from, to, defaults) => {\n        const [shape] = from;\n        const { min: [x, y], halfExtents, } = shape.getLocalBounds();\n        const width = halfExtents[0] * 2;\n        const height = halfExtents[1] * 2;\n        const clipPath = new Path({\n            style: {\n                d: `M${x},${y}L${x + width},${y}L${x + width},${y + height}L${x},${y + height}Z`,\n            },\n        });\n        shape.appendChild(clipPath);\n        shape.style.clipPath = clipPath;\n        const animation = ScaleInX(options, context)([clipPath], to, defaults);\n        return animation;\n    };\n};\nGrowInX.props = {};\n//# sourceMappingURL=growInX.js.map","import { Path } from '@antv/g';\nimport { ScaleInY } from './scaleInY';\n/**\n * Scale mark from nothing to desired shape in x direction.\n */\nexport const GrowInY = (options, context) => {\n    return (from, to, defaults) => {\n        const [shape] = from;\n        const { min: [x, y], halfExtents, } = shape.getLocalBounds();\n        const width = halfExtents[0] * 2;\n        const height = halfExtents[1] * 2;\n        const clipPath = new Path({\n            style: {\n                d: `M${x},${y}L${x + width},${y}L${x + width},${y + height}L${x},${y + height}Z`,\n            },\n        });\n        shape.appendChild(clipPath);\n        shape.style.clipPath = clipPath;\n        const animation = ScaleInY(options, context)([clipPath], to, defaults);\n        return animation;\n    };\n};\nGrowInY.props = {};\n//# sourceMappingURL=growInY.js.map","export const MAIN_LAYER_CLASS_NAME = 'main-layer';\nexport const LABEL_LAYER_CLASS_NAME = 'label-layer';\nexport const ELEMENT_CLASS_NAME = 'element';\nexport const VIEW_CLASS_NAME = 'view';\nexport const PLOT_CLASS_NAME = 'plot';\nexport const COMPONENT_CLASS_NAME = 'component';\nexport const LABEL_CLASS_NAME = 'label';\nexport const AREA_CLASS_NAME = 'area';\nexport const MASK_CLASS_NAME = 'mask';\n//# sourceMappingURL=constant.js.map","const defaultStyle = {\n    visibility: 'visible',\n    opacity: 1,\n    fillOpacity: 1,\n    strokeOpacity: 1,\n};\nexport function getStyle(element, key) {\n    var _a;\n    return (_a = element.style[key]) !== null && _a !== void 0 ? _a : defaultStyle[key];\n}\nexport function setStyle(element, key, value, recursive) {\n    element.style[key] = value;\n    if (recursive) {\n        element.children.forEach((child) => setStyle(child, key, value, recursive));\n    }\n}\nexport function hide(element) {\n    setStyle(element, 'visibility', 'hidden', true);\n}\nexport function show(element) {\n    setStyle(element, 'visibility', 'visible', true);\n}\n//# sourceMappingURL=style.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Path, AABB } from '@antv/g';\nimport { path as d3Path } from '@antv/vendor/d3-path';\nimport { sort, bisector } from '@antv/vendor/d3-array';\nimport { filter } from '@antv/util';\nimport { select } from '../utils/selection';\nimport { mapObject } from '../utils/array';\nimport { ELEMENT_CLASS_NAME, PLOT_CLASS_NAME, } from '../runtime';\nimport { isOrdinalScale } from '../utils/scale';\nimport { rect } from '../shape/interval/color';\nimport { isPolar, isTranspose } from '../utils/coordinate';\nimport { getStyle } from '../utils/style';\nimport { reorder } from '../shape/utils';\nimport { angle, angleBetween, sub } from '../utils/vector';\n/**\n * Given root of chart returns elements to be manipulated\n */\nexport function selectG2Elements(root) {\n    return select(root)\n        .selectAll(`.${ELEMENT_CLASS_NAME}`)\n        .nodes()\n        .filter((d) => !d.__removed__);\n}\nexport function selectFacetG2Elements(target, viewInstances) {\n    return selectFacetViews(target, viewInstances).flatMap(({ container }) => selectG2Elements(container));\n}\nexport function selectFacetViews(target, viewInstances) {\n    return viewInstances.filter((d) => d !== target && d.options.parentKey === target.options.key);\n}\nexport function selectPlotArea(root) {\n    return select(root).select(`.${PLOT_CLASS_NAME}`).node();\n}\nexport function bboxOf(element) {\n    // The geometry bounds of a group is empty, so return the render bounds.\n    if (element.tagName === 'g')\n        return element.getRenderBounds();\n    // Compute the geometry bounds related to the parent.\n    const bounds = element.getGeometryBounds();\n    const aabb = new AABB();\n    aabb.setFromTransformedAABB(bounds, element.getWorldTransform());\n    return aabb;\n}\nexport function mousePosition(target, event) {\n    const { offsetX, offsetY } = event;\n    const bbox = bboxOf(target);\n    const { min: [x, y], max: [x1, y1], } = bbox;\n    const isOutX = offsetX < x || offsetX > x1;\n    const isOutY = offsetY < y || offsetY > y1;\n    if (isOutX || isOutY)\n        return null;\n    return [offsetX - x, offsetY - y];\n}\n/**\n * @todo Pass bbox rather than calc it here.\n */\nexport function brushMousePosition(target, event) {\n    const { offsetX, offsetY } = event;\n    const [x, y, x1, y1] = boundsOfBrushArea(target);\n    return [\n        Math.min(x1, Math.max(x, offsetX)) - x,\n        Math.min(y1, Math.max(y, offsetY)) - y,\n    ];\n}\nexport function boundsOfBrushArea(target) {\n    // Calc bbox after clipping.\n    const bbox = target.getRenderBounds();\n    const { min: [x0, y0], max: [x1, y1], } = bbox;\n    return [x0, y0, x1, y1];\n}\nexport function createColorKey(view) {\n    return (element) => element.__data__.color;\n}\nexport function createXKey(view) {\n    return (element) => element.__data__.x;\n}\nexport function createDatumof(view) {\n    const views = Array.isArray(view) ? view : [view];\n    const keyData = new Map(views.flatMap((view) => {\n        const marks = Array.from(view.markState.keys());\n        return marks.map((mark) => [keyed(view.key, mark.key), mark.data]);\n    }));\n    return (element) => {\n        const { index, markKey, viewKey } = element.__data__;\n        const data = keyData.get(keyed(viewKey, markKey));\n        return data[index];\n    };\n}\n/**\n * A state manager for G2Element.\n * The keys for each state's style start with the state name.\n * { selectedFill, selectedStroke } is for selected state.\n * { unselectedFill, unselectedStroke } is for unselected state.\n */\nexport function useState(style, valueof = (d, element) => d, setAttribute = (element, key, v) => element.setAttribute(key, v)) {\n    const STATES = '__states__';\n    const ORIGINAL = '__ordinal__';\n    // Mix style for each state and apply it to element.\n    const updateState = (element) => {\n        const { [STATES]: states = [], [ORIGINAL]: original = {} } = element;\n        const stateStyle = states.reduce((mixedStyle, state) => (Object.assign(Object.assign({}, mixedStyle), style[state])), original);\n        if (Object.keys(stateStyle).length === 0)\n            return;\n        for (const [key, value] of Object.entries(stateStyle)) {\n            const currentValue = getStyle(element, key);\n            const v = valueof(value, element);\n            setAttribute(element, key, v);\n            // Store the attribute if it does not exist in original.\n            if (!(key in original))\n                original[key] = currentValue;\n        }\n        element[ORIGINAL] = original;\n    };\n    const initState = (element) => {\n        if (element[STATES])\n            return;\n        element[STATES] = [];\n        return;\n    };\n    /**\n     * Set the states and update element.\n     */\n    const setState = (element, ...states) => {\n        initState(element);\n        element[STATES] = [...states];\n        updateState(element);\n    };\n    /**\n     * Remove the states and update element.\n     */\n    const removeState = (element, ...states) => {\n        initState(element);\n        for (const state of states) {\n            const index = element[STATES].indexOf(state);\n            if (index !== -1) {\n                element[STATES].splice(index, 1);\n            }\n        }\n        updateState(element);\n    };\n    const hasState = (element, state) => {\n        initState(element);\n        return element[STATES].indexOf(state) !== -1;\n    };\n    return {\n        setState,\n        removeState,\n        hasState,\n    };\n}\nfunction isEmptyObject(obj) {\n    if (obj === undefined)\n        return true;\n    if (typeof obj !== 'object')\n        return false;\n    return Object.keys(obj).length === 0;\n}\n// A function to generate key for mark each view.\nfunction keyed(viewKey, markKey) {\n    return `${viewKey},${markKey}`;\n}\nexport function mergeState(options, states) {\n    // Index state by mark key and view key.\n    const views = Array.isArray(options) ? options : [options];\n    const markState = views.flatMap((view) => view.marks.map((mark) => [keyed(view.key, mark.key), mark.state]));\n    const state = {};\n    // Update each specified state.\n    for (const descriptor of states) {\n        const [key, defaults] = Array.isArray(descriptor)\n            ? descriptor\n            : [descriptor, {}];\n        // Update each specified mark state.\n        state[key] = markState.reduce((merged, mark) => {\n            // Normalize state.\n            const [markKey, markState = {}] = mark;\n            const selectedState = isEmptyObject(markState[key])\n                ? defaults\n                : markState[key];\n            // Update each state attribute.\n            for (const [attr, value] of Object.entries(selectedState)) {\n                const oldValue = merged[attr];\n                const newValue = (data, index, array, element) => {\n                    const k = keyed(element.__data__.viewKey, element.__data__.markKey);\n                    if (markKey !== k)\n                        return oldValue === null || oldValue === void 0 ? void 0 : oldValue(data, index, array, element);\n                    if (typeof value !== 'function')\n                        return value;\n                    return value(data, index, array, element);\n                };\n                merged[attr] = newValue;\n            }\n            return merged;\n        }, {});\n    }\n    return state;\n}\n// @todo Support elements from different view.\nexport function createValueof(elements, datum) {\n    const elementIndex = new Map(elements.map((d, i) => [d, i]));\n    const fa = datum ? elements.map(datum) : elements;\n    return (d, e) => {\n        if (typeof d !== 'function')\n            return d;\n        const i = elementIndex.get(e);\n        const fe = datum ? datum(e) : e;\n        return d(fe, i, fa, e);\n    };\n}\nexport function renderLink(_a) {\n    var { link = false, valueof = (d, element) => d, coordinate } = _a, style = __rest(_a, [\"link\", \"valueof\", \"coordinate\"]);\n    const LINK_CLASS_NAME = 'element-link';\n    if (!link)\n        return [() => { }, () => { }];\n    const pointsOf = (element) => element.__data__.points;\n    const pathPointsOf = (P0, P1) => {\n        const [, p1, p2] = P0;\n        const [p0, , , p3] = P1;\n        const P = [p1, p0, p3, p2];\n        return P;\n    };\n    const append = (elements) => {\n        var _a;\n        if (elements.length <= 1)\n            return;\n        // Sort elements by normalized x to avoid cross.\n        const sortedElements = sort(elements, (e0, e1) => {\n            const { x: x0 } = e0.__data__;\n            const { x: x1 } = e1.__data__;\n            const dx = x0 - x1;\n            return dx;\n        });\n        for (let i = 1; i < sortedElements.length; i++) {\n            const p = d3Path();\n            const e0 = sortedElements[i - 1];\n            const e1 = sortedElements[i];\n            const [p0, p1, p2, p3] = pathPointsOf(pointsOf(e0), pointsOf(e1));\n            p.moveTo(...p0);\n            p.lineTo(...p1);\n            p.lineTo(...p2);\n            p.lineTo(...p3);\n            p.closePath();\n            const _b = mapObject(style, (d) => valueof(d, e0)), { fill = e0.getAttribute('fill') } = _b, rest = __rest(_b, [\"fill\"]);\n            const link = new Path({\n                className: LINK_CLASS_NAME,\n                style: Object.assign({ d: p.toString(), fill, zIndex: -2 }, rest),\n            });\n            // @ts-ignore\n            (_a = e0.link) === null || _a === void 0 ? void 0 : _a.remove();\n            e0.parentNode.appendChild(link);\n            // @ts-ignore\n            e0.link = link;\n        }\n    };\n    const remove = (element) => {\n        var _a;\n        (_a = element.link) === null || _a === void 0 ? void 0 : _a.remove();\n        element.link = null;\n    };\n    return [append, remove];\n}\n// Apply translate to mock slice out.\nexport function offsetTransform(element, offset, coordinate) {\n    const append = (t) => {\n        const { transform } = element.style;\n        return transform ? `${transform} ${t}` : t;\n    };\n    if (isPolar(coordinate)) {\n        const { points } = element.__data__;\n        const [p0, p1] = isTranspose(coordinate) ? reorder(points) : points;\n        const center = coordinate.getCenter();\n        const v0 = sub(p0, center);\n        const v1 = sub(p1, center);\n        const a0 = angle(v0);\n        const da = angleBetween(v0, v1);\n        const amid = a0 + da / 2;\n        const dx = offset * Math.cos(amid);\n        const dy = offset * Math.sin(amid);\n        return append(`translate(${dx}, ${dy})`);\n    }\n    if (isTranspose(coordinate))\n        return append(`translate(${offset}, 0)`);\n    return append(`translate(0, ${-offset})`);\n}\nexport function renderBackground(_a) {\n    var { document, background, scale, coordinate, valueof } = _a, rest = __rest(_a, [\"document\", \"background\", \"scale\", \"coordinate\", \"valueof\"]);\n    const BACKGROUND_CLASS_NAME = 'element-background';\n    // Don't have background.\n    if (!background)\n        return [() => { }, () => { }];\n    const extentOf = (scale, x, padding) => {\n        const ax = scale.invert(x);\n        const mid = x + scale.getBandWidth(ax) / 2;\n        const half = scale.getStep(ax) / 2;\n        const offset = half * padding;\n        return [mid - half + offset, mid + half - offset];\n    };\n    const sizeXOf = (element, padding) => {\n        const { x: scaleX } = scale;\n        if (!isOrdinalScale(scaleX))\n            return [0, 1];\n        const { __data__: data } = element;\n        const { x } = data;\n        const [e1, e2] = extentOf(scaleX, x, padding);\n        return [e1, e2];\n    };\n    const sizeYOf = (element, padding) => {\n        const { y: scaleY } = scale;\n        if (!isOrdinalScale(scaleY))\n            return [0, 1];\n        const { __data__: data } = element;\n        const { y } = data;\n        const [e1, e2] = extentOf(scaleY, y, padding);\n        return [e1, e2];\n    };\n    const bandShapeOf = (element, style) => {\n        const { padding } = style;\n        const [x1, x2] = sizeXOf(element, padding);\n        const [y1, y2] = sizeYOf(element, padding);\n        const points = [\n            [x1, y1],\n            [x2, y1],\n            [x2, y2],\n            [x1, y2],\n        ].map((d) => coordinate.map(d));\n        const { __data__: data } = element;\n        const { y: dy, y1: dy1 } = data;\n        return rect(document, points, { y: dy, y1: dy1 }, coordinate, style);\n    };\n    // Shape without ordinal style.\n    // Clone and scale it.\n    const cloneShapeOf = (element, style) => {\n        const { transform = 'scale(1.2, 1.2)', transformOrigin = 'center center', stroke = '' } = style, rest = __rest(style, [\"transform\", \"transformOrigin\", \"stroke\"]);\n        const finalStyle = Object.assign({ transform, transformOrigin, stroke }, rest);\n        const shape = element.cloneNode(true);\n        for (const [key, value] of Object.entries(finalStyle)) {\n            shape.style[key] = value;\n        }\n        return shape;\n    };\n    const isOrdinalShape = () => {\n        const { x, y } = scale;\n        return [x, y].some(isOrdinalScale);\n    };\n    const append = (element) => {\n        if (element.background)\n            element.background.remove();\n        const _a = mapObject(rest, (d) => valueof(d, element)), { fill = '#CCD6EC', fillOpacity = 0.3, zIndex = -2, padding = 0.001, lineWidth = 0 } = _a, style = __rest(_a, [\"fill\", \"fillOpacity\", \"zIndex\", \"padding\", \"lineWidth\"]);\n        const finalStyle = Object.assign(Object.assign({}, style), { fill,\n            fillOpacity,\n            zIndex,\n            padding,\n            lineWidth });\n        const shapeOf = isOrdinalShape() ? bandShapeOf : cloneShapeOf;\n        const shape = shapeOf(element, finalStyle);\n        shape.className = BACKGROUND_CLASS_NAME;\n        element.parentNode.parentNode.appendChild(shape);\n        element.background = shape;\n    };\n    const remove = (element) => {\n        var _a;\n        (_a = element.background) === null || _a === void 0 ? void 0 : _a.remove();\n        element.background = null;\n    };\n    const is = (element) => {\n        return element.className === BACKGROUND_CLASS_NAME;\n    };\n    return [append, remove, is];\n}\nexport function setCursor(root, cursor) {\n    // @ts-ignore\n    const canvas = root.getRootNode().defaultView;\n    const dom = canvas.getContextService().getDomElement();\n    if (dom === null || dom === void 0 ? void 0 : dom.style) {\n        root.cursor = dom.style.cursor;\n        dom.style.cursor = cursor;\n    }\n}\nexport function restoreCursor(root) {\n    setCursor(root, root.cursor);\n}\nexport function selectElementByData(elements, data, datum) {\n    return elements.find((d) => Object.entries(data).every(([key, value]) => datum(d)[key] === value));\n}\nexport function getPointsR(point, nextPoint) {\n    return Math.sqrt(Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2));\n}\n// Points create path.\nexport function getPointsPath(points, isClose = false) {\n    const path = filter(points, (d) => !!d).map((d, i) => {\n        return [i === 0 ? 'M' : 'L', ...d];\n    });\n    if (isClose) {\n        path.push(['Z']);\n    }\n    return path;\n}\n// Get element.\nexport function getElements(plot) {\n    return plot.querySelectorAll('.element');\n}\n// Get Theta coordinate round path.\nexport function getThetaPath(center, points, isBig = 0) {\n    const path = [['M', ...points[1]]];\n    const innerRadius = getPointsR(center, points[1]);\n    const outerRadius = getPointsR(center, points[0]);\n    if (innerRadius === 0) {\n        path.push(['L', ...points[3]], ['A', outerRadius, outerRadius, 0, isBig, 1, ...points[0]], ['Z']);\n    }\n    else {\n        path.push(['A', innerRadius, innerRadius, 0, isBig, 0, ...points[2]], ['L', ...points[3]], ['A', outerRadius, outerRadius, 0, isBig, 1, ...points[0]], ['Z']);\n    }\n    return path;\n}\nexport function maybeRoot(node, rootOf) {\n    if (rootOf(node))\n        return node;\n    let root = node.parent;\n    while (root && !rootOf(root))\n        root = root.parent;\n    return root;\n}\nexport const VALID_FIND_BY_X_MARKS = ['interval', 'point', 'density'];\n/**\n * @description Create function that can find element by event.\n * @returns Element find function.\n */\nexport function createFindElementByEvent({ elementsof, root, coordinate, scale, validFindByXMarks = VALID_FIND_BY_X_MARKS, }) {\n    var _a, _b;\n    let elements = elementsof(root);\n    const getValidFindByXMarks = (d) => validFindByXMarks.includes(d.markType);\n    const hasValidFindByXMarks = elements.find(getValidFindByXMarks);\n    // Try to find element by x position.\n    if (hasValidFindByXMarks) {\n        elements = elements.filter(getValidFindByXMarks);\n        const scaleX = scale.x;\n        const scaleSeries = scale.series;\n        const bandWidth = (_b = (_a = scaleX === null || scaleX === void 0 ? void 0 : scaleX.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(scaleX)) !== null && _b !== void 0 ? _b : 0;\n        const xof = scaleSeries\n            ? (d) => {\n                const seriesCount = Math.round(1 / scaleSeries.valueBandWidth);\n                return (d.__data__.x +\n                    d.__data__.series * bandWidth +\n                    bandWidth / (seriesCount * 2));\n            }\n            : (d) => d.__data__.x + bandWidth / 2;\n        // Sort for bisector search.\n        elements.sort((a, b) => xof(a) - xof(b));\n        return (event) => {\n            const mouse = mousePosition(root, event);\n            if (!mouse)\n                return;\n            const [abstractX] = coordinate.invert(mouse);\n            const search = bisector(xof).center;\n            const i = search(elements, abstractX);\n            const target = elements[i];\n            return target;\n        };\n    }\n    // If there is no valid element find by x, just return the target element.\n    return (event) => {\n        const { target } = event;\n        return maybeRoot(target, (node) => {\n            if (!node.classList)\n                return false;\n            return node.classList.includes('element');\n        });\n    };\n}\n//# sourceMappingURL=utils.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { group } from '@antv/vendor/d3-array';\nimport { subObject } from '../utils/helper';\nimport { createDatumof, createValueof, mergeState, offsetTransform, renderBackground, renderLink, selectElementByData, selectG2Elements, selectPlotArea, useState, } from './utils';\n/**\n * highlight a group of elements.\n */\nexport function elementHighlight(root, { elements: elementsof, // given the root of chart returns elements to be manipulated\ndatum, // given each element returns the datum of it\ngroupKey = (d) => d, // group elements by specified key\nlink = false, // draw link or not\nbackground = false, // draw background or not\ndelay = 60, // delay to unhighlighted element\nscale, coordinate, emitter, state = {}, }) {\n    var _a;\n    const elements = elementsof(root);\n    const elementSet = new Set(elements);\n    const keyGroup = group(elements, groupKey);\n    const valueof = createValueof(elements, datum);\n    const [appendLink, removeLink] = renderLink(Object.assign({ elements,\n        valueof,\n        link,\n        coordinate }, subObject(state.active, 'link')));\n    const [appendBackground, removeBackground, isBackground] = renderBackground(Object.assign({ document: root.ownerDocument, scale,\n        coordinate,\n        background,\n        valueof }, subObject(state.active, 'background')));\n    const elementStyle = deepMix(state, {\n        active: Object.assign({}, (((_a = state.active) === null || _a === void 0 ? void 0 : _a.offset) && {\n            //Apply translate to mock slice out.\n            transform: (...params) => {\n                const value = state.active.offset(...params);\n                const [, i] = params;\n                return offsetTransform(elements[i], value, coordinate);\n            },\n        })),\n    });\n    const { setState, removeState, hasState } = useState(elementStyle, valueof);\n    let out; // Timer for delaying unhighlighted.\n    const pointerover = (event) => {\n        const { target: element, nativeEvent = true } = event;\n        if (!elementSet.has(element))\n            return;\n        if (out)\n            clearTimeout(out);\n        const k = groupKey(element);\n        const group = keyGroup.get(k);\n        const groupSet = new Set(group);\n        for (const e of elements) {\n            if (groupSet.has(e)) {\n                if (!hasState(e, 'active'))\n                    setState(e, 'active');\n            }\n            else {\n                setState(e, 'inactive');\n                removeLink(e);\n            }\n            if (e !== element)\n                removeBackground(e);\n        }\n        appendBackground(element);\n        appendLink(group);\n        // Emit events.\n        if (!nativeEvent)\n            return;\n        emitter.emit('element:highlight', {\n            nativeEvent,\n            data: {\n                data: datum(element),\n                group: group.map(datum),\n            },\n        });\n    };\n    const delayUnhighlighted = () => {\n        if (out)\n            clearTimeout(out);\n        out = setTimeout(() => {\n            unhighlighted();\n            out = null;\n        }, delay);\n    };\n    const unhighlighted = (nativeEvent = true) => {\n        for (const e of elements) {\n            removeState(e, 'active', 'inactive');\n            removeBackground(e);\n            removeLink(e);\n        }\n        if (nativeEvent) {\n            emitter.emit('element:unhighlight', { nativeEvent });\n        }\n    };\n    const pointerout = (event) => {\n        const { target: element } = event;\n        if (background && !isBackground(element))\n            return;\n        if (!background && !elementSet.has(element))\n            return;\n        if (delay > 0)\n            delayUnhighlighted();\n        else\n            unhighlighted();\n    };\n    const pointerleave = () => {\n        unhighlighted();\n    };\n    root.addEventListener('pointerover', pointerover);\n    root.addEventListener('pointerout', pointerout);\n    root.addEventListener('pointerleave', pointerleave);\n    const onRest = (e) => {\n        const { nativeEvent } = e;\n        if (nativeEvent)\n            return;\n        unhighlighted(false);\n    };\n    const onHighlight = (e) => {\n        const { nativeEvent } = e;\n        if (nativeEvent)\n            return;\n        const { data } = e.data;\n        const element = selectElementByData(elements, data, datum);\n        if (!element)\n            return;\n        pointerover({ target: element, nativeEvent: false });\n    };\n    emitter.on('element:highlight', onHighlight);\n    emitter.on('element:unhighlight', onRest);\n    return () => {\n        root.removeEventListener('pointerover', pointerover);\n        root.removeEventListener('pointerout', pointerout);\n        root.removeEventListener('pointerleave', pointerleave);\n        emitter.off('element:highlight', onHighlight);\n        emitter.off('element:unhighlight', onRest);\n        for (const e of elements) {\n            removeBackground(e);\n            removeLink(e);\n        }\n    };\n}\nexport function ElementHighlight(_a) {\n    var { delay, createGroup, background = false, link = false } = _a, rest = __rest(_a, [\"delay\", \"createGroup\", \"background\", \"link\"]);\n    return (context, _, emitter) => {\n        const { container, view, options } = context;\n        const { scale, coordinate } = view;\n        const plotArea = selectPlotArea(container);\n        return elementHighlight(plotArea, Object.assign({ elements: selectG2Elements, datum: createDatumof(view), groupKey: createGroup ? createGroup(view) : undefined, coordinate,\n            scale, state: mergeState(options, [\n                ['active', background ? {} : { lineWidth: '1', stroke: '#000' }],\n                'inactive',\n            ]), background,\n            link,\n            delay,\n            emitter }, rest));\n    };\n}\nElementHighlight.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementHighlight.js.map","import { createXKey } from './utils';\nimport { ElementHighlight } from './elementHighlight';\nexport function ElementHighlightByX(options) {\n    return ElementHighlight(Object.assign(Object.assign({}, options), { createGroup: createXKey }));\n}\nElementHighlightByX.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementHighlightByX.js.map","import { createColorKey } from './utils';\nimport { ElementHighlight } from './elementHighlight';\nexport function ElementHighlightByColor(options) {\n    return ElementHighlight(Object.assign(Object.assign({}, options), { createGroup: createColorKey }));\n}\nElementHighlightByColor.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementHighlightByColor.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { group } from '@antv/vendor/d3-array';\nimport { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { createValueof, createDatumof, selectG2Elements, useState, renderLink, renderBackground, selectPlotArea, offsetTransform, mergeState, selectElementByData, createXKey, createFindElementByEvent, VALID_FIND_BY_X_MARKS, } from './utils';\n/**\n * Active a group of elements.\n */\nexport function elementSelect(root, { elements: elementsof, // given the root of chart returns elements to be manipulated\ndatum, // given each element returns the datum of it\ngroupKey = (d) => d, // group elements by specified key\nregionGroupKey = (d) => d, // how to group elements when click region\nlink = false, // draw link or not\nsingle = false, // single select or not\nmultipleSelectHotkey, // hotkey for multi-select mode\ncoordinate, background = false, scale, emitter, state = {}, region = false, }) {\n    var _a;\n    const elements = elementsof(root);\n    const elementSet = new Set(elements);\n    const findElement = createFindElementByEvent({\n        elementsof,\n        root,\n        coordinate,\n        scale,\n    });\n    const keyGroup = group(elements, groupKey);\n    const regionGroup = group(elements, regionGroupKey);\n    const valueof = createValueof(elements, datum);\n    const [appendLink, removeLink] = renderLink(Object.assign({ link,\n        elements,\n        valueof,\n        coordinate }, subObject(state.selected, 'link')));\n    const [appendBackground, removeBackground] = renderBackground(Object.assign({ document: root.ownerDocument, background,\n        coordinate,\n        scale,\n        valueof }, subObject(state.selected, 'background')));\n    const elementStyle = deepMix(state, {\n        selected: Object.assign({}, (((_a = state.selected) === null || _a === void 0 ? void 0 : _a.offset) && {\n            // Apply translate to mock slice out.\n            transform: (...params) => {\n                const value = state.selected.offset(...params);\n                const [, i] = params;\n                return offsetTransform(elements[i], value, coordinate);\n            },\n        })),\n    });\n    const { setState, removeState, hasState } = useState(elementStyle, valueof);\n    let isMultiSelectMode = !single; // \"single\" determines whether to multi-select by default\n    let activeHotkey = null; // Track the currently active hotkey\n    const clear = (nativeEvent = true) => {\n        for (const e of elements) {\n            removeState(e, 'selected', 'unselected');\n            removeLink(e);\n            removeBackground(e);\n        }\n        if (nativeEvent)\n            emitter.emit('element:unselect', { nativeEvent: true });\n        return;\n    };\n    const singleSelect = ({ event, element, nativeEvent = true, filter = (el) => true, groupBy = groupKey, groupMap = keyGroup, }) => {\n        const filteredElements = elements.filter(filter);\n        // Clear states if clicked selected element.\n        if (hasState(element, 'selected'))\n            clear();\n        else {\n            const k = groupBy(element);\n            const group = groupMap.get(k);\n            const groupSet = new Set(group);\n            for (const e of filteredElements) {\n                if (groupSet.has(e))\n                    setState(e, 'selected');\n                else {\n                    setState(e, 'unselected');\n                    removeLink(e);\n                }\n                if (e !== element)\n                    removeBackground(e);\n            }\n            appendLink(group);\n            appendBackground(element);\n            if (!nativeEvent)\n                return;\n            emitter.emit('element:select', Object.assign(Object.assign({}, event), { nativeEvent, data: {\n                    data: [datum(element), ...group.map(datum)],\n                } }));\n        }\n    };\n    const multipleSelect = ({ event, element, nativeEvent = true, filter = (el) => true, groupBy = groupKey, groupMap = keyGroup, }) => {\n        const k = groupBy(element);\n        const group = groupMap.get(k);\n        const groupSet = new Set(group);\n        const filteredElements = elements.filter(filter);\n        if (!hasState(element, 'selected')) {\n            const hasSelectedGroup = group.some((e) => hasState(e, 'selected'));\n            for (const e of filteredElements) {\n                if (groupSet.has(e))\n                    setState(e, 'selected');\n                else if (!hasState(e, 'selected'))\n                    setState(e, 'unselected');\n            }\n            // Append link for each group only once.\n            if (!hasSelectedGroup && link)\n                appendLink(group);\n            appendBackground(element);\n        }\n        else {\n            // If there is no selected elements after resetting this group,\n            // clear the states.\n            const hasSelected = elements.some((e) => !groupSet.has(e) && hasState(e, 'selected'));\n            if (!hasSelected)\n                return clear();\n            // If there are still some selected elements after resetting this group,\n            // only remove the link.\n            for (const e of group) {\n                setState(e, 'unselected');\n                removeLink(e);\n                removeBackground(e);\n            }\n        }\n        if (!nativeEvent)\n            return;\n        emitter.emit('element:select', Object.assign(Object.assign({}, event), { nativeEvent, data: {\n                data: elements.filter((e) => hasState(e, 'selected')).map(datum),\n            } }));\n    };\n    const click = (event) => {\n        const { target: element, nativeEvent = true } = event;\n        const select = !isMultiSelectMode ? singleSelect : multipleSelect;\n        let el = element;\n        const isClickElement = elementSet.has(element);\n        if (!region || isClickElement) {\n            // Click non-element shape, reset.\n            // Such as the rest of content area(background).\n            if (!isClickElement)\n                return clear();\n            return select({ event, element: el, nativeEvent, groupBy: groupKey });\n        }\n        else {\n            // Click background region area, select elements in the region.\n            // Get element at cursor.x position.\n            el = findElement(event);\n            if (!elementSet.has(el))\n                return clear();\n            return select({\n                event,\n                element: el,\n                nativeEvent,\n                filter: (el) => VALID_FIND_BY_X_MARKS.includes(el.markType),\n                groupBy: regionGroupKey,\n                groupMap: regionGroup,\n            });\n        }\n    };\n    // Handle keyboard events for multi-select mode\n    const hotkeys = Array.isArray(multipleSelectHotkey)\n        ? multipleSelectHotkey\n        : [multipleSelectHotkey];\n    const handleKeyDown = (event) => {\n        if (hotkeys.includes(event.code) && !activeHotkey) {\n            activeHotkey = event.code;\n            isMultiSelectMode = true;\n        }\n    };\n    const handleKeyUp = (event) => {\n        if (event.code === activeHotkey) {\n            activeHotkey = null;\n            isMultiSelectMode = false;\n        }\n    };\n    root.addEventListener('click', click);\n    if (multipleSelectHotkey) {\n        // If a hotkey is set, the initial state should be single mode\n        isMultiSelectMode = false;\n        document.addEventListener('keydown', handleKeyDown);\n        document.addEventListener('keyup', handleKeyUp);\n    }\n    const onSelect = (e) => {\n        const { nativeEvent, data } = e;\n        if (nativeEvent)\n            return;\n        const selectedData = !isMultiSelectMode ? data.data.slice(0, 1) : data.data;\n        for (const d of selectedData) {\n            const element = selectElementByData(elements, d, datum);\n            click({ target: element, nativeEvent: false });\n        }\n    };\n    const onUnSelect = () => {\n        clear(false);\n    };\n    emitter.on('element:select', onSelect);\n    emitter.on('element:unselect', onUnSelect);\n    return () => {\n        for (const e of elements)\n            removeLink(e);\n        root.removeEventListener('click', click);\n        if (multipleSelectHotkey) {\n            document.removeEventListener('keydown', handleKeyDown);\n            document.removeEventListener('keyup', handleKeyUp);\n        }\n        emitter.off('element:select', onSelect);\n        emitter.off('element:unselect', onUnSelect);\n    };\n}\nexport function ElementSelect(_a) {\n    var { createGroup, createRegionGroup, background = false, link = false } = _a, rest = __rest(_a, [\"createGroup\", \"createRegionGroup\", \"background\", \"link\"]);\n    return (context, _, emitter) => {\n        const { container, view, options } = context;\n        const { coordinate, scale } = view;\n        const plotArea = selectPlotArea(container);\n        return elementSelect(plotArea, Object.assign({ elements: selectG2Elements, datum: createDatumof(view), groupKey: createGroup ? createGroup(view) : undefined, regionGroupKey: createRegionGroup\n                ? createRegionGroup(view)\n                : createXKey(view), coordinate,\n            scale, state: mergeState(options, [\n                ['selected', background ? {} : { lineWidth: '1', stroke: '#000' }],\n                'unselected',\n            ]), background,\n            link,\n            emitter }, rest));\n    };\n}\nElementSelect.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementSelect.js.map","import { createXKey } from './utils';\nimport { ElementSelect } from './elementSelect';\nexport function ElementSelectByX(options) {\n    return ElementSelect(Object.assign(Object.assign({}, options), { createGroup: createXKey }));\n}\nElementSelectByX.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementSelectByX.js.map","import { createColorKey } from './utils';\nimport { ElementSelect } from './elementSelect';\nexport function ElementSelectByColor(options) {\n    return ElementSelect(Object.assign(Object.assign({}, options), { createGroup: createColorKey }));\n}\nElementSelectByColor.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=elementSelectByColor.js.map","import { throttle, deepMix } from '@antv/util';\nimport { selectPlotArea, mousePosition } from './utils';\nfunction maybeCoordinate(options) {\n    const { coordinate = {} } = options;\n    const { transform = [] } = coordinate;\n    const fisheye = transform.find((d) => d.type === 'fisheye');\n    if (fisheye)\n        return fisheye;\n    const newFisheye = { type: 'fisheye' };\n    transform.push(newFisheye);\n    coordinate.transform = transform;\n    options.coordinate = coordinate;\n    return newFisheye;\n}\n/**\n * @todo Bind abstract data or data index.\n */\nexport function Fisheye({ wait = 30, leading, trailing = false, }) {\n    return (context) => {\n        const { options, update, setState, container } = context;\n        const plotArea = selectPlotArea(container);\n        const updateFocus = throttle((event) => {\n            const focus = mousePosition(plotArea, event);\n            if (!focus) {\n                setState('fisheye');\n                update();\n                return;\n            }\n            setState('fisheye', (options) => {\n                // Clone options and mutate it.\n                // Disable animation.\n                const clonedOptions = deepMix({}, options, {\n                    interaction: { tooltip: { preserve: true } },\n                });\n                for (const mark of clonedOptions.marks)\n                    mark.animate = false;\n                const [x, y] = focus;\n                const fisheye = maybeCoordinate(clonedOptions);\n                fisheye.focusX = x;\n                fisheye.focusY = y;\n                fisheye.visual = true;\n                return clonedOptions;\n            });\n            update();\n        }, wait, { leading, trailing });\n        // Bind events.\n        plotArea.addEventListener('pointerenter', updateFocus);\n        plotArea.addEventListener('pointermove', updateFocus);\n        plotArea.addEventListener('pointerleave', updateFocus);\n        return () => {\n            plotArea.removeEventListener('pointerenter', updateFocus);\n            plotArea.removeEventListener('pointermove', updateFocus);\n            plotArea.removeEventListener('pointerleave', updateFocus);\n        };\n    };\n}\n//# sourceMappingURL=fisheye.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Line, Text } from '@antv/g';\nimport { deepMix, throttle } from '@antv/util';\nimport { max, min, rollup, sort, bisectCenter, bisector, group, } from '@antv/vendor/d3-array';\nimport { subObject } from '../utils/helper';\nimport { ELEMENT_CLASS_NAME, LABEL_CLASS_NAME, } from '../runtime';\nimport { selectPlotArea, mousePosition } from './utils';\nfunction maybeTransform(options) {\n    const { transform = [] } = options;\n    const normalizeY = transform.find((d) => d.type === 'normalizeY');\n    if (normalizeY)\n        return normalizeY;\n    const newNormalizeY = { type: 'normalizeY' };\n    transform.push(newNormalizeY);\n    options.transform = transform;\n    return newNormalizeY;\n}\nfunction markValue(markState, markName, channels) {\n    const [value] = Array.from(markState.entries())\n        .filter(([mark]) => mark.type === markName)\n        .map(([mark]) => {\n        const { encode } = mark;\n        const channel = (name) => {\n            const channel = encode[name];\n            return [name, channel ? channel.value : undefined];\n        };\n        return Object.fromEntries(channels.map(channel));\n    });\n    return value;\n}\n/**\n * @todo Perf\n */\nexport function ChartIndex(_a) {\n    var { wait = 20, leading, trailing = false, labelFormatter = (date) => `${date}` } = _a, style = __rest(_a, [\"wait\", \"leading\", \"trailing\", \"labelFormatter\"]);\n    return (context) => {\n        const { view, container, update, setState } = context;\n        const { markState, scale, coordinate } = view;\n        // Get line mark value, exit if it is not existed.\n        const value = markValue(markState, 'line', ['x', 'y', 'series']);\n        if (!value)\n            return;\n        // Prepare channel value.\n        const { y: Y, x: X, series: S = [] } = value;\n        const I = Y.map((_, i) => i);\n        const sortedX = sort(I.map((i) => X[i]));\n        // Prepare shapes.\n        const plotArea = selectPlotArea(container);\n        const lines = container.getElementsByClassName(ELEMENT_CLASS_NAME);\n        const labels = container.getElementsByClassName(LABEL_CLASS_NAME);\n        // The format of label key: `${elementKey}-index`,\n        // group labels by elementKey.\n        const keyofLabel = (d) => d.__data__.key.split('-')[0];\n        const keyLabels = group(labels, keyofLabel);\n        const rule = new Line({\n            style: Object.assign({ x1: 0, y1: 0, x2: 0, y2: plotArea.getAttribute('height'), stroke: 'black', lineWidth: 1 }, subObject(style, 'rule')),\n        });\n        const text = new Text({\n            style: Object.assign({ x: 0, y: plotArea.getAttribute('height'), text: '', fontSize: 10 }, subObject(style, 'label')),\n        });\n        rule.append(text);\n        plotArea.appendChild(rule);\n        // Get the closet date to the rule.\n        const dateByFocus = (coordinate, scaleX, focus) => {\n            const [normalizedX] = coordinate.invert(focus);\n            const date = scaleX.invert(normalizedX);\n            return sortedX[bisectCenter(sortedX, date)];\n        };\n        // Update rule and label content.\n        const updateRule = (focus, date) => {\n            rule.setAttribute('x1', focus[0]);\n            rule.setAttribute('x2', focus[0]);\n            text.setAttribute('text', labelFormatter(date));\n        };\n        // Store the new inner state alter rerender the view.\n        let newView;\n        // Rerender the view to update basis for each line.\n        const updateBasisByRerender = (focus) => __awaiter(this, void 0, void 0, function* () {\n            // Find the closetDate to the rule.\n            const { x: scaleX } = scale;\n            const date = dateByFocus(coordinate, scaleX, focus);\n            updateRule(focus, date);\n            setState('chartIndex', (options) => {\n                // Clone options and get line mark.\n                const clonedOptions = deepMix({}, options);\n                const lineMark = clonedOptions.marks.find((d) => d.type === 'line');\n                // Update domain of y scale for the line mark.\n                const r = (I) => max(I, (i) => +Y[i]) / min(I, (i) => +Y[i]);\n                const k = max(rollup(I, r, (i) => S[i]).values());\n                const domainY = [1 / k, k];\n                deepMix(lineMark, {\n                    scale: { y: { domain: domainY } },\n                });\n                // Update normalize options.\n                const normalizeY = maybeTransform(lineMark);\n                normalizeY.groupBy = 'color';\n                normalizeY.basis = (I, Y) => {\n                    const i = I[bisector((i) => X[+i]).center(I, date)];\n                    return Y[i];\n                };\n                // Disable animation.\n                for (const mark of clonedOptions.marks)\n                    mark.animate = false;\n                return clonedOptions;\n            });\n            const newState = yield update('chartIndex');\n            newView = newState.view;\n        });\n        // Only apply translate to update basis for each line.\n        // If performance is ok, there is no need to use this\n        // strategy to update basis.\n        const updateBasisByTranslate = (focus) => {\n            // Find the closetDate to the rule.\n            const { scale, coordinate } = newView;\n            const { x: scaleX, y: scaleY } = scale;\n            const date = dateByFocus(coordinate, scaleX, focus);\n            updateRule(focus, date);\n            // Translate mark and label for better performance.\n            for (const line of lines) {\n                // Compute transform in y direction.\n                const { seriesIndex: SI, key } = line.__data__;\n                const i = SI[bisector((i) => X[+i]).center(SI, date)];\n                const p0 = [0, scaleY.map(1)]; // basis point\n                const p1 = [0, scaleY.map(Y[i] / Y[SI[0]])];\n                const [, y0] = coordinate.map(p0);\n                const [, y1] = coordinate.map(p1);\n                const dy = y0 - y1;\n                line.setAttribute('transform', `translate(0, ${dy})`);\n                // Update line and related label.\n                const labels = keyLabels.get(key) || [];\n                for (const label of labels) {\n                    // @todo Replace with style.transform.\n                    // It now has unexpected behavior.\n                    label.setAttribute('dy', dy);\n                }\n            }\n        };\n        const updateBasis = throttle((event) => {\n            const focus = mousePosition(plotArea, event);\n            if (!focus)\n                return;\n            updateBasisByTranslate(focus);\n        }, wait, { leading, trailing });\n        updateBasisByRerender([0, 0]);\n        plotArea.addEventListener('pointerenter', updateBasis);\n        plotArea.addEventListener('pointermove', updateBasis);\n        plotArea.addEventListener('pointerleave', updateBasis);\n        return () => {\n            rule.remove();\n            plotArea.removeEventListener('pointerenter', updateBasis);\n            plotArea.removeEventListener('pointermove', updateBasis);\n            plotArea.removeEventListener('pointerleave', updateBasis);\n        };\n    };\n}\nChartIndex.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=chartIndex.js.map","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","import { deepMix } from '@antv/util';\nimport { isUnset, subObject } from './helper';\nexport function subTooltip(tooltip, name, defaults = {}, main = false) {\n    if (isUnset(tooltip))\n        return tooltip;\n    if (Array.isArray(tooltip) && main)\n        return tooltip;\n    const sub = subObject(tooltip, name);\n    return deepMix(defaults, sub);\n}\nexport function maybeTooltip(tooltip, defaults = {}) {\n    if (isUnset(tooltip))\n        return tooltip;\n    if (Array.isArray(tooltip))\n        return tooltip;\n    if (!isFullTooltip(tooltip))\n        return tooltip;\n    return deepMix(defaults, tooltip);\n}\nexport function isFullTooltip(tooltip) {\n    if (Object.keys(tooltip).length === 0)\n        return true;\n    const { title, items } = tooltip;\n    return title !== undefined || items !== undefined;\n}\nexport function maybeAnimation(animate, sub) {\n    return typeof animate === 'object' ? subObject(animate, sub) : animate;\n}\n//# sourceMappingURL=mark.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { angleOf } from '../utils/coordinate';\nimport { LinearAxis } from './axis';\nfunction inferTitleTransform(orientation) {\n    const internalOrientation = orientation % (Math.PI * 2);\n    if (internalOrientation === Math.PI / 2) {\n        return { titleTransform: 'translate(0, 50%)' };\n    }\n    if (internalOrientation > -Math.PI / 2 && internalOrientation < Math.PI / 2) {\n        return { titleTransform: 'translate(50%, 0)' };\n    }\n    if (internalOrientation > Math.PI / 2 &&\n        internalOrientation < (Math.PI * 3) / 2) {\n        return { titleTransform: 'translate(-50%, 0)' };\n    }\n    return {};\n}\nfunction inferAxisStyle(options, theme, coordinate, scales) {\n    const { radar } = options;\n    const [scale] = scales;\n    const name = scale.getOptions().name;\n    const [startAngle, endAngle] = angleOf(coordinate);\n    const { axisRadar: radarTheme = {} } = theme;\n    return Object.assign(Object.assign({}, radarTheme), { grid: name === 'position', gridConnect: 'line', gridControlAngles: new Array(radar.count).fill(0).map((_, i) => {\n            const angle = (endAngle - startAngle) / radar.count;\n            return angle * i;\n        }) });\n}\nexport const AxisRadar = (options) => {\n    const { important = {} } = options, restOptions = __rest(options, [\"important\"]);\n    return (context) => {\n        const { theme, coordinate, scales } = context;\n        return LinearAxis(Object.assign(Object.assign(Object.assign({}, restOptions), inferTitleTransform(options.orientation)), { important: Object.assign(Object.assign({}, inferAxisStyle(options, theme, coordinate, scales)), important) }))(context);\n    };\n};\nAxisRadar.props = Object.assign(Object.assign({}, LinearAxis.props), { defaultPosition: 'center' });\n//# sourceMappingURL=axisRadar.js.map","import { LegendContinuous } from './legendContinuous';\nexport const LegendContinuousBlock = (options) => {\n    return (...args) => LegendContinuous(Object.assign({}, { block: true }, options))(...args);\n};\nLegendContinuousBlock.props = Object.assign(Object.assign({}, LegendContinuous.props), { defaultPosition: 'top', defaultOrientation: 'horizontal' });\n//# sourceMappingURL=legendContinuousBlock.js.map","import { scaleOf } from './utils';\nimport { LegendContinuous } from './legendContinuous';\nexport const LegendContinuousSize = (options) => {\n    return (context) => {\n        const { scales } = context;\n        const sizeScale = scaleOf(scales, 'size');\n        return LegendContinuous(Object.assign({}, {\n            type: 'size',\n            data: sizeScale.getTicks().map((value, index) => ({\n                value,\n                label: String(value),\n            })),\n        }, options))(context);\n    };\n};\nLegendContinuousSize.props = Object.assign(Object.assign({}, LegendContinuous.props), { defaultPosition: 'top', defaultOrientation: 'horizontal' });\n//# sourceMappingURL=legendContinuousSize.js.map","import { LegendContinuous } from './legendContinuous';\nimport { LegendContinuousSize } from './legendContinuousSize';\nexport const LegendContinuousBlockSize = (options) => {\n    return LegendContinuousSize(Object.assign({}, { block: true }, options));\n};\nLegendContinuousBlockSize.props = Object.assign(Object.assign({}, LegendContinuous.props), { defaultPosition: 'top', defaultOrientation: 'horizontal' });\n//# sourceMappingURL=legendContinuousBlockSize.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n// @todo Move this to runtime.\nexport const Mark = ({ static: isStatic = false, } = {}) => {\n    return (options) => {\n        const { width, height, depth, paddingLeft, paddingRight, paddingTop, paddingBottom, padding, inset, insetLeft, insetTop, insetRight, insetBottom, margin, marginLeft, marginBottom, marginTop, marginRight, data, coordinate, theme, component, interaction, x, y, z, key, frame, labelTransform, parentKey, clip, viewStyle, title } = options, mark = __rest(options, [\"width\", \"height\", \"depth\", \"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\", \"padding\", \"inset\", \"insetLeft\", \"insetTop\", \"insetRight\", \"insetBottom\", \"margin\", \"marginLeft\", \"marginBottom\", \"marginTop\", \"marginRight\", \"data\", \"coordinate\", \"theme\", \"component\", \"interaction\", \"x\", \"y\", \"z\", \"key\", \"frame\", \"labelTransform\", \"parentKey\", \"clip\", \"viewStyle\", \"title\"]);\n        return [\n            Object.assign(Object.assign({ type: 'standardView', x,\n                y,\n                z,\n                key,\n                width,\n                height,\n                depth,\n                padding,\n                paddingLeft,\n                paddingRight,\n                paddingTop,\n                inset,\n                insetLeft,\n                insetTop,\n                insetRight,\n                insetBottom,\n                paddingBottom,\n                theme,\n                coordinate,\n                component,\n                interaction,\n                frame,\n                labelTransform,\n                margin,\n                marginLeft,\n                marginBottom,\n                marginTop,\n                marginRight,\n                parentKey,\n                clip, style: viewStyle }, (!isStatic && { title })), { marks: [Object.assign(Object.assign(Object.assign({}, mark), { key: `${key}-0`, data }), (isStatic && { title }))] }),\n        ];\n    };\n};\nMark.props = {};\n//# sourceMappingURL=mark.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\n/**\n * Adaptor return default options for raw options.\n */\nexport function useDefaultAdaptor(adaptor) {\n    return (options, ...rest) => deepMix({}, adaptor(options, ...rest), options);\n}\n/**\n * Adaptor return options override raw options.\n */\nexport function useOverrideAdaptor(adaptor) {\n    return (options, ...rest) => deepMix({}, options, adaptor(options, ...rest));\n}\nexport function isObject(d) {\n    if (d instanceof Date)\n        return false;\n    return typeof d === 'object';\n}\nexport function mergeData(dataDescriptor, dataValue) {\n    if (!dataDescriptor)\n        return dataValue;\n    if (Array.isArray(dataDescriptor))\n        return dataDescriptor;\n    if (isObject(dataDescriptor)) {\n        const { value = dataValue } = dataDescriptor, rest = __rest(dataDescriptor, [\"value\"]);\n        return Object.assign(Object.assign({}, rest), { value });\n    }\n    return dataDescriptor;\n}\n//# sourceMappingURL=utils.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { mergeData } from './utils';\n/**\n * @todo Propagate more options to children.(e.g. filter)\n * @todo Propagate encode options to children. This is useful for Matrix composition.\n * @todo Move this to runtime, do not treat it as a composition to cause confusion.\n */\nexport const View = () => {\n    return (options) => {\n        const { children } = options, restOptions = __rest(options, [\"children\"]);\n        if (!Array.isArray(children))\n            return [];\n        const { data: viewData, scale: viewScale = {}, axis: viewAxis = {}, legend: viewLegend = {}, encode: viewEncode = {}, transform: viewTransform = [] } = restOptions, rest = __rest(restOptions, [\"data\", \"scale\", \"axis\", \"legend\", \"encode\", \"transform\"]);\n        const marks = children.map((_a) => {\n            var { data, scale = {}, axis = {}, legend = {}, encode = {}, transform = [] } = _a, rest = __rest(_a, [\"data\", \"scale\", \"axis\", \"legend\", \"encode\", \"transform\"]);\n            return (Object.assign({ data: mergeData(data, viewData), scale: deepMix({}, viewScale, scale), encode: deepMix({}, viewEncode, encode), transform: [...viewTransform, ...transform], axis: axis && viewAxis ? deepMix({}, viewAxis, axis) : false, legend: legend && viewLegend ? deepMix({}, viewLegend, legend) : false }, rest));\n        });\n        return [Object.assign(Object.assign({}, rest), { marks, type: 'standardView' })];\n    };\n};\nView.props = {};\n//# sourceMappingURL=view.js.map","import { maxIndex } from '@antv/vendor/d3-array';\nimport { sub, angle } from '../../../utils/vector';\n/**\n * Only for Area label.\n */\nexport function area(position, points, value, coordinate) {\n    const l = points.length / 2;\n    const Y1 = points.slice(0, l);\n    const Y0 = points.slice(l);\n    // Get the maximal space for label.\n    let idx = maxIndex(Y1, (p, i) => Math.abs(p[1] - Y0[i][1]));\n    // Do not show label at first and last.\n    idx = Math.max(Math.min(idx, l - 2), 1);\n    const mid = (i) => [Y1[i][0], (Y1[i][1] + Y0[i][1]) / 2];\n    const point = mid(idx);\n    const prev = mid(idx - 1);\n    const next = mid(idx + 1);\n    // todo: G rotate only support deg.\n    const rotate = (angle(sub(next, prev)) / Math.PI) * 180;\n    return {\n        x: point[0],\n        y: point[1],\n        transform: `rotate(${rotate})`,\n        textAlign: 'center',\n        textBaseline: 'middle',\n    };\n}\n//# sourceMappingURL=area.js.map","import { getArcObject } from '../../../shape/utils';\nimport { isCircular, isRadial } from '../../../utils/coordinate';\nimport { maybePercentage } from '../../../utils/helper';\nimport { mid } from '../../../utils/vector';\nexport function inferNonCircularStyle(position, points, value, coordinate) {\n    const { bounds } = value;\n    const [[x0, y0], [x1, y1]] = bounds;\n    const w = x1 - x0;\n    const h = y1 - y0;\n    const xy = (options) => {\n        const { x: ox, y: oy } = options;\n        const px = maybePercentage(value.x, w);\n        const py = maybePercentage(value.y, h);\n        return Object.assign(Object.assign({}, options), { x: (px || ox) + x0, y: (py || oy) + y0 });\n    };\n    // 4 direction.\n    if (position === 'left')\n        return xy({ x: 0, y: h / 2, textAlign: 'start', textBaseline: 'middle' });\n    if (position === 'right')\n        return xy({ x: w, y: h / 2, textAlign: 'end', textBaseline: 'middle' });\n    if (position === 'top')\n        return xy({ x: w / 2, y: 0, textAlign: 'center', textBaseline: 'top' });\n    if (position === 'bottom')\n        return xy({ x: w / 2, y: h, textAlign: 'center', textBaseline: 'bottom' });\n    // 4 corner position.\n    if (position === 'top-left')\n        return xy({ x: 0, y: 0, textAlign: 'start', textBaseline: 'top' });\n    if (position === 'top-right')\n        return xy({ x: w, y: 0, textAlign: 'end', textBaseline: 'top' });\n    if (position === 'bottom-left')\n        return xy({ x: 0, y: h, textAlign: 'start', textBaseline: 'bottom' });\n    if (position === 'bottom-right')\n        return xy({ x: w, y: h, textAlign: 'end', textBaseline: 'bottom' });\n    // default return 'inside'\n    return xy({\n        x: w / 2,\n        y: h / 2,\n        textAlign: 'center',\n        textBaseline: 'middle',\n    });\n}\nexport function inferRadialStyle(position, points, value, coordinate) {\n    const { y, y1, autoRotate, rotateToAlignArc } = value;\n    const center = coordinate.getCenter();\n    const arcObject = getArcObject(coordinate, points, [y, y1]);\n    const { innerRadius, outerRadius, startAngle, endAngle } = arcObject;\n    const angle = position === 'inside' ? (startAngle + endAngle) / 2 : endAngle;\n    const rotate = inferRotation(angle, autoRotate, rotateToAlignArc);\n    const point = (() => {\n        const [p0, p1] = points;\n        const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\n        const [x, y] = position === 'inside' ? pointOfArc(center, angle, radius) : mid(p0, p1);\n        return { x, y };\n    })();\n    return Object.assign(Object.assign({}, point), { textAlign: position === 'inside' ? 'center' : 'start', textBaseline: 'middle', rotate });\n}\nexport function pointOfArc(center, angle, radius) {\n    return [\n        center[0] + Math.sin(angle) * radius,\n        center[1] - Math.cos(angle) * radius,\n    ];\n}\nexport function inferRotation(angle, autoRotate, rotateToAlignArc) {\n    if (!autoRotate)\n        return 0;\n    const append = rotateToAlignArc ? 0 : Math.sin(angle) < 0 ? 90 : -90;\n    return (angle / Math.PI) * 180 + append;\n}\nfunction inferInnerCircularStyle(position, points, value, coordinate) {\n    const { y, y1, autoRotate, rotateToAlignArc, radius: radiusRatio = 0.5, offset = 0, } = value;\n    const arcObject = getArcObject(coordinate, points, [y, y1]);\n    const { startAngle, endAngle } = arcObject;\n    const center = coordinate.getCenter();\n    const angle = (startAngle + endAngle) / 2;\n    const rotate = inferRotation(angle, autoRotate, rotateToAlignArc);\n    const textStyle = { textAlign: 'center', textBaseline: 'middle', rotate };\n    const { innerRadius, outerRadius } = arcObject;\n    const r0 = innerRadius + (outerRadius - innerRadius) * radiusRatio;\n    const r1 = r0 + offset;\n    const [x0, y0] = pointOfArc(center, angle, r1);\n    return Object.assign({ x: x0, y: y0 }, textStyle);\n}\n// Set to null will not be set with default value as below.\n// const { x = 0 } = options;\nfunction maybeUndefined(d) {\n    return d === undefined ? null : d;\n}\nexport function inferIdentityStyle(position, points, value, coordinate) {\n    const { bounds } = value;\n    const [p] = bounds;\n    return {\n        x: maybeUndefined(p[0]),\n        y: maybeUndefined(p[1]),\n    };\n}\nexport function getDefaultStyle(position, points, value, coordinate) {\n    const { bounds } = value;\n    // When bounds.length = 1\n    // For series mark, such as line and area.\n    // The bounds for text is defined with only one point.\n    // Use this point as the label position.\n    if (bounds.length === 1) {\n        return inferIdentityStyle(position, points, value, coordinate);\n    }\n    const inferDefaultStyle = isRadial(coordinate)\n        ? inferRadialStyle\n        : isCircular(coordinate)\n            ? inferInnerCircularStyle\n            : inferNonCircularStyle;\n    return inferDefaultStyle(position, points, value, coordinate);\n}\n//# sourceMappingURL=default.js.map","import { getArcObject } from '../../../shape/utils';\nimport { isCircular, isRadial } from '../../../utils/coordinate';\nimport { pointOfArc, inferRotation, inferIdentityStyle, inferRadialStyle, inferNonCircularStyle, } from './default';\nexport function linePoints(center, angle, radius, radius1, offsetX) {\n    const [x0, y0] = pointOfArc(center, angle, radius);\n    const [x1, y1] = pointOfArc(center, angle, radius1);\n    const sign = Math.sin(angle) > 0 ? 1 : -1;\n    return [\n        [x0, y0],\n        [x1, y1],\n        [x1 + sign * offsetX, y1],\n    ];\n}\nexport function radiusOf(points, value, coordinate) {\n    const arcObject = getArcObject(coordinate, points, [value.y, value.y1]);\n    const { innerRadius, outerRadius } = arcObject;\n    return innerRadius + (outerRadius - innerRadius);\n}\nexport function angleOf(points, value, coordinate) {\n    const arcObject = getArcObject(coordinate, points, [value.y, value.y1]);\n    const { startAngle, endAngle } = arcObject;\n    return (startAngle + endAngle) / 2;\n}\nexport function inferOutsideCircularStyle(position, points, value, coordinate) {\n    const { autoRotate, rotateToAlignArc, offset = 0, connector = true, connectorLength = offset, connectorLength2 = 0, connectorDistance = 0, } = value;\n    const center = coordinate.getCenter();\n    const angle = angleOf(points, value, coordinate);\n    const sign = Math.sin(angle) > 0 ? 1 : -1;\n    const rotate = inferRotation(angle, autoRotate, rotateToAlignArc);\n    const textStyle = {\n        textAlign: sign > 0 || isRadial(coordinate) ? 'start' : 'end',\n        textBaseline: 'middle',\n        rotate,\n    };\n    const radius = radiusOf(points, value, coordinate);\n    const radius1 = radius + (connector ? connectorLength : offset);\n    const [[x0, y0], [x1, y1], [x2, y2]] = linePoints(center, angle, radius, radius1, connector ? connectorLength2 : 0);\n    const dx = connector ? +connectorDistance * sign : 0;\n    const x = x2 + dx;\n    const y = y2;\n    const connectorStyle = {\n        connector,\n        connectorPoints: [\n            [x1 - x, y1 - y],\n            [x2 - x, y2 - y],\n        ],\n    };\n    return Object.assign(Object.assign({ x0,\n        y0, x: x2 + dx, y: y2 }, textStyle), connectorStyle);\n}\nexport function outside(position, points, value, coordinate) {\n    const { bounds } = value;\n    // When bounds.length = 1\n    // For series mark, such as line and area.\n    // The bounds for text is defined with only one point.\n    // Use this point as the label position.\n    if (bounds.length === 1) {\n        return inferIdentityStyle(position, points, value, coordinate);\n    }\n    const inferDefaultStyle = isRadial(coordinate)\n        ? inferRadialStyle\n        : isCircular(coordinate)\n            ? inferOutsideCircularStyle\n            : inferNonCircularStyle;\n    return inferDefaultStyle(position, points, value, coordinate);\n}\n//# sourceMappingURL=outside.js.map","import { sort } from '@antv/vendor/d3-array';\n// Optimize antiCollision from: https://github.com/antvis/G2/blob/master/src/geometry/label/layout/pie/util.ts\nexport function dodgeY(labels, options = {}) {\n    const { labelHeight = 14, height } = options;\n    // Sort labels by y and init boxes (one box for each label)\n    const sortedLabels = sort(labels, (d) => d.y);\n    const n = sortedLabels.length;\n    const boxes = new Array(n);\n    for (let i = 0; i < n; i++) {\n        const label = sortedLabels[i];\n        const { y } = label;\n        boxes[i] = { y, y1: y + labelHeight, labels: [y] };\n    }\n    // Merge boxes until no overlapping boxes or only one box left.\n    // All the boxes should start higher than 0, but maybe higher than height.\n    let overlap = true;\n    while (overlap) {\n        overlap = false;\n        // Scan backward because boxes maybe deleted.\n        for (let i = boxes.length - 1; i > 0; i--) {\n            const box = boxes[i];\n            const preBox = boxes[i - 1];\n            if (preBox.y1 > box.y) {\n                overlap = true;\n                preBox.labels.push(...box.labels);\n                boxes.splice(i, 1);\n                // Compute new y1 to contain the current box.\n                preBox.y1 += box.y1 - box.y;\n                // Make sure the new box is in the range of [0, height].\n                const newHeight = preBox.y1 - preBox.y;\n                preBox.y1 = Math.max(Math.min(preBox.y1, height), newHeight);\n                preBox.y = preBox.y1 - newHeight;\n            }\n        }\n    }\n    let i = 0;\n    for (const box of boxes) {\n        const { y, labels } = box;\n        let prevY = y - labelHeight;\n        for (const curY of labels) {\n            const label = sortedLabels[i++];\n            const expectedY = prevY + labelHeight;\n            const dy = expectedY - curY;\n            label.connectorPoints[0][1] -= dy;\n            label.y = prevY + labelHeight;\n            prevY += labelHeight;\n        }\n    }\n}\nexport function hideAndDodgeY(unsorted, options) {\n    const labels = sort(unsorted, (d) => d.y);\n    const { height, labelHeight = 14 } = options;\n    const maxCount = Math.ceil(height / labelHeight);\n    if (labels.length <= maxCount)\n        return dodgeY(labels, options);\n    const filtered = [];\n    for (let i = 0; i < labels.length; i++) {\n        // Hide labels out of range.\n        if (i < labels.length - maxCount) {\n            labels[i].opacity = 0;\n            labels[i].connector = false;\n        }\n        else\n            filtered.push(labels[i]);\n    }\n    dodgeY(filtered, options);\n}\n//# sourceMappingURL=utils.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isCircular } from '../../../utils/coordinate';\nimport { inferOutsideCircularStyle, radiusOf, angleOf } from './outside';\nimport { hideAndDodgeY } from './utils';\nconst styleByPoints = new WeakMap();\nfunction compute(points, value, coordinate) {\n    const { connectorLength, connectorLength2, connectorDistance } = value;\n    const style = __rest(inferOutsideCircularStyle('outside', points, value, coordinate), []);\n    const center = coordinate.getCenter();\n    const radius = radiusOf(points, value, coordinate);\n    const angle = angleOf(points, value, coordinate);\n    const radius1 = radius + connectorLength + connectorLength2;\n    const sign = Math.sin(angle) > 0 ? 1 : -1;\n    const newX = center[0] + (radius1 + +connectorDistance) * sign;\n    const { x: originX } = style;\n    const dx = newX - originX;\n    style.x += dx;\n    style.connectorPoints[0][0] -= dx;\n    return style;\n}\n/**\n * Spider label transform only suitable for the labels in polar coordinate,\n * labels should distinguish coordinate type.\n */\nexport function spider(position, points, value, coordinate, options, labels) {\n    if (!isCircular(coordinate))\n        return {};\n    if (styleByPoints.has(points))\n        return styleByPoints.get(points);\n    const computed = labels.map((points) => compute(points, value, coordinate));\n    const { width, height } = coordinate.getOptions();\n    const left = computed.filter((d) => d.x < width / 2);\n    const right = computed.filter((d) => d.x >= width / 2);\n    const extendedOptions = Object.assign(Object.assign({}, options), { height });\n    hideAndDodgeY(left, extendedOptions);\n    hideAndDodgeY(right, extendedOptions);\n    computed.forEach((style, i) => styleByPoints.set(labels[i], style));\n    return styleByPoints.get(points);\n}\n//# sourceMappingURL=spider.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { getRadius, isCircular } from '../../../utils/coordinate';\nimport { angleWithQuadrant } from '../../../utils/vector';\nimport { pointOfArc } from './default';\nimport { inferOutsideCircularStyle } from './outside';\n/**\n * Surround label transform is used to make labels surround circular.\n */\nexport function surround(position, points, value, coordinate) {\n    if (!isCircular(coordinate))\n        return {};\n    const { connectorLength, connectorLength2, connectorDistance } = value;\n    const style = __rest(inferOutsideCircularStyle('outside', points, value, coordinate), []);\n    const { x0, y0 } = style;\n    const center = coordinate.getCenter();\n    const radius = getRadius(coordinate);\n    const radius1 = radius + connectorLength;\n    const angle = angleWithQuadrant([x0 - center[0], y0 - center[1]]);\n    const sign = Math.sin(angle) > 0 ? 1 : -1;\n    const [newX, newY] = pointOfArc(center, angle, radius1);\n    style.x = newX + (connectorLength2 + connectorDistance) * sign;\n    style.y = newY;\n    return style;\n}\n//# sourceMappingURL=surround.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { select } from '../../utils/selection';\nimport { applyStyle } from '../../shape/utils';\nimport { isTranspose, isCircular } from '../../utils/coordinate';\nimport { camelCase } from '../../utils/string';\nimport { Advance } from '../text/advance';\nimport * as PositionProcessor from './position';\nfunction inferPosition(position, coordinate) {\n    if (position !== undefined)\n        return position;\n    if (isCircular(coordinate))\n        return 'inside';\n    if (isTranspose(coordinate))\n        return 'right';\n    return 'top';\n}\nfunction getDefaultStyle(points, value, coordinate, theme, options, labels) {\n    // For non-series mark, calc position for label based on\n    // position and the bounds of shape.\n    const { position } = value;\n    const { render } = options;\n    const p = inferPosition(position, coordinate);\n    const labelType = render\n        ? 'htmlLabel'\n        : p === 'inside'\n            ? 'innerLabel'\n            : 'label';\n    const t = theme[labelType];\n    const v = Object.assign({}, t, value);\n    const processor = PositionProcessor[camelCase(p)];\n    if (!processor) {\n        throw new Error(`Unknown position: ${p}`);\n    }\n    return Object.assign(Object.assign({}, t), processor(p, points, v, coordinate, options, labels));\n}\n/**\n * Render normal label for each mark.\n * @todo Support position option: middle...\n */\nexport const Label = (options, context) => {\n    const { coordinate, theme } = context;\n    const { render } = options;\n    return (points, value, style, labels) => {\n        const { text, x, y, transform: specifiedTS = '', transformOrigin, className = '' } = value, overrideStyle = __rest(value, [\"text\", \"x\", \"y\", \"transform\", \"transformOrigin\", \"className\"]);\n        const _a = getDefaultStyle(points, value, coordinate, theme, options, labels), { rotate = 0, transform = '' } = _a, defaultStyle = __rest(_a, [\"rotate\", \"transform\"]);\n        return select(new Advance())\n            .call(applyStyle, defaultStyle)\n            .style('text', `${text}`)\n            .style('className', `${className} g2-label`)\n            .style('innerHTML', render ? render(text, value.datum, value.index) : undefined)\n            .style('labelTransform', `${transform} rotate(${+rotate}) ${specifiedTS}`.trim())\n            .style('labelTransformOrigin', transformOrigin)\n            .style('coordCenter', coordinate.getCenter())\n            .call(applyStyle, overrideStyle)\n            .node();\n    };\n};\nLabel.props = {\n    defaultMarker: 'point',\n};\n//# sourceMappingURL=label.js.map","// to prevent users from tampering with internal values.\nexport const ChartEvent = {\n    BEFORE_RENDER: 'beforerender',\n    AFTER_RENDER: 'afterrender',\n    BEFORE_PAINT: 'beforepaint',\n    AFTER_PAINT: 'afterpaint',\n    BEFORE_CHANGE_DATA: 'beforechangedata',\n    AFTER_CHANGE_DATA: 'afterchangedata',\n    BEFORE_CLEAR: 'beforeclear',\n    AFTER_CLEAR: 'afterclear',\n    BEFORE_DESTROY: 'beforedestroy',\n    AFTER_DESTROY: 'afterdestroy',\n    BEFORE_CHANGE_SIZE: 'beforechangesize',\n    AFTER_CHANGE_SIZE: 'afterchangesize',\n    POINTER_TAP: 'pointertap',\n    POINTER_DOWN: 'pointerdown',\n    POINTER_UP: 'pointerup',\n    POINTER_OVER: 'pointerover',\n    POINTER_OUT: 'pointerout',\n    POINTER_MOVE: 'pointermove',\n    POINTER_ENTER: 'pointerenter',\n    POINTER_LEAVE: 'pointerleave',\n    POINTER_UPOUTSIDE: 'pointerupoutside',\n    DRAG_START: 'dragstart',\n    DRAG: 'drag',\n    DRAG_END: 'dragend',\n    DRAG_ENTER: 'dragenter',\n    DRAG_LEAVE: 'dragleave',\n    DRAG_OVER: 'dragover',\n    DROP: 'DROP',\n    CLICK: 'click',\n    DBLCLICK: 'dblclick',\n};\n//# sourceMappingURL=event.js.map","import { ChartEvent } from '../utils/event';\nimport { dataOf } from '../utils/helper';\nimport { maybeRoot } from './utils';\n// For extended component\nfunction maybeComponentRoot(node) {\n    return maybeRoot(node, (node) => node.className === 'component');\n}\n// For extended shape.\nfunction maybeElementRoot(node) {\n    return maybeRoot(node, (node) => node.className === 'element');\n}\n// For extended label.\nfunction maybeLabelRoot(node) {\n    return maybeRoot(node, (node) => node.className === 'label');\n}\nfunction bubblesEvent(eventType, view, emitter, predicate = (event) => true) {\n    return (e) => {\n        if (!predicate(e))\n            return;\n        // Emit plot events.\n        emitter.emit(`plot:${eventType}`, e);\n        const { target } = e;\n        // There is no target for pointerupoutside event if out of canvas.\n        if (!target)\n            return;\n        const { className } = target;\n        // If target area is plot area, do not emit extra events.\n        if (className === 'plot')\n            return;\n        // If target is element or child of element.\n        const elementRoot = maybeElementRoot(target);\n        // If target is component or child of component.\n        const componentRoot = maybeComponentRoot(target);\n        //  If target is babel or child of babel.\n        const babelRoot = maybeLabelRoot(target);\n        const root = elementRoot || componentRoot || babelRoot;\n        if (!root)\n            return;\n        const { className: elementType, markType } = root;\n        const e1 = Object.assign(Object.assign({}, e), { nativeEvent: true });\n        if (elementType === 'element') {\n            e1['data'] = { data: dataOf(root, view) };\n            emitter.emit(`element:${eventType}`, e1);\n            emitter.emit(`${markType}:${eventType}`, e1);\n        }\n        else if (elementType === 'label') {\n            //label children [Text2, Rect2, Path2],\n            e1['data'] = { data: root.attributes.datum };\n            emitter.emit(`label:${eventType}`, e1);\n            emitter.emit(`${className}:${eventType}`, e1);\n        }\n        else {\n            emitter.emit(`component:${eventType}`, e1);\n            emitter.emit(`${className}:${eventType}`, e1);\n        }\n    };\n}\n// @todo Provide more info for event.dataset.\nexport function Event() {\n    return (context, _, emitter) => {\n        const { container, view } = context;\n        // Click events.\n        const click = bubblesEvent(ChartEvent.CLICK, view, emitter, (e) => e.detail === 1);\n        const dblclick = bubblesEvent(ChartEvent.DBLCLICK, view, emitter, (e) => e.detail === 2);\n        // Pointer events.\n        const pointertap = bubblesEvent(ChartEvent.POINTER_TAP, view, emitter);\n        const pointerdown = bubblesEvent(ChartEvent.POINTER_DOWN, view, emitter);\n        const pointerup = bubblesEvent(ChartEvent.POINTER_UP, view, emitter);\n        const pointerover = bubblesEvent(ChartEvent.POINTER_OVER, view, emitter);\n        const pointerout = bubblesEvent(ChartEvent.POINTER_OUT, view, emitter);\n        const pointermove = bubblesEvent(ChartEvent.POINTER_MOVE, view, emitter);\n        const pointerenter = bubblesEvent(ChartEvent.POINTER_ENTER, view, emitter);\n        const pointerleave = bubblesEvent(ChartEvent.POINTER_LEAVE, view, emitter);\n        const pointerupoutside = bubblesEvent(ChartEvent.POINTER_UPOUTSIDE, view, emitter);\n        // Drag and drop events.\n        const dragstart = bubblesEvent(ChartEvent.DRAG_START, view, emitter);\n        const drag = bubblesEvent(ChartEvent.DRAG, view, emitter);\n        const dragend = bubblesEvent(ChartEvent.DRAG_END, view, emitter);\n        const dragenter = bubblesEvent(ChartEvent.DRAG_ENTER, view, emitter);\n        const dragleave = bubblesEvent(ChartEvent.DRAG_LEAVE, view, emitter);\n        const dragover = bubblesEvent(ChartEvent.DRAG_OVER, view, emitter);\n        const drop = bubblesEvent(ChartEvent.DROP, view, emitter);\n        // For legacy usage.\n        container.addEventListener('click', click);\n        container.addEventListener('click', dblclick);\n        // Recommend events.\n        container.addEventListener('pointertap', pointertap);\n        container.addEventListener('pointerdown', pointerdown);\n        container.addEventListener('pointerup', pointerup);\n        container.addEventListener('pointerover', pointerover);\n        container.addEventListener('pointerout', pointerout);\n        container.addEventListener('pointermove', pointermove);\n        container.addEventListener('pointerenter', pointerenter);\n        container.addEventListener('pointerleave', pointerleave);\n        container.addEventListener('pointerupoutside', pointerupoutside);\n        // Plugin events.\n        container.addEventListener('dragstart', dragstart);\n        container.addEventListener('drag', drag);\n        container.addEventListener('dragend', dragend);\n        container.addEventListener('dragenter', dragenter);\n        container.addEventListener('dragleave', dragleave);\n        container.addEventListener('dragover', dragover);\n        container.addEventListener('drop', drop);\n        return () => {\n            container.removeEventListener('click', click);\n            container.removeEventListener('click', dblclick);\n            container.removeEventListener('pointertap', pointertap);\n            container.removeEventListener('pointerdown', pointerdown);\n            container.removeEventListener('pointerup', pointerup);\n            container.removeEventListener('pointerover', pointerover);\n            container.removeEventListener('pointerout', pointerout);\n            container.removeEventListener('pointermove', pointermove);\n            container.removeEventListener('pointerenter', pointerenter);\n            container.removeEventListener('pointerleave', pointerleave);\n            container.removeEventListener('pointerupoutside', pointerupoutside);\n            container.removeEventListener('dragstart', dragstart);\n            container.removeEventListener('drag', drag);\n            container.removeEventListener('dragend', dragend);\n            container.removeEventListener('dragenter', dragenter);\n            container.removeEventListener('dragleave', dragleave);\n            container.removeEventListener('dragover', dragover);\n            container.removeEventListener('drop', drop);\n        };\n    };\n}\nEvent.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=event.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { error } from '../utils/helper';\nimport { builtinlib } from '../lib/builtinlib';\nexport function useLibrary(namespace, publicLibrary) {\n    const library = Object.assign(Object.assign({}, builtinlib()), publicLibrary);\n    const create = (type) => {\n        if (typeof type !== 'string')\n            return type;\n        const key = `${namespace}.${type}`;\n        return library[key] || error(`Unknown Component: ${key}`);\n    };\n    const use = (options, context) => {\n        const { type } = options, rest = __rest(options, [\"type\"]);\n        if (!type)\n            error(`Plot type is required!`);\n        const currentLibrary = create(type);\n        return currentLibrary === null || currentLibrary === void 0 ? void 0 : currentLibrary(rest, context);\n    };\n    return [use, create];\n}\nexport function documentOf(library) {\n    const { canvas, group } = library;\n    return ((canvas === null || canvas === void 0 ? void 0 : canvas.document) ||\n        (group === null || group === void 0 ? void 0 : group.ownerDocument) ||\n        error(`Cannot find library document`));\n}\n//# sourceMappingURL=library.js.map","import { AxisLinear, AxisArc, AxisRadar, LegendContinuousBlock, LegendContinuousBlockSize, LegendContinuousSize, } from '../component';\nimport { Mark, View } from '../composition';\nimport { LabelShape } from '../shape';\nimport { Event } from '../interaction/event';\n// Some private visual components, they are not public to\n// users, only for runtime.\nexport function builtinlib() {\n    return {\n        'component.axisRadar': AxisRadar,\n        'component.axisLinear': AxisLinear,\n        'component.axisArc': AxisArc,\n        'component.legendContinuousBlock': LegendContinuousBlock,\n        'component.legendContinuousBlockSize': LegendContinuousBlockSize,\n        'component.legendContinuousSize': LegendContinuousSize,\n        'interaction.event': Event,\n        'composition.mark': Mark,\n        'composition.view': View,\n        'shape.label.label': LabelShape,\n    };\n}\n//# sourceMappingURL=builtinlib.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { rollups } from '@antv/vendor/d3-array';\nimport { defined } from '../utils/helper';\nimport { useLibrary } from './library';\nimport { applyDefaults, applyDataTransform, extractColumns, flatEncode, inferChannelsType, maybeArrayField, maybeVisualChannel, addGuideToScale, maybeNonAnimate, normalizeTooltip, extractTooltip, } from './transform';\nexport function initializeMark(partialMark, partialProps, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // Apply transform to mark to derive indices, data, encode, etc,.\n        const [I, transformedMark] = yield applyMarkTransform(partialMark, partialProps, context);\n        const { encode, scale, data, tooltip } = transformedMark;\n        // Skip mark with non-tabular data. Do not skip empty\n        // data, they are useful for facet to display axes.\n        if (Array.isArray(data) === false) {\n            return null;\n        }\n        // Group non-independent channels with same prefix, such as x1, x2 => x.\n        // For independent channels, dot not group them, such as position1, position2.\n        const { channels: channelDescriptors } = partialProps;\n        const nameChannels = rollups(Object.entries(encode).filter(([, value]) => defined(value)), (values) => values.map(([key, options]) => (Object.assign({ name: key }, options))), ([key]) => {\n            var _a;\n            const prefix = (_a = /([^\\d]+)\\d*$/.exec(key)) === null || _a === void 0 ? void 0 : _a[1];\n            const descriptor = channelDescriptors.find((d) => d.name === prefix);\n            if (descriptor === null || descriptor === void 0 ? void 0 : descriptor.independent)\n                return key;\n            return prefix;\n        });\n        // Check required channels and initialize scale options for each channel.\n        const channels = channelDescriptors\n            .filter((descriptor) => {\n            const { name, required } = descriptor;\n            if (nameChannels.find(([d]) => d === name))\n                return true;\n            if (required)\n                throw new Error(`Missing encoding for channel: ${name}.`);\n            return false;\n        })\n            .flatMap((descriptor) => {\n            const { name, scale: scaleType, scaleKey, range, quantitative, ordinal, } = descriptor;\n            const valuesArray = nameChannels.filter(([channel]) => channel.startsWith(name));\n            return valuesArray.map(([channel, values], i) => {\n                const visual = values.some((d) => d.visual);\n                const constant = values.some((d) => d.constant);\n                const _a = scale[channel] || {}, { independent = false, \n                // Use channel name as default scale key.\n                key = scaleKey || channel, \n                // Visual channel use identity scale.\n                type = constant ? 'constant' : visual ? 'identity' : scaleType } = _a, scaleOptions = __rest(_a, [\"independent\", \"key\", \"type\"]);\n                // For constant scale, infer range from data.\n                const isConstant = type === 'constant';\n                const finalRange = isConstant ? undefined : range;\n                return {\n                    name: channel,\n                    values,\n                    // Generate a unique key for independent channel,\n                    // which will not group with any other channels.\n                    scaleKey: independent || isConstant ? Symbol('independent') : key,\n                    scale: Object.assign(Object.assign({ type, range: finalRange }, scaleOptions), { quantitative,\n                        ordinal }),\n                };\n            });\n        });\n        return [transformedMark, Object.assign(Object.assign({}, partialProps), { index: I, channels, tooltip })];\n    });\n}\nexport function createColumnOf(library) {\n    const [useEncode] = useLibrary('encode', library);\n    return (data, encode) => {\n        if (encode === undefined)\n            return null;\n        if (data === undefined)\n            return null;\n        return Object.assign(Object.assign({}, encode), { type: 'column', value: useEncode(encode)(data), field: fieldOf(encode) });\n    };\n}\nfunction applyMarkTransform(mark, props, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const [useTransform] = useLibrary('transform', library);\n        const { preInference = [], postInference = [] } = props;\n        const { transform = [] } = mark;\n        const transforms = [\n            applyDefaults,\n            applyDataTransform,\n            flatEncode,\n            inferChannelsType,\n            maybeVisualChannel,\n            extractColumns,\n            maybeArrayField,\n            maybeNonAnimate,\n            addGuideToScale,\n            normalizeTooltip,\n            ...preInference.map(useTransform),\n            ...transform.map(useTransform),\n            ...postInference.map(useTransform),\n            extractTooltip,\n        ];\n        let index = [];\n        let transformedMark = mark;\n        for (const t of transforms) {\n            [index, transformedMark] = yield t(index, transformedMark, context);\n        }\n        return [index, transformedMark];\n    });\n}\nfunction fieldOf(encode) {\n    const { type, value } = encode;\n    if (type === 'field' && typeof value === 'string')\n        return value;\n    return null;\n}\n//# sourceMappingURL=mark.js.map","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Coordinate, Coordinate3D } from '@antv/coord';\nimport { useLibrary } from './library';\nexport function createCoordinate(layout, partialOptions, library) {\n    const [useCoordinate] = useLibrary('coordinate', library);\n    const { innerHeight, innerWidth, insetLeft, insetTop, insetRight, insetBottom, } = layout;\n    const { coordinates: partialTransform = [] } = partialOptions;\n    const transform = inferCoordinate(partialTransform);\n    const isCartesian3D = transform[0].type === 'cartesian3D';\n    const options = Object.assign(Object.assign({}, layout), { x: insetLeft, y: insetTop, width: innerWidth - insetLeft - insetRight, height: innerHeight - insetBottom - insetTop, transformations: transform.flatMap(useCoordinate) });\n    const coordinate = isCartesian3D\n        ? // @ts-ignore\n            new Coordinate3D(options)\n        : new Coordinate(options);\n    return coordinate;\n}\nexport function coordinate2Transform(node, library) {\n    // @ts-ignore\n    const { coordinate = {}, coordinates } = node, rest = __rest(node, [\"coordinate\", \"coordinates\"]);\n    // If coordinates are already set, it means that the coordinate has been processed\n    // during the initialization. There is not need to process it during update.\n    if (coordinates)\n        return node;\n    const { type, transform = [] } = coordinate, options = __rest(coordinate, [\"type\", \"transform\"]);\n    if (!type)\n        return Object.assign(Object.assign({}, rest), { coordinates: transform });\n    const [, createCoordinate] = useLibrary('coordinate', library);\n    const { transform: isTransform = false } = createCoordinate(type).props || {};\n    if (isTransform) {\n        throw new Error(`Unknown coordinate: ${type}.`);\n    }\n    return Object.assign(Object.assign({}, rest), { coordinates: [Object.assign({ type }, options), ...transform] });\n}\nexport function coordOf(coordinates, type) {\n    return coordinates.filter((d) => d.type === type);\n}\n/**\n * todo Duplication is not considered\n */\nexport function isPolar(coordinates) {\n    return coordOf(coordinates, 'polar').length > 0;\n}\nexport function isHelix(coordinates) {\n    return coordOf(coordinates, 'helix').length > 0;\n}\n/**\n * todo The number of transposes matters\n */\nexport function isTranspose(coordinates) {\n    return coordOf(coordinates, 'transpose').length % 2 === 1;\n}\nexport function isParallel(coordinates) {\n    return coordOf(coordinates, 'parallel').length > 0;\n}\nexport function isTheta(coordinates) {\n    return coordOf(coordinates, 'theta').length > 0;\n}\nexport function isReflect(coordinates) {\n    return coordOf(coordinates, 'reflect').length > 0;\n}\nexport function isRadial(coordinates) {\n    return coordOf(coordinates, 'radial').length > 0;\n}\nexport function isRadar(coordinates) {\n    return coordOf(coordinates, 'radar').length > 0;\n}\n/**\n * todo The axis corresponding to the Y reversal is not reversed\n */\nexport function isReflectY(coordinates) {\n    return coordOf(coordinates, 'reflectY').length > 0;\n}\nfunction inferCoordinate(coordinates) {\n    if (coordinates.find((d) => d.type === 'cartesian' || d.type === 'cartesian3D'))\n        return coordinates;\n    return [...coordinates, { type: 'cartesian' }];\n}\n//# sourceMappingURL=coordinate.js.map","import { Linear, createInterpolateValue } from '@antv/scale';\nimport { extent, max, rollups } from '@antv/vendor/d3-array';\nimport * as d3ScaleChromatic from '@antv/vendor/d3-scale-chromatic';\nimport { deepMix, omit, upperFirst } from '@antv/util';\nimport { firstOf, lastOf, unique } from '../utils/array';\nimport { defined, identity, isStrictObject } from '../utils/helper';\nimport { isTheta } from './coordinate';\nimport { useLibrary } from './library';\nexport function inferScale(name, values, options, coordinates, theme, library) {\n    const { guide = {} } = options;\n    const type = inferScaleType(name, values, options);\n    if (typeof type !== 'string')\n        return options;\n    const expectedDomain = inferScaleDomain(type, name, values, options);\n    const actualDomain = maybeRatio(type, expectedDomain, options);\n    return Object.assign(Object.assign(Object.assign({}, options), inferScaleOptions(type, name, values, options, coordinates)), { domain: actualDomain, range: inferScaleRange(type, name, values, options, actualDomain, theme, library), expectedDomain,\n        guide,\n        name,\n        type });\n}\nexport function applyScale(channels, scale) {\n    const scaledValue = {};\n    for (const channel of channels) {\n        const { values, name: scaleName } = channel;\n        const scaleInstance = scale[scaleName];\n        for (const value of values) {\n            const { name, value: V } = value;\n            scaledValue[name] = V.map((d) => scaleInstance.map(d));\n        }\n    }\n    return scaledValue;\n}\nexport function groupTransform(markState, uidScale) {\n    const channels = Array.from(markState.values()).flatMap((d) => d.channels);\n    const scaleGroups = rollups(channels, (channels) => channels.map((d) => uidScale.get(d.scale.uid)), (d) => d.name)\n        .filter(([, scales]) => scales.some((d) => typeof d.getOptions().groupTransform === 'function') && // only sync scales with groupTransform options\n        scales.every((d) => d.getTicks))\n        .map((d) => d[1]);\n    scaleGroups.forEach((group) => {\n        const groupTransform = group.map((d) => d.getOptions().groupTransform)[0];\n        groupTransform(group);\n    });\n}\nexport function collectScales(states, options) {\n    var _a;\n    const { components = [] } = options;\n    const NONE_STATIC_KEYS = [\n        'scale',\n        'encode',\n        'axis',\n        'legend',\n        'data',\n        'transform',\n    ];\n    // From normal marks.\n    const scales = Array.from(new Set(states.flatMap((d) => d.channels.map((d) => d.scale))));\n    // From static marks.\n    const nameScale = new Map(scales.map((scale) => [scale.name, scale]));\n    for (const component of components) {\n        const channels = inferChannelsForComponent(component);\n        for (const channel of channels) {\n            const scale = nameScale.get(channel);\n            const staticScale = ((_a = component.scale) === null || _a === void 0 ? void 0 : _a[channel]) || {};\n            const { independent = false } = staticScale;\n            if (scale && !independent) {\n                // Merged with exist scales if is not independent.\n                const { guide } = scale;\n                const guide1 = typeof guide === 'boolean' ? {} : guide;\n                scale.guide = deepMix({}, guide1, component);\n                Object.assign(scale, staticScale);\n            }\n            else {\n                // Append new scales without exit scales or independent.\n                const options1 = Object.assign(Object.assign({}, staticScale), { expectedDomain: staticScale.domain, name: channel, guide: omit(component, NONE_STATIC_KEYS) });\n                scales.push(options1);\n            }\n        }\n    }\n    return scales;\n}\nexport function useRelation(relations) {\n    if (!relations || !Array.isArray(relations))\n        return [identity, identity];\n    // Store original map and invert.\n    let map;\n    let invert;\n    const conditionalize = (scale) => {\n        var _a;\n        map = scale.map.bind(scale);\n        invert = (_a = scale.invert) === null || _a === void 0 ? void 0 : _a.bind(scale);\n        // Distinguish functions[function, output] and value[vale, output] relations.\n        const funcRelations = relations.filter(([v]) => typeof v === 'function');\n        const valueRelations = relations.filter(([v]) => typeof v !== 'function');\n        // Update scale.map\n        const valueOutput = new Map(valueRelations);\n        scale.map = (x) => {\n            for (const [verify, value] of funcRelations) {\n                if (verify(x))\n                    return value;\n            }\n            if (valueOutput.has(x))\n                return valueOutput.get(x);\n            return map(x);\n        };\n        if (!invert)\n            return scale;\n        // Update scale.invert\n        const outputValue = new Map(valueRelations.map(([a, b]) => [b, a]));\n        const outputFunc = new Map(funcRelations.map(([a, b]) => [b, a]));\n        scale.invert = (x) => {\n            if (outputFunc.has(x))\n                return x;\n            if (outputValue.has(x))\n                return outputValue.get(x);\n            return invert(x);\n        };\n        return scale;\n    };\n    const deconditionalize = (scale) => {\n        if (map !== null)\n            scale.map = map;\n        if (invert !== null)\n            scale.invert = invert;\n        return scale;\n    };\n    return [conditionalize, deconditionalize];\n}\nexport function assignScale(target, source) {\n    const keys = Object.keys(target);\n    for (const scale of Object.values(source)) {\n        const { name } = scale.getOptions();\n        if (!(name in target))\n            target[name] = scale;\n        else {\n            const I = keys\n                .filter((d) => d.startsWith(name))\n                // Reg is for extract `1` from `x1`;\n                .map((d) => +(d.replace(name, '') || 0));\n            const index = max(I) + 1;\n            const newKey = `${name}${index}`;\n            target[newKey] = scale;\n            scale.getOptions().key = newKey;\n        }\n    }\n    return target;\n}\nexport function useRelationScale(options, library) {\n    const [useScale] = useLibrary('scale', library);\n    const { relations } = options;\n    const [conditionalize] = useRelation(relations);\n    const scale = useScale(options);\n    return conditionalize(scale);\n}\nexport function syncFacetsScales(states) {\n    const scales = states\n        .flatMap((d) => Array.from(d.values()))\n        .flatMap((d) => d.channels.map((d) => d.scale));\n    syncFacetsScaleByChannel(scales, 'x');\n    syncFacetsScaleByChannel(scales, 'y');\n}\nfunction inferChannelsForComponent(component) {\n    const { channels = [], type, scale = {} } = component;\n    const L = ['shape', 'color', 'opacity', 'size'];\n    if (channels.length !== 0)\n        return channels;\n    if (type === 'axisX')\n        return ['x'];\n    if (type === 'axisY')\n        return ['y'];\n    if (type === 'legends')\n        return Object.keys(scale).filter((d) => L.includes(d));\n    return [];\n}\nfunction syncFacetsScaleByChannel(scales, channel) {\n    const S = scales.filter(({ name, facet = true }) => facet && name === channel);\n    const D = S.flatMap((d) => d.domain);\n    const syncedD = S.every(isQuantitativeScale)\n        ? extent(D)\n        : S.every(isDiscreteScale)\n            ? Array.from(new Set(D))\n            : null;\n    if (syncedD === null)\n        return;\n    for (const scale of S) {\n        scale.domain = syncedD;\n    }\n}\nfunction maybeRatio(type, domain, options) {\n    const { ratio } = options;\n    if (ratio === undefined || ratio === null)\n        return domain;\n    if (isQuantitativeScale({ type })) {\n        return clampQuantitativeScale(domain, ratio, type);\n    }\n    if (isDiscreteScale({ type }))\n        return clampDiscreteScale(domain, ratio);\n    return domain;\n}\nfunction clampQuantitativeScale(domain, ratio, type) {\n    const D = domain.map(Number);\n    const scale = new Linear({\n        domain: D,\n        range: [D[0], D[0] + (D[D.length - 1] - D[0]) * ratio],\n    });\n    if (type === 'time')\n        return domain.map((d) => new Date(scale.map(d)));\n    return domain.map((d) => scale.map(d));\n}\nfunction clampDiscreteScale(domain, ratio) {\n    const index = Math.round(domain.length * ratio);\n    return domain.slice(0, index);\n}\nfunction isQuantitativeScale(scale) {\n    const { type } = scale;\n    if (typeof type !== 'string')\n        return false;\n    // Do not take quantize, quantile or threshold scale into account,\n    // because they are not for position scales. If they are, there is\n    // no need to sync them.\n    const names = ['linear', 'log', 'pow', 'time'];\n    return names.includes(type);\n}\nfunction isDiscreteScale(scale) {\n    const { type } = scale;\n    if (typeof type !== 'string')\n        return false;\n    const names = ['band', 'point', 'ordinal'];\n    return names.includes(type);\n}\n// @todo More accurate inference for different cases.\nfunction inferScaleType(name, values, options) {\n    const { type, domain, range, quantitative, ordinal } = options;\n    if (type !== undefined)\n        return type;\n    if (isObject(values))\n        return 'identity';\n    if (typeof range === 'string')\n        return 'linear';\n    if ((domain || range || []).length > 2)\n        return asOrdinalType(name, ordinal);\n    if (domain !== undefined) {\n        if (isOrdinal([domain]))\n            return asOrdinalType(name, ordinal);\n        if (isTemporal(values))\n            return 'time';\n        return asQuantitativeType(name, range, quantitative);\n    }\n    if (isOrdinal(values))\n        return asOrdinalType(name, ordinal);\n    if (isTemporal(values))\n        return 'time';\n    return asQuantitativeType(name, range, quantitative);\n}\nfunction inferScaleDomain(type, name, values, options) {\n    const { domain } = options;\n    if (domain !== undefined)\n        return domain;\n    switch (type) {\n        case 'linear':\n        case 'time':\n        case 'log':\n        case 'pow':\n        case 'sqrt':\n        case 'quantize':\n        case 'threshold':\n            return maybeMinMax(inferDomainQ(values, options), options);\n        case 'band':\n        case 'ordinal':\n        case 'point':\n            return inferDomainC(values);\n        case 'quantile':\n            return inferDomainO(values);\n        case 'sequential':\n            return maybeMinMax(inferDomainS(values), options);\n        default:\n            return [];\n    }\n}\nfunction inferScaleRange(type, name, values, options, domain, theme, library) {\n    const { range } = options;\n    if (typeof range === 'string')\n        return gradientColors(range);\n    if (range !== undefined)\n        return range;\n    const { rangeMin, rangeMax } = options;\n    switch (type) {\n        case 'linear':\n        case 'time':\n        case 'log':\n        case 'pow':\n        case 'sqrt': {\n            const colors = categoricalColors(values, options, domain, theme, library);\n            const [r0, r1] = inferRangeQ(name, colors);\n            return [rangeMin !== null && rangeMin !== void 0 ? rangeMin : r0, rangeMax !== null && rangeMax !== void 0 ? rangeMax : r1];\n        }\n        case 'band':\n        case 'point': {\n            const min = name === 'size' ? 5 : 0;\n            const max = name === 'size' ? 10 : 1;\n            return [rangeMin !== null && rangeMin !== void 0 ? rangeMin : min, rangeMax !== null && rangeMax !== void 0 ? rangeMax : max];\n        }\n        case 'ordinal': {\n            return categoricalColors(values, options, domain, theme, library);\n        }\n        case 'sequential':\n            return undefined;\n        case 'constant':\n            return [values[0][0]];\n        default:\n            return [];\n    }\n}\nfunction inferScaleOptions(type, name, values, options, coordinates) {\n    switch (type) {\n        case 'linear':\n        case 'time':\n        case 'log':\n        case 'pow':\n        case 'sqrt':\n            return inferOptionsQ(coordinates, options);\n        case 'band':\n        case 'point':\n            return inferOptionsC(type, name, coordinates, options);\n        case 'sequential':\n            return inferOptionsS(options);\n        default:\n            return options;\n    }\n}\nfunction categoricalColors(values, options, domain, theme, library) {\n    const [usePalette] = useLibrary('palette', library);\n    const { category10: c10, category20: c20 } = theme;\n    const defaultPalette = unique(domain).length <= c10.length ? c10 : c20;\n    const { palette = defaultPalette, offset } = options;\n    if (Array.isArray(palette))\n        return palette;\n    // Built-in palettes have higher priority.\n    try {\n        return usePalette({ type: palette });\n    }\n    catch (e) {\n        const colors = interpolatedColors(palette, domain, offset);\n        if (colors)\n            return colors;\n        throw new Error(`Unknown Component: ${palette} `);\n    }\n}\nfunction gradientColors(range) {\n    return range.split('-');\n}\nfunction interpolatedColors(palette, domain, offset = (d) => d) {\n    if (!palette)\n        return null;\n    const fullName = upperFirst(palette);\n    // If scheme have enough colors, then return pre-defined colors.\n    const scheme = d3ScaleChromatic[`scheme${fullName}`];\n    const interpolator = d3ScaleChromatic[`interpolate${fullName}`];\n    if (!scheme && !interpolator)\n        return null;\n    if (scheme) {\n        // If is a one dimension array, return it.\n        if (!scheme.some(Array.isArray))\n            return scheme;\n        const schemeColors = scheme[domain.length];\n        if (schemeColors)\n            return schemeColors;\n    }\n    // Otherwise interpolate to get full colors.\n    return domain.map((_, i) => interpolator(offset(i / domain.length)));\n}\nfunction inferOptionsS(options) {\n    const { palette = 'ylGnBu', offset } = options;\n    const name = upperFirst(palette);\n    const interpolator = d3ScaleChromatic[`interpolate${name}`];\n    if (!interpolator)\n        throw new Error(`Unknown palette: ${name}`);\n    return {\n        interpolator: offset ? (x) => interpolator(offset(x)) : interpolator,\n    };\n}\nfunction inferOptionsQ(coordinates, options) {\n    const { interpolate = createInterpolateValue, nice = false, tickCount = 5, } = options;\n    return Object.assign(Object.assign({}, options), { interpolate, nice, tickCount });\n}\nfunction inferOptionsC(type, name, coordinates, options) {\n    if (options.padding !== undefined ||\n        options.paddingInner !== undefined ||\n        options.paddingOuter !== undefined) {\n        return Object.assign(Object.assign({}, options), { unknown: NaN });\n    }\n    const padding = inferPadding(type, name, coordinates);\n    const { paddingInner = padding, paddingOuter = padding } = options;\n    return Object.assign(Object.assign({}, options), { paddingInner,\n        paddingOuter,\n        padding, unknown: NaN });\n}\nfunction inferPadding(type, name, coordinates) {\n    // The scale for enterDelay and enterDuration should has zero padding by default.\n    // Because there is no need to add extra delay for the start and the end.\n    if (name === 'enterDelay' || name === 'enterDuration')\n        return 0;\n    if (name === 'size')\n        return 0;\n    if (type === 'band')\n        return isTheta(coordinates) ? 0 : 0.1;\n    // Point scale need 0.5 padding to make interval between first and last point\n    // equal to other intervals in polar coordinate.\n    if (type === 'point')\n        return 0.5;\n    return 0;\n}\nfunction asOrdinalType(name, defaults) {\n    if (defaults)\n        return defaults;\n    return isQuantitative(name) ? 'point' : 'ordinal';\n}\nfunction asQuantitativeType(name, range, defaults) {\n    if (defaults)\n        return defaults;\n    if (name !== 'color')\n        return 'linear';\n    return range ? 'linear' : 'sequential';\n}\nfunction maybeMinMax(domain, options) {\n    if (domain.length === 0)\n        return domain;\n    const { domainMin, domainMax } = options;\n    const [d0, d1] = domain;\n    return [domainMin !== null && domainMin !== void 0 ? domainMin : d0, domainMax !== null && domainMax !== void 0 ? domainMax : d1];\n}\nfunction inferDomainQ(values, options) {\n    const { zero = false } = options;\n    let min = Infinity;\n    let max = -Infinity;\n    for (const value of values) {\n        for (const d of value) {\n            if (defined(d)) {\n                min = Math.min(min, +d);\n                max = Math.max(max, +d);\n            }\n        }\n    }\n    if (min === Infinity)\n        return [];\n    return zero ? [Math.min(0, min), max] : [min, max];\n}\nfunction inferDomainC(values) {\n    return Array.from(new Set(values.flat()));\n}\nfunction inferDomainO(values) {\n    return values.flat().sort();\n}\nfunction inferDomainS(values) {\n    let min = Infinity;\n    let max = -Infinity;\n    for (const value of values) {\n        for (const d of value) {\n            if (defined(d)) {\n                min = Math.min(min, +d);\n                max = Math.max(max, +d);\n            }\n        }\n    }\n    if (min === Infinity)\n        return [];\n    return [min < 0 ? -max : min, max];\n}\n/**\n * @todo More nice default range for enterDelay and enterDuration.\n * @todo Move these to channel definition.\n */\nfunction inferRangeQ(name, palette) {\n    if (name === 'enterDelay')\n        return [0, 1000];\n    if (name == 'enterDuration')\n        return [300, 1000];\n    if (name.startsWith('y') || name.startsWith('position'))\n        return [1, 0];\n    if (name === 'color')\n        return [firstOf(palette), lastOf(palette)];\n    if (name === 'opacity')\n        return [0, 1];\n    if (name === 'size')\n        return [1, 10];\n    return [0, 1];\n}\nfunction isOrdinal(values) {\n    return some(values, (d) => {\n        const type = typeof d;\n        return type === 'string' || type === 'boolean';\n    });\n}\nfunction isTemporal(values) {\n    return some(values, (d) => d instanceof Date);\n}\nfunction isObject(values) {\n    return some(values, isStrictObject);\n}\nfunction some(values, callback) {\n    for (const V of values) {\n        if (V.some(callback))\n            return true;\n    }\n    return false;\n}\nfunction isQuantitative(name) {\n    return (name.startsWith('x') ||\n        name.startsWith('y') ||\n        name.startsWith('position') ||\n        name.startsWith('size'));\n}\n// Spatial and temporal position.\nexport function isPosition(name) {\n    return (name.startsWith('x') ||\n        name.startsWith('y') ||\n        name.startsWith('position') ||\n        name === 'enterDelay' ||\n        name === 'enterDuration' ||\n        name === 'updateDelay' ||\n        name === 'updateDuration' ||\n        name === 'exitDelay' ||\n        name === 'exitDuration');\n}\nexport function isValidScale(scale) {\n    if (!scale || !scale.type)\n        return false;\n    if (typeof scale.type === 'function')\n        return true;\n    const { type, domain, range, interpolator } = scale;\n    const isValidDomain = domain && domain.length > 0;\n    const isValidRange = range && range.length > 0;\n    if ([\n        'linear',\n        'sqrt',\n        'log',\n        'time',\n        'pow',\n        'threshold',\n        'quantize',\n        'quantile',\n        'ordinal',\n        'band',\n        'point',\n    ].includes(type) &&\n        isValidDomain &&\n        isValidRange) {\n        return true;\n    }\n    if (['sequential'].includes(type) &&\n        isValidDomain &&\n        (isValidRange || interpolator)) {\n        return true;\n    }\n    if (['constant', 'identity'].includes(type) && isValidRange)\n        return true;\n    return false;\n}\n//# sourceMappingURL=scale.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, isNumber } from '@antv/util';\nimport { format } from '@antv/vendor/d3-format';\nimport { indexOf, mapObject } from '../utils/array';\nimport { composeAsync, defined, isStrictObject, isUnset, } from '../utils/helper';\nimport { isFullTooltip } from '../utils/mark';\nimport { useLibrary } from './library';\nimport { createColumnOf } from './mark';\nimport { isPosition } from './scale';\nexport const CALLBACK_ITEM_SYMBOL = Symbol('CALLBACK_ITEM');\n// @todo Add more defaults.\nexport function applyDefaults(I, mark, context) {\n    const { encode = {}, scale = {}, transform = [] } = mark, rest = __rest(mark, [\"encode\", \"scale\", \"transform\"]);\n    return [I, Object.assign(Object.assign({}, rest), { encode, scale, transform })];\n}\nexport function applyDataTransform(I, mark, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const { data } = mark;\n        const [useData] = useLibrary('data', library);\n        const descriptor = normalizedDataSource(data);\n        const { transform: T = [] } = descriptor, connector = __rest(descriptor, [\"transform\"]);\n        const transform = [connector, ...T];\n        const transformFunctions = transform.map((t) => useData(t, context));\n        const transformedData = yield composeAsync(transformFunctions)(data);\n        // Maintain the consistency of shape between input and output data.\n        // If the shape of raw data is like { value: any }\n        // and the returned transformedData is Object,\n        // returns the wrapped data: { value: transformedData },\n        // otherwise returns the processed tabular data.\n        const newData = data && !Array.isArray(data) && !Array.isArray(transformedData)\n            ? { value: transformedData }\n            : transformedData;\n        return [\n            Array.isArray(transformedData) ? indexOf(transformedData) : [],\n            Object.assign(Object.assign({}, mark), { data: newData }),\n        ];\n    });\n}\nexport function flatEncode(I, mark, context) {\n    const { encode } = mark;\n    if (!encode)\n        return [I, mark];\n    const flattenEncode = {};\n    for (const [key, value] of Object.entries(encode)) {\n        if (Array.isArray(value)) {\n            for (let i = 0; i < value.length; i++) {\n                const name = `${key}${i === 0 ? '' : i}`;\n                flattenEncode[name] = value[i];\n            }\n        }\n        else {\n            flattenEncode[key] = value;\n        }\n    }\n    return [I, Object.assign(Object.assign({}, mark), { encode: flattenEncode })];\n}\nexport function inferChannelsType(I, mark, context) {\n    const { encode, data } = mark;\n    if (!encode)\n        return [I, mark];\n    const typedEncode = mapObject(encode, (channel) => {\n        if (isTypedChannel(channel))\n            return channel;\n        const type = inferChannelType(data, channel);\n        return { type, value: channel };\n    });\n    return [I, Object.assign(Object.assign({}, mark), { encode: typedEncode })];\n}\nexport function maybeVisualChannel(I, mark, context) {\n    const { encode } = mark;\n    if (!encode)\n        return [I, mark];\n    const newEncode = mapObject(encode, (channel, name) => {\n        const { type } = channel;\n        if (type !== 'constant' || isPosition(name))\n            return channel;\n        return Object.assign(Object.assign({}, channel), { constant: true });\n    });\n    return [I, Object.assign(Object.assign({}, mark), { encode: newEncode })];\n}\nexport function extractColumns(I, mark, context) {\n    const { encode, data } = mark;\n    if (!encode)\n        return [I, mark];\n    const { library } = context;\n    const columnOf = createColumnOf(library);\n    const valuedEncode = mapObject(encode, (channel) => columnOf(data, channel));\n    return [I, Object.assign(Object.assign({}, mark), { encode: valuedEncode })];\n}\n/**\n * Normalize mark.tooltip to {title, items}.\n */\nexport function normalizeTooltip(I, mark, context) {\n    const { tooltip = {} } = mark;\n    if (isUnset(tooltip))\n        return [I, mark];\n    if (Array.isArray(tooltip)) {\n        return [I, Object.assign(Object.assign({}, mark), { tooltip: { items: tooltip } })];\n    }\n    if (isStrictObject(tooltip) && isFullTooltip(tooltip)) {\n        return [I, Object.assign(Object.assign({}, mark), { tooltip })];\n    }\n    return [I, Object.assign(Object.assign({}, mark), { tooltip: { items: [tooltip] } })];\n}\nexport function extractTooltip(I, mark, context) {\n    const { data, encode, tooltip = {} } = mark;\n    if (isUnset(tooltip))\n        return [I, mark];\n    const valueOf = (item) => {\n        if (!item)\n            return item;\n        if (typeof item === 'string') {\n            return I.map((i) => ({ name: item, value: data[i][item] }));\n        }\n        if (isStrictObject(item)) {\n            const { field, channel, color, name = field, valueFormatter = (d) => d, } = item;\n            // Support d3-format.\n            const normalizedValueFormatter = typeof valueFormatter === 'string'\n                ? format(valueFormatter)\n                : valueFormatter;\n            // Field name.\n            const definedChannel = channel && encode[channel];\n            const channelField = definedChannel && encode[channel].field;\n            const name1 = name || channelField || channel;\n            const values = [];\n            for (const i of I) {\n                const value1 = field\n                    ? data[i][field]\n                    : definedChannel\n                        ? encode[channel].value[i]\n                        : null;\n                values[i] = {\n                    name: name1,\n                    color,\n                    value: normalizedValueFormatter(value1),\n                };\n            }\n            return values;\n        }\n        if (typeof item === 'function') {\n            const values = [];\n            for (const i of I) {\n                const v = item(data[i], i, data, encode);\n                if (isStrictObject(v))\n                    values[i] = Object.assign(Object.assign({}, v), { [CALLBACK_ITEM_SYMBOL]: true });\n                else\n                    values[i] = { value: v };\n            }\n            return values;\n        }\n        return item;\n    };\n    const { title, items = [] } = tooltip, rest = __rest(tooltip, [\"title\", \"items\"]);\n    const newTooltip = Object.assign({ title: valueOf(title), items: Array.isArray(items) ? items.map(valueOf) : [] }, rest);\n    return [I, Object.assign(Object.assign({}, mark), { tooltip: newTooltip })];\n}\nexport function maybeArrayField(I, mark, context) {\n    const { encode } = mark, rest = __rest(mark, [\"encode\"]);\n    if (!encode)\n        return [I, mark];\n    const columns = Object.entries(encode);\n    const arrayColumns = columns\n        .filter(([, channel]) => {\n        const { value: V } = channel;\n        return Array.isArray(V[0]);\n    })\n        .flatMap(([key, V]) => {\n        const columns = [[key, new Array(I.length).fill(undefined)]];\n        const { value: rows } = V, rest = __rest(V, [\"value\"]);\n        for (let i = 0; i < rows.length; i++) {\n            const row = rows[i];\n            if (Array.isArray(row)) {\n                for (let j = 0; j < row.length; j++) {\n                    const column = columns[j] || [\n                        `${key}${j}`,\n                        new Array(I).fill(undefined),\n                    ];\n                    column[1][i] = row[j];\n                    columns[j] = column;\n                }\n            }\n        }\n        return columns.map(([key, value]) => [\n            key,\n            Object.assign({ type: 'column', value }, rest),\n        ]);\n    });\n    const newEncode = Object.fromEntries([...columns, ...arrayColumns]);\n    return [I, Object.assign(Object.assign({}, rest), { encode: newEncode })];\n}\nexport function addGuideToScale(I, mark, context) {\n    const { axis = {}, legend = {}, slider = {}, scrollbar = {} } = mark;\n    const normalize = (guide, channel) => {\n        if (typeof guide === 'boolean')\n            return guide ? {} : null;\n        const eachGuide = guide[channel];\n        return eachGuide === undefined || eachGuide ? eachGuide : null;\n    };\n    const axisChannels = typeof axis === 'object'\n        ? Array.from(new Set(['x', 'y', 'z', ...Object.keys(axis)]))\n        : ['x', 'y', 'z'];\n    deepMix(mark, {\n        scale: Object.assign(Object.assign({}, Object.fromEntries(axisChannels.map((channel) => {\n            const scrollbarOptions = normalize(scrollbar, channel);\n            return [\n                channel,\n                Object.assign({ guide: normalize(axis, channel), slider: normalize(slider, channel), scrollbar: scrollbarOptions }, (scrollbarOptions && {\n                    ratio: scrollbarOptions.ratio === undefined\n                        ? 0.5\n                        : scrollbarOptions.ratio,\n                })),\n            ];\n        }))), { color: { guide: normalize(legend, 'color') }, size: { guide: normalize(legend, 'size') }, shape: { guide: normalize(legend, 'shape') }, \n            // fixme: opacity is conflict with DisplayObject.opacity\n            // to be confirm.\n            opacity: { guide: normalize(legend, 'opacity') } }),\n    });\n    return [I, mark];\n}\nexport function maybeNonAnimate(I, mark, context) {\n    const { animate } = mark;\n    if (animate || animate === undefined)\n        return [I, mark];\n    deepMix(mark, {\n        animate: {\n            enter: { type: null },\n            exit: { type: null },\n            update: { type: null },\n        },\n    });\n    return [I, mark];\n}\nfunction isTypedChannel(channel) {\n    if (typeof channel !== 'object' ||\n        channel instanceof Date ||\n        channel === null) {\n        return false;\n    }\n    const { type } = channel;\n    return defined(type);\n}\nfunction inferChannelType(data, channel) {\n    if (typeof channel === 'function')\n        return 'transform';\n    if (typeof channel === 'string' && isField(data, channel))\n        return 'field';\n    return 'constant';\n}\nfunction isField(data, value) {\n    if (!Array.isArray(data))\n        return false;\n    return data.some((d) => d[value] !== undefined);\n}\nfunction normalizedDataSource(data) {\n    // Liquid、Gauge need number data.\n    if (isNumber(data))\n        return { type: 'inline', value: data };\n    // Return null as a placeholder.\n    if (!data)\n        return { type: 'inline', value: null };\n    if (Array.isArray(data))\n        return { type: 'inline', value: data };\n    const { type = 'inline' } = data, rest = __rest(data, [\"type\"]);\n    return Object.assign(Object.assign({}, rest), { type });\n}\n//# sourceMappingURL=transform.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Circle, Line } from '@antv/g';\nimport { sort, group, mean, bisector, minIndex, bisect, } from '@antv/vendor/d3-array';\nimport { deepMix, lowerFirst, throttle } from '@antv/util';\nimport { Tooltip as TooltipComponent } from '@antv/component';\nimport { defined, groupNameOf, subObject, dataOf } from '../utils/helper';\nimport { isTranspose, isPolar } from '../utils/coordinate';\nimport { angle, sub, dist } from '../utils/vector';\nimport { invert } from '../utils/scale';\nimport { CALLBACK_ITEM_SYMBOL } from '../runtime/transform';\nimport { selectG2Elements, createXKey, selectPlotArea, mousePosition, selectFacetG2Elements, createDatumof, selectElementByData, bboxOf, maybeRoot, } from './utils';\nfunction getContainer(group, mount) {\n    if (mount) {\n        return typeof mount === 'string' ? document.querySelector(mount) : mount;\n    }\n    const canvas = group.ownerDocument.defaultView\n        .getContextService()\n        .getDomElement();\n    return canvas.parentElement;\n}\nfunction getBounding(root) {\n    const bbox = root.getRenderBounds();\n    const { min: [x1, y1], max: [x2, y2], } = bbox;\n    return {\n        x: x1,\n        y: y1,\n        width: x2 - x1,\n        height: y2 - y1,\n    };\n}\nfunction getContainerOffset(container1, container2) {\n    const r1 = container1.getBoundingClientRect();\n    const r2 = container2.getBoundingClientRect();\n    return {\n        x: r1.x - r2.x,\n        y: r1.y - r2.y,\n    };\n}\nfunction createTooltip(container, x0, y0, position, enterable, bounding, containerOffset, css = {}, offset = [10, 10]) {\n    const defaults = {\n        '.g2-tooltip': {},\n        '.g2-tooltip-title': {\n            overflow: 'hidden',\n            'white-space': 'nowrap',\n            'text-overflow': 'ellipsis',\n        },\n    };\n    const tooltipElement = new TooltipComponent({\n        className: 'tooltip',\n        style: {\n            x: x0,\n            y: y0,\n            container: containerOffset,\n            data: [],\n            bounding,\n            position,\n            enterable,\n            title: '',\n            offset,\n            template: {\n                prefixCls: 'g2-',\n            },\n            style: deepMix(defaults, css),\n        },\n    });\n    container.appendChild(tooltipElement.HTMLTooltipElement);\n    return tooltipElement;\n}\nfunction showTooltip({ root, data, x, y, render, event, single, position = 'right-bottom', enterable = false, css, mount, bounding, offset, }) {\n    const container = getContainer(root, mount);\n    const canvasContainer = getContainer(root);\n    // All the views share the same tooltip.\n    const parent = single ? canvasContainer : root;\n    const b = bounding || getBounding(root);\n    const containerOffset = getContainerOffset(canvasContainer, container);\n    const { tooltipElement = createTooltip(container, x, y, position, enterable, b, containerOffset, css, offset), } = parent;\n    const { items, title = '' } = data;\n    tooltipElement.update(Object.assign({ x,\n        y, data: items, title,\n        position,\n        enterable, container: containerOffset }, (render !== undefined && {\n        content: render(event, { items, title }),\n    })));\n    parent.tooltipElement = tooltipElement;\n}\nfunction hideTooltip({ root, single, emitter, nativeEvent = true, event = null, }) {\n    if (nativeEvent) {\n        emitter.emit('tooltip:hide', { nativeEvent });\n    }\n    const container = getContainer(root);\n    const parent = single ? container : root;\n    const { tooltipElement } = parent;\n    if (tooltipElement) {\n        // Must be clientX, clientY.\n        tooltipElement.hide(event === null || event === void 0 ? void 0 : event.clientX, event === null || event === void 0 ? void 0 : event.clientY);\n    }\n    hideRuleY(root);\n    hideRuleX(root);\n    hideMarker(root);\n}\nfunction destroyTooltip({ root, single }) {\n    const container = getContainer(root);\n    const parent = single ? container : root;\n    if (!parent)\n        return;\n    const { tooltipElement } = parent;\n    if (tooltipElement) {\n        tooltipElement.destroy();\n        parent.tooltipElement = undefined;\n    }\n    hideRuleY(root);\n    hideRuleX(root);\n    hideMarker(root);\n}\nfunction showUndefined(item) {\n    const { value } = item;\n    return Object.assign(Object.assign({}, item), { value: value === undefined ? 'undefined' : value });\n}\nfunction singleItem(element) {\n    const { __data__: datum } = element;\n    const { title, items = [] } = datum;\n    const newItems = items\n        .filter(defined)\n        .map((_a) => {\n        var { color = itemColorOf(element) } = _a, item = __rest(_a, [\"color\"]);\n        return (Object.assign(Object.assign({}, item), { color }));\n    })\n        .map(showUndefined);\n    return Object.assign(Object.assign({}, (title && { title })), { items: newItems });\n}\nfunction itemColorOf(element) {\n    const fill = element.getAttribute('fill');\n    const stroke = element.getAttribute('stroke');\n    const { __data__: datum } = element;\n    const { color = fill && fill !== 'transparent' ? fill : stroke } = datum;\n    return color;\n}\nfunction unique(items, key = (d) => d) {\n    const valueName = new Map(items.map((d) => [key(d), d]));\n    return Array.from(valueName.values());\n}\nfunction groupItems(elements, scale, groupName, data = elements.map((d) => d['__data__']), theme = {}) {\n    const key = (d) => (d instanceof Date ? +d : d);\n    const T = unique(data.map((d) => d.title), key).filter(defined);\n    const newItems = data\n        .flatMap((datum, i) => {\n        const element = elements.find((element) => {\n            var _a;\n            return ((_a = element.__data__.seriesKey) === null || _a === void 0 ? void 0 : _a.includes(datum.key)) ||\n                element.__data__.key === datum.key;\n        });\n        const { items = [], title } = datum;\n        const definedItems = items.filter(defined);\n        // If there is only one item, use groupName as title by default.\n        const useGroupName = groupName !== undefined ? groupName : items.length <= 1 ? true : false;\n        return definedItems.map((_a) => {\n            var { color = itemColorOf(element) || theme.color, name } = _a, item = __rest(_a, [\"color\", \"name\"]);\n            const groupName = groupNameOf(scale, datum);\n            // callback's priority is higher than groupName.\n            const name1 = useGroupName && !(CALLBACK_ITEM_SYMBOL in item)\n                ? groupName || name\n                : name || groupName;\n            return Object.assign(Object.assign({}, item), { color, name: name1 || title });\n        });\n    })\n        .map(showUndefined);\n    return Object.assign(Object.assign({}, (T.length > 0 && { title: T.join(',') })), { items: unique(newItems, (d) => `(${key(d.name)}, ${key(d.value)}, ${key(d.color)})`) });\n}\nfunction updateRuleX(root, points, mouse, _a) {\n    var { plotWidth, plotHeight, mainWidth, mainHeight, startX, startY, transposed, polar, insetLeft, insetTop } = _a, rest = __rest(_a, [\"plotWidth\", \"plotHeight\", \"mainWidth\", \"mainHeight\", \"startX\", \"startY\", \"transposed\", \"polar\", \"insetLeft\", \"insetTop\"]);\n    const defaults = Object.assign({ lineWidth: 1, stroke: '#1b1e23', strokeOpacity: 0.5 }, rest);\n    const createCircle = (cx, cy, r) => {\n        const circle = new Circle({\n            style: Object.assign({ cx,\n                cy,\n                r }, defaults),\n        });\n        root.appendChild(circle);\n        return circle;\n    };\n    const createLine = (x1, x2, y1, y2) => {\n        const line = new Line({\n            style: Object.assign({ x1,\n                x2,\n                y1,\n                y2 }, defaults),\n        });\n        root.appendChild(line);\n        return line;\n    };\n    const minDistPoint = (mouse, points) => {\n        // only one point do not need compute\n        if (points.length === 1) {\n            return points[0];\n        }\n        const dists = points.map((p) => dist(p, mouse));\n        const minDistIndex = minIndex(dists, (d) => d);\n        return points[minDistIndex];\n    };\n    const target = minDistPoint(mouse, points);\n    const pointsOf = () => {\n        if (transposed)\n            return [\n                startX + target[0],\n                startX + target[0],\n                startY,\n                startY + plotHeight,\n            ];\n        return [startX, startX + plotWidth, target[1] + startY, target[1] + startY];\n    };\n    const pointsOfPolar = () => {\n        const cx = startX + insetLeft + mainWidth / 2;\n        const cy = startY + insetTop + mainHeight / 2;\n        const cdist = dist([cx, cy], target);\n        return [cx, cy, cdist];\n    };\n    if (polar) {\n        const [cx, cy, r] = pointsOfPolar();\n        const ruleX = root.ruleX || createCircle(cx, cy, r);\n        ruleX.style.cx = cx;\n        ruleX.style.cy = cy;\n        ruleX.style.r = r;\n        root.ruleX = ruleX;\n    }\n    else {\n        const [x1, x2, y1, y2] = pointsOf();\n        const ruleX = root.ruleX || createLine(x1, x2, y1, y2);\n        ruleX.style.x1 = x1;\n        ruleX.style.x2 = x2;\n        ruleX.style.y1 = y1;\n        ruleX.style.y2 = y2;\n        root.ruleX = ruleX;\n    }\n}\nfunction updateRuleY(root, points, _a) {\n    var { plotWidth, plotHeight, mainWidth, mainHeight, startX, startY, transposed, polar, insetLeft, insetTop } = _a, rest = __rest(_a, [\"plotWidth\", \"plotHeight\", \"mainWidth\", \"mainHeight\", \"startX\", \"startY\", \"transposed\", \"polar\", \"insetLeft\", \"insetTop\"]);\n    const defaults = Object.assign({ lineWidth: 1, stroke: '#1b1e23', strokeOpacity: 0.5 }, rest);\n    const Y = points.map((p) => p[1]);\n    const X = points.map((p) => p[0]);\n    const y = mean(Y);\n    const x = mean(X);\n    const pointsOf = () => {\n        if (polar) {\n            const r = Math.min(mainWidth, mainHeight) / 2;\n            const cx = startX + insetLeft + mainWidth / 2;\n            const cy = startY + insetTop + mainHeight / 2;\n            const a = angle(sub([x, y], [cx, cy]));\n            const x0 = cx + r * Math.cos(a);\n            const y0 = cy + r * Math.sin(a);\n            return [cx, x0, cy, y0];\n        }\n        if (transposed)\n            return [startX, startX + plotWidth, y + startY, y + startY];\n        return [x + startX, x + startX, startY, startY + plotHeight];\n    };\n    const [x1, x2, y1, y2] = pointsOf();\n    const createLine = () => {\n        const line = new Line({\n            style: Object.assign({ x1,\n                x2,\n                y1,\n                y2 }, defaults),\n        });\n        root.appendChild(line);\n        return line;\n    };\n    // Only update rule with defined series elements.\n    if (X.length > 0) {\n        const ruleY = root.ruleY || createLine();\n        ruleY.style.x1 = x1;\n        ruleY.style.x2 = x2;\n        ruleY.style.y1 = y1;\n        ruleY.style.y2 = y2;\n        root.ruleY = ruleY;\n    }\n}\nfunction hideRuleY(root) {\n    if (root.ruleY) {\n        root.ruleY.remove();\n        root.ruleY = undefined;\n    }\n}\nfunction hideRuleX(root) {\n    if (root.ruleX) {\n        root.ruleX.remove();\n        root.ruleX = undefined;\n    }\n}\nfunction updateMarker(root, { data, style, theme }) {\n    if (root.markers)\n        root.markers.forEach((d) => d.remove());\n    const { type = '' } = style;\n    const markers = data\n        .filter((d) => {\n        const [{ x, y }] = d;\n        return defined(x) && defined(y);\n    })\n        .map((d) => {\n        const [{ color, element }, point] = d;\n        const originColor = color || // encode value\n            element.style.fill ||\n            element.style.stroke ||\n            theme.color;\n        const fill = type === 'hollow' ? 'transparent' : originColor;\n        const stroke = type === 'hollow' ? originColor : '#fff';\n        const shape = new Circle({\n            className: 'g2-tooltip-marker',\n            style: Object.assign({ cx: point[0], cy: point[1], fill, r: 4, stroke, lineWidth: 2, \n                // Prevents blocking clicks on elements behind.\n                pointerEvents: 'none' }, style),\n        });\n        return shape;\n    });\n    for (const marker of markers)\n        root.appendChild(marker);\n    root.markers = markers;\n}\nfunction hideMarker(root) {\n    if (root.markers) {\n        root.markers.forEach((d) => d.remove());\n        root.markers = [];\n    }\n}\nfunction interactionKeyof(markState, key) {\n    return Array.from(markState.values()).some(\n    // @ts-ignore\n    (d) => { var _a; return (_a = d.interaction) === null || _a === void 0 ? void 0 : _a[key]; });\n}\nfunction maybeValue(specified, defaults) {\n    return specified === undefined ? defaults : specified;\n}\nfunction isEmptyTooltipData(data) {\n    const { title, items } = data;\n    if (items.length === 0 && title === undefined)\n        return true;\n    return false;\n}\nfunction hasSeries(markState) {\n    return Array.from(markState.values()).some(\n    // @ts-ignore\n    (d) => { var _a; return ((_a = d.interaction) === null || _a === void 0 ? void 0 : _a.seriesTooltip) && d.tooltip; });\n}\n/**\n * Show tooltip for series item.\n */\nexport function seriesTooltip(root, _a) {\n    var _b, _c;\n    var { elements: elementsof, sort: sortFunction, filter: filterFunction, scale, coordinate, crosshairs, crosshairsX, crosshairsY, render, groupName, emitter, wait = 50, leading = true, trailing = false, startX = 0, startY = 0, body = true, single = true, position, enterable, mount, bounding, theme, offset, disableNative = false, marker = true, preserve = false, style: _style = {}, css = {} } = _a, rest = __rest(_a, [\"elements\", \"sort\", \"filter\", \"scale\", \"coordinate\", \"crosshairs\", \"crosshairsX\", \"crosshairsY\", \"render\", \"groupName\", \"emitter\", \"wait\", \"leading\", \"trailing\", \"startX\", \"startY\", \"body\", \"single\", \"position\", \"enterable\", \"mount\", \"bounding\", \"theme\", \"offset\", \"disableNative\", \"marker\", \"preserve\", \"style\", \"css\"]);\n    const elements = elementsof(root);\n    const transposed = isTranspose(coordinate);\n    const polar = isPolar(coordinate);\n    const style = deepMix(_style, rest);\n    const { innerWidth: plotWidth, innerHeight: plotHeight, width: mainWidth, height: mainHeight, insetLeft, insetTop, } = coordinate.getOptions();\n    // Split elements into series elements and item elements.\n    const seriesElements = [];\n    const itemElements = [];\n    for (const element of elements) {\n        const { __data__: data } = element;\n        const { seriesX, title, items } = data;\n        if (seriesX)\n            seriesElements.push(element);\n        else if (title || items)\n            itemElements.push(element);\n    }\n    const inInterval = (d) => d.markType === 'interval';\n    const isBar = itemElements.length &&\n        itemElements.every(inInterval) &&\n        !isPolar(coordinate);\n    const xof = (d) => d.__data__.x;\n    // For band scale x, find the closest series element to focus,\n    // useful for interval + line mark.\n    const isBandScale = !!scale.x.getBandWidth;\n    const closest = isBandScale && itemElements.length > 0;\n    // Sorted elements from top to bottom visually,\n    // or from right to left in transpose coordinate.\n    seriesElements.sort((a, b) => {\n        const index = transposed ? 0 : 1;\n        const minY = (d) => d.getBounds().min[index];\n        return transposed ? minY(b) - minY(a) : minY(a) - minY(b);\n    });\n    const extent = (d) => {\n        const index = transposed ? 1 : 0;\n        const { min, max } = d.getLocalBounds();\n        return sort([min[index], max[index]]);\n    };\n    // Sort itemElements for bisector search.\n    if (isBar)\n        elements.sort((a, b) => xof(a) - xof(b));\n    else {\n        itemElements.sort((a, b) => {\n            const [minA, maxA] = extent(a);\n            const [minB, maxB] = extent(b);\n            const midA = (minA + maxA) / 2;\n            const midB = (minB + maxB) / 2;\n            return transposed ? midB - midA : midA - midB;\n        });\n    }\n    // Get sortedIndex and X for each series elements\n    const elementSortedX = new Map(seriesElements.map((element) => {\n        const { __data__: data } = element;\n        const { seriesX } = data;\n        const seriesIndex = seriesX.map((_, i) => i);\n        const sortedIndex = sort(seriesIndex, (i) => seriesX[+i]);\n        return [element, [sortedIndex, seriesX]];\n    }));\n    const { x: scaleX } = scale;\n    const stepWidth = (_c = (_b = scaleX === null || scaleX === void 0 ? void 0 : scaleX.getStep) === null || _b === void 0 ? void 0 : _b.call(scaleX)) !== null && _c !== void 0 ? _c : 0;\n    // Apply offset for band scale x.\n    const offsetX = (scaleX === null || scaleX === void 0 ? void 0 : scaleX.getBandWidth) ? scaleX.getBandWidth() / 2 : 0;\n    const abstractX = (focus) => {\n        const [normalizedX] = coordinate.invert(focus);\n        return normalizedX - offsetX;\n    };\n    const indexByFocus = (event, focus, I, X) => {\n        const isOutRange = (x, min, max) => x < min || x > max;\n        const shouldSkip = (closest, isRangeViolation, isInvalid) => !closest && isRangeViolation && isInvalid;\n        // _x is from emit event, to find the right element.\n        const { _x } = event;\n        const finalX = _x !== undefined ? scaleX.map(_x) : abstractX(focus);\n        const DX = X.filter(defined);\n        const [minX, maxX] = sort([DX[0], DX[DX.length - 1]]);\n        // If only has one element(minX == maxX), show tooltip when hover whole chart\n        const isOnlyOneElement = minX === maxX;\n        // If closest is true, always find at least one element.\n        // Otherwise, skip element out of plot area.\n        if (shouldSkip(closest, isOutRange(finalX, minX, maxX), !isOnlyOneElement))\n            return null;\n        const search = bisector((i) => X[+i]).center;\n        const i = search(I, finalX);\n        if (isOnlyOneElement) {\n            // if is only one element, find the closest x to focusX\n            const sortedDomain = scaleX.adjustedRange;\n            if (\n            // consider oneElementLine, if only one element of one XDomain, must return one element, related test case: tooltip/one-element-line\n            // else if multi elements, determine whether it is between the minimum scope and the maximum scope\n            shouldSkip(closest, isOutRange(finalX, sortedDomain[0], sortedDomain[sortedDomain.length - 1]), !(sortedDomain.length === 1)))\n                return null;\n            return I[i];\n        }\n        return I[i];\n    };\n    // get x domain by point\n    const getDomainXByPoint = (point) => {\n        const [pointX] = coordinate.invert(point);\n        const rangeIndexMap = scaleX.rangeIndexMap;\n        const domainXs = Array.from(rangeIndexMap.keys()).map((d) => d - (stepWidth - scaleX.getBandWidth()) / 2);\n        const index = bisect(domainXs, pointX);\n        return scaleX.sortedDomain[index - 1];\n    };\n    const elementsByFocus = isBar\n        ? (focus, elements) => {\n            const search = bisector(xof).center;\n            const pointX = abstractX(focus);\n            const parentOf = (d) => d.parentNode;\n            const elementGroups = group(elements, parentOf);\n            const selected = [];\n            const domainX = getDomainXByPoint(focus);\n            elementGroups.forEach((elements) => {\n                const i = search(elements, pointX);\n                const find = elements[i];\n                if (domainX === find.__data__.title) {\n                    selected.push(find);\n                }\n            });\n            return selected;\n        }\n        : (focus, elements) => {\n            const index = transposed ? 1 : 0;\n            const x = focus[index];\n            const filtered = elements.filter((element) => {\n                const [min, max] = extent(element);\n                return x >= min && x <= max;\n            });\n            // If closet is true, always find at least one element.\n            if (!closest || filtered.length > 0)\n                return filtered;\n            // Search the closet element to the focus.\n            const search = bisector((element) => {\n                const [min, max] = extent(element);\n                return (min + max) / 2;\n            }).center;\n            const i = search(elements, x);\n            return [elements[i]].filter(defined);\n        };\n    const seriesData = (element, index) => {\n        const { __data__: data } = element;\n        return Object.fromEntries(Object.entries(data)\n            .filter(([key]) => key.startsWith('series') && key !== 'series')\n            .map(([key, V]) => {\n            const d = V[index];\n            return [lowerFirst(key.replace('series', '')), d];\n        }));\n    };\n    const update = throttle((event) => {\n        var _a;\n        const mouse = mousePosition(root, event);\n        if (!mouse)\n            return;\n        const bbox = bboxOf(root);\n        const x = bbox.min[0];\n        const y = bbox.min[1];\n        const focus = [mouse[0] - startX, mouse[1] - startY];\n        if (!focus)\n            return;\n        // Get selected item element.\n        const selectedItems = elementsByFocus(focus, itemElements);\n        // Get selected data item from both series element and item element.\n        const selectedSeriesElements = [];\n        const selectedSeriesData = [];\n        for (const element of seriesElements) {\n            const [sortedIndex, X] = elementSortedX.get(element);\n            const index = indexByFocus(event, focus, sortedIndex, X);\n            if (index !== null) {\n                selectedSeriesElements.push(element);\n                const d = seriesData(element, index);\n                const { x, y } = d;\n                const p = coordinate.map([(x || 0) + offsetX, y || 0]);\n                selectedSeriesData.push([Object.assign(Object.assign({}, d), { element }), p]);\n            }\n        }\n        // Filter selectedSeriesData with different x,\n        // make sure there is only one x closest to focusX.\n        const SX = Array.from(new Set(selectedSeriesData.map((d) => d[0].x)));\n        const closestX = SX[minIndex(SX, (x) => Math.abs(x - abstractX(focus)))];\n        const filteredSeriesData = selectedSeriesData.filter((d) => d[0].x === closestX);\n        const selectedData = [\n            ...filteredSeriesData.map((d) => d[0]),\n            ...selectedItems.map((d) => d.__data__),\n        ];\n        // Get the displayed tooltip data.\n        const selectedElements = [...selectedSeriesElements, ...selectedItems];\n        const tooltipData = groupItems(selectedElements, scale, groupName, selectedData, theme);\n        // Sort items and filter items.\n        if (sortFunction) {\n            tooltipData.items.sort((a, b) => sortFunction(a) - sortFunction(b));\n        }\n        if (filterFunction) {\n            tooltipData.items = tooltipData.items.filter(filterFunction);\n        }\n        // Hide tooltip with no selected tooltip.\n        if (selectedElements.length === 0 || isEmptyTooltipData(tooltipData)) {\n            hide(event);\n            return;\n        }\n        if (body) {\n            showTooltip({\n                root,\n                data: tooltipData,\n                x: mouse[0] + x,\n                y: mouse[1] + y,\n                render,\n                event,\n                single,\n                position,\n                enterable,\n                mount,\n                bounding,\n                css,\n                offset,\n            });\n        }\n        if (crosshairs || crosshairsX || crosshairsY) {\n            const ruleStyle = subObject(style, 'crosshairs');\n            const ruleStyleX = Object.assign(Object.assign({}, ruleStyle), subObject(style, 'crosshairsX'));\n            const ruleStyleY = Object.assign(Object.assign({}, ruleStyle), subObject(style, 'crosshairsY'));\n            const points = filteredSeriesData.map((d) => d[1]);\n            if (crosshairsX) {\n                updateRuleX(root, points, mouse, Object.assign(Object.assign({}, ruleStyleX), { plotWidth,\n                    plotHeight,\n                    mainWidth,\n                    mainHeight,\n                    insetLeft,\n                    insetTop,\n                    startX,\n                    startY,\n                    transposed,\n                    polar }));\n            }\n            if (crosshairsY) {\n                updateRuleY(root, points, Object.assign(Object.assign({}, ruleStyleY), { plotWidth,\n                    plotHeight,\n                    mainWidth,\n                    mainHeight,\n                    insetLeft,\n                    insetTop,\n                    startX,\n                    startY,\n                    transposed,\n                    polar }));\n            }\n        }\n        if (marker) {\n            const markerStyles = subObject(style, 'marker');\n            updateMarker(root, {\n                data: filteredSeriesData,\n                style: markerStyles,\n                theme,\n            });\n        }\n        // X in focus may related multiple points when dataset is large,\n        // so we need to find the first x to show tooltip.\n        const firstX = (_a = filteredSeriesData[0]) === null || _a === void 0 ? void 0 : _a[0].x;\n        const transformedX = firstX !== null && firstX !== void 0 ? firstX : abstractX(focus);\n        emitter.emit('tooltip:show', Object.assign(Object.assign({}, event), { nativeEvent: true, data: Object.assign(Object.assign({}, tooltipData), { data: { x: invert(scale.x, transformedX, true) } }) }));\n    }, wait, { leading, trailing });\n    const hide = (event) => {\n        hideTooltip({ root, single, emitter, event });\n    };\n    const destroy = () => {\n        destroyTooltip({ root, single });\n    };\n    const onTooltipShow = (_a) => {\n        var _b;\n        var { nativeEvent, data, offsetX, offsetY } = _a, rest = __rest(_a, [\"nativeEvent\", \"data\", \"offsetX\", \"offsetY\"]);\n        if (nativeEvent)\n            return;\n        const x = (_b = data === null || data === void 0 ? void 0 : data.data) === null || _b === void 0 ? void 0 : _b.x;\n        const scaleX = scale.x;\n        const x1 = scaleX.map(x);\n        const [x2, y2] = coordinate.map([x1, 0.5]);\n        const rootBounds = root.getRenderBounds();\n        const minX = rootBounds.min[0];\n        const minY = rootBounds.min[1];\n        update(Object.assign(Object.assign({}, rest), { offsetX: offsetX !== undefined ? offsetX : minX + x2, offsetY: offsetY !== undefined ? offsetY : minY + y2, _x: x }));\n    };\n    const onTooltipHide = () => {\n        hideTooltip({ root, single, emitter, nativeEvent: false });\n    };\n    const onTooltipDisable = () => {\n        removeEventListeners();\n        destroy();\n    };\n    const onTooltipEnable = () => {\n        addEventListeners();\n    };\n    const addEventListeners = () => {\n        if (!disableNative) {\n            root.addEventListener('pointerenter', update);\n            root.addEventListener('pointermove', update);\n            // Only emit pointerleave event when the pointer is not in the root area.\n            root.addEventListener('pointerleave', (e) => {\n                if (mousePosition(root, e))\n                    return;\n                hide(e);\n            });\n        }\n    };\n    const removeEventListeners = () => {\n        if (!disableNative) {\n            root.removeEventListener('pointerenter', update);\n            root.removeEventListener('pointermove', update);\n            root.removeEventListener('pointerleave', hide);\n        }\n    };\n    addEventListeners();\n    emitter.on('tooltip:show', onTooltipShow);\n    emitter.on('tooltip:hide', onTooltipHide);\n    emitter.on('tooltip:disable', onTooltipDisable);\n    emitter.on('tooltip:enable', onTooltipEnable);\n    return () => {\n        removeEventListeners();\n        emitter.off('tooltip:show', onTooltipShow);\n        emitter.off('tooltip:hide', onTooltipHide);\n        emitter.off('tooltip:disable', onTooltipDisable);\n        emitter.off('tooltip:enable', onTooltipEnable);\n        if (preserve) {\n            hideTooltip({ root, single, emitter, nativeEvent: false });\n        }\n        else {\n            destroy();\n        }\n    };\n}\n/**\n * Show tooltip for non-series item.\n */\nexport function tooltip(root, { elements: elementsof, coordinate, scale, render, groupName, sort: sortFunction, filter: filterFunction, emitter, wait = 50, leading = true, trailing = false, groupKey = (d) => d, // group elements by specified key\nsingle = true, position, enterable, datum, view, mount, bounding, theme, offset, shared = false, body = true, disableNative = false, preserve = false, css = {}, }) {\n    var _a, _b, _c, _d;\n    const elements = elementsof(root);\n    const keyGroup = group(elements, groupKey);\n    const inInterval = (d) => d.markType === 'interval';\n    const isBar = elements.every(inInterval) && !isPolar(coordinate);\n    const scaleX = scale.x;\n    const scaleSeries = scale.series;\n    const bandWidth = (_b = (_a = scaleX === null || scaleX === void 0 ? void 0 : scaleX.getBandWidth) === null || _a === void 0 ? void 0 : _a.call(scaleX)) !== null && _b !== void 0 ? _b : 0;\n    const stepWidth = (_d = (_c = scaleX === null || scaleX === void 0 ? void 0 : scaleX.getStep) === null || _c === void 0 ? void 0 : _c.call(scaleX)) !== null && _d !== void 0 ? _d : 0;\n    const xof = scaleSeries\n        ? (d) => {\n            const seriesCount = Math.round(1 / scaleSeries.valueBandWidth);\n            return (d.__data__.x +\n                d.__data__.series * bandWidth +\n                bandWidth / (seriesCount * 2));\n        }\n        : (d) => d.__data__.x + bandWidth / 2;\n    // Sort for bisector search.\n    if (isBar)\n        elements.sort((a, b) => xof(a) - xof(b));\n    const findElementByTarget = (event) => {\n        const { target } = event;\n        return maybeRoot(target, (node) => {\n            if (!node.classList)\n                return false;\n            return node.classList.includes('element');\n        });\n    };\n    const findElement = isBar\n        ? (event) => {\n            const mouse = mousePosition(root, event);\n            if (!mouse)\n                return;\n            const [abstractX] = coordinate.invert(mouse);\n            const search = bisector(xof).center;\n            const i = search(elements, abstractX);\n            const target = elements[i];\n            // Handle the case where stepWidth is negative.\n            const isStepWidthPositive = stepWidth > 0;\n            const targetLeftBoundary = isStepWidthPositive\n                ? xof(target) - stepWidth / 2\n                : xof(target) + stepWidth / 2;\n            const targetRightBoundary = isStepWidthPositive\n                ? xof(target) + stepWidth / 2\n                : xof(target) - stepWidth / 2;\n            if (abstractX < targetLeftBoundary || abstractX > targetRightBoundary) {\n                return;\n            }\n            if (!shared) {\n                // For grouped bar chart without shared options.\n                const isGrouped = elements.find((d) => d !== target && xof(d) === xof(target));\n                if (isGrouped)\n                    return findElementByTarget(event);\n            }\n            return target;\n        }\n        : findElementByTarget;\n    const pointermove = throttle((event) => {\n        const element = findElement(event);\n        if (!element) {\n            hideTooltip({ root, single, emitter, event });\n            return;\n        }\n        const k = groupKey(element);\n        const group = keyGroup.get(k);\n        if (!group) {\n            return;\n        }\n        const data = group.length === 1 && !shared\n            ? singleItem(group[0])\n            : groupItems(group, scale, groupName, undefined, theme);\n        // Sort items and sort.\n        if (sortFunction) {\n            data.items.sort((a, b) => sortFunction(a) - sortFunction(b));\n        }\n        if (filterFunction) {\n            data.items = data.items.filter(filterFunction);\n        }\n        if (isEmptyTooltipData(data)) {\n            hideTooltip({ root, single, emitter, event });\n            return;\n        }\n        const { offsetX, offsetY } = event;\n        if (body) {\n            showTooltip({\n                root,\n                data,\n                x: offsetX,\n                y: offsetY,\n                render,\n                event,\n                single,\n                position,\n                enterable,\n                mount,\n                bounding,\n                css,\n                offset,\n            });\n        }\n        emitter.emit('tooltip:show', Object.assign(Object.assign({}, event), { nativeEvent: true, data: Object.assign(Object.assign({}, data), { data: dataOf(element, view) }) }));\n    }, wait, { leading, trailing });\n    const pointerleave = (event) => {\n        hideTooltip({ root, single, emitter, event });\n    };\n    const addEventListeners = () => {\n        if (!disableNative) {\n            root.addEventListener('pointermove', pointermove);\n            // Only emit pointerleave event when the pointer is not in the root area.\n            // !!!DO NOT USE pointerout event, it will emit when the pointer is in the child area.\n            root.addEventListener('pointerleave', pointerleave);\n        }\n    };\n    const removeEventListeners = () => {\n        if (!disableNative) {\n            root.removeEventListener('pointermove', pointermove);\n            root.removeEventListener('pointerleave', pointerleave);\n        }\n    };\n    const onTooltipShow = ({ nativeEvent, offsetX, offsetY, data: raw }) => {\n        if (nativeEvent)\n            return;\n        const { data } = raw;\n        const element = selectElementByData(elements, data, datum);\n        if (!element)\n            return;\n        const bbox = element.getBBox();\n        const { x, y, width, height } = bbox;\n        const rootBBox = root.getBBox();\n        pointermove({\n            target: element,\n            offsetX: offsetX !== undefined ? offsetX + rootBBox.x : x + width / 2,\n            offsetY: offsetY !== undefined ? offsetY + rootBBox.y : y + height / 2,\n        });\n    };\n    const onTooltipHide = ({ nativeEvent } = {}) => {\n        if (nativeEvent)\n            return;\n        hideTooltip({ root, single, emitter, nativeEvent: false });\n    };\n    const onTooltipDisable = () => {\n        removeEventListeners();\n        destroyTooltip({ root, single });\n    };\n    const onTooltipEnable = () => {\n        addEventListeners();\n    };\n    emitter.on('tooltip:show', onTooltipShow);\n    emitter.on('tooltip:hide', onTooltipHide);\n    emitter.on('tooltip:enable', onTooltipEnable);\n    emitter.on('tooltip:disable', onTooltipDisable);\n    addEventListeners();\n    return () => {\n        removeEventListeners();\n        emitter.off('tooltip:show', onTooltipShow);\n        emitter.off('tooltip:hide', onTooltipHide);\n        if (preserve) {\n            hideTooltip({ root, single, emitter, nativeEvent: false });\n        }\n        else {\n            destroyTooltip({ root, single });\n        }\n    };\n}\nexport function Tooltip(options) {\n    const { shared, crosshairs, crosshairsX, crosshairsY, series, name, item = () => ({}), facet = false } = options, rest = __rest(options, [\"shared\", \"crosshairs\", \"crosshairsX\", \"crosshairsY\", \"series\", \"name\", \"item\", \"facet\"]);\n    return (target, viewInstances, emitter) => {\n        const { container, view } = target;\n        const { scale, markState, coordinate, theme } = view;\n        // Get default value from mark states.\n        const defaultSeries = interactionKeyof(markState, 'seriesTooltip');\n        const defaultShowCrosshairs = interactionKeyof(markState, 'crosshairs');\n        const plotArea = selectPlotArea(container);\n        const isSeries = maybeValue(series, defaultSeries);\n        const crosshairsSetting = maybeValue(crosshairs, defaultShowCrosshairs);\n        // For non-facet and series tooltip.\n        if (isSeries && hasSeries(markState) && !facet) {\n            return seriesTooltip(plotArea, Object.assign(Object.assign({}, rest), { theme, elements: selectG2Elements, scale,\n                coordinate, crosshairs: crosshairsSetting, \n                // the crosshairsX settings level: crosshairsX > crosshairs > false\n                // it means crosshairsX default is false\n                crosshairsX: maybeValue(maybeValue(crosshairsX, crosshairs), false), \n                // crosshairsY default depend on the crossharisSettings\n                crosshairsY: maybeValue(crosshairsY, crosshairsSetting), item,\n                emitter }));\n        }\n        // For facet and series tooltip.\n        if (isSeries && facet) {\n            // Get sub view instances for this view.\n            const facetInstances = viewInstances.filter((d) => d !== target && d.options.parentKey === target.options.key);\n            const elements = selectFacetG2Elements(target, viewInstances);\n            // Use the scale of the first view.\n            const scale = facetInstances[0].view.scale;\n            const bbox = plotArea.getBounds();\n            const startX = bbox.min[0];\n            const startY = bbox.min[1];\n            Object.assign(scale, { facet: true });\n            // @todo Nested structure rather than flat structure for facet?\n            // Add listener to the root area.\n            // @ts-ignore\n            return seriesTooltip(plotArea.parentNode.parentNode, Object.assign(Object.assign({}, rest), { theme, elements: () => elements, scale,\n                coordinate, crosshairs: maybeValue(crosshairs, defaultShowCrosshairs), \n                // the crosshairsX settings level: crosshairsX > crosshairs > false\n                // it means crosshairsX default is false\n                crosshairsX: maybeValue(maybeValue(crosshairsX, crosshairs), false), crosshairsY: maybeValue(crosshairsY, crosshairsSetting), item,\n                startX,\n                startY,\n                emitter }));\n        }\n        return tooltip(plotArea, Object.assign(Object.assign({}, rest), { datum: createDatumof(view), elements: selectG2Elements, scale,\n            coordinate, groupKey: shared ? createXKey(view) : undefined, item,\n            emitter,\n            view,\n            theme,\n            shared }));\n    };\n}\nTooltip.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=tooltip.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { deepMix, throttle } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { useState, setCursor, restoreCursor } from './utils';\nexport const CATEGORY_LEGEND_CLASS_NAME = 'legend-category';\nexport const CONTINUOUS_LEGEND_CLASS_NAME = 'legend-continuous';\nexport const LEGEND_ITEMS_CLASS_NAME = 'items-item';\nexport const LEGEND_MAKER_CLASS_NAME = 'legend-category-item-marker';\nexport const LEGEND_LABEL_CLASS_NAME = 'legend-category-item-label';\nexport function markerOf(item) {\n    return item.getElementsByClassName(LEGEND_MAKER_CLASS_NAME)[0];\n}\nexport function labelOf(item) {\n    return item.getElementsByClassName(LEGEND_LABEL_CLASS_NAME)[0];\n}\nexport function itemsOf(root) {\n    return root.getElementsByClassName(LEGEND_ITEMS_CLASS_NAME);\n}\nexport function legendsOf(root) {\n    return root.getElementsByClassName(CATEGORY_LEGEND_CLASS_NAME);\n}\nexport function legendsContinuousOf(root) {\n    return root.getElementsByClassName(CONTINUOUS_LEGEND_CLASS_NAME);\n}\nexport function legendClearSetState(root, setState) {\n    const legends = [...legendsOf(root), ...legendsContinuousOf(root)];\n    legends.forEach((legend) => {\n        setState(legend, (v) => v);\n    });\n}\nexport function dataOf(root) {\n    // legend -> layout -> container\n    let parent = root.parentNode;\n    while (parent && !parent.__data__) {\n        parent = parent.parentNode;\n    }\n    return parent.__data__;\n}\nexport function attributesOf(root) {\n    let child = root;\n    while (child && !child.attr('class').startsWith('legend')) {\n        child = child.children[0];\n    }\n    return child.attributes;\n}\nfunction legendFilterOrdinal(root, { legends, // given the root of chart returns legends to be manipulated\nmarker: markerOf, // given the legend returns the marker\nlabel: labelOf, // given the legend returns the label\ndatum, // given the legend returns the value\nfilter, // invoke when dispatch filter event,\nemitter, channel, state = {}, // state options\n }) {\n    // Index handler by item.\n    const itemClick = new Map();\n    const itemPointerenter = new Map();\n    const itemPointerout = new Map();\n    const { unselected = {\n        markerStroke: '#aaa',\n        markerFill: '#aaa',\n        labelFill: '#aaa',\n    }, } = state;\n    const markerStyle = { unselected: subObject(unselected, 'marker') };\n    const labelStyle = { unselected: subObject(unselected, 'label') };\n    const { setState: setM, removeState: removeM } = useState(markerStyle, undefined);\n    const { setState: setL, removeState: removeL } = useState(labelStyle, undefined);\n    const items = Array.from(legends(root));\n    let selectedValues = items.map(datum);\n    const updateLegendState = () => {\n        for (const item of items) {\n            const value = datum(item);\n            const marker = markerOf(item);\n            const label = labelOf(item);\n            if (!selectedValues.includes(value)) {\n                setM(marker, 'unselected');\n                setL(label, 'unselected');\n            }\n            else {\n                removeM(marker, 'unselected');\n                removeL(label, 'unselected');\n            }\n        }\n    };\n    for (const item of items) {\n        // Defined handlers.\n        const pointerenter = () => {\n            setCursor(root, 'pointer');\n        };\n        const pointerout = () => {\n            restoreCursor(root);\n        };\n        const click = (event) => __awaiter(this, void 0, void 0, function* () {\n            const value = datum(item);\n            const index = selectedValues.indexOf(value);\n            if (index === -1)\n                selectedValues.push(value);\n            else\n                selectedValues.splice(index, 1);\n            yield filter(selectedValues);\n            updateLegendState();\n            const { nativeEvent = true } = event;\n            if (!nativeEvent)\n                return;\n            if (selectedValues.length === items.length) {\n                emitter.emit('legend:reset', { nativeEvent });\n            }\n            else {\n                // Emit events.\n                emitter.emit('legend:filter', Object.assign(Object.assign({}, event), { nativeEvent, data: {\n                        channel,\n                        values: selectedValues,\n                    } }));\n            }\n        });\n        // Bind and store handlers.\n        item.addEventListener('click', click);\n        item.addEventListener('pointerenter', pointerenter);\n        item.addEventListener('pointerout', pointerout);\n        itemClick.set(item, click);\n        itemPointerenter.set(item, pointerenter);\n        itemPointerout.set(item, pointerout);\n    }\n    const onFilter = (event) => __awaiter(this, void 0, void 0, function* () {\n        const { nativeEvent } = event;\n        if (nativeEvent)\n            return;\n        const { data } = event;\n        const { channel: specifiedChannel, values } = data;\n        if (specifiedChannel !== channel)\n            return;\n        selectedValues = values;\n        yield filter(selectedValues);\n        updateLegendState();\n    });\n    const onEnd = (event) => __awaiter(this, void 0, void 0, function* () {\n        const { nativeEvent } = event;\n        if (nativeEvent)\n            return;\n        selectedValues = items.map(datum);\n        yield filter(selectedValues);\n        updateLegendState();\n    });\n    emitter.on('legend:filter', onFilter);\n    emitter.on('legend:reset', onEnd);\n    return () => {\n        for (const item of items) {\n            item.removeEventListener('click', itemClick.get(item));\n            item.removeEventListener('pointerenter', itemPointerenter.get(item));\n            item.removeEventListener('pointerout', itemPointerout.get(item));\n            emitter.off('legend:filter', onFilter);\n            emitter.off('legend:reset', onEnd);\n        }\n    };\n}\nfunction legendFilterContinuous(_, { legend, filter, emitter, channel }) {\n    const onValueChange = ({ detail: { value } }) => {\n        filter(value);\n        emitter.emit({\n            nativeEvent: true,\n            data: {\n                channel,\n                values: value,\n            },\n        });\n    };\n    legend.addEventListener('valuechange', onValueChange);\n    return () => {\n        legend.removeEventListener('valuechange', onValueChange);\n    };\n}\nfunction filterView(context, // View instance,\n{ legend, // Legend instance.\nchannel, // Filter Channel.\nvalue, // Filtered Values.\nordinal, // Data type of the legend.\nchannels, // Channels for this legend.\nallChannels, // Channels for all legends.\nfacet = false, // For facet.\n }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { view, update, setState } = context;\n        setState(legend, (viewOptions) => {\n            const { marks } = viewOptions;\n            // Add filter transform for every marks,\n            // which will skip for mark without color channel.\n            const newMarks = marks.map((mark) => {\n                if (mark.type === 'legends')\n                    return mark;\n                // Inset after aggregate transform, such as group, and bin.\n                const { transform = [], data = [] } = mark;\n                const index = transform.findIndex(({ type }) => type.startsWith('group') || type.startsWith('bin'));\n                const newTransform = [...transform];\n                if (data.length) {\n                    newTransform.splice(index + 1, 0, {\n                        type: 'filter',\n                        [channel]: { value, ordinal },\n                    });\n                }\n                // Set domain of scale to preserve encoding.\n                const newScale = Object.fromEntries(channels.map((channel) => [\n                    channel,\n                    { domain: view.scale[channel].getOptions().domain },\n                ]));\n                return deepMix({}, mark, Object.assign(Object.assign({ transform: newTransform, scale: newScale }, (!ordinal && { animate: false })), { legend: facet\n                        ? false\n                        : Object.fromEntries(allChannels.map((d) => [d, { preserve: true }])) }));\n            });\n            return Object.assign(Object.assign({}, viewOptions), { marks: newMarks });\n        });\n        yield update();\n    });\n}\nfunction filterFacets(facets, options) {\n    for (const facet of facets) {\n        filterView(facet, Object.assign(Object.assign({}, options), { facet: true }));\n    }\n}\nexport function LegendFilter() {\n    return (context, contexts, emitter) => {\n        const { container } = context;\n        const facets = contexts.filter((d) => d !== context);\n        const isFacet = facets.length > 0;\n        const channelsOf = (legend) => {\n            return dataOf(legend).scales.map((d) => d.name);\n        };\n        const legends = [\n            ...legendsOf(container),\n            ...legendsContinuousOf(container),\n        ];\n        const allChannels = legends.flatMap(channelsOf);\n        const filter = isFacet\n            ? throttle(filterFacets, 50, { trailing: true })\n            : throttle(filterView, 50, { trailing: true });\n        const removes = legends.map((legend) => {\n            const { name: channel, domain } = dataOf(legend).scales[0];\n            const channels = channelsOf(legend);\n            const common = {\n                legend,\n                channel,\n                channels,\n                allChannels,\n            };\n            if (legend.className === CATEGORY_LEGEND_CLASS_NAME) {\n                return legendFilterOrdinal(container, {\n                    legends: itemsOf,\n                    marker: markerOf,\n                    label: labelOf,\n                    datum: (d) => {\n                        const { __data__: datum } = d;\n                        const { index } = datum;\n                        return domain[index];\n                    },\n                    filter: (value) => {\n                        const options = Object.assign(Object.assign({}, common), { value, ordinal: true });\n                        if (isFacet)\n                            filter(facets, options);\n                        else\n                            filter(context, options);\n                    },\n                    state: legend.attributes.state,\n                    channel,\n                    emitter,\n                });\n            }\n            else {\n                return legendFilterContinuous(container, {\n                    legend,\n                    filter: (value) => {\n                        const options = Object.assign(Object.assign({}, common), { value, ordinal: false });\n                        if (isFacet)\n                            filter(facets, options);\n                        else\n                            filter(context, options);\n                    },\n                    emitter,\n                    channel,\n                });\n            }\n        });\n        return () => {\n            removes.forEach((remove) => remove());\n        };\n    };\n}\n//# sourceMappingURL=legendFilter.js.map","import { group } from '@antv/vendor/d3-array';\nimport { subObject } from '../utils/helper';\nimport { mergeState, selectG2Elements, useState, createValueof, createDatumof, } from './utils';\nimport { markerOf, labelOf, itemsOf, legendsOf, dataOf } from './legendFilter';\nexport function LegendHighlight() {\n    return (context, _, emitter) => {\n        const { container, view, options } = context;\n        const legends = legendsOf(container);\n        const elements = selectG2Elements(container);\n        const channelOf = (legend) => {\n            return dataOf(legend).scales[0].name;\n        };\n        const scaleOf = (channel) => {\n            const { scale: { [channel]: scale }, } = view;\n            return scale;\n        };\n        const markState = mergeState(options, ['active', 'inactive']);\n        const valueof = createValueof(elements, createDatumof(view));\n        const destroys = [];\n        // Bind events for each legend.\n        for (const legend of legends) {\n            const datumOf = (item) => {\n                const { data } = legend.attributes;\n                const { __data__: datum } = item;\n                const { index } = datum;\n                return data[index].label;\n            };\n            const channel = channelOf(legend);\n            const items = itemsOf(legend);\n            const scale = scaleOf(channel);\n            const elementGroup = group(elements, (d) => scale.invert(d.__data__[channel]));\n            const { state: legendState = {} } = legend.attributes;\n            const { inactive = {} } = legendState;\n            const { setState, removeState } = useState(markState, valueof);\n            // Handle styles of inner item.\n            const markerStyle = { inactive: subObject(inactive, 'marker') };\n            const labelStyle = { inactive: subObject(inactive, 'label') };\n            const { setState: setM, removeState: removeM } = useState(markerStyle);\n            const { setState: setL, removeState: removeL } = useState(labelStyle);\n            const updateLegendState = (highlight) => {\n                for (const item of items) {\n                    const marker = markerOf(item);\n                    const label = labelOf(item);\n                    if (item === highlight || highlight === null) {\n                        removeM(marker, 'inactive');\n                        removeL(label, 'inactive');\n                    }\n                    else {\n                        setM(marker, 'inactive');\n                        setL(label, 'inactive');\n                    }\n                }\n            };\n            const highlightItem = (event, item) => {\n                // Update UI.\n                const value = datumOf(item);\n                const elementSet = new Set(elementGroup.get(value));\n                for (const e of elements) {\n                    if (elementSet.has(e))\n                        setState(e, 'active');\n                    else\n                        setState(e, 'inactive');\n                }\n                updateLegendState(item);\n                // Emit events.\n                const { nativeEvent = true } = event;\n                if (!nativeEvent)\n                    return;\n                emitter.emit('legend:highlight', Object.assign(Object.assign({}, event), { nativeEvent, data: { channel, value } }));\n            };\n            const itemPointerover = new Map();\n            // Add listener for the legend items.\n            for (const item of items) {\n                const pointerover = (event) => {\n                    highlightItem(event, item);\n                };\n                item.addEventListener('pointerover', pointerover);\n                itemPointerover.set(item, pointerover);\n            }\n            // Add listener for the legend group.\n            const pointerleave = (event) => {\n                for (const e of elements)\n                    removeState(e, 'inactive', 'active');\n                updateLegendState(null);\n                // Emit events.\n                const { nativeEvent = true } = event;\n                if (!nativeEvent)\n                    return;\n                emitter.emit('legend:unhighlight', { nativeEvent });\n            };\n            const onHighlight = (event) => {\n                const { nativeEvent, data } = event;\n                if (nativeEvent)\n                    return;\n                const { channel: specifiedChannel, value } = data;\n                if (specifiedChannel !== channel)\n                    return;\n                const item = items.find((d) => datumOf(d) === value);\n                if (!item)\n                    return;\n                highlightItem({ nativeEvent: false }, item);\n            };\n            const onUnHighlight = (event) => {\n                const { nativeEvent } = event;\n                if (nativeEvent)\n                    return;\n                pointerleave({ nativeEvent: false });\n            };\n            legend.addEventListener('pointerleave', pointerleave);\n            emitter.on('legend:highlight', onHighlight);\n            emitter.on('legend:unhighlight', onUnHighlight);\n            const destroy = () => {\n                legend.removeEventListener(pointerleave);\n                emitter.off('legend:highlight', onHighlight);\n                emitter.off('legend:unhighlight', onUnHighlight);\n                for (const [item, pointerover] of itemPointerover) {\n                    item.removeEventListener(pointerover);\n                }\n            };\n            destroys.push(destroy);\n        }\n        return () => destroys.forEach((d) => d());\n    };\n}\n//# sourceMappingURL=legendHighlight.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Rect, Path } from '@antv/g';\nimport { subObject, omitPrefixObject } from '../utils/helper';\nimport { selectionOf, pixelsOf } from '../utils/scale';\nimport { createElement } from '../utils/createElement';\nimport { select } from '../utils/selection';\nimport { selectG2Elements, selectPlotArea, createDatumof, useState, createValueof, setCursor, brushMousePosition, selectFacetG2Elements, mergeState, selectFacetViews, } from './utils';\nfunction intersect(bbox1, bbox2) {\n    const [minX1, minY1, maxX1, maxY1] = bbox1;\n    const [minX2, minY2, maxX2, maxY2] = bbox2;\n    return !(minX2 > maxX1 || maxX2 < minX1 || minY2 > maxY1 || maxY2 < minY1);\n}\nfunction normalizeBounds(x, y, x1, y1, extent) {\n    const [minX, minY, maxX, maxY] = extent;\n    return [\n        Math.max(minX, Math.min(x, x1)),\n        Math.max(minY, Math.min(y, y1)),\n        Math.min(maxX, Math.max(x, x1)),\n        Math.min(maxY, Math.max(y, y1)),\n    ];\n}\nfunction bboxOf(root) {\n    const { width, height } = root.getBBox();\n    return [0, 0, width, height];\n}\nfunction applyStyle(selection, style) {\n    for (const [key, value] of Object.entries(style)) {\n        selection.style(key, value);\n    }\n}\nconst ResizableMask = createElement((g) => {\n    const _a = g.attributes, { x, y, width, height, class: className, renders = {}, handleSize: size = 10, document } = _a, style = __rest(_a, [\"x\", \"y\", \"width\", \"height\", \"class\", \"renders\", \"handleSize\", \"document\"]);\n    if (!document ||\n        width === undefined ||\n        height === undefined ||\n        x === undefined ||\n        y === undefined)\n        return;\n    const half = size / 2;\n    const renderRect = (g, options, document) => {\n        if (!g.handle) {\n            g.handle = document.createElement('rect');\n            g.append(g.handle);\n        }\n        const { handle } = g;\n        handle.attr(options);\n        return handle;\n    };\n    const _b = subObject(omitPrefixObject(style, 'handleNW', 'handleNE'), 'handleN'), { render: handleNRender = renderRect } = _b, handleNStyle = __rest(_b, [\"render\"]);\n    const _c = subObject(style, 'handleE'), { render: handleERender = renderRect } = _c, handleEStyle = __rest(_c, [\"render\"]);\n    const _d = subObject(omitPrefixObject(style, 'handleSE', 'handleSW'), 'handleS'), { render: handleSRender = renderRect } = _d, handleSStyle = __rest(_d, [\"render\"]);\n    const _e = subObject(style, 'handleW'), { render: handleWRender = renderRect } = _e, handleWStyle = __rest(_e, [\"render\"]);\n    const _f = subObject(style, 'handleNW'), { render: handleNWRender = renderRect } = _f, handleNWStyle = __rest(_f, [\"render\"]);\n    const _g = subObject(style, 'handleNE'), { render: handleNERender = renderRect } = _g, handleNEStyle = __rest(_g, [\"render\"]);\n    const _h = subObject(style, 'handleSE'), { render: handleSERender = renderRect } = _h, handleSEStyle = __rest(_h, [\"render\"]);\n    const _j = subObject(style, 'handleSW'), { render: handleSWRender = renderRect } = _j, handleSWStyle = __rest(_j, [\"render\"]);\n    const renderHandle = (g, renderNode) => {\n        const { id } = g;\n        const handle = renderNode(g, g.attributes, document);\n        handle.id = id;\n        handle.style.draggable = true;\n    };\n    const appendHandle = (handleRender) => {\n        return () => {\n            const Node = createElement((g) => renderHandle(g, handleRender));\n            return new Node({});\n        };\n    };\n    const container = select(g)\n        .attr('className', className)\n        .style('transform', `translate(${x}, ${y})`)\n        .style('draggable', true);\n    container\n        .maybeAppend('selection', 'rect')\n        .style('draggable', true)\n        .style('fill', 'transparent')\n        .call(applyStyle, Object.assign(Object.assign({ width,\n        height }, omitPrefixObject(style, 'handle')), { transform: undefined }));\n    container\n        .maybeAppend('handle-n', appendHandle(handleNRender))\n        .style('x', half)\n        .style('y', -half)\n        .style('width', width - size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleNStyle);\n    container\n        .maybeAppend('handle-e', appendHandle(handleERender))\n        .style('x', width - half)\n        .style('y', half)\n        .style('width', size)\n        .style('height', height - size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleEStyle);\n    container\n        .maybeAppend('handle-s', appendHandle(handleSRender))\n        .style('x', half)\n        .style('y', height - half)\n        .style('width', width - size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleSStyle);\n    container\n        .maybeAppend('handle-w', appendHandle(handleWRender))\n        .style('x', -half)\n        .style('y', half)\n        .style('width', size)\n        .style('height', height - size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleWStyle);\n    container\n        .maybeAppend('handle-nw', appendHandle(handleNWRender))\n        .style('x', -half)\n        .style('y', -half)\n        .style('width', size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleNWStyle);\n    container\n        .maybeAppend('handle-ne', appendHandle(handleNERender))\n        .style('x', width - half)\n        .style('y', -half)\n        .style('width', size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleNEStyle);\n    container\n        .maybeAppend('handle-se', appendHandle(handleSERender))\n        .style('x', width - half)\n        .style('y', height - half)\n        .style('width', size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleSEStyle);\n    container\n        .maybeAppend('handle-sw', appendHandle(handleSWRender))\n        .style('x', -half)\n        .style('y', height - half)\n        .style('width', size)\n        .style('height', size)\n        .style('fill', 'transparent')\n        .call(applyStyle, handleSWStyle);\n});\nexport function brush(root, _a) {\n    var { brushed = () => { }, brushended = () => { }, brushcreated = () => { }, brushstarted = () => { }, brushupdated = () => { }, extent = bboxOf(root), brushRegion = (x, y, x1, y1, extent) => [x, y, x1, y1], reverse = false, fill = '#777', fillOpacity = '0.3', stroke = '#fff', selectedHandles = [\n        'handle-n',\n        'handle-e',\n        'handle-s',\n        'handle-w',\n        'handle-nw',\n        'handle-ne',\n        'handle-se',\n        'handle-sw',\n    ] } = _a, style = __rest(_a, [\"brushed\", \"brushended\", \"brushcreated\", \"brushstarted\", \"brushupdated\", \"extent\", \"brushRegion\", \"reverse\", \"fill\", \"fillOpacity\", \"stroke\", \"selectedHandles\"]);\n    let start = null; // Start point of mask.\n    let end = null; // End point of mask.\n    let moveStart = null; // Start point of moving mask.\n    let mask = null; // Mask instance.\n    let background = null;\n    let creating = false;\n    const [originX, originY, width, height] = extent;\n    setCursor(root, 'crosshair');\n    root.style.draggable = true; // Make it response to drag event.\n    // Remove old mask and init new mask.\n    const initMask = (x, y, event) => {\n        brushstarted(event);\n        if (mask)\n            mask.remove();\n        if (background)\n            background.remove();\n        start = [x, y];\n        if (reverse)\n            return initReverseMask();\n        initNormalMask();\n    };\n    const initReverseMask = () => {\n        background = new Path({\n            style: Object.assign(Object.assign({}, style), { fill,\n                fillOpacity,\n                stroke, pointerEvents: 'none' }),\n        });\n        mask = new ResizableMask({\n            // @ts-ignore\n            style: {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n                draggable: true,\n                document: root.ownerDocument,\n            },\n            className: 'mask',\n        });\n        root.appendChild(background);\n        root.appendChild(mask);\n    };\n    const initNormalMask = () => {\n        mask = new ResizableMask({\n            // @ts-ignore\n            style: Object.assign(Object.assign({ document: root.ownerDocument, x: 0, y: 0 }, style), { fill,\n                fillOpacity,\n                stroke, draggable: true }),\n            className: 'mask',\n        });\n        root.appendChild(mask);\n    };\n    // Remove mask and reset states.\n    const removeMask = (emit = true) => {\n        if (mask)\n            mask.remove();\n        if (background)\n            background.remove();\n        start = null;\n        end = null;\n        moveStart = null;\n        creating = false;\n        mask = null;\n        background = null;\n        brushended(emit);\n    };\n    // Update mask and invoke brushended callback.\n    const updateMask = (start, end, emit = true) => {\n        const [x, y, x1, y1] = normalizeBounds(start[0], start[1], end[0], end[1], extent);\n        const [fx, fy, fx1, fy1] = brushRegion(x, y, x1, y1, extent);\n        if (reverse)\n            updateReverseMask(fx, fy, fx1, fy1);\n        else\n            updateNormalMask(fx, fy, fx1, fy1);\n        brushed(fx, fy, fx1, fy1, emit);\n        return [fx, fy, fx1, fy1];\n    };\n    const updateNormalMask = (x, y, x1, y1) => {\n        mask.style.x = x;\n        mask.style.y = y;\n        mask.style.width = x1 - x;\n        mask.style.height = y1 - y;\n    };\n    const updateReverseMask = (x, y, x1, y1) => {\n        background.style.d = `\n      M${originX},${originY}L${width},${originY}L${width},${height}L${originX},${height}Z\n      M${x},${y}L${x},${y1}L${x1},${y1}L${x1},${y}Z\n    `;\n        mask.style.x = x;\n        mask.style.y = y;\n        mask.style.width = x1 - x;\n        mask.style.height = y1 - y;\n    };\n    // Move and update mask.\n    const moveMask = (current) => {\n        const clip = (dt, start, end, min, max) => {\n            if (dt + start < min)\n                return min - start;\n            if (dt + end > max)\n                return max - end;\n            return dt;\n        };\n        const dx = current[0] - moveStart[0];\n        const dy = current[1] - moveStart[1];\n        const dx1 = clip(dx, start[0], end[0], originX, width);\n        const dy1 = clip(dy, start[1], end[1], originY, height);\n        const currentStart = [start[0] + dx1, start[1] + dy1];\n        const currentEnd = [end[0] + dx1, end[1] + dy1];\n        updateMask(currentStart, currentEnd);\n    };\n    const handles = {\n        'handle-n': { vector: [0, 1, 0, 0], cursor: 'ns-resize' },\n        'handle-e': { vector: [0, 0, 1, 0], cursor: 'ew-resize' },\n        'handle-s': { vector: [0, 0, 0, 1], cursor: 'ns-resize' },\n        'handle-w': { vector: [1, 0, 0, 0], cursor: 'ew-resize' },\n        'handle-nw': { vector: [1, 1, 0, 0], cursor: 'nwse-resize' },\n        'handle-ne': { vector: [0, 1, 1, 0], cursor: 'nesw-resize' },\n        'handle-se': { vector: [0, 0, 1, 1], cursor: 'nwse-resize' },\n        'handle-sw': { vector: [1, 0, 0, 1], cursor: 'nesw-resize' },\n    };\n    const isMask = (target) => {\n        return isSelection(target) || isHandle(target);\n    };\n    const isHandle = (target) => {\n        const { id } = target;\n        if (selectedHandles.indexOf(id) === -1)\n            return false;\n        return new Set(Object.keys(handles)).has(id);\n    };\n    const isSelection = (target) => {\n        return target === mask.getElementById('selection');\n    };\n    // If target is plot area, create mask.\n    // If target is mask, about to update position.\n    const dragstart = (event) => {\n        const { target } = event;\n        const [offsetX, offsetY] = brushMousePosition(root, event);\n        if (!mask || !isMask(target)) {\n            initMask(offsetX, offsetY, event);\n            creating = true;\n            return;\n        }\n        if (isMask(target)) {\n            moveStart = [offsetX, offsetY];\n        }\n    };\n    const drag = (event) => {\n        const { target } = event;\n        const mouse = brushMousePosition(root, event);\n        if (!start)\n            return;\n        // If target is plot area, resize mask.\n        if (!moveStart)\n            return updateMask(start, mouse);\n        // If target is selection area, move mask.\n        if (isSelection(target))\n            return moveMask(mouse);\n        // If target is handle area, resize mask.\n        const [dx, dy] = [mouse[0] - moveStart[0], mouse[1] - moveStart[1]];\n        const { id } = target;\n        if (handles[id]) {\n            const [sx, sy, ex, ey] = handles[id].vector;\n            return updateMask([start[0] + dx * sx, start[1] + dy * sy], [end[0] + dx * ex, end[1] + dy * ey]);\n        }\n    };\n    // If target is plot area, finish creating.\n    // If target is mask, finish moving mask.\n    const dragend = (event) => {\n        if (moveStart) {\n            moveStart = null;\n            // Update start and end;\n            const { x, y, width, height } = mask.style;\n            start = [x, y];\n            end = [x + width, y + height];\n            brushupdated(x, y, x + width, y + height, event);\n            return;\n        }\n        end = brushMousePosition(root, event);\n        const [fx, fy, fx1, fy1] = updateMask(start, end);\n        creating = false;\n        brushcreated(fx, fy, fx1, fy1, event);\n    };\n    // Hide mask.\n    const click = (event) => {\n        const { target } = event;\n        if (mask && !isMask(target))\n            removeMask();\n    };\n    // Update cursor depends on hovered element.\n    const pointermove = (event) => {\n        const { target } = event;\n        if (!mask || !isMask(target) || creating)\n            setCursor(root, 'crosshair');\n        else if (isSelection(target))\n            setCursor(root, 'move');\n        else if (isHandle(target))\n            setCursor(root, handles[target.id].cursor);\n    };\n    const pointerleave = () => {\n        setCursor(root, 'default');\n    };\n    root.addEventListener('dragstart', dragstart);\n    root.addEventListener('drag', drag);\n    root.addEventListener('dragend', dragend);\n    root.addEventListener('click', click);\n    root.addEventListener('pointermove', pointermove);\n    root.addEventListener('pointerleave', pointerleave);\n    return {\n        mask,\n        move(x, y, x1, y1, emit = true) {\n            if (!mask)\n                initMask(x, y, {});\n            start = [x, y];\n            end = [x1, y1];\n            updateMask([x, y], [x1, y1], emit);\n        },\n        remove(emit = true) {\n            if (mask)\n                removeMask(emit);\n        },\n        destroy() {\n            // Do not emit brush:end event.\n            if (mask)\n                removeMask(false);\n            setCursor(root, 'default');\n            root.removeEventListener('dragstart', dragstart);\n            root.removeEventListener('drag', drag);\n            root.removeEventListener('dragend', dragend);\n            root.removeEventListener('click', click);\n            root.removeEventListener('pointermove', pointermove);\n            root.removeEventListener('pointerleave', pointerleave);\n        },\n    };\n}\nfunction selectSiblingViews(target, viewInstances, brushKey) {\n    return viewInstances.filter((d) => {\n        if (d === target)\n            return false;\n        const { interaction = {} } = d.options;\n        return Object.values(interaction).find((d) => d.brushKey === brushKey);\n    });\n}\nfunction selectSiblingContainers(target, viewInstances, brushKey) {\n    return selectSiblingViews(target, viewInstances, brushKey).map((d) => selectPlotArea(d.container));\n}\nfunction selectSiblingOptions(target, viewInstances, brushKey) {\n    return selectSiblingViews(target, viewInstances, brushKey).map((d) => d.options);\n}\n/**\n * @todo Brush over view for series view.\n * @todo Test perf.\n */\nexport function brushHighlight(root, _a) {\n    var { elements: elementof, selectedHandles, siblings: siblingsof = (root) => [], datum, brushRegion, extent: optionalExtent, reverse, scale, coordinate, series = false, key = (d) => d, bboxOf = (root) => {\n        const { x, y, width, height } = root.style;\n        return { x, y, width, height };\n    }, state = {}, emitter } = _a, rest = __rest(_a, [\"elements\", \"selectedHandles\", \"siblings\", \"datum\", \"brushRegion\", \"extent\", \"reverse\", \"scale\", \"coordinate\", \"series\", \"key\", \"bboxOf\", \"state\", \"emitter\"]);\n    const elements = elementof(root);\n    const siblings = siblingsof(root);\n    const siblingElements = siblings.flatMap(elementof);\n    const valueof = createValueof(elements, datum);\n    const brushStyle = subObject(rest, 'mask');\n    const { setState, removeState } = useState(state, valueof);\n    const clonedElement = new Map();\n    const { width: rootWidth, height: rootHeight, x: ordinalX = 0, y: ordinalY = 0, } = bboxOf(root);\n    const extent = optionalExtent\n        ? optionalExtent\n        : [0, 0, rootWidth, rootHeight];\n    const brushended = () => {\n        for (const element of [...elements, ...siblingElements]) {\n            removeState(element, 'active', 'inactive');\n        }\n    };\n    const brushed = (x, y, x1, y1) => {\n        var _a;\n        // Hide brush for the sibling view.\n        for (const sibling of siblings)\n            (_a = sibling.brush) === null || _a === void 0 ? void 0 : _a.remove();\n        // Store the key of the active element.\n        const keys = new Set();\n        // Highlight and store selected elements.\n        for (const element of elements) {\n            const { min, max } = element.getLocalBounds();\n            const [ex, ey] = min;\n            const [ex1, ey1] = max;\n            if (!intersect([ex, ey, ex1, ey1], [x, y, x1, y1])) {\n                setState(element, 'inactive');\n            }\n            else {\n                setState(element, 'active');\n                keys.add(key(element));\n            }\n        }\n        // Highlight elements with same key in sibling view.\n        for (const element of siblingElements) {\n            if (keys.has(key(element)))\n                setState(element, 'active');\n            else\n                setState(element, 'inactive');\n        }\n    };\n    const seriesBrushend = () => {\n        for (const element of elements)\n            removeState(element, 'inactive');\n        for (const cloned of clonedElement.values())\n            cloned.remove();\n        clonedElement.clear();\n    };\n    const seriesBrushed = (x, y, x1, y1) => {\n        const clone = (element) => {\n            const cloned = element.cloneNode();\n            cloned.__data__ = element.__data__;\n            element.parentNode.appendChild(cloned);\n            clonedElement.set(element, cloned);\n            return cloned;\n        };\n        // Create a clipPath shared between all children.\n        const clipPath = new Rect({\n            style: {\n                x: x + ordinalX,\n                y: y + ordinalY,\n                width: x1 - x,\n                height: y1 - y,\n            },\n        });\n        root.appendChild(clipPath);\n        for (const element of elements) {\n            const cloned = clonedElement.get(element) || clone(element);\n            cloned.style.clipPath = clipPath;\n            setState(element, 'inactive');\n            setState(cloned, 'active');\n        }\n    };\n    const brushHandler = brush(root, Object.assign(Object.assign({}, brushStyle), { extent,\n        brushRegion,\n        reverse,\n        selectedHandles, brushended: (emit) => {\n            const handler = series ? seriesBrushend : brushended;\n            if (emit) {\n                emitter.emit('brush:remove', { nativeEvent: true });\n            }\n            handler();\n        }, brushed: (x, y, x1, y1, emit) => {\n            const selection = selectionOf(x, y, x1, y1, scale, coordinate);\n            if (emit) {\n                emitter.emit('brush:highlight', {\n                    nativeEvent: true,\n                    data: { selection },\n                });\n            }\n            const handler = series ? seriesBrushed : brushed;\n            handler(x, y, x1, y1);\n        }, brushcreated: (x, y, x1, y1, event) => {\n            const selection = selectionOf(x, y, x1, y1, scale, coordinate);\n            emitter.emit('brush:end', Object.assign(Object.assign({}, event), { nativeEvent: true, data: { selection } }));\n        }, brushupdated: (x, y, x1, y1, event) => {\n            const selection = selectionOf(x, y, x1, y1, scale, coordinate);\n            emitter.emit('brush:end', Object.assign(Object.assign({}, event), { nativeEvent: true, data: { selection } }));\n        }, brushstarted: (e) => {\n            emitter.emit('brush:start', e);\n        } }));\n    // Move brush and highlight data.\n    const onHighlight = ({ nativeEvent, data }) => {\n        if (nativeEvent)\n            return;\n        const { selection } = data;\n        const [x, y, x1, y1] = pixelsOf(selection, scale, coordinate);\n        brushHandler.move(x, y, x1, y1, false);\n    };\n    emitter.on('brush:highlight', onHighlight);\n    // Remove brush and reset data.\n    const onRemove = ({ nativeEvent } = {}) => {\n        if (nativeEvent)\n            return;\n        brushHandler.remove(false);\n    };\n    emitter.on('brush:remove', onRemove);\n    // Remove event handlers.\n    const preBrushDestroy = brushHandler.destroy.bind(brushHandler);\n    brushHandler.destroy = () => {\n        emitter.off('brush:highlight', onHighlight);\n        emitter.off('brush:remove', onRemove);\n        preBrushDestroy();\n    };\n    return brushHandler;\n}\nexport function BrushHighlight(_a) {\n    var { facet, brushKey } = _a, rest = __rest(_a, [\"facet\", \"brushKey\"]);\n    return (target, viewInstances, emitter) => {\n        const { container, view, options } = target;\n        const plotArea = selectPlotArea(container);\n        const defaultOptions = {\n            maskFill: '#777',\n            maskFillOpacity: '0.3',\n            maskStroke: '#fff',\n            reverse: false,\n        };\n        const defaultStates = ['active', ['inactive', { opacity: 0.5 }]];\n        const { scale, coordinate } = view;\n        if (facet) {\n            const bbox = plotArea.getBounds();\n            const x = bbox.min[0];\n            const y = bbox.min[1];\n            const x1 = bbox.max[0];\n            const y1 = bbox.max[1];\n            return brushHighlight(plotArea.parentNode.parentNode, Object.assign(Object.assign({ elements: () => selectFacetG2Elements(target, viewInstances), datum: createDatumof(selectFacetViews(target, viewInstances).map((d) => d.view)), brushRegion: (x, y, x1, y1) => [x, y, x1, y1], extent: [x, y, x1, y1], state: mergeState(selectFacetViews(target, viewInstances).map((d) => d.options), defaultStates), emitter,\n                scale,\n                coordinate, selectedHandles: undefined }, defaultOptions), rest));\n        }\n        const brush = brushHighlight(plotArea, Object.assign(Object.assign({ elements: selectG2Elements, key: (element) => element.__data__.key, siblings: () => selectSiblingContainers(target, viewInstances, brushKey), datum: createDatumof([\n                view,\n                ...selectSiblingViews(target, viewInstances, brushKey).map((d) => d.view),\n            ]), brushRegion: (x, y, x1, y1) => [x, y, x1, y1], extent: undefined, state: mergeState([options, ...selectSiblingOptions(target, viewInstances, brushKey)], defaultStates), emitter,\n            scale,\n            coordinate, selectedHandles: undefined }, defaultOptions), rest));\n        // Bind brush to the view it belongs to.\n        //@ts-ignore\n        plotArea.brush = brush;\n        return () => brush.destroy();\n    };\n}\n//# sourceMappingURL=brushHighlight.js.map","import { BrushHighlight } from './brushHighlight';\nexport function brushXRegion(x, y, x1, y1, extent) {\n    const [, minY, , maxY] = extent;\n    return [x, minY, x1, maxY];\n}\nexport function BrushXHighlight(options) {\n    return BrushHighlight(Object.assign(Object.assign({}, options), { brushRegion: brushXRegion, selectedHandles: ['handle-e', 'handle-w'] }));\n}\n//# sourceMappingURL=brushXHighlight.js.map","import { BrushHighlight } from './brushHighlight';\nexport function brushYRegion(x, y, x1, y1, extent) {\n    const [minX, , maxX] = extent;\n    return [minX, y, maxX, y1];\n}\nexport function BrushYHighlight(options) {\n    return BrushHighlight(Object.assign(Object.assign({}, options), { brushRegion: brushYRegion, selectedHandles: ['handle-n', 'handle-s'] }));\n}\n//# sourceMappingURL=brushYHighlight.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Rect } from '@antv/g';\nimport { subObject } from '../utils/helper';\nimport { domainOf } from '../utils/scale';\nimport { brush } from './brushHighlight';\nimport { brushXRegion } from './brushXHighlight';\nimport { brushYRegion } from './brushYHighlight';\nimport { selectG2Elements, createDatumof, createValueof, useState, selectPlotArea, mergeState, } from './utils';\nexport const AXIS_CLASS_NAME = 'axis';\nexport const AXIS_LINE_CLASS_NAME = 'axis-line';\nexport const AXIS_MAIN_CLASS_NAME = 'axis-main-group';\nexport const AXIS_HOT_AREA_CLASS_NAME = 'axis-hot-area';\nfunction axesOf(container) {\n    return container.getElementsByClassName(AXIS_CLASS_NAME);\n}\nfunction lineOf(axis) {\n    return axis.getElementsByClassName(AXIS_LINE_CLASS_NAME)[0];\n}\nfunction mainGroupOf(axis) {\n    return axis.getElementsByClassName(AXIS_MAIN_CLASS_NAME)[0];\n}\n// Use the bounds of main group of axis as the bounds of axis,\n// get rid of grid and title.\nfunction boundsOfAxis(axis) {\n    return mainGroupOf(axis).getLocalBounds();\n}\n// Brush for vertical axis.\nfunction verticalBrush(axis, _a) {\n    var { cross, offsetX, offsetY } = _a, style = __rest(_a, [\"cross\", \"offsetX\", \"offsetY\"]);\n    const bounds = boundsOfAxis(axis);\n    const axisLine = lineOf(axis);\n    const [lineX] = axisLine.getLocalBounds().min;\n    const [minX, minY] = bounds.min;\n    const [maxX, maxY] = bounds.max;\n    const size = (maxX - minX) * 2;\n    return {\n        brushRegion: brushYRegion,\n        hotZone: new Rect({\n            className: AXIS_HOT_AREA_CLASS_NAME,\n            style: Object.assign({ \n                // If it is not cross, draw brush in both side of axisLine,\n                // otherwise the draw brush within bounds area.\n                width: cross ? size / 2 : size, transform: `translate(${(cross ? minX : lineX - size / 2).toFixed(2)}, ${minY})`, height: maxY - minY }, style),\n        }),\n        extent: cross\n            ? // If it is cross, the x range is ignored.\n                (x, y, x1, y1) => [-Infinity, y, Infinity, y1]\n            : (x, y, x1, y1) => [\n                Math.floor(minX - offsetX),\n                y,\n                Math.ceil(maxX - offsetX),\n                y1,\n            ],\n    };\n}\n// Brush for horizontal axis.\nfunction horizontalBrush(axis, _a) {\n    var { offsetY, offsetX, cross = false } = _a, style = __rest(_a, [\"offsetY\", \"offsetX\", \"cross\"]);\n    const bounds = boundsOfAxis(axis);\n    const axisLine = lineOf(axis);\n    const [, lineY] = axisLine.getLocalBounds().min;\n    const [minX, minY] = bounds.min;\n    const [maxX, maxY] = bounds.max;\n    const size = maxY - minY;\n    return {\n        brushRegion: brushXRegion,\n        hotZone: new Rect({\n            className: AXIS_HOT_AREA_CLASS_NAME,\n            style: Object.assign({ width: maxX - minX, \n                // If it is not cross, draw brush in both side of axisLine,\n                // otherwise the draw brush within bounds area.\n                height: cross ? size : size * 2, transform: `translate(${minX}, ${cross ? minY : lineY - size})` }, style),\n        }),\n        extent: cross\n            ? // If it is cross, the y range is ignored.\n                (x, y, x1, y1) => [x, -Infinity, x1, Infinity]\n            : (x, y, x1, y1) => [\n                x,\n                Math.floor(minY - offsetY),\n                x1,\n                Math.ceil(maxY - offsetY),\n            ],\n    };\n}\nexport function brushAxisHighlight(root, _a) {\n    var { axes: axesOf, // given root, return axes\n    elements: elementsOf, // given root, return elements\n    points: pointsOf, // given shape, return control points\n    horizontal: isHorizontal, // given axis, return direction\n    datum, // given shape, return datum\n    offsetY, // offsetY for shape area\n    offsetX, // offsetX for shape area\n    reverse = false, state = {}, emitter, coordinate } = _a, rest = __rest(_a, [\"axes\", \"elements\", \"points\", \"horizontal\", \"datum\", \"offsetY\", \"offsetX\", \"reverse\", \"state\", \"emitter\", \"coordinate\"]) // style\n    ;\n    const elements = elementsOf(root);\n    const axes = axesOf(root);\n    const valueof = createValueof(elements, datum);\n    const { setState, removeState } = useState(state, valueof);\n    const axisExtent = new Map();\n    const brushStyle = subObject(rest, 'mask');\n    // Only some of shape's points in all mask, it is selected.\n    const brushed = (points) => Array.from(axisExtent.values()).every(([x, y, x1, y1]) => points.some(([x0, y0]) => {\n        return x0 >= x && x0 <= x1 && y0 >= y && y0 <= y1;\n    }));\n    const scales = axes.map((d) => d.attributes.scale);\n    const extentOf = (D) => (D.length > 2 ? [D[0], D[D.length - 1]] : D);\n    const indexDomain = new Map();\n    const initIndexDomain = () => {\n        indexDomain.clear();\n        for (let i = 0; i < axes.length; i++) {\n            const scale = scales[i];\n            const { domain } = scale.getOptions();\n            indexDomain.set(i, extentOf(domain));\n        }\n    };\n    initIndexDomain();\n    // Update element when brush changed.\n    const updateElement = (i, emit) => {\n        const selectedElements = [];\n        for (const element of elements) {\n            const points = pointsOf(element);\n            if (brushed(points)) {\n                setState(element, 'active');\n                selectedElements.push(element);\n            }\n            else\n                setState(element, 'inactive');\n        }\n        indexDomain.set(i, selectionOf(selectedElements, i));\n        if (!emit)\n            return;\n        // Emit events.\n        const selection = () => {\n            if (!cross)\n                return Array.from(indexDomain.values());\n            const S = [];\n            for (const [index, domain] of indexDomain) {\n                const scale = scales[index];\n                const { name } = scale.getOptions();\n                if (name === 'x')\n                    S[0] = domain;\n                else\n                    S[1] = domain;\n            }\n            return S;\n        };\n        emitter.emit('brushAxis:highlight', {\n            nativeEvent: true,\n            data: {\n                selection: selection(),\n            },\n        });\n    };\n    const clearElement = (emit) => {\n        for (const element of elements)\n            removeState(element, 'active', 'inactive');\n        initIndexDomain();\n        if (!emit)\n            return;\n        emitter.emit('brushAxis:remove', { nativeEvent: true });\n    };\n    const selectionOf = (selected, i) => {\n        const scale = scales[i];\n        const { name } = scale.getOptions();\n        const domain = selected.map((d) => {\n            const data = d.__data__;\n            return scale.invert(data[name]);\n        });\n        return extentOf(domainOf(scale, domain));\n    };\n    // Distinguish between parallel coordinates and normal charts.\n    const cross = axes.some(isHorizontal) && axes.some((d) => !isHorizontal(d));\n    const handlers = [];\n    for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const createBrush = isHorizontal(axis) ? horizontalBrush : verticalBrush;\n        const { hotZone, brushRegion, extent } = createBrush(axis, {\n            offsetY,\n            offsetX,\n            cross,\n            zIndex: 999,\n            fill: 'transparent', // Make it interactive.\n        });\n        axis.parentNode.appendChild(hotZone);\n        const brushHandler = brush(hotZone, Object.assign(Object.assign({}, brushStyle), { reverse,\n            brushRegion,\n            brushended(emit) {\n                axisExtent.delete(axis);\n                if (Array.from(axisExtent.entries()).length === 0)\n                    clearElement(emit);\n                else\n                    updateElement(i, emit);\n            },\n            brushed(x, y, x1, y1, emit) {\n                axisExtent.set(axis, extent(x, y, x1, y1));\n                updateElement(i, emit);\n            } }));\n        handlers.push(brushHandler);\n    }\n    const onRemove = (event = {}) => {\n        const { nativeEvent } = event;\n        if (nativeEvent)\n            return;\n        handlers.forEach((d) => d.remove(false));\n    };\n    const rangeOf = (domain, scale, axis) => {\n        const [d0, d1] = domain;\n        const maybeStep = (scale) => (scale.getStep ? scale.getStep() : 0);\n        const x = abstractOf(d0, scale, axis);\n        const x1 = abstractOf(d1, scale, axis) + maybeStep(scale);\n        if (isHorizontal(axis))\n            return [x, -Infinity, x1, Infinity];\n        return [-Infinity, x, Infinity, x1];\n    };\n    const abstractOf = (x, scale, axis) => {\n        const { height, width } = coordinate.getOptions();\n        const scale1 = scale.clone();\n        if (isHorizontal(axis))\n            scale1.update({ range: [0, width] });\n        else\n            scale1.update({ range: [height, 0] });\n        return scale1.map(x);\n    };\n    const onHighlight = (event) => {\n        const { nativeEvent } = event;\n        if (nativeEvent)\n            return;\n        const { selection } = event.data;\n        for (let i = 0; i < handlers.length; i++) {\n            const domain = selection[i];\n            const handler = handlers[i];\n            const axis = axes[i];\n            if (domain) {\n                const scale = scales[i];\n                handler.move(...rangeOf(domain, scale, axis), false);\n            }\n            else {\n                handler.remove(false);\n            }\n        }\n    };\n    emitter.on('brushAxis:remove', onRemove);\n    emitter.on('brushAxis:highlight', onHighlight);\n    return () => {\n        handlers.forEach((d) => d.destroy());\n        emitter.off('brushAxis:remove', onRemove);\n        emitter.off('brushAxis:highlight', onHighlight);\n    };\n}\n/**\n * @todo Support mask size.\n */\nexport function BrushAxisHighlight(options) {\n    return (target, _, emitter) => {\n        const { container, view, options: viewOptions } = target;\n        const plotArea = selectPlotArea(container);\n        const { x: x0, y: y0 } = plotArea.getBBox();\n        const { coordinate } = view;\n        return brushAxisHighlight(container, Object.assign({ elements: selectG2Elements, axes: axesOf, offsetY: y0, offsetX: x0, points: (element) => element.__data__.points, horizontal: (axis) => {\n                const { startPos: [sx, sy], endPos: [ex, ey], } = axis.attributes;\n                // attention, non-horizontal does not mean vertical\n                // it may has a specific degree angle\n                return sx !== ex && sy === ey;\n            }, datum: createDatumof(view), state: mergeState(viewOptions, [\n                'active',\n                ['inactive', { opacity: 0.5 }],\n            ]), coordinate,\n            emitter }, options));\n    };\n}\n//# sourceMappingURL=brushAxisHighlight.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { selectionOf } from '../utils/scale';\nimport { brush as createBrush } from './brushHighlight';\nimport { selectPlotArea } from './utils';\n// Mock dblclick events.\nfunction dblclick(interval = 300) {\n    let preTimeStamp = null;\n    return (e) => {\n        const { timeStamp } = e;\n        if (preTimeStamp !== null && timeStamp - preTimeStamp < interval) {\n            preTimeStamp = timeStamp;\n            return true;\n        }\n        preTimeStamp = timeStamp;\n        return false;\n    };\n}\nexport function brushFilter(root, _a) {\n    var { filter, reset, brushRegion, extent: optionalExtent, reverse, emitter, scale, coordinate, selection, series = false } = _a, rest = __rest(_a, [\"filter\", \"reset\", \"brushRegion\", \"extent\", \"reverse\", \"emitter\", \"scale\", \"coordinate\", \"selection\", \"series\"]);\n    const brushStyle = subObject(rest, 'mask');\n    const { width: rootWidth, height: rootHeight } = root.getBBox();\n    const extent = optionalExtent\n        ? optionalExtent\n        : [0, 0, rootWidth, rootHeight];\n    const isDblclick = dblclick();\n    const brush = createBrush(root, Object.assign(Object.assign({}, brushStyle), { extent,\n        brushRegion,\n        reverse,\n        brushcreated }));\n    root.addEventListener('click', click);\n    // Filter when brush created.\n    function brushcreated(x, y, x1, y1, event) {\n        event.nativeEvent = true;\n        filter(selection(x, y, x1, y1), event);\n        brush.remove();\n    }\n    // Reset when dblclick.\n    function click(e) {\n        if (isDblclick(e)) {\n            e.nativeEvent = true;\n            reset(e);\n        }\n    }\n    const onFilter = ({ nativeEvent, data }) => {\n        if (nativeEvent)\n            return;\n        const { selection } = data;\n        filter(selection, { nativeEvent: false });\n    };\n    emitter.on('brush:filter', onFilter);\n    return () => {\n        brush.destroy();\n        emitter.off('brush:filter', onFilter);\n        root.removeEventListener('click', click);\n    };\n}\nexport function BrushFilter(_a) {\n    var { hideX = true, hideY = true } = _a, rest = __rest(_a, [\"hideX\", \"hideY\"]);\n    return (target, viewInstances, emitter) => {\n        const { container, view, options: viewOptions, update, setState } = target;\n        const plotArea = selectPlotArea(container);\n        const defaultOptions = {\n            maskFill: '#777',\n            maskFillOpacity: '0.3',\n            maskStroke: '#fff',\n            unhighlightedOpacity: 0.5,\n            reverse: false,\n        };\n        let filtered = false;\n        let filtering = false;\n        let newView = view;\n        const { scale, coordinate } = view;\n        return brushFilter(plotArea, Object.assign(Object.assign({ brushRegion: (x, y, x1, y1) => [x, y, x1, y1], selection: (x, y, x1, y1) => {\n                const { scale, coordinate } = newView;\n                return selectionOf(x, y, x1, y1, scale, coordinate);\n            }, filter: (selection, event) => __awaiter(this, void 0, void 0, function* () {\n                // Avoid redundant filter.\n                if (filtering)\n                    return;\n                filtering = true;\n                // Update the domain of x and y scale to filter data.\n                const [domainX, domainY] = selection;\n                setState('brushFilter', (options) => {\n                    const { marks } = options;\n                    const newMarks = marks.map((mark) => deepMix({\n                        // Hide label to keep smooth transition.\n                        axis: Object.assign(Object.assign({}, (hideX && { x: { transform: [{ type: 'hide' }] } })), (hideY && { y: { transform: [{ type: 'hide' }] } })),\n                    }, mark, {\n                        // Set nice to false to avoid modify domain.\n                        scale: {\n                            x: { domain: domainX, nice: false },\n                            y: { domain: domainY, nice: false },\n                        },\n                    }));\n                    return Object.assign(Object.assign({}, viewOptions), { marks: newMarks, clip: true });\n                });\n                // Emit event.\n                emitter.emit('brush:filter', Object.assign(Object.assign({}, event), { data: { selection: [domainX, domainY] } }));\n                const newState = yield update();\n                newView = newState.view;\n                filtering = false;\n                filtered = true;\n            }), reset: (event) => {\n                if (filtering || !filtered)\n                    return;\n                // Emit event.\n                const { scale } = view;\n                const { x: scaleX, y: scaleY } = scale;\n                const domainX = scaleX.getOptions().domain;\n                const domainY = scaleY.getOptions().domain;\n                emitter.emit('brush:filter', Object.assign(Object.assign({}, event), { data: { selection: [domainX, domainY] } }));\n                filtered = false;\n                newView = view;\n                setState('brushFilter');\n                update();\n            }, extent: undefined, emitter,\n            scale,\n            coordinate }, defaultOptions), rest));\n    };\n}\n//# sourceMappingURL=brushFilter.js.map","import { BrushFilter } from './brushFilter';\nimport { brushXRegion } from './brushXHighlight';\nexport function BrushXFilter(options) {\n    return BrushFilter(Object.assign(Object.assign({ hideX: true }, options), { brushRegion: brushXRegion }));\n}\n//# sourceMappingURL=brushXFilter.js.map","import { BrushFilter } from './brushFilter';\nimport { brushYRegion } from './brushYHighlight';\nexport function BrushYFilter(options) {\n    return BrushFilter(Object.assign(Object.assign({ hideY: true }, options), { brushRegion: brushYRegion }));\n}\n//# sourceMappingURL=brushYFilter.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { deepMix, throttle, upperFirst } from '@antv/util';\nimport { CustomEvent } from '@antv/g';\nimport { isTranspose } from '../utils/coordinate';\nimport { invert, domainOf, abstractOf } from '../utils/scale';\nexport const SLIDER_CLASS_NAME = 'slider';\nfunction filterDataByDomain(options, scaleOptions, prefix, hasState = false, channel0 = 'x', channel1 = 'y') {\n    const { marks } = options;\n    const newMarks = marks.map((mark) => {\n        var _a, _b;\n        return deepMix({\n            // Hide label to keep smooth transition.\n            axis: {\n                x: { transform: [{ type: 'hide' }] },\n                y: { transform: [{ type: 'hide' }] },\n            },\n        }, mark, {\n            scale: scaleOptions,\n            // Don't rerender sliders.\n            [prefix]: Object.assign(Object.assign({}, (((_a = mark[prefix]) === null || _a === void 0 ? void 0 : _a[channel0]) && {\n                [channel0]: Object.assign({ preserve: true }, (hasState && { ratio: null })),\n            })), (((_b = mark[prefix]) === null || _b === void 0 ? void 0 : _b[channel1]) && {\n                [channel1]: { preserve: true },\n            })),\n            animate: false,\n        });\n    });\n    // Rerender and update view.\n    return Object.assign(Object.assign({}, options), { marks: newMarks, clip: true, animate: false });\n}\nfunction abstractValue(values, scale, reverse) {\n    const [x, x1] = values;\n    const v = reverse ? (d) => 1 - d : (d) => d;\n    const d0 = invert(scale, v(x), true);\n    const d1 = invert(scale, v(x1), false);\n    return domainOf(scale, [d0, d1]);\n}\nfunction extentOf(domain) {\n    return [domain[0], domain[domain.length - 1]];\n}\n/**\n * @todo Support click to reset after fix click and dragend conflict.\n */\nexport function SliderFilter({ initDomain = {}, className = SLIDER_CLASS_NAME, prefix = 'slider', setValue = (component, values) => component.setValues(values), hasState = false, wait = 50, leading = true, trailing = false, getInitValues = (slider) => {\n    var _a;\n    const values = (_a = slider === null || slider === void 0 ? void 0 : slider.attributes) === null || _a === void 0 ? void 0 : _a.values;\n    if (values[0] !== 0 || values[1] !== 1)\n        return values;\n}, }) {\n    return (context, _, emitter) => {\n        const { container, view, update, setState } = context;\n        const sliders = container.getElementsByClassName(className);\n        if (!sliders.length)\n            return () => { };\n        let filtering = false;\n        const { scale, coordinate, layout } = view;\n        const { paddingLeft, paddingTop, paddingBottom, paddingRight } = layout;\n        const { x: scaleX, y: scaleY } = scale;\n        const transposed = isTranspose(coordinate);\n        const channelOf = (orientation) => {\n            const channel0 = orientation === 'vertical' ? 'y' : 'x';\n            const channel1 = orientation === 'vertical' ? 'x' : 'y';\n            if (transposed)\n                return [channel1, channel0];\n            return [channel0, channel1];\n        };\n        const sliderHandler = new Map();\n        const emitHandlers = new Set();\n        // Store current domain of x and y scale.\n        const channelDomain = {\n            x: initDomain.x || scaleX.getOptions().domain,\n            y: initDomain.y || scaleY.getOptions().domain,\n        };\n        for (const slider of sliders) {\n            const { orientation } = slider.attributes;\n            const [channel0, channel1] = channelOf(orientation);\n            const eventName = `${prefix}${upperFirst(channel0)}:filter`;\n            const isX = channel0 === 'x';\n            const { ratio: ratioX } = scaleX.getOptions();\n            const { ratio: ratioY } = scaleY.getOptions();\n            const domainsOf = (event) => {\n                // From abstract values.\n                if (event.data) {\n                    const { selection } = event.data;\n                    const [X = extentOf(channelDomain.x), Y = extentOf(channelDomain.y)] = selection;\n                    return isX\n                        ? [domainOf(scaleX, X, ratioX), domainOf(scaleY, Y, ratioY)]\n                        : [domainOf(scaleY, Y, ratioY), domainOf(scaleX, X, ratioX)];\n                }\n                // From visual values.\n                const { value: values } = event.detail;\n                const scale0 = scale[channel0];\n                const domain0 = abstractValue(values, scale0, transposed && orientation === 'horizontal');\n                const domain1 = channelDomain[channel1];\n                return [domain0, domain1];\n            };\n            const onValueChange = throttle((event) => __awaiter(this, void 0, void 0, function* () {\n                const { initValue = false } = event;\n                if (filtering && !initValue)\n                    return;\n                filtering = true;\n                const { nativeEvent = true } = event;\n                // Get and update domain.\n                const [domain0, domain1] = domainsOf(event);\n                channelDomain[channel0] = domain0;\n                channelDomain[channel1] = domain1;\n                if (nativeEvent) {\n                    // Emit events.\n                    const X = isX ? domain0 : domain1;\n                    const Y = isX ? domain1 : domain0;\n                    emitter.emit(eventName, Object.assign(Object.assign({}, event), { nativeEvent, data: { selection: [extentOf(X), extentOf(Y)] } }));\n                }\n                setState(slider, (options) => (Object.assign(Object.assign({}, filterDataByDomain(options, \n                // Set nice to false to avoid modify domain.\n                // Only update domain of current slider / scrollbar.\n                { [channel0]: { domain: domain0, nice: false } }, prefix, hasState, channel0, channel1)), { paddingLeft,\n                    paddingTop,\n                    paddingBottom,\n                    paddingRight })));\n                yield update();\n                filtering = false;\n            }), wait, { leading, trailing });\n            const emitHandler = (event) => {\n                const { nativeEvent } = event;\n                if (nativeEvent)\n                    return;\n                const { data } = event;\n                const { selection } = data;\n                const [X, Y] = selection;\n                // Update data.\n                slider.dispatchEvent(new CustomEvent('valuechange', {\n                    data,\n                    nativeEvent: false,\n                }));\n                // Update slider.\n                const V = isX ? abstractOf(X, scaleX) : abstractOf(Y, scaleY);\n                setValue(slider, V);\n            };\n            emitter.on(eventName, emitHandler);\n            slider.addEventListener('valuechange', onValueChange);\n            sliderHandler.set(slider, onValueChange);\n            emitHandlers.add([eventName, emitHandler]);\n            const values = getInitValues(slider);\n            if (values) {\n                // Init values.\n                slider.dispatchEvent(new CustomEvent('valuechange', {\n                    detail: {\n                        value: values,\n                    },\n                    nativeEvent: false,\n                    initValue: true,\n                }));\n            }\n        }\n        return () => {\n            for (const [slider, handler] of sliderHandler) {\n                slider.removeEventListener('valuechange', handler);\n            }\n            for (const [name, handler] of emitHandlers) {\n                emitter.off(name, handler);\n            }\n        };\n    };\n}\n//# sourceMappingURL=sliderFilter.js.map","import { SliderFilter } from './sliderFilter';\nexport const SCROLLBAR_CLASS_NAME = 'g2-scrollbar';\nexport function ScrollbarFilter(options = {}) {\n    return (context, _, emitter) => {\n        const { view, container } = context;\n        const scrollbars = container.getElementsByClassName(SCROLLBAR_CLASS_NAME);\n        if (!scrollbars.length)\n            return () => { };\n        const { scale } = view;\n        const { x: scaleX, y: scaleY } = scale;\n        // The filtered domain, computed by the ratio attribute.\n        const initDomain = {\n            x: [...scaleX.getOptions().domain],\n            y: [...scaleY.getOptions().domain],\n        };\n        // The ordinal domain for each channel.\n        scaleX.update({ domain: scaleX.getOptions().expectedDomain });\n        scaleY.update({ domain: scaleY.getOptions().expectedDomain });\n        const interaction = SliderFilter(Object.assign(Object.assign({}, options), { initDomain, className: SCROLLBAR_CLASS_NAME, prefix: 'scrollbar', hasState: true, setValue: (component, values) => component.setValue(values[0]), getInitValues: (scrollbar) => {\n                const values = scrollbar.slider.attributes.values;\n                if (values[0] !== 0)\n                    return values;\n            } }));\n        return interaction(context, _, emitter);\n    };\n}\n//# sourceMappingURL=scrollbarFilter.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { HTML } from '@antv/g';\nimport { kebabCase } from '../utils/string';\nimport { subObject } from '../utils/helper';\nfunction dom(tag, children, style) {\n    return `<${tag} style=\"${Object.entries(style)\n        .map(([key, value]) => `${kebabCase(key)}:${value}`)\n        .join(';')}\">${children}</${tag}>`;\n}\nconst defaultTipStyle = {\n    backgroundColor: 'rgba(0,0,0,0.75)',\n    color: '#fff',\n    width: 'max-content',\n    padding: '1px 4px',\n    fontSize: '12px',\n    borderRadius: '2.5px',\n    boxShadow: '0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)',\n};\nfunction isTipText(element) {\n    if (element.nodeName !== 'text')\n        return false;\n    if (element.isOverflowing())\n        return true;\n    return false;\n}\nexport function Poptip(_a) {\n    var { offsetX = 8, offsetY = 8 } = _a, style = __rest(_a, [\"offsetX\", \"offsetY\"]);\n    return (context) => {\n        const { container } = context;\n        const [x0, y0] = container.getBounds().min;\n        const tipStyle = subObject(style, 'tip');\n        const tips = new Set();\n        const pointerover = (e) => {\n            const { target } = e;\n            if (!isTipText(target)) {\n                e.stopPropagation();\n                return;\n            }\n            const { offsetX: mouseX, offsetY: mouseY } = e;\n            const x = mouseX + offsetX - x0;\n            const y = mouseY + offsetY - y0;\n            if (target.tip) {\n                target.tip.style.x = x;\n                target.tip.style.y = y;\n                return;\n            }\n            const { text } = target.style;\n            const tipELement = new HTML({\n                className: 'poptip',\n                style: {\n                    innerHTML: dom('div', text, Object.assign(Object.assign({}, defaultTipStyle), tipStyle)),\n                    x,\n                    y,\n                },\n            });\n            container.appendChild(tipELement);\n            target.tip = tipELement;\n            tips.add(tipELement);\n        };\n        const pointerout = (e) => {\n            const { target } = e;\n            if (!isTipText(target)) {\n                e.stopPropagation();\n                return;\n            }\n            if (!target.tip)\n                return;\n            target.tip.remove();\n            target.tip = null;\n            tips.delete(target.tip);\n        };\n        container.addEventListener('pointerover', pointerover);\n        container.addEventListener('pointerout', pointerout);\n        return () => {\n            container.removeEventListener('pointerover', pointerover);\n            container.removeEventListener('pointerout', pointerout);\n            tips.forEach((tip) => tip.remove());\n        };\n    };\n}\nPoptip.props = {\n    reapplyWhenUpdate: true,\n};\n//# sourceMappingURL=poptip.js.map","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys\n    ? function (obj) { return Object.keys(obj); }\n    : function (obj) {\n        var result = [];\n        each(obj, function (value, key) {\n            if (!(isFunction(obj) && key === 'prototype')) {\n                result.push(key);\n            }\n        });\n        return result;\n    };\nexport default keys;\n//# sourceMappingURL=keys.js.map","import isNil from './is-nil';\nimport keys from './keys';\nfunction isMatch(obj, attrs) {\n    var _keys = keys(attrs);\n    var length = _keys.length;\n    if (isNil(obj))\n        return !length;\n    for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isMatch;\n//# sourceMappingURL=is-match.js.map","import isFunction from './is-function';\nimport isMatch from './is-match';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nfunction find(arr, predicate) {\n    if (!isArray(arr))\n        return null;\n    var _predicate;\n    if (isFunction(predicate)) {\n        _predicate = predicate;\n    }\n    if (isPlainObject(predicate)) {\n        _predicate = function (a) { return isMatch(a, predicate); };\n    }\n    if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n            if (_predicate(arr[i])) {\n                return arr[i];\n            }\n        }\n    }\n    return null;\n}\nexport default find;\n//# sourceMappingURL=find.js.map","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import {optional} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {},\n    imputed = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId,\n      path;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        currentId = id,\n        currentParentId = parentId,\n        n,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    if (path != null) {\n      const I = nodes.map((d, i) => normalize(path(d, i, data)));\n      const P = I.map(parentof);\n      const S = new Set(I).add(\"\");\n      for (const i of P) {\n        if (!S.has(i)) {\n          S.add(i);\n          I.push(i);\n          P.push(parentof(i));\n          nodes.push(imputed);\n        }\n      }\n      currentId = (_, i) => I[i];\n      currentParentId = (_, i) => P[i];\n    }\n\n    for (i = 0, n = nodes.length; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = currentId(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = currentParentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n\n    // When imputing internal nodes, only introduce roots if needed.\n    // Then replace the imputed marker data with null.\n    if (path != null) {\n      while (root.data === imputed && root.children.length === 1) {\n        root = root.children[0], --n;\n      }\n      for (let i = nodes.length - 1; i >= 0; --i) {\n        node = nodes[i];\n        if (node.data !== imputed) break;\n        node.data = null;\n      }\n    }\n\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = optional(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = optional(x), stratify) : parentId;\n  };\n\n  stratify.path = function(x) {\n    return arguments.length ? (path = optional(x), stratify) : path;\n  };\n\n  return stratify;\n}\n\n// To normalize a path, we coerce to a string, strip the trailing slash if any\n// (as long as the trailing slash is not immediately preceded by another slash),\n// and add leading slash if missing.\nfunction normalize(path) {\n  path = `${path}`;\n  let i = path.length;\n  if (slash(path, i - 1) && !slash(path, i - 2)) path = path.slice(0, -1);\n  return path[0] === \"/\" ? path : `/${path}`;\n}\n\n// Walk backwards to find the first slash that is not the leading slash, e.g.:\n// \"/foo/bar\" ⇥ \"/foo\", \"/foo\" ⇥ \"/\", \"/\" ↦ \"\". (The root is special-cased\n// because the id of the root must be a truthy value.)\nfunction parentof(path) {\n  let i = path.length;\n  if (i < 2) return \"\";\n  while (--i > 1) if (slash(path, i)) break;\n  return path.slice(0, i);\n}\n\n// Slashes can be escaped; to determine whether a slash is a path delimiter, we\n// count the number of preceding backslashes escaping the forward slash: an odd\n// number indicates an escaped forward slash.\nfunction slash(path, i) {\n  if (path[i] === \"/\") {\n    let k = 0;\n    while (i > 0 && path[--i] === \"\\\\\") ++k;\n    if ((k & 1) === 0) return true;\n  }\n  return false;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import { isArray, get } from '@antv/util';\nimport { stratify, hierarchy, treemap as treemapLayout, treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify, } from '@antv/vendor/d3-hierarchy';\nimport { field } from '../mark/utils';\n/**\n * @description Path need when the data is a flat json structure,\n * and the tree object structure do not need.\n */\nfunction generateHierarchyRoot(data, path) {\n    if (Array.isArray(data)) {\n        return typeof path === 'function'\n            ? stratify().path(path)(data)\n            : stratify()(data);\n    }\n    return hierarchy(data);\n}\nfunction addObjectDataPath(root, path = [root.data.name]) {\n    // @ts-ignore\n    root.id = root.id || root.data.name;\n    root.path = path;\n    if (root.children) {\n        root.children.forEach((item) => {\n            // @ts-ignore\n            item.id = `${root.id}/${item.data.name}`;\n            item.path = [...path, item.data.name];\n            addObjectDataPath(item, item.path);\n        });\n    }\n}\nfunction addArrayDataPath(root) {\n    const name = get(root, ['data', 'name']);\n    if (name.replaceAll) {\n        root.path = name.replaceAll('.', '/').split('/');\n    }\n    if (root.children) {\n        root.children.forEach((item) => {\n            addArrayDataPath(item);\n        });\n    }\n}\nfunction getTileMethod(tile, ratio) {\n    const tiles = {\n        treemapBinary,\n        treemapDice,\n        treemapSlice,\n        treemapSliceDice,\n        treemapSquarify,\n        treemapResquarify,\n    };\n    const tileMethod = tile === 'treemapSquarify' ? tiles[tile].ratio(ratio) : tiles[tile];\n    if (!tileMethod) {\n        throw new TypeError('Invalid tile method!');\n    }\n    return tileMethod;\n}\nexport function treeDataTransform(data, layout, encode) {\n    const { value } = encode;\n    const tileMethod = getTileMethod(layout.tile, layout.ratio);\n    const root = generateHierarchyRoot(data, layout.path);\n    if (isArray(data)) {\n        addArrayDataPath(root);\n    }\n    else {\n        addObjectDataPath(root);\n    }\n    // Calculate the value and sort.\n    value\n        ? root\n            .sum((d) => layout.ignoreParentValue && d.children\n            ? 0\n            : field(value)(d))\n            .sort(layout.sort)\n        : root.count();\n    treemapLayout()\n        .tile(tileMethod)\n        // @ts-ignore\n        .size(layout.size)\n        .round(layout.round)\n        .paddingInner(layout.paddingInner)\n        .paddingOuter(layout.paddingOuter)\n        .paddingTop(layout.paddingTop)\n        .paddingRight(layout.paddingRight)\n        .paddingBottom(layout.paddingBottom)\n        .paddingLeft(layout.paddingLeft)(root);\n    const nodes = root.descendants().map((d) => Object.assign(d, {\n        id: d.id.replace(/^\\//, ''),\n        x: [d.x0, d.x1],\n        y: [d.y0, d.y1],\n    }));\n    const filterData = nodes.filter(typeof layout.layer === 'function'\n        ? layout.layer\n        : (d) => d.height === layout.layer);\n    return [filterData, nodes];\n}\n//# sourceMappingURL=treeDataTransform.js.map","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Text, Group } from '@antv/g';\nimport { get, deepMix, pick, keys, find, size, last } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { PLOT_CLASS_NAME } from '../runtime';\nimport { select } from '../utils/selection';\nimport { treeDataTransform } from '../utils/treeDataTransform';\nimport { legendClearSetState } from './legendFilter';\nimport { getElements } from './utils';\nfunction selectPlotArea(root) {\n    return select(root).select(`.${PLOT_CLASS_NAME}`).node();\n}\n// Default breadCrumb config.\nconst DEFAULT_BREADCRUMB_STYLE = {\n    breadCrumbFill: 'rgba(0, 0, 0, 0.85)',\n    breadCrumbFontSize: 12,\n    breadCrumbY: 12,\n    activeFill: 'rgba(0, 0, 0, 0.5)',\n};\n/**\n * TreemapDrillDown interaction.\n */\nexport function TreemapDrillDown(drillDownOptions = {}) {\n    const { originData = [], layout } = drillDownOptions, style = __rest(drillDownOptions, [\"originData\", \"layout\"]);\n    const breadCrumb = deepMix({}, DEFAULT_BREADCRUMB_STYLE, style);\n    const breadCrumbStyle = subObject(breadCrumb, 'breadCrumb');\n    const breadCrumbActiveStyle = subObject(breadCrumb, 'active');\n    return (context) => {\n        const { update, setState, container, options } = context;\n        const plotArea = selectPlotArea(container);\n        const mark = options.marks[0];\n        const { state } = mark;\n        // Create breadCrumbTextsGroup,save textSeparator、drillTexts.\n        const textGroup = new Group();\n        plotArea.appendChild(textGroup);\n        // Modify the data and scale according to the path and the level of the current click, so as to achieve the effect of drilling down and drilling up and initialization.\n        const drillDownClick = (path, depth) => __awaiter(this, void 0, void 0, function* () {\n            // Clear text.\n            textGroup.removeChildren();\n            // More path creation text.\n            if (depth) {\n                let name = '';\n                let y = breadCrumbStyle.y;\n                let x = 0;\n                const textPath = [];\n                const maxWidth = plotArea.getBBox().width;\n                // Create path: 'type1 / type2 / type3' -> '/ type1 / type2 / type3'.\n                const drillTexts = path.map((text, index) => {\n                    name = `${name}${text}/`;\n                    textPath.push(text);\n                    const drillText = new Text({\n                        name: name.replace(/\\/$/, ''),\n                        style: Object.assign(Object.assign({ text,\n                            x, \n                            // @ts-ignore\n                            path: [...textPath], depth: index }, breadCrumbStyle), { y }),\n                    });\n                    textGroup.appendChild(drillText);\n                    x += drillText.getBBox().width;\n                    const textSeparator = new Text({\n                        style: Object.assign(Object.assign({ x, text: ' / ' }, breadCrumbStyle), { y }),\n                    });\n                    textGroup.appendChild(textSeparator);\n                    x += textSeparator.getBBox().width;\n                    /**\n                     * Page width exceeds maximum, line feed.\n                     * | ----maxWidth---- |\n                     * | / tyep1 / tyep2 / type3 |\n                     * ->\n                     * | ----maxWidth---- |\n                     * | / tyep1 / tyep2  |\n                     * | / type3 |\n                     */\n                    if (x > maxWidth) {\n                        y = textGroup.getBBox().height + breadCrumbStyle.y;\n                        x = 0;\n                        drillText.attr({\n                            x,\n                            y,\n                        });\n                        x += drillText.getBBox().width;\n                        textSeparator.attr({\n                            x,\n                            y,\n                        });\n                        x += textSeparator.getBBox().width;\n                    }\n                    if (index === size(path) - 1) {\n                        textSeparator.remove();\n                    }\n                    return drillText;\n                });\n                // Add Active, Add TreemapDrillDown\n                drillTexts.forEach((item, index) => {\n                    // Last drillText\n                    if (index === size(drillTexts) - 1)\n                        return;\n                    const originalAttrs = Object.assign({}, item.attributes);\n                    item.attr('cursor', 'pointer');\n                    item.addEventListener('mouseenter', () => {\n                        item.attr(breadCrumbActiveStyle);\n                    });\n                    item.addEventListener('mouseleave', () => {\n                        item.attr(originalAttrs);\n                    });\n                    item.addEventListener('click', () => {\n                        drillDownClick(get(item, ['style', 'path']), get(item, ['style', 'depth']));\n                    });\n                });\n            }\n            // LegendFilter interaction and treemapDrillDown clash.\n            legendClearSetState(container, setState);\n            // Update marks.\n            setState('treemapDrillDown', (viewOptions) => {\n                const { marks } = viewOptions;\n                // Add filter transform for every marks,\n                // which will skip for mark without color channel.\n                const strPath = path.join('/');\n                const newMarks = marks.map((mark) => {\n                    if (mark.type !== 'rect')\n                        return mark;\n                    let newData = originData;\n                    if (depth) {\n                        const filterData = originData\n                            .filter((item) => {\n                            const id = get(item, ['id']);\n                            return id && (id.match(`${strPath}/`) || strPath.match(id));\n                        })\n                            .map((item) => ({\n                            value: item.height === 0 ? get(item, ['value']) : undefined,\n                            name: get(item, ['id']),\n                        }));\n                        const { paddingLeft, paddingBottom, paddingRight } = layout;\n                        // New drill layout for calculation x y and filtration data.\n                        const newLayout = Object.assign(Object.assign({}, layout), { paddingTop: (layout.paddingTop || textGroup.getBBox().height + 10) /\n                                (depth + 1), paddingLeft: paddingLeft / (depth + 1), paddingBottom: paddingBottom / (depth + 1), paddingRight: paddingRight / (depth + 1), path: (d) => d.name, layer: (d) => d.depth === depth + 1 });\n                        // Transform the new matrix tree data.\n                        newData = treeDataTransform(filterData, newLayout, {\n                            value: 'value',\n                        })[0];\n                    }\n                    else {\n                        newData = originData.filter((item) => {\n                            return item.depth === 1;\n                        });\n                    }\n                    const colorDomain = [];\n                    newData.forEach(({ path }) => {\n                        colorDomain.push(last(path));\n                    });\n                    // TreemapDrillDown by filtering the data and scale.\n                    return deepMix({}, mark, {\n                        data: newData,\n                        scale: {\n                            color: { domain: colorDomain },\n                        },\n                    });\n                });\n                return Object.assign(Object.assign({}, viewOptions), { marks: newMarks });\n            });\n            // The second argument is to allow the legendFilter event to be re-added; the update method itself causes legend to lose the interaction event.\n            yield update(undefined, ['legendFilter']);\n        });\n        // Elements and BreadCrumb click.\n        const createDrillClick = (e) => {\n            const item = e.target;\n            if (get(item, ['markType']) !== 'rect')\n                return;\n            const key = get(item, ['__data__', 'key']);\n            const node = find(originData, (d) => d.id === key);\n            // Node height = 0 no children\n            if (get(node, 'height')) {\n                drillDownClick(get(node, 'path'), get(node, 'depth'));\n            }\n        };\n        // Add click drill interaction.\n        plotArea.addEventListener('click', createDrillClick);\n        // Change attributes keys.\n        const changeStyleKey = keys(Object.assign(Object.assign({}, state.active), state.inactive));\n        const createActive = () => {\n            const elements = getElements(plotArea);\n            elements.forEach((element) => {\n                const cursor = get(element, ['style', 'cursor']);\n                const node = find(originData, (d) => d.id === get(element, ['__data__', 'key']));\n                if (cursor !== 'pointer' && (node === null || node === void 0 ? void 0 : node.height)) {\n                    element.style.cursor = 'pointer';\n                    const originalAttrs = pick(element.attributes, changeStyleKey);\n                    element.addEventListener('mouseenter', () => {\n                        element.attr(state.active);\n                    });\n                    element.addEventListener('mouseleave', () => {\n                        element.attr(deepMix(originalAttrs, state.inactive));\n                    });\n                }\n            });\n        };\n        createActive();\n        // Animate elements update, Add active.\n        plotArea.addEventListener('mousemove', createActive);\n        return () => {\n            textGroup.remove();\n            plotArea.removeEventListener('click', createDrillClick);\n            plotArea.removeEventListener('mousemove', createActive);\n        };\n    };\n}\n//# sourceMappingURL=treemapDrillDown.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Text, Group, Circle, Path } from '@antv/g';\nimport { deepMix, isUndefined, find, get } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { selectPlotArea, getPointsR, getPointsPath, getElements, getThetaPath, } from './utils';\nconst DEFAULT_STYLE = {\n    pointR: 6,\n    pointStrokeWidth: 1,\n    pointStroke: '#888',\n    pointActiveStroke: '#f5f5f5',\n    pathStroke: '#888',\n    pathLineDash: [3, 4],\n    labelFontSize: 12,\n    labelFill: '#888',\n    labelStroke: '#fff',\n    labelLineWidth: 1,\n    labelY: -6,\n    labelX: 2,\n};\n// point shape name.\nconst MOVE_POINT_NAME = 'movePoint';\n// Element mouseenter change style.\nconst elementMouseenter = (e) => {\n    const element = e.target;\n    const { markType } = element;\n    // Mark line.\n    if (markType === 'line') {\n        element.attr('_lineWidth', element.attr('lineWidth') || 1);\n        element.attr('lineWidth', element.attr('_lineWidth') + 3);\n    }\n    // Mark interval.\n    if (markType === 'interval') {\n        element.attr('_opacity', element.attr('opacity') || 1);\n        element.attr('opacity', 0.7 * element.attr('_opacity'));\n    }\n};\n// Element mouseleave change style.\nconst elementMouseleave = (e) => {\n    const element = e.target;\n    const { markType } = element;\n    // Mark line.\n    if (markType === 'line') {\n        element.attr('lineWidth', element.attr('_lineWidth'));\n    }\n    // Mark interval.\n    if (markType === 'interval') {\n        element.attr('opacity', element.attr('_opacity'));\n    }\n};\n// Get the latest overall data based on the individual data changes.\nconst getNewData = (newChangeData, data, encode) => {\n    return data.map((d) => {\n        const isUpdate = ['x', 'color'].reduce((v, key) => {\n            const field = encode[key];\n            if (!field)\n                return v;\n            if (d[field] !== newChangeData[field])\n                return false;\n            return v;\n        }, true);\n        return isUpdate ? Object.assign(Object.assign({}, d), newChangeData) : d;\n    });\n};\n// Find mark interval origin element data.\nconst getIntervalDataRatioTransformFn = (element) => {\n    const y = get(element, ['__data__', 'y']);\n    const y1 = get(element, ['__data__', 'y1']);\n    const v = y1 - y;\n    const { __data__: { data, encode, transform }, childNodes, } = element.parentNode;\n    const isNormalizeY = find(transform, ({ type }) => type === 'normalizeY');\n    const yField = get(encode, ['y', 'field']);\n    const value = data[childNodes.indexOf(element)][yField];\n    return (newValue, isTheta = false) => {\n        if (isNormalizeY || isTheta) {\n            return (newValue / (1 - newValue) / (v / (1 - v))) * value;\n        }\n        return newValue;\n    };\n};\n// Find origin path data.\nconst getPathDataRatioTransformFn = (element, index) => {\n    const v = get(element, ['__data__', 'seriesItems', index, '0', 'value']);\n    const i = get(element, ['__data__', 'seriesIndex', index]);\n    const { __data__: { data, encode, transform }, } = element.parentNode;\n    const isNormalizeY = find(transform, ({ type }) => type === 'normalizeY');\n    const yField = get(encode, ['y', 'field']);\n    const value = data[i][yField];\n    return (newValue) => {\n        if (isNormalizeY) {\n            if (v === 1) {\n                return newValue;\n            }\n            return (newValue / (1 - newValue) / (v / (1 - v))) * value;\n        }\n        return newValue;\n    };\n};\n// Point shape select change style.\nconst selectedPointsStyle = (pointsShape, selection, defaultStyle) => {\n    pointsShape.forEach((shape, index) => {\n        shape.attr('stroke', selection[1] === index\n            ? defaultStyle['activeStroke']\n            : defaultStyle['stroke']);\n    });\n};\n// Create help show message shape.\nconst createHelpShape = (group, circle, pathStyle, labelStyle) => {\n    const pathShape = new Path({\n        style: pathStyle,\n    });\n    const labelShape = new Text({\n        style: labelStyle,\n    });\n    circle.appendChild(labelShape);\n    group.appendChild(pathShape);\n    return [pathShape, labelShape];\n};\n// Get color scale type.\nconst getColorType = (scaleColor, color) => {\n    const indexOf = get(scaleColor, ['options', 'range', 'indexOf']);\n    if (!indexOf)\n        return;\n    const i = scaleColor.options.range.indexOf(color);\n    return scaleColor.sortedDomain[i];\n};\n// Get the same direction new point.\nconst getSamePointPosition = (center, point, target) => {\n    const oldR = getPointsR(center, point);\n    const newR = getPointsR(center, target);\n    const ratio = newR / oldR;\n    const newX = center[0] + (point[0] - center[0]) * ratio;\n    const newY = center[1] + (point[1] - center[1]) * ratio;\n    return [newX, newY];\n};\n/**\n * ElementPointMove interaction.\n */\nexport function ElementPointMove(elementPointMoveOptions = {}) {\n    const { selection = [], precision = 2 } = elementPointMoveOptions, style = __rest(elementPointMoveOptions, [\"selection\", \"precision\"]);\n    const defaultStyle = Object.assign(Object.assign({}, DEFAULT_STYLE), (style || {}));\n    // Shape default style.\n    const pathDefaultStyle = subObject(defaultStyle, 'path');\n    const labelDefaultStyle = subObject(defaultStyle, 'label');\n    const pointDefaultStyle = subObject(defaultStyle, 'point');\n    return (context, _, emitter) => {\n        const { update, setState, container, view, options: { marks, coordinate: coordinateOptions }, } = context;\n        const plotArea = selectPlotArea(container);\n        let elements = getElements(plotArea);\n        let newState;\n        let newSelection = selection;\n        const { transform = [], type: coordinateType } = coordinateOptions;\n        const isTranspose = !!find(transform, ({ type }) => type === 'transpose');\n        const isPolar = coordinateType === 'polar';\n        const isTheta = coordinateType === 'theta';\n        const isArea = !!find(elements, ({ markType }) => markType === 'area');\n        if (isArea) {\n            elements = elements.filter(({ markType }) => markType === 'area');\n        }\n        // Create points\n        const pointsGroup = new Group({\n            style: {\n                // Tooltip point need down.\n                zIndex: 2,\n            },\n        });\n        plotArea.appendChild(pointsGroup);\n        const selectedChange = () => {\n            emitter.emit('element-point:select', {\n                nativeEvent: true,\n                data: {\n                    selection: newSelection,\n                },\n            });\n        };\n        const dataChange = (changeData, data) => {\n            emitter.emit('element-point:moved', {\n                nativeEvent: true,\n                data: {\n                    changeData,\n                    data,\n                },\n            });\n        };\n        // Element click change style.\n        const elementClick = (e) => {\n            const element = e.target;\n            newSelection = [element.parentNode.childNodes.indexOf(element)];\n            selectedChange();\n            createPoints(element);\n        };\n        const elementSelect = (d) => {\n            const { data: { selection }, nativeEvent, } = d;\n            if (nativeEvent)\n                return;\n            newSelection = selection;\n            const element = get(elements, [newSelection === null || newSelection === void 0 ? void 0 : newSelection[0]]);\n            if (element) {\n                createPoints(element);\n            }\n        };\n        // Create select element points.\n        const createPoints = (element) => {\n            const { attributes, markType, __data__: data } = element;\n            const { stroke: fill } = attributes;\n            const { points, seriesTitle, color, title, seriesX, y1 } = data;\n            // Transpose Currently only do mark interval;\n            if (isTranspose && markType !== 'interval')\n                return;\n            const { scale, coordinate } = (newState === null || newState === void 0 ? void 0 : newState.view) || view;\n            const { color: scaleColor, y: scaleY, x: scaleX } = scale;\n            const center = coordinate.getCenter();\n            pointsGroup.removeChildren();\n            let downPoint;\n            const updateView = (x, y, color, markTypes) => __awaiter(this, void 0, void 0, function* () {\n                setState('elementPointMove', (viewOptions) => {\n                    var _a;\n                    // Update marks.\n                    const newMarks = (((_a = newState === null || newState === void 0 ? void 0 : newState.options) === null || _a === void 0 ? void 0 : _a.marks) || marks).map((mark) => {\n                        if (!markTypes.includes(mark.type))\n                            return mark;\n                        const { data, encode } = mark;\n                        const encodeKeys = Object.keys(encode);\n                        // Get change new one element data.\n                        const newChangeData = encodeKeys.reduce((value, key) => {\n                            const dataKey = encode[key];\n                            if (key === 'x') {\n                                value[dataKey] = x;\n                            }\n                            if (key === 'y') {\n                                value[dataKey] = y;\n                            }\n                            if (key === 'color') {\n                                value[dataKey] = color;\n                            }\n                            return value;\n                        }, {});\n                        // Get change new all data.\n                        const newData = getNewData(newChangeData, data, encode);\n                        dataChange(newChangeData, newData);\n                        return deepMix({}, mark, {\n                            data: newData,\n                            // No need animate\n                            animate: false,\n                        });\n                    });\n                    return Object.assign(Object.assign({}, viewOptions), { marks: newMarks });\n                });\n                return yield update('elementPointMove');\n            });\n            if (['line', 'area'].includes(markType)) {\n                points.forEach((p, index) => {\n                    const title = scaleX.invert(seriesX[index]);\n                    // Area points have bottom point.\n                    if (!title)\n                        return;\n                    const circle = new Circle({\n                        name: MOVE_POINT_NAME,\n                        style: Object.assign({ cx: p[0], cy: p[1], fill }, pointDefaultStyle),\n                    });\n                    const ratioTransform = getPathDataRatioTransformFn(element, index);\n                    circle.addEventListener('mousedown', (e) => {\n                        const oldPoint = coordinate.output([seriesX[index], 0]);\n                        const pathLength = seriesTitle === null || seriesTitle === void 0 ? void 0 : seriesTitle.length;\n                        container.attr('cursor', 'move');\n                        if (newSelection[1] !== index) {\n                            newSelection[1] = index;\n                            selectedChange();\n                        }\n                        selectedPointsStyle(pointsGroup.childNodes, newSelection, pointDefaultStyle);\n                        const [pathShape, labelShape] = createHelpShape(pointsGroup, circle, pathDefaultStyle, labelDefaultStyle);\n                        // Point move change text\n                        const pointMousemove = (e) => {\n                            const newCy = p[1] + e.clientY - downPoint[1];\n                            // Area/Radar chart.\n                            if (isArea) {\n                                // Radar chart.\n                                if (isPolar) {\n                                    const newCx = p[0] + e.clientX - downPoint[0];\n                                    const [newX, newY] = getSamePointPosition(center, oldPoint, [\n                                        newCx,\n                                        newCy,\n                                    ]);\n                                    const [, initY] = coordinate.output([1, scaleY.output(0)]);\n                                    const [, y] = coordinate.invert([\n                                        newX,\n                                        initY - (points[index + pathLength][1] - newY),\n                                    ]);\n                                    const nextIndex = (index + 1) % pathLength;\n                                    const lastIndex = (index - 1 + pathLength) % pathLength;\n                                    const newPath = getPointsPath([\n                                        points[lastIndex],\n                                        [newX, newY],\n                                        seriesTitle[nextIndex] && points[nextIndex],\n                                    ]);\n                                    labelShape.attr('text', ratioTransform(scaleY.invert(y)).toFixed(precision));\n                                    pathShape.attr('d', newPath);\n                                    circle.attr('cx', newX);\n                                    circle.attr('cy', newY);\n                                }\n                                else {\n                                    // Area chart.\n                                    const [, initY] = coordinate.output([1, scaleY.output(0)]);\n                                    const [, y] = coordinate.invert([\n                                        p[0],\n                                        initY - (points[index + pathLength][1] - newCy),\n                                    ]);\n                                    const newPath = getPointsPath([\n                                        points[index - 1],\n                                        [p[0], newCy],\n                                        seriesTitle[index + 1] && points[index + 1],\n                                    ]);\n                                    labelShape.attr('text', ratioTransform(scaleY.invert(y)).toFixed(precision));\n                                    pathShape.attr('d', newPath);\n                                    circle.attr('cy', newCy);\n                                }\n                            }\n                            else {\n                                // Line chart.\n                                const [, y] = coordinate.invert([p[0], newCy]);\n                                const newPath = getPointsPath([\n                                    points[index - 1],\n                                    [p[0], newCy],\n                                    points[index + 1],\n                                ]);\n                                labelShape.attr('text', scaleY.invert(y).toFixed(precision));\n                                pathShape.attr('d', newPath);\n                                circle.attr('cy', newCy);\n                            }\n                        };\n                        downPoint = [e.clientX, e.clientY];\n                        window.addEventListener('mousemove', pointMousemove);\n                        const mouseupFn = () => __awaiter(this, void 0, void 0, function* () {\n                            container.attr('cursor', 'default');\n                            window.removeEventListener('mousemove', pointMousemove);\n                            container.removeEventListener('mouseup', mouseupFn);\n                            if (isUndefined(labelShape.attr('text')))\n                                return;\n                            const y = Number(labelShape.attr('text'));\n                            const colorType = getColorType(scaleColor, color);\n                            newState = yield updateView(title, y, colorType, [\n                                'line',\n                                'area',\n                            ]);\n                            labelShape.remove();\n                            pathShape.remove();\n                            createPoints(element);\n                        });\n                        container.addEventListener('mouseup', mouseupFn);\n                    });\n                    pointsGroup.appendChild(circle);\n                });\n                selectedPointsStyle(pointsGroup.childNodes, newSelection, pointDefaultStyle);\n            }\n            else if (markType === 'interval') {\n                // Column chart point.\n                let circlePoint = [(points[0][0] + points[1][0]) / 2, points[0][1]];\n                // Bar chart point.\n                if (isTranspose) {\n                    circlePoint = [points[0][0], (points[0][1] + points[1][1]) / 2];\n                }\n                else if (isTheta) {\n                    // Pie chart point.\n                    circlePoint = points[0];\n                }\n                const ratioTransform = getIntervalDataRatioTransformFn(element);\n                const circle = new Circle({\n                    name: MOVE_POINT_NAME,\n                    style: Object.assign(Object.assign({ cx: circlePoint[0], cy: circlePoint[1], fill }, pointDefaultStyle), { stroke: pointDefaultStyle['activeStroke'] }),\n                });\n                circle.addEventListener('mousedown', (e) => {\n                    container.attr('cursor', 'move');\n                    const colorType = getColorType(scaleColor, color);\n                    const [pathShape, labelShape] = createHelpShape(pointsGroup, circle, pathDefaultStyle, labelDefaultStyle);\n                    // Point move change text\n                    const pointMousemove = (e) => {\n                        if (isTranspose) {\n                            // Bar chart.\n                            const newCx = circlePoint[0] + e.clientX - downPoint[0];\n                            const [initX] = coordinate.output([\n                                scaleY.output(0),\n                                scaleY.output(0),\n                            ]);\n                            const [, x] = coordinate.invert([\n                                initX + (newCx - points[2][0]),\n                                circlePoint[1],\n                            ]);\n                            const newPath = getPointsPath([\n                                [newCx, points[0][1]],\n                                [newCx, points[1][1]],\n                                points[2],\n                                points[3],\n                            ], true);\n                            labelShape.attr('text', ratioTransform(scaleY.invert(x)).toFixed(precision));\n                            pathShape.attr('d', newPath);\n                            circle.attr('cx', newCx);\n                        }\n                        else if (isTheta) {\n                            // Pie chart.\n                            const newCy = circlePoint[1] + e.clientY - downPoint[1];\n                            const newCx = circlePoint[0] + e.clientX - downPoint[0];\n                            const [newXOut, newYOut] = getSamePointPosition(center, [newCx, newCy], circlePoint);\n                            const [newXIn, newYIn] = getSamePointPosition(center, [newCx, newCy], points[1]);\n                            const lastPercent = coordinate.invert([newXOut, newYOut])[1];\n                            const percent = y1 - lastPercent;\n                            if (percent < 0)\n                                return;\n                            const newPath = getThetaPath(center, [[newXOut, newYOut], [newXIn, newYIn], points[2], points[3]], percent > 0.5 ? 1 : 0);\n                            labelShape.attr('text', ratioTransform(percent, true).toFixed(precision));\n                            pathShape.attr('d', newPath);\n                            circle.attr('cx', newXOut);\n                            circle.attr('cy', newYOut);\n                        }\n                        else {\n                            // Column chart.\n                            const newCy = circlePoint[1] + e.clientY - downPoint[1];\n                            const [, initY] = coordinate.output([1, scaleY.output(0)]);\n                            const [, y] = coordinate.invert([\n                                circlePoint[0],\n                                initY - (points[2][1] - newCy),\n                            ]);\n                            const newPath = getPointsPath([\n                                [points[0][0], newCy],\n                                [points[1][0], newCy],\n                                points[2],\n                                points[3],\n                            ], true);\n                            labelShape.attr('text', ratioTransform(scaleY.invert(y)).toFixed(precision));\n                            pathShape.attr('d', newPath);\n                            circle.attr('cy', newCy);\n                        }\n                    };\n                    downPoint = [e.clientX, e.clientY];\n                    window.addEventListener('mousemove', pointMousemove);\n                    // Change mosueup change data and update 、clear shape.\n                    const mouseupFn = () => __awaiter(this, void 0, void 0, function* () {\n                        container.attr('cursor', 'default');\n                        container.removeEventListener('mouseup', mouseupFn);\n                        window.removeEventListener('mousemove', pointMousemove);\n                        if (isUndefined(labelShape.attr('text')))\n                            return;\n                        const y = Number(labelShape.attr('text'));\n                        newState = yield updateView(title, y, colorType, [markType]);\n                        labelShape.remove();\n                        pathShape.remove();\n                        createPoints(element);\n                    });\n                    container.addEventListener('mouseup', mouseupFn);\n                });\n                pointsGroup.appendChild(circle);\n            }\n        };\n        // Add EventListener.\n        elements.forEach((element, index) => {\n            if (newSelection[0] === index) {\n                createPoints(element);\n            }\n            element.addEventListener('click', elementClick);\n            element.addEventListener('mouseenter', elementMouseenter);\n            element.addEventListener('mouseleave', elementMouseleave);\n        });\n        const rootClick = (e) => {\n            const element = e === null || e === void 0 ? void 0 : e.target;\n            if (!element ||\n                (element.name !== MOVE_POINT_NAME && !elements.includes(element))) {\n                newSelection = [];\n                selectedChange();\n                pointsGroup.removeChildren();\n            }\n        };\n        emitter.on('element-point:select', elementSelect);\n        emitter.on('element-point:unselect', rootClick);\n        container.addEventListener('mousedown', rootClick);\n        // Remove EventListener.\n        return () => {\n            pointsGroup.remove();\n            emitter.off('element-point:select', elementSelect);\n            emitter.off('element-point:unselect', rootClick);\n            container.removeEventListener('mousedown', rootClick);\n            elements.forEach((element) => {\n                element.removeEventListener('click', elementClick);\n                element.removeEventListener('mouseenter', elementMouseenter);\n                element.removeEventListener('mouseleave', elementMouseleave);\n            });\n        };\n    };\n}\n//# sourceMappingURL=elementPointMove.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { mergeData } from './utils';\n/**\n * @todo Propagate more options to children.\n */\nexport const SpaceLayer = () => {\n    return (options) => {\n        const { children } = options;\n        if (!Array.isArray(children))\n            return [];\n        const { x: viewX = 0, y: viewY = 0, width: viewWidth, height: viewHeight, data: layerData, } = options;\n        return children.map((_a) => {\n            var { data, x, y, width, height } = _a, rest = __rest(_a, [\"data\", \"x\", \"y\", \"width\", \"height\"]);\n            return (Object.assign(Object.assign({}, rest), { data: mergeData(data, layerData), x: x !== null && x !== void 0 ? x : viewX, y: y !== null && y !== void 0 ? y : viewY, width: width !== null && width !== void 0 ? width : viewWidth, height: height !== null && height !== void 0 ? height : viewHeight }));\n        });\n    };\n};\nSpaceLayer.props = {};\n//# sourceMappingURL=spaceLayer.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { mergeData } from './utils';\n/**\n * @todo Propagate more options to children.\n */\nexport const SpaceFlex = () => {\n    return (options) => {\n        const { children } = options;\n        if (!Array.isArray(children))\n            return [];\n        const { direction = 'row', ratio = children.map(() => 1), padding = 0, data: flexData, } = options;\n        const [mainStart, mainSize, crossSize, crossStart] = direction === 'col'\n            ? ['y', 'height', 'width', 'x']\n            : ['x', 'width', 'height', 'y'];\n        const sum = ratio.reduce((total, value) => total + value);\n        const totalSize = options[mainSize] - padding * (children.length - 1);\n        const sizes = ratio.map((value) => totalSize * (value / sum));\n        const newChildren = [];\n        let next = options[mainStart] || 0;\n        for (let i = 0; i < sizes.length; i += 1) {\n            const _a = children[i], { data } = _a, rest = __rest(_a, [\"data\"]);\n            const newData = mergeData(data, flexData);\n            newChildren.push(Object.assign({ [mainStart]: next, [mainSize]: sizes[i], [crossStart]: options[crossStart] || 0, [crossSize]: options[crossSize], data: newData }, rest));\n            next += sizes[i] + padding;\n        }\n        return newChildren;\n    };\n};\nSpaceFlex.props = {};\n//# sourceMappingURL=spaceFlex.js.map","class Container {\n    constructor(x) {\n        this.$value = x;\n    }\n    static of(x) {\n        return new Container(x);\n    }\n    call(f, ...rest) {\n        return (this.$value = f(this.$value, ...rest)), this;\n    }\n    value() {\n        return this.$value;\n    }\n}\nexport { Container };\n//# sourceMappingURL=container.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { extent, group, max } from '@antv/vendor/d3-array';\nimport { calcBBox } from '../utils/vector';\nimport { Container } from '../utils/container';\nimport { indexOf } from '../utils/array';\nimport { useDefaultAdaptor, useOverrideAdaptor } from './utils';\nconst setScale = useDefaultAdaptor((options) => {\n    const { encode, data, scale, shareSize = false } = options;\n    const { x, y } = encode;\n    const flexDomain = (encode, channel) => {\n        var _a;\n        if (encode === undefined || !shareSize)\n            return {};\n        const groups = group(data, (d) => d[encode]);\n        const domain = ((_a = scale === null || scale === void 0 ? void 0 : scale[channel]) === null || _a === void 0 ? void 0 : _a.domain) || Array.from(groups.keys());\n        const flex = domain.map((key) => {\n            if (!groups.has(key))\n                return 1;\n            return groups.get(key).length;\n        });\n        return { domain, flex };\n    };\n    return {\n        scale: {\n            x: Object.assign(Object.assign({ paddingOuter: 0, paddingInner: 0.1, guide: x === undefined ? null : { position: 'top' } }, (x === undefined && { paddingInner: 0 })), flexDomain(x, 'x')),\n            y: Object.assign(Object.assign({ range: [0, 1], paddingOuter: 0, paddingInner: 0.1, guide: y === undefined ? null : { position: 'right' } }, (y === undefined && { paddingInner: 0 })), flexDomain(y, 'y')),\n        },\n    };\n});\n/**\n * BFS view tree and using the last discovered color encode\n * as the top-level encode for this plot. This is useful when\n * color encode and color scale is specified in mark node.\n * It makes sense because the whole facet should shared the same\n * color encoding, but it also can be override with explicity\n * encode and scale specification.\n */\nexport const inferColor = useOverrideAdaptor((options) => {\n    const { data, scale, legend } = options;\n    const discovered = [options];\n    let encodeColor;\n    let scaleColor;\n    let legendColor;\n    while (discovered.length) {\n        const node = discovered.shift();\n        const { children, encode = {}, scale = {}, legend = {} } = node;\n        const { color: c } = encode;\n        const { color: cs } = scale;\n        const { color: cl } = legend;\n        if (c !== undefined)\n            encodeColor = c;\n        if (cs !== undefined)\n            scaleColor = cs;\n        if (cl !== undefined)\n            legendColor = cl;\n        if (Array.isArray(children)) {\n            discovered.push(...children);\n        }\n    }\n    const domainColor = () => {\n        var _a;\n        const domain = (_a = scale === null || scale === void 0 ? void 0 : scale.color) === null || _a === void 0 ? void 0 : _a.domain;\n        if (domain !== undefined)\n            return [domain];\n        if (encodeColor === undefined)\n            return [undefined];\n        const color = typeof encodeColor === 'function' ? encodeColor : (d) => d[encodeColor];\n        const values = data.map(color);\n        if (values.some((d) => typeof d === 'number'))\n            return [extent(values)];\n        return [Array.from(new Set(values)), 'ordinal'];\n    };\n    const title = typeof encodeColor === 'string' ? encodeColor : '';\n    const [domain, type] = domainColor();\n    return Object.assign({ encode: { color: { type: 'column', value: domain !== null && domain !== void 0 ? domain : [] } }, scale: { color: deepMix({}, scaleColor, { domain, type }) } }, (legend === undefined && {\n        legend: { color: deepMix({ title }, legendColor) },\n    }));\n});\nexport const setAnimation = useDefaultAdaptor(() => ({\n    animate: {\n        enterType: 'fadeIn',\n    },\n}));\nexport const setStyle = useOverrideAdaptor(() => ({\n    frame: false,\n    encode: {\n        shape: 'hollow',\n    },\n    style: {\n        lineWidth: 0,\n    },\n}));\nexport const toCell = useOverrideAdaptor(() => ({\n    type: 'cell',\n}));\n/**\n * Do not set cell data directly, the children will get wrong do if do\n * so. Use transform to set new data.\n **/\nexport const setData = useOverrideAdaptor((options) => {\n    const { data } = options;\n    const connector = {\n        type: 'custom',\n        callback: () => {\n            const { data, encode } = options;\n            const { x, y } = encode;\n            const X = x ? Array.from(new Set(data.map((d) => d[x]))) : [];\n            const Y = y ? Array.from(new Set(data.map((d) => d[y]))) : [];\n            const cellData = () => {\n                if (X.length && Y.length) {\n                    const cellData = [];\n                    for (const vx of X) {\n                        for (const vy of Y) {\n                            cellData.push({ [x]: vx, [y]: vy });\n                        }\n                    }\n                    return cellData;\n                }\n                if (X.length)\n                    return X.map((d) => ({ [x]: d }));\n                if (Y.length)\n                    return Y.map((d) => ({ [y]: d }));\n            };\n            return cellData();\n        },\n    };\n    return {\n        data: { type: 'inline', value: data, transform: [connector] },\n    };\n});\n/**\n * @todo Move some options assignment to runtime.\n */\nexport const setChildren = useOverrideAdaptor((options, subLayout = subLayoutRect, createGuideX = createGuideXRect, createGuideY = createGuideYRect, childOptions = {}) => {\n    const { data: dataValue, encode, children, scale: facetScale, x: originX = 0, y: originY = 0, shareData = false, key: viewKey, } = options;\n    const { value: data } = dataValue;\n    // Only support field encode now.\n    const { x: encodeX, y: encodeY } = encode;\n    const { color: facetScaleColor } = facetScale;\n    const { domain: facetDomainColor } = facetScaleColor;\n    const createChildren = (visualData, scale, layout) => {\n        const { x: scaleX, y: scaleY } = scale;\n        const { paddingLeft, paddingTop, marginLeft, marginTop } = layout;\n        const { domain: domainX } = scaleX.getOptions();\n        const { domain: domainY } = scaleY.getOptions();\n        const index = indexOf(visualData);\n        const bboxs = visualData.map(subLayout);\n        const values = visualData.map(({ x, y }) => [\n            scaleX.invert(x),\n            scaleY.invert(y),\n        ]);\n        const filters = values.map(([fx, fy]) => (d) => {\n            const { [encodeX]: x, [encodeY]: y } = d;\n            const inX = encodeX !== undefined ? x === fx : true;\n            const inY = encodeY !== undefined ? y === fy : true;\n            return inX && inY;\n        });\n        const facetData2d = filters.map((f) => data.filter(f));\n        const maxDataDomain = shareData\n            ? max(facetData2d, (data) => data.length)\n            : undefined;\n        const facets = values.map(([fx, fy]) => ({\n            columnField: encodeX,\n            columnIndex: domainX.indexOf(fx),\n            columnValue: fx,\n            columnValuesLength: domainX.length,\n            rowField: encodeY,\n            rowIndex: domainY.indexOf(fy),\n            rowValue: fy,\n            rowValuesLength: domainY.length,\n        }));\n        const normalizedChildren = facets.map((facet) => {\n            if (Array.isArray(children))\n                return children;\n            return [children(facet)].flat(1);\n        });\n        return index.flatMap((i) => {\n            const [left, top, width, height] = bboxs[i];\n            const facet = facets[i];\n            const facetData = facetData2d[i];\n            const children = normalizedChildren[i];\n            return children.map((_a) => {\n                var _b, _c;\n                var { scale, key, facet: isFacet = true, axis = {}, legend = {} } = _a, rest = __rest(_a, [\"scale\", \"key\", \"facet\", \"axis\", \"legend\"]);\n                const guideY = ((_b = scale === null || scale === void 0 ? void 0 : scale.y) === null || _b === void 0 ? void 0 : _b.guide) || axis.y;\n                const guideX = ((_c = scale === null || scale === void 0 ? void 0 : scale.x) === null || _c === void 0 ? void 0 : _c.guide) || axis.x;\n                const defaultScale = {\n                    x: { tickCount: encodeX ? 5 : undefined },\n                    y: { tickCount: encodeY ? 5 : undefined },\n                };\n                const newData = isFacet\n                    ? facetData\n                    : facetData.length === 0\n                        ? []\n                        : data;\n                const newScale = {\n                    color: { domain: facetDomainColor },\n                };\n                const newAxis = {\n                    x: createGuide(guideX, createGuideX)(facet, newData),\n                    y: createGuide(guideY, createGuideY)(facet, newData),\n                };\n                return Object.assign(Object.assign({ key: `${key}-${i}`, data: newData, margin: 0, x: left + paddingLeft + originX + marginLeft, y: top + paddingTop + originY + marginTop, parentKey: viewKey, width,\n                    height, paddingLeft: 0, paddingRight: 0, paddingTop: 0, paddingBottom: 0, frame: newData.length ? true : false, dataDomain: maxDataDomain, scale: deepMix(defaultScale, scale, newScale), axis: deepMix({}, axis, newAxis), \n                    // Hide all legends for child mark by default,\n                    // they are displayed in the top-level.\n                    legend: false }, rest), childOptions);\n            });\n        });\n    };\n    return {\n        children: createChildren,\n    };\n});\nfunction subLayoutRect(data) {\n    const { points } = data;\n    return calcBBox(points);\n}\n/**\n * Inner guide not show title, tickLine, label and subTickLine,\n * if data is empty, do not show guide.\n */\nexport function createInnerGuide(guide, data) {\n    return data.length\n        ? deepMix({\n            title: false,\n            tick: null,\n            label: null,\n        }, guide)\n        : deepMix({\n            title: false,\n            tick: null,\n            label: null,\n            grid: null,\n        }, guide);\n}\nfunction createGuideXRect(guide) {\n    return (facet, data) => {\n        const { rowIndex, rowValuesLength, columnIndex, columnValuesLength } = facet;\n        // Only the bottom-most facet show axisX.\n        if (rowIndex !== rowValuesLength - 1)\n            return createInnerGuide(guide, data);\n        // Only the bottom-left facet show title.\n        const title = columnIndex !== columnValuesLength - 1 ? false : undefined;\n        // If data is empty, do not show cell.\n        const grid = data.length ? undefined : null;\n        return deepMix({ title, grid }, guide);\n    };\n}\nfunction createGuideYRect(guide) {\n    return (facet, data) => {\n        const { rowIndex, columnIndex } = facet;\n        // Only the left-most facet show axisY.\n        if (columnIndex !== 0)\n            return createInnerGuide(guide, data);\n        // Only the left-top facet show title.\n        const title = rowIndex !== 0 ? false : undefined;\n        // If data is empty, do not show cell.\n        const grid = data.length ? undefined : null;\n        return deepMix({ title, grid }, guide);\n    };\n}\nfunction createGuide(guide, factory) {\n    if (typeof guide === 'function')\n        return guide;\n    if (guide === null || guide === false)\n        return () => null;\n    return factory(guide);\n}\nexport const FacetRect = () => {\n    return (options) => {\n        const newOptions = Container.of(options)\n            .call(toCell)\n            .call(inferColor)\n            .call(setAnimation)\n            .call(setScale)\n            .call(setStyle)\n            .call(setData)\n            .call(setChildren)\n            .value();\n        return [newOptions];\n    };\n};\nFacetRect.props = {};\n//# sourceMappingURL=facetRect.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { Container } from '../utils/container';\nimport { calcBBox } from '../utils/vector';\nimport { indexOf } from '../utils/array';\nimport { createInnerGuide, inferColor, setAnimation, setStyle, toCell, } from './facetRect';\nimport { useDefaultAdaptor, useOverrideAdaptor } from './utils';\nconst setScale = useDefaultAdaptor((options) => {\n    return {\n        scale: {\n            x: { guide: null, paddingOuter: 0, paddingInner: 0.1 },\n            y: { guide: null, range: [0, 1], paddingOuter: 0, paddingInner: 0.1 },\n        },\n    };\n});\nconst setChildren = useOverrideAdaptor((options) => {\n    const { data, children, x: originX = 0, y: originY = 0, key: viewKey, } = options;\n    const createChildren = (visualData, scale, layout) => {\n        const { x: scaleX, y: scaleY } = scale;\n        const { paddingLeft, paddingTop, marginLeft, marginTop } = layout;\n        const { domain: domainX } = scaleX.getOptions();\n        const { domain: domainY } = scaleY.getOptions();\n        const index = indexOf(visualData);\n        const bboxs = visualData.map(({ points }) => calcBBox(points));\n        const values = visualData.map(({ x, y }) => [\n            scaleX.invert(x),\n            scaleY.invert(y),\n        ]);\n        const facets = values.map(([fx, fy]) => ({\n            columnField: fx,\n            columnIndex: domainX.indexOf(fx),\n            columnValue: fx,\n            columnValuesLength: domainX.length,\n            rowField: fy,\n            rowIndex: domainY.indexOf(fy),\n            rowValue: fy,\n            rowValuesLength: domainY.length,\n        }));\n        const normalizedChildren = facets.map((facet) => {\n            if (Array.isArray(children))\n                return children;\n            return [children(facet)].flat(1);\n        });\n        return index.flatMap((i) => {\n            const [left, top, width, height] = bboxs[i];\n            const [fx, fy] = values[i];\n            const facet = facets[i];\n            const children = normalizedChildren[i];\n            return children.map((d) => {\n                var _a, _b;\n                const { scale, key, encode, axis, interaction } = d, rest = __rest(d, [\"scale\", \"key\", \"encode\", \"axis\", \"interaction\"]);\n                const guideY = (_a = scale === null || scale === void 0 ? void 0 : scale.y) === null || _a === void 0 ? void 0 : _a.guide;\n                const guideX = (_b = scale === null || scale === void 0 ? void 0 : scale.x) === null || _b === void 0 ? void 0 : _b.guide;\n                const defaultScale = {\n                    // Do not sync position scales among facets by default.\n                    x: { facet: false },\n                    // Do not sync position scales among facets by default.\n                    y: { facet: false },\n                };\n                const newAxis = {\n                    x: createGuideX(guideX)(facet, data),\n                    y: createGuideY(guideY)(facet, data),\n                };\n                const defaultAxis = {\n                    x: { tickCount: 5 },\n                    y: { tickCount: 5 },\n                };\n                return Object.assign({ data, parentKey: viewKey, key: `${key}-${i}`, x: left + paddingLeft + originX + marginLeft, y: top + paddingTop + originY + marginTop, width,\n                    height, margin: 0, paddingLeft: 0, paddingRight: 0, paddingTop: 0, paddingBottom: 0, frame: true, scale: deepMix(defaultScale, scale), axis: deepMix(defaultAxis, axis, newAxis), \n                    // Hide all legends for child mark by default,\n                    // they are displayed in the top-level.\n                    legend: false, encode: deepMix({}, encode, {\n                        x: fx,\n                        y: fy,\n                    }), interaction: deepMix({}, interaction, {\n                        // Register this interaction in parent node.\n                        legendFilter: false,\n                    }) }, rest);\n            });\n        });\n    };\n    return {\n        children: createChildren,\n    };\n});\n/**\n * @todo Use transform instead of override data directly.\n */\nconst setData = useOverrideAdaptor((options) => {\n    const { encode } = options, rest = __rest(options, [\"encode\"]);\n    const { position: P = [], x: X = P, y: Y = [...P].reverse() } = encode, restEncode = __rest(encode, [\"position\", \"x\", \"y\"]);\n    const data = [];\n    for (const $x of [X].flat(1)) {\n        for (const $y of [Y].flat(1)) {\n            data.push({ $x, $y });\n        }\n    }\n    return Object.assign(Object.assign({}, rest), { data, encode: Object.assign(Object.assign({}, restEncode), { x: '$x', y: '$y' }), scale: Object.assign(Object.assign({}, ([X].flat(1).length === 1 && { x: { paddingInner: 0 } })), ([Y].flat(1).length === 1 && { y: { paddingInner: 0 } })) });\n});\nfunction createGuideX(guideX) {\n    if (typeof guideX === 'function')\n        return guideX;\n    if (guideX === null)\n        return () => null;\n    return (facet, data) => {\n        const { rowIndex, rowValuesLength } = facet;\n        // Only the bottom-most facet show axisX.\n        if (rowIndex !== rowValuesLength - 1)\n            return createInnerGuide(guideX, data);\n    };\n}\nfunction createGuideY(guideY) {\n    if (typeof guideY === 'function')\n        return guideY;\n    if (guideY === null)\n        return () => null;\n    return (facet, data) => {\n        const { columnIndex } = facet;\n        // Only the left-most facet show axisY.\n        if (columnIndex !== 0)\n            return createInnerGuide(guideY, data);\n    };\n}\n/**\n * @todo Layout mode: layer, row, col...\n * @todo Specify show axis or not.\n */\nexport const RepeatMatrix = () => {\n    return (options) => {\n        const newOptions = Container.of(options)\n            .call(toCell)\n            .call(inferColor)\n            .call(setChildren)\n            .call(setData)\n            .call(setAnimation)\n            .call(setStyle)\n            .call(setScale)\n            .value();\n        return [newOptions];\n    };\n};\n//# sourceMappingURL=repeatMatrix.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Container } from '../utils/container';\nimport { angleWithQuadrant, angleBetween, dist, sub } from '../utils/vector';\nimport { inferColor, setAnimation, setStyle, toCell, setChildren, setData, } from './facetRect';\nimport { useDefaultAdaptor } from './utils';\nconst setScale = useDefaultAdaptor((options) => {\n    return {\n        scale: {\n            x: { guide: { type: 'axisArc' }, paddingOuter: 0, paddingInner: 0.1 },\n            y: { guide: null, range: [0, 1], paddingOuter: 0, paddingInner: 0.1 },\n        },\n    };\n});\nconst setCoordinate = useDefaultAdaptor((options) => {\n    return {\n        coordinate: { type: 'polar' },\n    };\n});\nconst setEncode = (options) => {\n    const { encode } = options, rest = __rest(options, [\"encode\"]);\n    const { position } = encode;\n    return Object.assign(Object.assign({}, rest), { encode: { x: position } });\n};\n/**\n * Every facet should do not show both axisX and axisY by default.\n */\nfunction createGuideFacetCircle(guide) {\n    return (facet) => null;\n}\n/**\n * Use the inscribed circle of the sector as the\n * circumscribed circle of the new bbox.\n */\nfunction subLayoutFacetCircle(data) {\n    const { points } = data;\n    const [p0, p1, p2, p3] = points;\n    const sr = dist(p0, p3); // radius of sector\n    const v0 = sub(p0, p3);\n    const v1 = sub(p1, p2);\n    const a01 = angleBetween(v0, v1);\n    // sr = ir + ir / sin(theta/2)\n    const t = 1 / Math.sin(a01 / 2);\n    const ir = sr / (1 + t); // radius of inscribed circle\n    const s = ir * Math.sqrt(2); // size of the bbox.\n    // This assume the innerRadius of polar is 0.\n    // @todo Compute the right origin if it's not 0,\n    // or maybe pass the coordinates to get the right center.\n    const [x0, y0] = p2;\n    const a0 = angleWithQuadrant(v0);\n    const a3 = a0 + a01 / 2;\n    const d = ir * t;\n    const cx = x0 + d * Math.sin(a3); // center x of inscribed circle\n    const cy = y0 - d * Math.cos(a3); // center y of inscribed circle\n    return [cx - s / 2, cy - s / 2, s, s];\n}\n/**\n * @todo Pack.\n */\nexport const FacetCircle = () => {\n    return (options) => {\n        const newOptions = Container.of(options)\n            .call(toCell)\n            .call(setEncode)\n            .call(inferColor)\n            .call(setCoordinate)\n            .call(setData)\n            .call(setChildren, subLayoutFacetCircle, createGuideFacetCircle, createGuideFacetCircle, { frame: false })\n            .call(setAnimation)\n            .call(setStyle)\n            .call(setScale)\n            .value();\n        return [newOptions];\n    };\n};\n//# sourceMappingURL=facetCircle.js.map","import { deepMix } from '@antv/util';\nfunction range(direction, iterationCount, keyframeCount) {\n    const start = 0;\n    const end = keyframeCount;\n    const normal = [start, end];\n    const reverse = [-end + 1, -start + 1];\n    if (direction === 'normal')\n        return normal;\n    if (direction === 'reverse')\n        return reverse;\n    if (direction === 'alternate') {\n        return iterationCount % 2 === 0 ? normal : reverse;\n    }\n    if (direction === 'reverse-alternate') {\n        return iterationCount % 2 === 0 ? reverse : normal;\n    }\n}\n/**\n * Set animation options for all descendants.\n */\nfunction setAnimation(node, duration, easing) {\n    const discovered = [node];\n    while (discovered.length) {\n        const n = discovered.pop();\n        n.animate = deepMix({\n            enter: {\n                duration,\n            },\n            update: {\n                duration,\n                easing,\n                type: 'morphing',\n                fill: 'both',\n            },\n            exit: {\n                type: 'fadeOut',\n                duration,\n            },\n        }, n.animate || {});\n        const { children } = n;\n        if (Array.isArray(children))\n            discovered.push(...children);\n    }\n    return node;\n}\n/**\n * @todo More options, such as fill, totalDuration...\n */\nexport const TimingKeyframe = () => {\n    return (options) => {\n        const { children = [], duration = 1000, iterationCount = 1, direction = 'normal', easing = 'ease-in-out-sine', } = options;\n        const n = children.length;\n        if (!Array.isArray(children) || n === 0)\n            return [];\n        const { key } = children[0];\n        const newChildren = children\n            .map((d) => (Object.assign(Object.assign({}, d), { key })))\n            .map((d) => setAnimation(d, duration, easing));\n        return function* () {\n            let count = 0;\n            let prevIndex;\n            while (iterationCount === 'infinite' || count < iterationCount) {\n                const [start, end] = range(direction, count, n);\n                for (let i = start; i < end; i += 1) {\n                    // For reverse direction, the range is from negative to negative\n                    // so the absolute value of i is the real index for newChildren.\n                    const index = Math.abs(i);\n                    // This is for preventing alternate or reverse-alternate keyframe\n                    // to yield two same node one by one when the direction change.\n                    if (prevIndex !== index)\n                        yield newChildren[index];\n                    prevIndex = index;\n                }\n                count++;\n            }\n        };\n    };\n};\nTimingKeyframe.props = {};\n//# sourceMappingURL=timingKeyframe.js.map","import { group, ascending, maxIndex } from '@antv/vendor/d3-array';\nimport { defined } from '../../utils/helper';\nimport { indexOf } from '../../utils/array';\nimport { columnOf } from './helper';\nexport function createGroups(groupBy, I, mark) {\n    const { encode } = mark;\n    if (groupBy === null)\n        return [I];\n    const G = normalizeGroupBy(groupBy)\n        .map((k) => { var _a; return [k, (_a = columnOf(encode, k)) === null || _a === void 0 ? void 0 : _a[0]]; })\n        .filter(([, column]) => defined(column));\n    const key = (i) => G.map(([, V]) => V[i]).join('-');\n    return Array.from(group(I, key).values());\n}\nexport function normalizeComparator(order) {\n    if (Array.isArray(order))\n        return createFieldsOrder(order);\n    if (typeof order === 'function')\n        return createFunctionOrder(order);\n    if (order === 'series')\n        return createSeriesOrder;\n    if (order === 'value')\n        return createValueOrder;\n    if (order === 'sum')\n        return createSumOrder;\n    if (order === 'maxIndex')\n        return createMaxIndexOrder;\n    return null;\n}\nexport function applyOrder(groups, comparator) {\n    for (const group of groups) {\n        group.sort(comparator);\n    }\n}\nexport function domainOf(value, scale) {\n    return (scale === null || scale === void 0 ? void 0 : scale.domain) || Array.from(new Set(value));\n}\nfunction normalizeGroupBy(groupBy) {\n    if (Array.isArray(groupBy))\n        return groupBy;\n    return [groupBy];\n}\nfunction createSeriesOrder(data, Y, S) {\n    return ascendingComparator((i) => S[i]);\n}\nfunction createFunctionOrder(order) {\n    return (data, Y, S) => {\n        return ascendingComparator((i) => order(data[i]));\n    };\n}\nfunction createFieldsOrder(order) {\n    return (data, Y, S) => {\n        return (i, j) => order.reduce((eq, f) => (eq !== 0 ? eq : ascending(data[i][f], data[j][f])), 0);\n    };\n}\nfunction createValueOrder(data, Y, S) {\n    return ascendingComparator((i) => Y[i]);\n}\nfunction createSumOrder(data, Y, S) {\n    const I = indexOf(data);\n    const groups = Array.from(group(I, (i) => S[+i]).entries());\n    const seriesSum = new Map(groups.map(([k, GI]) => [k, GI.reduce((s, i) => s + +Y[i])]));\n    return ascendingComparator((i) => seriesSum.get(S[i]));\n}\nfunction createMaxIndexOrder(data, Y, S) {\n    const I = indexOf(data);\n    const groups = Array.from(group(I, (i) => S[+i]).entries());\n    const seriesMaxIndex = new Map(groups.map(([k, GI]) => [k, maxIndex(GI, (i) => Y[i])]));\n    return ascendingComparator((i) => seriesMaxIndex.get(S[i]));\n}\nfunction ascendingComparator(order) {\n    return (i, j) => ascending(order(i), order(j));\n}\n//# sourceMappingURL=order.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf, inferredColumn, maybeColumnOf, } from './utils/helper';\nimport { normalizeComparator, createGroups, applyOrder } from './utils/order';\n/**\n * The stack transform group marks into series by color channel,\n * and then produce new y channel for each series by specified order,\n * say to form vertical \"stacks\" by specified channels.\n */\nexport const StackY = (options = {}) => {\n    const { groupBy = 'x', orderBy = null, reverse = false, y: fromY = 'y', y1: fromY1 = 'y1', series = true, } = options;\n    return (I, mark) => {\n        var _a;\n        const { data, encode, style = {} } = mark;\n        const [Y, fy] = columnOf(encode, 'y');\n        const [Y1, fy1] = columnOf(encode, 'y1');\n        const [S] = series\n            ? maybeColumnOf(encode, 'series', 'color')\n            : columnOf(encode, 'color');\n        // Create groups and apply specified order for each group.\n        const groups = createGroups(groupBy, I, mark);\n        const createComparator = (_a = normalizeComparator(orderBy)) !== null && _a !== void 0 ? _a : (() => null);\n        const comparator = createComparator(data, Y, S);\n        if (comparator)\n            applyOrder(groups, comparator);\n        // Stack y channels to produce new y and y1 channel.\n        const newY = new Array(I.length);\n        const newY1 = new Array(I.length);\n        const TY = new Array(I.length);\n        const F = [];\n        const L = [];\n        for (const G of groups) {\n            if (reverse)\n                G.reverse();\n            // For range interval with specified y and y1.\n            const start = Y1 ? +Y1[G[0]] : 0;\n            // Split positive indices of Y and negative Y.\n            const PG = [];\n            const NG = [];\n            for (const i of G) {\n                const y = (TY[i] = +Y[i] - start);\n                if (y < 0)\n                    NG.push(i);\n                else if (y >= 0)\n                    PG.push(i);\n            }\n            // Store the first and last layer.\n            const FG = PG.length > 0 ? PG : NG;\n            const LG = NG.length > 0 ? NG : PG;\n            let i = PG.length - 1;\n            let j = 0;\n            // Find the last non-zero index.\n            while (i > 0 && Y[FG[i]] === 0)\n                i--;\n            // Find the first non-zero index.\n            while (j < LG.length - 1 && Y[LG[j]] === 0)\n                j++;\n            F.push(FG[i]);\n            L.push(LG[j]);\n            // Stack negative y in reverse order.\n            let ny = start;\n            for (const i of NG.reverse()) {\n                const y = TY[i];\n                ny = newY[i] = (newY1[i] = ny) + y;\n            }\n            // Stack positive y in input order.\n            let py = start;\n            for (const i of PG) {\n                const y = TY[i];\n                if (y > 0)\n                    py = newY[i] = (newY1[i] = py) + y;\n                else\n                    newY[i] = newY1[i] = py;\n            }\n        }\n        // Only set top radius for the first layer,\n        // and set bottom radius for the last layer.\n        const FS = new Set(F);\n        const LS = new Set(L);\n        // Choose new y or y1 channel as the new y channel.\n        const V = fromY === 'y' ? newY : newY1;\n        const V1 = fromY1 === 'y' ? newY : newY1;\n        let newEncode;\n        // mark point will compute the actural Y = (y + y1) / 2 if y1 exists\n        if (mark.type === 'point') {\n            newEncode = {\n                y0: inferredColumn(Y, fy),\n                y: column(V, fy),\n            };\n        }\n        else {\n            newEncode = {\n                y0: inferredColumn(Y, fy),\n                y: column(V, fy),\n                y1: column(V1, fy1),\n            };\n        }\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: Object.assign({}, newEncode),\n                style: Object.assign({ first: (_, i) => FS.has(i), last: (_, i) => LS.has(i) }, style),\n            }),\n        ];\n    };\n};\nStackY.props = {};\n//# sourceMappingURL=stackY.js.map","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function constant(x) {\n  return () => x;\n}\n","import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.max(1, Math.ceil(Math.log(count(values)) / Math.LN2) + 1);\n}\n","import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function bin() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        step,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the domain is aligned with the first tick (which it will by\n      // default), then we can use quantization rather than bisection to bin\n      // values, which is substantially faster.\n      if (tz[0] <= x0) step = tickIncrement(x0, x1, tn);\n\n      // If the last threshold is coincident with the domain’s upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we don’t\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    // Be careful not to mutate an array owned by the user!\n    var m = tz.length, a = 0, b = m;\n    while (tz[a] <= x0) ++a;\n    while (tz[b - 1] > x1) --b;\n    if (a || b < m) tz = tz.slice(a, b), m = b - a;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    if (isFinite(step)) {\n      if (step > 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            bins[Math.min(m, Math.floor((x - x0) / step))].push(data[i]);\n          }\n        }\n      } else if (step < 0) {\n        for (i = 0; i < n; ++i) {\n          if ((x = values[i]) != null && x0 <= x && x <= x1) {\n            const j = Math.floor((x0 - x) * step);\n            bins[Math.min(m, j + (tz[j] <= x))].push(data[i]); // handle off-by-one due to rounding\n          }\n        }\n      }\n    } else {\n      for (i = 0; i < n; ++i) {\n        if ((x = values[i]) != null && x0 <= x && x <= x1) {\n          bins[bisect(tz, x, 0, m)].push(data[i]);\n        }\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : constant(Array.isArray(_) ? slice.call(_) : _), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n","import quantile, {quantileIndex} from \"./quantile.js\";\n\nexport default function median(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n\nexport function medianIndex(values, valueof) {\n  return quantileIndex(values, 0.5, valueof);\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { max as d3Max, mean as d3Mean, sum as d3Sum, min as d3Min, median as d3Median, } from '@antv/vendor/d3-array';\nimport { indexOf } from '../utils/array';\nimport { columnOf, column, nonConstantColumn } from './utils/helper';\nfunction builtinFormatter(summary) {\n    return (d) => (d === null ? summary : `${summary} of ${d}`);\n}\nfunction normalizeReducer(reducer) {\n    if (typeof reducer === 'function')\n        return [reducer, null];\n    const registry = { mean, max, count, first, last, sum, min, median };\n    const reducerFunction = registry[reducer];\n    if (!reducerFunction)\n        throw new Error(`Unknown reducer: ${reducer}.`);\n    return reducerFunction();\n}\nfunction mean() {\n    const reducer = (I, V) => d3Mean(I, (i) => +V[i]);\n    const formatter = builtinFormatter('mean');\n    return [reducer, formatter];\n}\nfunction median() {\n    const reducer = (I, V) => d3Median(I, (i) => +V[i]);\n    const formatter = builtinFormatter('median');\n    return [reducer, formatter];\n}\nfunction max() {\n    const reducer = (I, V) => d3Max(I, (i) => +V[i]);\n    const formatter = builtinFormatter('max');\n    return [reducer, formatter];\n}\nfunction min() {\n    const reducer = (I, V) => d3Min(I, (i) => +V[i]);\n    const formatter = builtinFormatter('min');\n    return [reducer, formatter];\n}\nfunction count() {\n    const reducer = (I, V) => I.length;\n    const formatter = builtinFormatter('count');\n    return [reducer, formatter];\n}\nfunction sum() {\n    const reducer = (I, V) => d3Sum(I, (i) => +V[i]);\n    const formatter = builtinFormatter('sum');\n    return [reducer, formatter];\n}\nfunction first() {\n    const reducer = (I, V) => V[I[0]];\n    const formatter = builtinFormatter('first');\n    return [reducer, formatter];\n}\nfunction last() {\n    const reducer = (I, V) => V[I[I.length - 1]];\n    const formatter = builtinFormatter('last');\n    return [reducer, formatter];\n}\n/**\n * The Group transform group data by x and y channels, and aggregate.\n */\nexport const GroupN = (options = {}) => {\n    const { groupBy } = options, rest = __rest(options, [\"groupBy\"]);\n    return (I, mark) => {\n        const { data, encode } = mark;\n        const groups = groupBy(I, mark);\n        if (!groups)\n            return [I, mark];\n        // Extract field from from channel\n        // x1 from x, y1 from y, etc,.\n        const maybeFrom = (field, reducer) => {\n            if (field)\n                return field;\n            const { from } = reducer;\n            if (!from)\n                return field;\n            const [, field1] = columnOf(encode, from);\n            return field1;\n        };\n        const outputs = Object.entries(rest).map(([channel, reducer]) => {\n            const [reducerFunction, formatter] = normalizeReducer(reducer);\n            const [V, field] = columnOf(encode, channel);\n            const field1 = maybeFrom(field, reducer);\n            const RV = groups.map((I) => reducerFunction(I, V !== null && V !== void 0 ? V : data));\n            return [\n                channel,\n                Object.assign(Object.assign({}, nonConstantColumn(RV, (formatter === null || formatter === void 0 ? void 0 : formatter(field1)) || field1)), { aggregate: true }),\n            ];\n        });\n        const reducedColumns = Object.keys(encode).map((key) => {\n            const [V, fv] = columnOf(encode, key);\n            const GV = groups.map((I) => V[I[0]]);\n            return [key, column(GV, fv)];\n        });\n        const GD = groups.map((I) => data[I[0]]);\n        const GI = indexOf(groups);\n        return [\n            GI,\n            deepMix({}, mark, {\n                data: GD,\n                encode: Object.fromEntries([...reducedColumns, ...outputs]),\n            }),\n        ];\n    };\n};\nGroupN.props = {};\n//# sourceMappingURL=groupN.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { bin as d3Bin, group, thresholdScott, extent, } from '@antv/vendor/d3-array';\nimport { defined, subObject } from '../utils/helper';\nimport { GroupN } from './groupN';\nimport { columnOf } from './utils/helper';\nconst THRESHOLD = 'thresholds';\n/**\n * @see https://github.com/observablehq/plot/blob/main/src/transforms/bin.js\n */\nfunction thresholdAuto(values) {\n    const [min, max] = extent(values);\n    return Math.min(200, thresholdScott(values, min, max));\n}\n/**\n * The Bin aggregate data.\n * @todo More threshold method.\n * @todo Performance.\n */\nexport const Bin = (options = {}) => {\n    const { groupChannels = ['color'], binChannels = ['x', 'y'] } = options, rest = __rest(options, [\"groupChannels\", \"binChannels\"]);\n    const channelIndexKey = {};\n    // Group indexes and update channelIndexKey.\n    const groupBy = (I, mark) => {\n        const { encode } = mark;\n        const binValues = binChannels.map((channel) => {\n            const [V] = columnOf(encode, channel);\n            return V;\n        });\n        const thresholds = subObject(rest, THRESHOLD);\n        const DI = I.filter((i) => binValues.every((V) => defined(V[i])));\n        // Group indexes by both discrete and quantitative channels.\n        const groupKeys = [\n            // For discrete channels, use value as group key.\n            ...groupChannels\n                .map((d) => {\n                const [V] = columnOf(encode, d);\n                return V;\n            })\n                .filter(defined)\n                .map((V) => (i) => V[i]),\n            // For quantitative channels, use extent of bin as group key.\n            ...binChannels.map((d, i) => {\n                const V = binValues[i];\n                const t = thresholds[d] || thresholdAuto(V);\n                const bins = d3Bin()\n                    .thresholds(t)\n                    .value((i) => +V[i])(DI);\n                const indexKey = new Map(bins.flatMap((bin) => {\n                    const { x0, x1 } = bin;\n                    const key = `${x0},${x1}`;\n                    return bin.map((i) => [i, key]);\n                }));\n                channelIndexKey[d] = indexKey;\n                return (i) => indexKey.get(i);\n            }),\n        ];\n        // Group by indexes by channel keys.\n        const key = (i) => groupKeys.map((key) => key(i)).join('-');\n        return Array.from(group(DI, key).values());\n    };\n    return GroupN(Object.assign(Object.assign(Object.assign({}, Object.fromEntries(Object.entries(rest).filter(([k]) => !k.startsWith(THRESHOLD)))), Object.fromEntries(binChannels.flatMap((channel) => {\n        const start = ([i]) => +channelIndexKey[channel].get(i).split(',')[0];\n        const end = ([i]) => +channelIndexKey[channel].get(i).split(',')[1];\n        end.from = channel;\n        return [\n            [channel, start],\n            [`${channel}1`, end],\n        ];\n    }))), { groupBy }));\n};\nBin.props = {};\n//# sourceMappingURL=bin.js.map","import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function thresholdScott(values, min, max) {\n  const c = count(values), d = deviation(values);\n  return c && d ? Math.ceil((max - min) * Math.cbrt(c) / (3.49 * d)) : 1;\n}\n","import { Bin } from './bin';\nexport const BinX = (options = {}) => {\n    const { thresholds } = options;\n    return Bin(Object.assign(Object.assign({}, options), { thresholdsX: thresholds, groupChannels: ['color'], binChannels: ['x'] }));\n};\nBinX.props = {};\n//# sourceMappingURL=binX.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { column, columnOf, maybeColumnOf } from './utils/helper';\nimport { createGroups, normalizeComparator, applyOrder, domainOf, } from './utils/order';\n/**\n * The dodge group marks into series by color or series channel,\n * and then produce new series channel for each series by specified order,\n * say to form horizontal \"columns\" by specified channels.\n */\nexport const DodgeX = (options = {}) => {\n    const { groupBy = 'x', reverse = false, orderBy, padding } = options, rest = __rest(options, [\"groupBy\", \"reverse\", \"orderBy\", \"padding\"]);\n    return (I, mark) => {\n        const { data, encode, scale } = mark;\n        const { series: scaleSeries } = scale;\n        const [Y] = columnOf(encode, 'y');\n        const [S] = maybeColumnOf(encode, 'series', 'color');\n        const domainSeries = domainOf(S, scaleSeries);\n        const newMark = deepMix({}, mark, {\n            scale: {\n                series: {\n                    domain: domainSeries,\n                    paddingInner: padding,\n                },\n            },\n        });\n        // Create groups and apply specified order for each group.\n        const groups = createGroups(groupBy, I, mark);\n        const createComparator = normalizeComparator(orderBy);\n        if (!createComparator) {\n            return [I, deepMix(newMark, { encode: { series: column(S) } })];\n        }\n        // Sort and Update series for each mark related to series domain.\n        const comparator = createComparator(data, Y, S);\n        if (comparator)\n            applyOrder(groups, comparator);\n        const newS = new Array(I.length);\n        for (const G of groups) {\n            if (reverse)\n                G.reverse();\n            for (let i = 0; i < G.length; i++) {\n                newS[G[i]] = domainSeries[i];\n            }\n        }\n        return [\n            I,\n            deepMix(newMark, {\n                encode: {\n                    series: column(orderBy ? newS : S),\n                },\n            }),\n        ];\n    };\n};\nDodgeX.props = {};\n//# sourceMappingURL=dodgeX.js.map","import { Band } from '@antv/scale';\nimport { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\nimport { domainOf } from './utils/order';\nexport function rangeOf(value, scaleOptions, padding) {\n    if (value === null)\n        return [-0.5, 0.5];\n    const domain = domainOf(value, scaleOptions);\n    const scale = new Band({ domain, range: [0, 1], padding });\n    const step = scale.getBandWidth();\n    return [-step / 2, step / 2];\n}\nexport function interpolate(t, a, b) {\n    return a * (1 - t) + b * t;\n}\n/**\n * The jitter transform produce dx and dy channels for marks (especially for point)\n * with ordinal x and y dimension, say to make them jitter in their own space.\n */\nexport const Jitter = (options = {}) => {\n    const { padding = 0, paddingX = padding, paddingY = padding, random = Math.random, } = options;\n    return (I, mark) => {\n        const { encode, scale } = mark;\n        const { x: scaleX, y: scaleY } = scale;\n        const [X] = columnOf(encode, 'x');\n        const [Y] = columnOf(encode, 'y');\n        const rangeX = rangeOf(X, scaleX, paddingX);\n        const rangeY = rangeOf(Y, scaleY, paddingY);\n        const DY = I.map(() => interpolate(random(), ...rangeY));\n        const DX = I.map(() => interpolate(random(), ...rangeX));\n        return [\n            I,\n            deepMix({\n                scale: {\n                    x: { padding: 0.5 },\n                    y: { padding: 0.5 },\n                },\n            }, mark, {\n                encode: { dy: column(DY), dx: column(DX) },\n            }),\n        ];\n    };\n};\nJitter.props = {};\n//# sourceMappingURL=jitter.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\nimport { rangeOf, interpolate } from './jitter';\n/**\n * The JitterX transform produce dy channels for marks (especially for point)\n * with ordinal x and y dimension, say to make them jitter in their own space.\n */\nexport const JitterX = (options = {}) => {\n    const { padding = 0, random = Math.random } = options;\n    return (I, mark) => {\n        const { encode, scale } = mark;\n        const { x: scaleX } = scale;\n        const [X] = columnOf(encode, 'x');\n        const rangeX = rangeOf(X, scaleX, padding);\n        const DX = I.map(() => interpolate(random(), ...rangeX));\n        return [\n            I,\n            deepMix({ scale: { x: { padding: 0.5 } } }, mark, {\n                encode: { dx: column(DX) },\n            }),\n        ];\n    };\n};\nJitterX.props = {};\n//# sourceMappingURL=jitterX.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\nimport { rangeOf, interpolate } from './jitter';\n/**\n * The JitterY transform produce dy channels for marks (especially for point)\n * with ordinal x and y dimension, say to make them jitter in their own space.\n */\nexport const JitterY = (options = {}) => {\n    const { padding = 0, random = Math.random } = options;\n    return (I, mark) => {\n        const { encode, scale } = mark;\n        const { y: scaleY } = scale;\n        const [Y] = columnOf(encode, 'y');\n        const rangeY = rangeOf(Y, scaleY, padding);\n        const DY = I.map(() => interpolate(random(), ...rangeY));\n        return [\n            I,\n            deepMix({ scale: { y: { padding: 0.5 } } }, mark, {\n                encode: { dy: column(DY) },\n            }),\n        ];\n    };\n};\nJitterY.props = {};\n//# sourceMappingURL=jitterY.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { extent } from '@antv/vendor/d3-array';\nimport { columnOf, column } from './utils/helper';\nimport { createGroups } from './utils/order';\n/**\n * The SymmetryY transform apply offset for y channels, say to transform\n * them to be symmetry.\n */\nexport const SymmetryY = (options = {}) => {\n    const { groupBy = 'x' } = options;\n    return (I, mark) => {\n        const { encode } = mark;\n        const { x } = encode, rest = __rest(encode, [\"x\"]);\n        // Extract and create new channels starts with y, such as y, y1.\n        const Yn = Object.entries(rest)\n            .filter(([k]) => k.startsWith('y'))\n            .map(([k]) => [k, columnOf(encode, k)[0]]);\n        const newYn = Yn.map(([k]) => [k, new Array(I.length)]);\n        // Group marks into series by specified keys.\n        const groups = createGroups(groupBy, I, mark);\n        const MY = new Array(groups.length);\n        for (let i = 0; i < groups.length; i++) {\n            const I = groups[i];\n            const Y = I.flatMap((i) => Yn.map(([, V]) => +V[i]));\n            const [minY, maxY] = extent(Y);\n            MY[i] = (minY + maxY) / 2;\n        }\n        const maxMiddleY = Math.max(...MY);\n        for (let m = 0; m < groups.length; m++) {\n            const offset = maxMiddleY - MY[m];\n            const I = groups[m];\n            for (const i of I) {\n                for (let j = 0; j < Yn.length; j++) {\n                    const [, V] = Yn[j];\n                    const [, newV] = newYn[j];\n                    newV[i] = +V[i] + offset;\n                }\n            }\n        }\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: Object.fromEntries(newYn.map(([k, v]) => [k, column(v, columnOf(encode, k)[1])])),\n            }),\n        ];\n    };\n};\nSymmetryY.props = {};\n//# sourceMappingURL=symmetryY.js.map","import { deepMix } from '@antv/util';\nimport { column, columnOf } from './utils/helper';\nimport { createGroups } from './utils/order';\n/**\n * The DiffY transform apply offset for y0 channels.\n * Keep y unchanged, set y1 = max(otherY), if y1 > y, remove the data.\n */\nexport const DiffY = (options = {}) => {\n    const { groupBy = 'x' } = options;\n    return (I, mark) => {\n        const { encode } = mark;\n        const [Y] = columnOf(encode, 'y');\n        const [_, fy1] = columnOf(encode, 'y1');\n        // Create groups and apply specified order for each group.\n        const groups = createGroups(groupBy, I, mark);\n        // Only adjust Y1 channel.\n        const newY1 = new Array(I.length);\n        for (const G of groups) {\n            const YG = G.map((i) => +Y[i]);\n            // Process each series.\n            for (let idx = 0; idx < G.length; idx++) {\n                const i = G[idx];\n                // Get the max Y of current group with current Y exclude.\n                const max = Math.max(...YG.filter((_, _i) => _i !== idx));\n                // Diff Y value.\n                newY1[i] = +Y[i] > max ? max : Y[i];\n            }\n        }\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: {\n                    y1: column(newY1, fy1),\n                },\n            }),\n        ];\n    };\n};\nDiffY.props = {};\n//# sourceMappingURL=diffY.js.map","import { deepMix } from '@antv/util';\nimport { group, max } from '@antv/vendor/d3-array';\nimport { columnOf, constant, maybeColumnOf, visualColumn, } from './utils/helper';\n/**\n * Group marks by channels into groups and stacking their enterDelay\n * to make marks show up groups by groups.\n * It will update enterDelay channel for each mark by its enterDuration and group.\n * @todo Support orderBy.\n * @todo Sort among groups(e.g. reverse).\n * @todo Stack enter in groups rather than between groups?\n * @todo Auto inter this statistic for scaleInY animation in stacked interval?\n * @todo All the groups shared the enterDuration?\n */\nexport const StackEnter = (options) => {\n    const { groupBy = ['x'], reducer = (I, V) => V[I[0]], orderBy = null, reverse = false, duration, } = options;\n    return (I, mark) => {\n        const { encode } = mark;\n        // Extract group information by each specified channel,\n        // and skip if all values of channels are empty.\n        const by = Array.isArray(groupBy) ? groupBy : [groupBy];\n        const groupEntries = by.map((k) => [k, columnOf(encode, k)[0]]);\n        if (groupEntries.length === 0)\n            return [I, mark];\n        // Nest group index and flatten them in right order among timeline.\n        // [[1, 2, 3, 4, 5, 6]] ->\n        // [[1, 2, 3], [4, 5, 6]] ->\n        // [[1], [2], [3], [4], [5], [6]]\n        let groups = [I];\n        for (const [, V] of groupEntries) {\n            const newGroups = [];\n            for (const I of groups) {\n                const G = Array.from(group(I, (i) => V[i]).values());\n                // @todo sort by x.\n                newGroups.push(...G);\n            }\n            groups = newGroups;\n        }\n        // const {color} = encode;\n        if (orderBy) {\n            const [V] = columnOf(encode, orderBy);\n            if (V)\n                groups.sort((I, J) => reducer(I, V) - reducer(J, V));\n            if (reverse)\n                groups.reverse();\n        }\n        // Stack delay for each group.\n        const t = (duration || 3000) / groups.length;\n        const [ED] = duration\n            ? [constant(I, t)] // If specified duration, generate enter duration for each.\n            : maybeColumnOf(encode, 'enterDuration', constant(I, t));\n        const [EDL] = maybeColumnOf(encode, 'enterDelay', constant(I, 0));\n        const newEnterDelay = new Array(I.length);\n        for (let i = 0, pd = 0; i < groups.length; i++) {\n            const I = groups[i];\n            const maxDuration = max(I, (i) => +ED[i]);\n            for (const j of I)\n                newEnterDelay[j] = +EDL[j] + pd;\n            pd += maxDuration;\n        }\n        return [\n            I,\n            deepMix({}, mark, {\n                encode: {\n                    enterDuration: visualColumn(ED),\n                    enterDelay: visualColumn(newEnterDelay),\n                },\n            }),\n        ];\n    };\n};\nStackEnter.props = {};\n//# sourceMappingURL=stackEnter.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { mean, deviation, median, sum, max, min } from '@antv/vendor/d3-array';\nimport { isUnset } from '../utils/helper';\nimport { column, columnOf } from './utils/helper';\nimport { createGroups } from './utils/order';\nfunction normalizeBasis(basis) {\n    if (typeof basis === 'function')\n        return basis;\n    const registry = {\n        min: (I, Y) => min(I, (i) => Y[+i]),\n        max: (I, Y) => max(I, (i) => Y[+i]),\n        first: (I, Y) => Y[I[0]],\n        last: (I, Y) => Y[I[I.length - 1]],\n        mean: (I, Y) => mean(I, (i) => Y[+i]),\n        median: (I, Y) => median(I, (i) => Y[+i]),\n        sum: (I, Y) => sum(I, (i) => Y[+i]),\n        deviation: (I, Y) => deviation(I, (i) => Y[+i]),\n    };\n    return registry[basis] || max;\n}\n/**\n * Group marks into series by specified channels, and then transform\n * each series's value, say to transform them relative to some basis\n * to apply a moving average.\n */\nexport const NormalizeY = (options = {}) => {\n    const { groupBy = 'x', basis = 'max' } = options;\n    return (I, mark) => {\n        const { encode, tooltip } = mark;\n        const { x } = encode, rest = __rest(encode, [\"x\"]);\n        // Extract and create new channels starts with y, such as y, y1.\n        const Yn = Object.entries(rest)\n            .filter(([k]) => k.startsWith('y'))\n            .map(([k]) => [k, columnOf(encode, k)[0]]);\n        const [, Y] = Yn.find(([k]) => k === 'y');\n        const newYn = Yn.map(([k]) => [k, new Array(I.length)]);\n        // Group marks into series by specified keys.\n        const groups = createGroups(groupBy, I, mark);\n        // Transform y channels for each group based on basis.\n        const basisFunction = normalizeBasis(basis);\n        for (const I of groups) {\n            // Compute basis only base on y.\n            const basisValue = basisFunction(I, Y);\n            for (const i of I) {\n                for (let j = 0; j < Yn.length; j++) {\n                    const [, V] = Yn[j];\n                    const [, newV] = newYn[j];\n                    newV[i] = +V[i] / basisValue;\n                }\n            }\n        }\n        const specifiedTooltip = isUnset(tooltip) || ((tooltip === null || tooltip === void 0 ? void 0 : tooltip.items) && (tooltip === null || tooltip === void 0 ? void 0 : tooltip.items.length) !== 0);\n        return [\n            I,\n            deepMix({}, mark, Object.assign({ encode: Object.fromEntries(newYn.map(([k, v]) => [k, column(v, columnOf(encode, k)[1])])) }, (!specifiedTooltip &&\n                encode.y0 && {\n                tooltip: { items: [{ channel: 'y0' }] },\n            }))),\n        ];\n    };\n};\nNormalizeY.props = {};\n//# sourceMappingURL=normalizeY.js.map","import { maxIndex, minIndex } from '@antv/vendor/d3-array';\nimport { columnOf } from './utils/helper';\nimport { createGroups } from './utils/order';\nfunction first(I, V) {\n    return [I[0]];\n}\nfunction last(I, V) {\n    const i = I.length - 1;\n    return [I[i]];\n}\nfunction max(I, V) {\n    const i = maxIndex(I, (i) => V[i]);\n    return [I[i]];\n}\nfunction min(I, V) {\n    const i = minIndex(I, (i) => V[i]);\n    return [I[i]];\n}\nfunction normalizeSelector(selector) {\n    if (typeof selector === 'function')\n        return selector;\n    const registry = { first, last, max, min };\n    return registry[selector] || first;\n}\n/**\n * The select transform groups marks with specified channels, and\n * filter index by specified selector for each series, say to\n * pull a single or multiple values out of each series.\n */\nexport const Select = (options = {}) => {\n    const { groupBy = 'series', channel, selector } = options;\n    return (I, mark) => {\n        const { encode } = mark;\n        const groups = createGroups(groupBy, I, mark);\n        const [V] = columnOf(encode, channel);\n        const selectFunction = normalizeSelector(selector);\n        return [groups.flatMap((GI) => selectFunction(GI, V)), mark];\n    };\n};\nSelect.props = {};\n//# sourceMappingURL=select.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Select } from './select';\n/**\n * The selectX transform filter index by y channel.\n */\nexport const SelectX = (options = {}) => {\n    const { selector } = options, rest = __rest(options, [\"selector\"]);\n    return Select(Object.assign({ channel: 'x', selector }, rest));\n};\nSelectX.props = {};\n//# sourceMappingURL=selectX.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Select } from './select';\n/**\n * The selectY transform filter index by y channel.\n */\nexport const SelectY = (options = {}) => {\n    const { selector } = options, rest = __rest(options, [\"selector\"]);\n    return Select(Object.assign({ channel: 'y', selector }, rest));\n};\nSelectY.props = {};\n//# sourceMappingURL=selectY.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { createGroups } from './utils/order';\nimport { GroupN } from './groupN';\n/**\n * The Group transform group data by x and y channels, and aggregate.\n */\nexport const Group = (options = {}) => {\n    const { channels = ['x', 'y'] } = options, rest = __rest(options, [\"channels\"]);\n    const groupBy = (I, mark) => createGroups(channels, I, mark);\n    return GroupN(Object.assign(Object.assign({}, rest), { groupBy }));\n};\nGroup.props = {};\n//# sourceMappingURL=group.js.map","import { Group } from './group';\n/**\n * The GroupX transform group data by x channel, and aggregate.\n */\nexport const GroupX = (options = {}) => {\n    return Group(Object.assign(Object.assign({}, options), { channels: ['x', 'color', 'series'] }));\n};\nGroupX.props = {};\n//# sourceMappingURL=groupX.js.map","import { Group } from './group';\n/**\n * The GroupY transform group data by x channel, and aggregate.\n */\nexport const GroupY = (options = {}) => {\n    return Group(Object.assign(Object.assign({}, options), { channels: ['y', 'color', 'series'] }));\n};\nGroupY.props = {};\n//# sourceMappingURL=groupY.js.map","import { Group } from './group';\n/**\n * The GroupColor transform group data by x channel, and aggregate.\n */\nexport const GroupColor = (options = {}) => {\n    return Group(Object.assign(Object.assign({}, options), { channels: ['color'] }));\n};\nGroupColor.props = {};\n//# sourceMappingURL=groupColor.js.map","import { deepMix } from '@antv/util';\nimport { groupSort, max, min, sum, mean, median, sort, } from '@antv/vendor/d3-array';\nimport { columnOf } from './utils/helper';\nfunction createReducer(channel, options, encode) {\n    const { by = channel, reducer = 'max' } = options;\n    const [V] = columnOf(encode, by);\n    if (typeof reducer === 'function')\n        return (GI) => reducer(GI, V);\n    if (reducer === 'max')\n        return (GI) => max(GI, (i) => +V[i]);\n    if (reducer === 'min')\n        return (GI) => min(GI, (i) => +V[i]);\n    if (reducer === 'sum')\n        return (GI) => sum(GI, (i) => +V[i]);\n    if (reducer === 'median')\n        return (GI) => median(GI, (i) => +V[i]);\n    if (reducer === 'mean')\n        return (GI) => mean(GI, (i) => +V[i]);\n    if (reducer === 'first')\n        return (GI) => V[GI[0]];\n    if (reducer === 'last')\n        return (GI) => V[GI[GI.length - 1]];\n    throw new Error(`Unknown reducer: ${reducer}`);\n}\n// If domain is specified, only sort data in the domain.\nfunction filterIndex(I, values, specifiedDomain) {\n    if (!Array.isArray(specifiedDomain))\n        return I;\n    const domain = new Set(specifiedDomain);\n    return I.filter((i) => domain.has(values[i]));\n}\n/**\n * Sort marks groups by groups.\n */\nexport const Sort = (options = {}) => {\n    return (I, mark) => {\n        const { reverse, slice, channel, by, ordinal = true, reducer } = options;\n        const { encode, scale = {} } = mark;\n        const domain = scale[channel].domain;\n        const [V] = columnOf(encode, by !== null && by !== void 0 ? by : channel);\n        const [T] = columnOf(encode, channel);\n        const normalizeReducer = createReducer(channel, { by, reducer }, encode);\n        const SI = filterIndex(I, T, domain);\n        const sortedDomain = groupSort(SI, normalizeReducer, (i) => T[i]);\n        // when ordinal is true, do not change the index of the data.\n        const sortedI = !ordinal ? sort(I, (i) => V[i]) : I;\n        if (reverse) {\n            !ordinal && sortedI.reverse();\n            sortedDomain.reverse();\n        }\n        const s = typeof slice === 'number' ? [0, slice] : slice;\n        const slicedDomain = slice ? sortedDomain.slice(...s) : sortedDomain;\n        return [\n            sortedI,\n            deepMix(mark, { scale: { [channel]: { domain: slicedDomain } } }),\n        ];\n    };\n};\nSort.props = {};\n//# sourceMappingURL=sort.js.map","import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length !== 2\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n","import { Sort } from './sort';\n/**\n * Sort domain of x scale of mark groups by groups.\n */\nexport const SortX = (options = {}) => {\n    return Sort(Object.assign(Object.assign({}, options), { channel: 'x' }));\n};\nSortX.props = {};\n//# sourceMappingURL=sortX.js.map","import { Sort } from './sort';\n/**\n * Sort domain of x scale of mark groups by groups.\n */\nexport const SortY = (options = {}) => {\n    return Sort(Object.assign(Object.assign({}, options), { channel: 'y' }));\n};\nSortY.props = {};\n//# sourceMappingURL=sortY.js.map","import { Sort } from './sort';\n/**\n * Sort domain of x scale of mark groups by groups.\n */\nexport const SortColor = (options = {}) => {\n    return Sort(Object.assign(Object.assign({}, options), { channel: 'color' }));\n};\nSortColor.props = {};\n//# sourceMappingURL=sortColor.js.map","import { deepMix } from '@antv/util';\nimport { rollups, sum } from '@antv/vendor/d3-array';\nimport { columnOf } from './utils/helper';\nfunction valueOf(data, field) {\n    if (typeof field === 'string')\n        return data.map((d) => d[field]);\n    return data.map(field);\n}\nfunction createReducer(reducer, V) {\n    if (typeof reducer === 'function')\n        return (GI) => reducer(GI, V);\n    if (reducer === 'sum')\n        return (GI) => sum(GI, (i) => +V[i]);\n    throw new Error(`Unknown reducer: ${reducer}`);\n}\n/**\n * Produce flex options from data for x scale.\n */\nexport const FlexX = (options = {}) => {\n    const { field, channel = 'y', reducer = 'sum' } = options;\n    return (I, mark) => {\n        const { data, encode } = mark;\n        const [x] = columnOf(encode, 'x');\n        const V = field ? valueOf(data, field) : columnOf(encode, channel)[0];\n        const reducerFunction = createReducer(reducer, V);\n        const flex = rollups(I, reducerFunction, (i) => x[i]).map((d) => d[1]);\n        return [I, deepMix({}, mark, { scale: { x: { flex } } })];\n    };\n};\nFlexX.props = {};\n//# sourceMappingURL=flexX.js.map","import { deepMix } from '@antv/util';\nimport { calcBBox } from '../utils/vector';\nfunction pack(options) {\n    const { padding = 0, direction = 'col' } = options;\n    return (P, count, layout) => {\n        const pcount = P.length;\n        if (pcount === 0)\n            return [];\n        // col * row >= count\n        // row is close to col * aspect, so\n        // col * (col * aspect) >= count\n        const { innerWidth, innerHeight } = layout;\n        const aspect = innerHeight / innerWidth;\n        let col = Math.ceil(Math.sqrt(count / aspect));\n        // Increase col to avoid total height of packed shape\n        // being large than height of bbox.\n        let size = innerWidth / col;\n        let row = Math.ceil(count / col);\n        let h0 = row * size;\n        while (h0 > innerHeight) {\n            col = col + 1;\n            size = innerWidth / col;\n            row = Math.ceil(count / col);\n            h0 = row * size;\n        }\n        // Some offset to increase the space usage.\n        const space = innerHeight - row * size;\n        const intervalY = row <= 1 ? 0 : space / (row - 1);\n        const [offsetX, offsetY] = row <= 1\n            ? [\n                (innerWidth - pcount * size) / (pcount - 1),\n                (innerHeight - size) / 2,\n            ]\n            : [0, 0];\n        return P.map((points, m) => {\n            const [x, y, width, height] = calcBBox(points);\n            const i = direction === 'col' ? m % col : Math.floor(m / row);\n            const j = direction === 'col' ? Math.floor(m / col) : m % row;\n            const newX = i * size;\n            const newY = (row - j - 1) * size + space;\n            const sx = (size - padding) / width;\n            const sy = (size - padding) / height;\n            // Translate the shape and mark to make sure the center of\n            // shape is overlap before and after scale transformation.\n            const tx = newX - x + offsetX * i + (1 / 2) * padding;\n            const ty = newY - y - intervalY * j - offsetY + (1 / 2) * padding;\n            return `translate(${tx}, ${ty}) scale(${sx}, ${sy})`;\n        });\n    };\n}\n/**\n * Uniform pack to avid overlap.\n * @todo Improve or change algorithm to increase space usage.\n * @todo Take some special case into account.\n */\nexport const Pack = (options) => {\n    return (I, mark) => {\n        return [I, deepMix({}, mark, { modifier: pack(options), axis: false })];\n    };\n};\nPack.props = {};\n//# sourceMappingURL=pack.js.map","/**\n * Sample data with lttb(Largest-Triangle-Three-Buckets) algo (https://github.com/pingec/downsample-lttb).\n * Return the sampled index array.\n */\nexport function lttb(I, X, Y, thresholds) {\n    const length = I.length;\n    if (thresholds >= length || thresholds === 0) {\n        return I;\n    }\n    const x = (i) => X[I[i]] * 1;\n    const y = (i) => Y[I[i]] * 1;\n    const sampled = [];\n    // Bucket size. Leave room for start and end data points.\n    const every = (length - 2) / (thresholds - 2);\n    let a = 0; // Initially a is the first point in the triangle.\n    let maxArea;\n    let area;\n    let nextA;\n    sampled.push(a); // Always add the first point.\n    for (let i = 0; i < thresholds - 2; i++) {\n        // Calculate point average for next bucket (containing c).\n        let avgX = 0;\n        let avgY = 0;\n        let start = Math.floor((i + 1) * every) + 1;\n        let end = Math.floor((i + 2) * every) + 1;\n        end = Math.min(end, length);\n        const size = end - start;\n        for (; start < end; start++) {\n            avgX += x(start);\n            avgY += y(start);\n        }\n        avgX /= size;\n        avgY /= size;\n        // Get the range for this bucket.\n        let frameStart = Math.floor((i + 0) * every) + 1;\n        const frameEnd = Math.floor((i + 1) * every) + 1;\n        // Point a.\n        const pointA = [x(a), y(a)];\n        maxArea = area = -1;\n        for (; frameStart < frameEnd; frameStart++) {\n            // Calculate triangle area over three buckets.\n            area =\n                Math.abs((pointA[0] - avgX) * (x(frameStart) - pointA[1]) -\n                    (pointA[0] - y(frameStart)) * (avgY - pointA[0])) * 0.5;\n            if (area > maxArea) {\n                maxArea = area;\n                nextA = frameStart; // Next a is this b.\n            }\n        }\n        sampled.push(nextA); // Pick this point from the bucket.\n        a = nextA; // This a is the next a (chosen b).\n    }\n    sampled.push(length - 1); // Always add last.\n    return sampled.map((a) => I[a]);\n}\n//# sourceMappingURL=lttb.js.map","// @ts-ignore medianIndex exist in d3-array@3.2.0, but @types/d3-array Expired.\nimport { maxIndex, minIndex, medianIndex } from '@antv/vendor/d3-array';\nimport { createGroups } from './utils/order';\nimport { columnOf } from './utils/helper';\nimport { lttb } from './utils/lttb';\nfunction normalizeSample(strategy) {\n    if (typeof strategy === 'function')\n        return strategy;\n    if (strategy === 'lttb')\n        return lttb;\n    const strategies = {\n        first: (f) => [f[0]],\n        last: (f) => [f[f.length - 1]],\n        min: (f, X, Y) => [\n            f[minIndex(f, (i) => Y[i])],\n        ],\n        max: (f, X, Y) => [\n            f[maxIndex(f, (i) => Y[i])],\n        ],\n        median: (f, X, Y) => [\n            f[medianIndex(f, (i) => Y[i])],\n        ],\n    };\n    const sampleFunction = strategies[strategy] || strategies.median;\n    return (I, X, Y, thresholds) => {\n        // Sepreate group to frames, then sample each frame.\n        // Keep more data as possible.\n        const frameSize = Math.max(1, Math.floor(I.length / thresholds));\n        const frames = getFrames(I, frameSize);\n        return frames.flatMap((frame) => sampleFunction(frame, X, Y));\n    };\n}\n/**\n * Split the array into frame with each frameSize.\n */\nfunction getFrames(I, frameSize) {\n    const size = I.length;\n    const frames = [];\n    let i = 0;\n    while (i < size) {\n        frames.push(I.slice(i, (i += frameSize)));\n    }\n    return frames;\n}\n/**\n * The sample transform groups marks with specified groupBy fields, and\n * sample data for each group when data.length >= threshold(default = 2000).\n */\nexport const Sample = (options = {}) => {\n    const { strategy = 'median', thresholds = 2000, groupBy = ['series', 'color'], } = options;\n    const sampleFunction = normalizeSample(strategy);\n    return (I, mark) => {\n        const { encode } = mark;\n        const groups = createGroups(groupBy, I, mark);\n        const [X] = columnOf(encode, 'x');\n        const [Y] = columnOf(encode, 'y');\n        return [\n            groups.flatMap((g) => sampleFunction(g, X, Y, thresholds)),\n            mark,\n        ];\n    };\n};\nSample.props = {};\n//# sourceMappingURL=sample.js.map","import { deepMix } from '@antv/util';\nimport { defined } from '../utils/helper';\nimport { columnOf } from './utils/helper';\nfunction normalizeValue(value) {\n    if (typeof value === 'object')\n        return [value.value, value.ordinal];\n    else\n        return [value, true];\n}\nfunction filterWhenNoElements(mark) {\n    var _a;\n    const { encode } = mark;\n    // keep y-axis\n    const noElementMark = Object.assign(Object.assign({}, mark), { encode: Object.assign(Object.assign({}, mark.encode), { y: Object.assign(Object.assign({}, mark.encode.y), { value: [] }) }) });\n    const targetField = (_a = encode === null || encode === void 0 ? void 0 : encode.color) === null || _a === void 0 ? void 0 : _a.field;\n    if (!encode || !targetField) {\n        return noElementMark;\n    }\n    // 获取color的筛选源\n    let filterObject;\n    for (const [key, v] of Object.entries(encode)) {\n        if ((key === 'x' || key === 'y') && v.field === targetField) {\n            filterObject = Object.assign(Object.assign({}, filterObject), { [key]: Object.assign(Object.assign({}, v), { value: [] }) });\n        }\n    }\n    if (!filterObject) {\n        return noElementMark;\n    }\n    return Object.assign(Object.assign({}, mark), { encode: Object.assign(Object.assign({}, mark.encode), filterObject) });\n}\n/**\n * The Filter transform filter channels.\n */\nexport const Filter = (options = {}) => {\n    return (I, mark) => {\n        const { encode, data } = mark;\n        const filters = Object.entries(options)\n            .map(([key, v]) => {\n            const [V] = columnOf(encode, key);\n            // Skip empty channel.\n            if (!V)\n                return null;\n            const [value, ordinal = true] = normalizeValue(v);\n            if (typeof value === 'function')\n                return (i) => value(V[i]);\n            if (ordinal) {\n                const expectedValues = Array.isArray(value) ? value : [value];\n                // Skip empty expected values.\n                if (expectedValues.length === 0)\n                    return null;\n                return (i) => expectedValues.includes(V[i]);\n            }\n            else {\n                const [start, end] = value;\n                return (i) => V[i] >= start && V[i] <= end;\n            }\n        })\n            .filter(defined);\n        // Filter index and channels.\n        const totalFilter = (i) => filters.every((f) => f(i));\n        const FI = I.filter(totalFilter);\n        const newIndex = FI.map((_, i) => i);\n        if (filters.length === 0) {\n            const targetMark = filterWhenNoElements(mark);\n            return [I, targetMark];\n        }\n        const newEncodes = Object.entries(encode).map(([key, encode]) => {\n            return [\n                key,\n                Object.assign(Object.assign({}, encode), { value: newIndex\n                        .map((i) => encode.value[FI[i]])\n                        .filter((v) => v !== undefined) }),\n            ];\n        });\n        return [\n            newIndex,\n            deepMix({}, mark, {\n                encode: Object.fromEntries(newEncodes),\n                // Filter data for tooltip item.\n                data: FI.map((i) => data[i]),\n            }),\n        ];\n    };\n};\nFilter.props = {};\n//# sourceMappingURL=filter.js.map","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { dsvFormat, autoType as d3AutoType } from '@antv/vendor/d3-dsv';\nimport { identity } from '../utils/helper';\nexport const Fetch = (options) => {\n    const { value, format = value.split('.').pop(), delimiter = ',', autoType = true, } = options;\n    return () => __awaiter(void 0, void 0, void 0, function* () {\n        const response = yield fetch(value);\n        if (format === 'csv') {\n            // @see: https://github.com/d3/d3-dsv#dsv_parse\n            const str = yield response.text();\n            return dsvFormat(delimiter).parse(str, autoType ? d3AutoType : identity);\n        }\n        else if (format === 'json') {\n            return yield response.json();\n        }\n        throw new Error(`Unknown format: ${format}.`);\n    });\n};\nFetch.props = {};\n//# sourceMappingURL=fetch.js.map","export const Inline = (options) => {\n    const { value } = options;\n    return () => value;\n};\nInline.props = {};\n//# sourceMappingURL=inline.js.map","import { normalizeFields } from './utils/fields';\n/**\n * Immutable data sort by specified fields.\n */\nexport const SortBy = (options) => {\n    const { fields: F = [] } = options;\n    const normalizedF = normalizeFields(F, true);\n    return (data) => {\n        const comparator = (a, b) => normalizedF.reduce((ret, [field, order = true]) => {\n            if (ret !== 0) {\n                return ret;\n            }\n            if (order) {\n                return a[field] < b[field] ? -1 : +(a[field] !== b[field]);\n            }\n            else {\n                return a[field] > b[field] ? -1 : +(a[field] !== b[field]);\n            }\n        }, 0);\n        return [...data].sort(comparator);\n    };\n};\nSortBy.props = {};\n//# sourceMappingURL=sortBy.js.map","/**\n *\n * @description Converts a random format array into a regular two-dimensional array\n * @example ['a', 'b', ['c', value]] => [['a', defaultValue], ['b', defaultValue], ['c', value]]\n */\nexport function normalizeFields(fields, defaultValue) {\n    return fields.map((d) => {\n        if (Array.isArray(d)) {\n            const [field, value = defaultValue] = d;\n            return [field, value];\n        }\n        return [d, defaultValue];\n    });\n}\n//# sourceMappingURL=fields.js.map","export function defined(d) {\n    return d !== undefined && d !== null && !Number.isNaN(d);\n}\n/**\n * Sort data similar with Array.prototypo.sort.\n */\nexport const Sort = (options) => {\n    const { callback } = options;\n    return (data) => (Array.isArray(data) ? [...data].sort(callback) : data);\n};\nSort.props = {};\n//# sourceMappingURL=sort.js.map","export function defined(d) {\n    return d !== undefined && d !== null && !Number.isNaN(d);\n}\n/**\n * Filter data by specified fields and filter callback for each fields.\n * It saves datum with every fields defined by default.\n */\nexport const Filter = (options) => {\n    const { callback = defined } = options;\n    return (data) => data.filter(callback);\n};\nFilter.props = {};\n//# sourceMappingURL=filter.js.map","function pick(v, fields = []) {\n    return fields.reduce((datum, field) => {\n        // Pick the data deeply.\n        if (field in v) {\n            datum[field] = v[field];\n        }\n        return datum;\n    }, {});\n}\n/**\n * Immutable data pick by specified fields.\n */\nexport const Pick = (options) => {\n    const { fields } = options;\n    return (data) => data.map((d) => pick(d, fields));\n};\nPick.props = {};\n//# sourceMappingURL=pick.js.map","export function isEmpty(obj) {\n    return Object.keys(obj).length === 0;\n}\n/**\n * Immutable data rename by specified fields.\n */\nexport const Rename = (options) => {\n    return (data) => {\n        if (!options || isEmpty(options))\n            return data;\n        const rename = (v) => Object.entries(v).reduce((datum, [key, value]) => ((datum[options[key] || key] = value), datum), {});\n        return data.map(rename);\n    };\n};\nRename.props = {};\n//# sourceMappingURL=rename.js.map","export function isEmpty(obj) {\n    return !obj || Object.keys(obj).length === 0;\n}\n/**\n * Collapses (or “folds”) one or more data fields into two\n * properties: `key` (contains the original data field name)\n * and `value` (contains the original data value.)\n */\nexport const Fold = (options) => {\n    const { fields, key = 'key', value = 'value' } = options;\n    return (data) => {\n        if (isEmpty(fields))\n            return data;\n        return data.flatMap((d) => fields.map((f) => (Object.assign(Object.assign({}, d), { [key]: f, [value]: d[f] }))));\n    };\n};\nFold.props = {};\n//# sourceMappingURL=fold.js.map","/**\n * Slice data between `start` ~ `end`.\n * Same with https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\n */\nexport const Slice = (options) => {\n    const { start, end } = options;\n    return (data) => data.slice(start, end);\n};\nSlice.props = {};\n//# sourceMappingURL=slice.js.map","import { identity } from '../utils/helper';\n/**\n * Connector transfom by function.\n */\nexport const Custom = (options) => {\n    const { callback = identity } = options;\n    return (data) => callback(data);\n};\nCustom.props = {};\n//# sourceMappingURL=custom.js.map","import { identity } from '../utils/helper';\n/**\n * Map transform by function.\n */\nexport const Map = (options) => {\n    const { callback = identity } = options;\n    return (data) => (Array.isArray(data) ? data.map(callback) : data);\n};\nMap.props = {};\n//# sourceMappingURL=map.js.map","import { rollup } from '@antv/vendor/d3-array';\nfunction field(key) {\n    return typeof key === 'string' ? (d) => d[key] : key;\n}\n/**\n * Join data with another dataset by SQL style.\n */\nexport const Join = (options) => {\n    // const { fromKey, from, key, unknown = NaN, ...rest } = options;\n    const { join, on, select = [], as = select, unknown = NaN } = options;\n    const [key, fromKey] = on;\n    const fk = field(fromKey);\n    const k = field(key);\n    const keyData = rollup(join, ([d]) => d, // Get the first matched.\n    (d) => fk(d));\n    return (data) => data.map((d) => {\n        const source = keyData.get(k(d));\n        return Object.assign(Object.assign({}, d), select.reduce((prev, key, idx) => ((prev[as[idx]] = source ? source[key] : unknown), prev), {}));\n    });\n};\nJoin.props = {};\n//# sourceMappingURL=join.js.map","import pdf from 'pdfast';\nimport { group } from '@antv/vendor/d3-array';\nexport function defined(d) {\n    return d !== undefined && d !== null && !Number.isNaN(d);\n}\n/**\n * Kernel Density Estimation base on [pdfast](https://www.npmjs.com/package/pdfast),\n * generating probability density function (pdf) using triangular kernel,\n * optimized to run in O(N + K).\n */\nexport const KDE = (options) => {\n    const { field, groupBy, as = ['y', 'size'], min, max, size = 10, width, } = options;\n    const [yField, sizeField] = as;\n    return (data) => {\n        const gs = Array.from(group(data, (d) => groupBy.map((gb) => d[gb]).join('-')).values());\n        return gs.map((g) => {\n            const pdfResult = pdf.create(g.map((i) => i[field]), {\n                min,\n                max,\n                size,\n                width,\n            });\n            const _y = pdfResult.map((result) => result.x);\n            const _size = pdfResult.map((result) => result.y);\n            return Object.assign(Object.assign({}, g[0]), { [yField]: _y, [sizeField]: _size });\n        });\n    };\n};\nKDE.props = {};\n//# sourceMappingURL=kde.js.map","/**\n * Console.log the data section for dev debugger.\n */\nexport const Log = () => {\n    return (data) => {\n        console.log('G2 data section:', data);\n        return data;\n    };\n};\nLog.props = {};\n//# sourceMappingURL=log.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * @todo Combine with the `Container` util\n */\nexport function flow(target, source) {\n    return {\n        set(key, normalize, callback) {\n            if (source[key] === undefined)\n                return this;\n            const value = normalize ? normalize.call(null, source[key]) : source[key];\n            if (callback)\n                callback.call(null, value);\n            else if (typeof target[key] === 'function')\n                target[key](value);\n            else\n                target[key] = value;\n            return this;\n        },\n        setAsync(key, normalize, callback) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (source[key] === undefined)\n                    return this;\n                const value = normalize\n                    ? yield normalize.call(null, source[key])\n                    : source[key];\n                if (callback)\n                    callback.call(null, value);\n                else if (typeof target[key] === 'function')\n                    target[key](value);\n                else\n                    target[key] = value;\n                return this;\n            });\n        },\n    };\n}\n//# sourceMappingURL=flow.js.map","const cloudRadians = Math.PI / 180, cw = (1 << 11) >> 5, ch = 1 << 11;\nfunction cloudText(d) {\n    return d.text;\n}\nfunction cloudFont() {\n    return 'serif';\n}\nfunction cloudFontNormal() {\n    return 'normal';\n}\nfunction cloudFontSize(d) {\n    return d.value;\n}\nfunction cloudRotate() {\n    return ~~(Math.random() * 2) * 90;\n}\nfunction cloudPadding() {\n    return 1;\n}\nfunction cloudDispatch() {\n    return;\n}\n// Fetches a monochrome sprite bitmap for the specified text.\n// Load in batches for speed.\nfunction cloudSprite(contextAndRatio, d, data, di) {\n    if (d.sprite)\n        return;\n    const c = contextAndRatio.context, ratio = contextAndRatio.ratio;\n    c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n    let x = 0, y = 0, maxh = 0;\n    const n = data.length;\n    --di;\n    while (++di < n) {\n        d = data[di];\n        c.save();\n        c.font =\n            d.style +\n                ' ' +\n                d.weight +\n                ' ' +\n                ~~((d.size + 1) / ratio) +\n                'px ' +\n                d.font;\n        let w = c.measureText(d.text + 'm').width * ratio, h = d.size << 1;\n        if (d.rotate) {\n            const sr = Math.sin(d.rotate * cloudRadians), cr = Math.cos(d.rotate * cloudRadians), wcr = w * cr, wsr = w * sr, hcr = h * cr, hsr = h * sr;\n            w =\n                ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\n            h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n        }\n        else {\n            w = ((w + 0x1f) >> 5) << 5;\n        }\n        if (h > maxh)\n            maxh = h;\n        if (x + w >= cw << 5) {\n            x = 0;\n            y += maxh;\n            maxh = 0;\n        }\n        if (y + h >= ch)\n            break;\n        c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n        if (d.rotate)\n            c.rotate(d.rotate * cloudRadians);\n        c.fillText(d.text, 0, 0);\n        if (d.padding) {\n            c.lineWidth = 2 * d.padding;\n            c.strokeText(d.text, 0, 0);\n        }\n        c.restore();\n        d.width = w;\n        d.height = h;\n        d.xoff = x;\n        d.yoff = y;\n        d.x1 = w >> 1;\n        d.y1 = h >> 1;\n        d.x0 = -d.x1;\n        d.y0 = -d.y1;\n        d.hasText = true;\n        x += w;\n    }\n    const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data, sprite = [];\n    while (--di >= 0) {\n        d = data[di];\n        if (!d.hasText)\n            continue;\n        const w = d.width, w32 = w >> 5;\n        let h = d.y1 - d.y0;\n        // Zero the buffer\n        for (let i = 0; i < h * w32; i++)\n            sprite[i] = 0;\n        x = d.xoff;\n        if (x == null)\n            return;\n        y = d.yoff;\n        let seen = 0, seenRow = -1;\n        for (let j = 0; j < h; j++) {\n            for (let i = 0; i < w; i++) {\n                const k = w32 * j + (i >> 5), m = pixels[((y + j) * (cw << 5) + (x + i)) << 2]\n                    ? 1 << (31 - (i % 32))\n                    : 0;\n                sprite[k] |= m;\n                seen |= m;\n            }\n            if (seen)\n                seenRow = j;\n            else {\n                d.y0++;\n                h--;\n                j--;\n                y++;\n            }\n        }\n        d.y1 = d.y0 + seenRow;\n        d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n    }\n}\n// Use mask-based collision detection.\nfunction cloudCollide(tag, board, sw) {\n    sw >>= 5;\n    const sprite = tag.sprite, w = tag.width >> 5, lx = tag.x - (w << 4), sx = lx & 0x7f, msx = 32 - sx, h = tag.y1 - tag.y0;\n    let x = (tag.y + tag.y0) * sw + (lx >> 5), last;\n    for (let j = 0; j < h; j++) {\n        last = 0;\n        for (let i = 0; i <= w; i++) {\n            if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) &\n                board[x + i])\n                return true;\n        }\n        x += sw;\n    }\n    return false;\n}\nfunction cloudBounds(bounds, d) {\n    const b0 = bounds[0], b1 = bounds[1];\n    if (d.x + d.x0 < b0.x)\n        b0.x = d.x + d.x0;\n    if (d.y + d.y0 < b0.y)\n        b0.y = d.y + d.y0;\n    if (d.x + d.x1 > b1.x)\n        b1.x = d.x + d.x1;\n    if (d.y + d.y1 > b1.y)\n        b1.y = d.y + d.y1;\n}\nfunction collideRects(a, b) {\n    return (a.x + a.x1 > b[0].x &&\n        a.x + a.x0 < b[1].x &&\n        a.y + a.y1 > b[0].y &&\n        a.y + a.y0 < b[1].y);\n}\nfunction archimedeanSpiral(size) {\n    const e = size[0] / size[1];\n    return function (t) {\n        return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\n    };\n}\nfunction rectangularSpiral(size) {\n    const dy = 4, dx = (dy * size[0]) / size[1];\n    let x = 0, y = 0;\n    return function (t) {\n        const sign = t < 0 ? -1 : 1;\n        // See triangular numbers: T_n = n * (n + 1) / 2.\n        switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n            case 0:\n                x += dx;\n                break;\n            case 1:\n                y += dy;\n                break;\n            case 2:\n                x -= dx;\n                break;\n            default:\n                y -= dy;\n                break;\n        }\n        return [x, y];\n    };\n}\n// TODO reuse arrays?\nfunction zeroArray(n) {\n    const a = [];\n    let i = -1;\n    while (++i < n)\n        a[i] = 0;\n    return a;\n}\nfunction cloudCanvas() {\n    return document.createElement('canvas');\n}\nfunction functor(d) {\n    return typeof d === 'function'\n        ? d\n        : function () {\n            return d;\n        };\n}\nconst spirals = {\n    archimedean: archimedeanSpiral,\n    rectangular: rectangularSpiral,\n};\nexport function tagCloud() {\n    let size = [256, 256], text = cloudText, font = cloudFont, fontSize = cloudFontSize, fontWeight = cloudFontNormal, rotate = cloudRotate, padding = cloudPadding, spiral = archimedeanSpiral, random = Math.random, event = cloudDispatch, words = [], timer = null, timeInterval = Infinity, canvas = cloudCanvas;\n    const fontStyle = cloudFontNormal;\n    const cloud = {};\n    cloud.start = function () {\n        const [width, height] = size;\n        const contextAndRatio = getContext(canvas()), board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]), n = words.length, tags = [], data = words\n            .map(function (d, i, data) {\n            d.text = text.call(this, d, i, data);\n            d.font = font.call(this, d, i, data);\n            d.style = fontStyle.call(this, d, i, data);\n            d.weight = fontWeight.call(this, d, i, data);\n            d.rotate = rotate.call(this, d, i, data);\n            d.size = ~~fontSize.call(this, d, i, data);\n            d.padding = padding.call(this, d, i, data);\n            return d;\n        })\n            .sort(function (a, b) {\n            return b.size - a.size;\n        });\n        let i = -1, bounds = !cloud.board\n            ? undefined\n            : [\n                {\n                    x: 0,\n                    y: 0,\n                },\n                {\n                    x: width,\n                    y: height,\n                },\n            ];\n        if (timer)\n            clearInterval(timer);\n        timer = setInterval(step, 0);\n        step();\n        function step() {\n            const start = Date.now();\n            while (Date.now() - start < timeInterval && ++i < n) {\n                const d = data[i];\n                d.x = (width * (random() + 0.5)) >> 1;\n                d.y = (height * (random() + 0.5)) >> 1;\n                cloudSprite(contextAndRatio, d, data, i);\n                if (d.hasText && place(board, d, bounds)) {\n                    event.call(null, 'word', { cloud, word: d });\n                    tags.push(d);\n                    if (bounds) {\n                        if (!cloud.hasImage) {\n                            // update bounds if image mask not set\n                            cloudBounds(bounds, d);\n                        }\n                    }\n                    else {\n                        bounds = [\n                            { x: d.x + d.x0, y: d.y + d.y0 },\n                            { x: d.x + d.x1, y: d.y + d.y1 },\n                        ];\n                    }\n                    // Temporary hack\n                    d.x -= size[0] >> 1;\n                    d.y -= size[1] >> 1;\n                }\n            }\n            cloud._tags = tags;\n            cloud._bounds = bounds;\n            if (i >= n) {\n                cloud.stop();\n                event.call(null, 'end', { cloud, words: tags, bounds });\n            }\n        }\n        return cloud;\n    };\n    cloud.stop = function () {\n        if (timer) {\n            clearInterval(timer);\n            timer = null;\n        }\n        return cloud;\n    };\n    function getContext(canvas) {\n        canvas.width = canvas.height = 1;\n        const ratio = Math.sqrt(canvas.getContext('2d').getImageData(0, 0, 1, 1).data.length >> 2);\n        canvas.width = (cw << 5) / ratio;\n        canvas.height = ch / ratio;\n        const context = canvas.getContext('2d');\n        context.fillStyle = context.strokeStyle = 'red';\n        context.textAlign = 'center';\n        context.textBaseline = 'middle';\n        return { context, ratio };\n    }\n    function place(board, tag, bounds) {\n        // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\n        const startX = tag.x, startY = tag.y, maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]), s = spiral(size), dt = random() < 0.5 ? 1 : -1;\n        let dxdy, t = -dt, dx, dy;\n        while ((dxdy = s((t += dt)))) {\n            dx = ~~dxdy[0];\n            dy = ~~dxdy[1];\n            if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta)\n                break;\n            tag.x = startX + dx;\n            tag.y = startY + dy;\n            if (tag.x + tag.x0 < 0 ||\n                tag.y + tag.y0 < 0 ||\n                tag.x + tag.x1 > size[0] ||\n                tag.y + tag.y1 > size[1])\n                continue;\n            // TODO only check for collisions within current bounds.\n            if (!bounds || !cloudCollide(tag, board, size[0])) {\n                if (!bounds || collideRects(tag, bounds)) {\n                    const sprite = tag.sprite, w = tag.width >> 5, sw = size[0] >> 5, lx = tag.x - (w << 4), sx = lx & 0x7f, msx = 32 - sx, h = tag.y1 - tag.y0;\n                    let last, x = (tag.y + tag.y0) * sw + (lx >> 5);\n                    for (let j = 0; j < h; j++) {\n                        last = 0;\n                        for (let i = 0; i <= w; i++) {\n                            board[x + i] |=\n                                (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n                        }\n                        x += sw;\n                    }\n                    delete tag.sprite;\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    cloud.createMask = (img) => {\n        const can = document.createElement('canvas');\n        const [width, height] = size;\n        // 当 width 或 height 为 0 时，调用 cxt.getImageData 会报错\n        if (!width || !height) {\n            return;\n        }\n        const w32 = width >> 5;\n        const board = zeroArray((width >> 5) * height);\n        can.width = width;\n        can.height = height;\n        const cxt = can.getContext('2d');\n        cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\n        const imageData = cxt.getImageData(0, 0, width, height).data;\n        for (let j = 0; j < height; j++) {\n            for (let i = 0; i < width; i++) {\n                const k = w32 * j + (i >> 5);\n                const tmp = (j * width + i) << 2;\n                const flag = imageData[tmp] >= 250 &&\n                    imageData[tmp + 1] >= 250 &&\n                    imageData[tmp + 2] >= 250;\n                const m = flag ? 1 << (31 - (i % 32)) : 0;\n                board[k] |= m;\n            }\n        }\n        cloud.board = board;\n        cloud.hasImage = true;\n    };\n    cloud.timeInterval = function (_) {\n        timeInterval = _ == null ? Infinity : _;\n    };\n    cloud.words = function (_) {\n        words = _;\n    };\n    cloud.size = function (_ = []) {\n        size = [+_[0], +_[1]];\n    };\n    cloud.text = function (_) {\n        text = functor(_);\n    };\n    cloud.font = function (_) {\n        font = functor(_);\n    };\n    cloud.fontWeight = function (_) {\n        fontWeight = functor(_);\n    };\n    cloud.rotate = function (_) {\n        rotate = functor(_);\n    };\n    cloud.canvas = function (_) {\n        canvas = functor(_);\n    };\n    cloud.spiral = function (_) {\n        spiral = spirals[_] || _;\n    };\n    cloud.fontSize = function (_) {\n        fontSize = functor(_);\n    };\n    cloud.padding = function (_) {\n        padding = functor(_);\n    };\n    cloud.random = function (_) {\n        random = functor(_);\n    };\n    cloud.on = function (_) {\n        event = functor(_);\n    };\n    return cloud;\n}\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { min, max } from '@antv/vendor/d3-array';\nimport { flow } from './utils/flow';\nimport { tagCloud } from './utils/d3-cloud';\nconst DEFAULT_OPTIONS = {\n    fontSize: [20, 60],\n    font: 'Impact',\n    padding: 2,\n    rotate: function () {\n        return (~~(Math.random() * 6) - 3) * 30;\n    },\n};\n/**\n * Process the image mask of wordCloud.\n * @param img\n * @returns\n */\nexport function processImageMask(img) {\n    return new Promise((res, rej) => {\n        if (img instanceof HTMLImageElement) {\n            res(img);\n            return;\n        }\n        if (typeof img === 'string') {\n            const image = new Image();\n            image.crossOrigin = 'anonymous';\n            image.src = img;\n            image.onload = () => res(image);\n            image.onerror = () => {\n                console.error(`'image ${img} load failed !!!'`);\n                rej();\n            };\n            return;\n        }\n        rej();\n    });\n}\n/**\n * normalize fontSize range to d3-cloud fontSize function.\n * @param fontSize\n * @param range\n * @returns\n */\nexport function normalizeFontSize(fontSize, range) {\n    if (typeof fontSize === 'function')\n        return fontSize;\n    if (Array.isArray(fontSize)) {\n        const [fMin, fMax] = fontSize;\n        if (!range)\n            return () => (fMax + fMin) / 2;\n        const [min, max] = range;\n        if (max === min)\n            return () => (fMax + fMin) / 2;\n        return ({ value }) => ((fMax - fMin) / (max - min)) * (value - min) + fMin;\n    }\n    return () => fontSize;\n}\nexport const WordCloud = (options, context) => {\n    return (data) => __awaiter(void 0, void 0, void 0, function* () {\n        const cloudOptions = Object.assign({}, DEFAULT_OPTIONS, options, {\n            canvas: context.createCanvas,\n        });\n        const layout = tagCloud();\n        yield flow(layout, cloudOptions)\n            .set('fontSize', (v) => {\n            const arr = data.map((d) => d.value);\n            return normalizeFontSize(v, [min(arr), max(arr)]);\n        })\n            .set('font')\n            .set('fontStyle')\n            .set('fontWeight')\n            .set('padding')\n            .set('rotate')\n            .set('size')\n            .set('spiral')\n            .set('timeInterval')\n            .set('random')\n            .set('text')\n            .set('on')\n            .set('canvas')\n            .setAsync('imageMask', processImageMask, layout.createMask);\n        layout.words([...data]);\n        const result = layout.start();\n        const [cw, ch] = cloudOptions.size;\n        const defaultBounds = [\n            { x: 0, y: 0 },\n            { x: cw, y: ch },\n        ];\n        const { _bounds: bounds = defaultBounds, _tags, hasImage } = result;\n        const tags = _tags.map((_a) => {\n            var { x, y, font } = _a, rest = __rest(_a, [\"x\", \"y\", \"font\"]);\n            return (Object.assign(Object.assign({}, rest), { x: x + cw / 2, y: y + ch / 2, fontFamily: font }));\n        });\n        // Append two data to replace the corner of top-left and bottom-right, avoid calculate the actual bounds will occur some error.\n        const [{ x: tlx, y: tly }, { x: brx, y: bry }] = bounds;\n        const invisibleText = { text: '', value: 0, opacity: 0, fontSize: 0 };\n        tags.push(Object.assign(Object.assign({}, invisibleText), { x: hasImage ? 0 : tlx, y: hasImage ? 0 : tly }), Object.assign(Object.assign({}, invisibleText), { x: hasImage ? cw : brx, y: hasImage ? ch : bry }));\n        return tags;\n    });\n};\nWordCloud.props = {};\n//# sourceMappingURL=wordCloud.js.map","export function ema(values, alpha) {\n    if (alpha < 0 || alpha > 1) {\n        throw new Error('alpha must be between 0 and 1.');\n    }\n    if (values.length === 0) {\n        return [];\n    }\n    let last = values[0];\n    const smoothed = [];\n    for (const point of values) {\n        if (point === null || point === undefined) {\n            // 如果没有数据的话，使用最近的值\n            smoothed.push(point);\n            console.warn('EMA：The value is null or undefined', values);\n            continue;\n        }\n        if (last === null || last === undefined) {\n            last = point;\n        }\n        const smoothedVal = last * alpha + (1 - alpha) * point;\n        smoothed.push(smoothedVal);\n        last = smoothedVal;\n    }\n    return smoothed;\n}\n/**\n * https://en.wikipedia.org/wiki/Exponential_smoothing\n * @param options\n * @returns\n */\nexport const EMA = (options) => {\n    const { field = 'y', alpha = 0.6, as = field } = options;\n    return (data) => {\n        const values = data.map((d) => {\n            return d[field];\n        });\n        const out = ema(values, alpha);\n        return data.map((d, i) => {\n            return Object.assign(Object.assign({}, d), { [as]: out[i] });\n        });\n    };\n};\nEMA.props = {};\n//# sourceMappingURL=ema.js.map","// There is a certain error in the calculation of text bounds.\nconst EPSILON = 1e-2;\nexport function parseAABB(min2) {\n    const { min, max } = min2;\n    return [\n        [min[0], min[1]],\n        [max[0], max[1]],\n    ];\n}\n/**\n * Whether the `point` in `bounds`.\n * @param point\n * @param bounds\n * @param threshold\n */\nexport function isInBounds(point, bounds, threshold = EPSILON) {\n    const [x, y] = point;\n    const [min, max] = bounds;\n    return (x >= min[0] - threshold &&\n        x <= max[0] + threshold &&\n        y >= min[1] - threshold &&\n        y <= max[1] + threshold);\n}\n/**\n * Whether `b1` is overflow from `b2`.\n * @param b1\n * @param b2\n * @param threshold The threshold to determine whether the bounds is overflowed, default is 0.\n */\nexport function isOverflow(b1, b2, threshold = EPSILON) {\n    const [min, max] = b1;\n    return !(isInBounds(min, b2, threshold) && isInBounds(max, b2, threshold));\n}\n/**\n * Whether `b1` is overlap with `b2`.\n * @param b1\n * @param b2\n * @returns\n */\nexport function isOverlap(b1, b2) {\n    const [min1, max1] = b1;\n    const [min2, max2] = b2;\n    return (min1[0] < max2[0] &&\n        max1[0] > min2[0] &&\n        min1[1] < max2[1] &&\n        max1[1] > min2[1]);\n}\n//# sourceMappingURL=bounds.js.map","import { isOverlap, parseAABB } from '../utils/bounds';\nimport { hide, show } from '../utils/style';\n/**\n * Hide the label when overlap.\n */\nexport const OverlapHide = (options) => {\n    const { priority } = options;\n    return (labels) => {\n        const displayLabels = [];\n        // When overlap, will hide the next label.\n        if (priority)\n            labels.sort(priority);\n        labels.forEach((l) => {\n            show(l);\n            const b1 = l.getLocalBounds();\n            const overlaping = displayLabels.some((dl) => isOverlap(parseAABB(b1), parseAABB(dl.getLocalBounds())));\n            if (overlaping)\n                hide(l);\n            else\n                displayLabels.push(l);\n        });\n        return labels;\n    };\n};\n//# sourceMappingURL=overlapHide.js.map","import { ascending } from '@antv/vendor/d3-array';\nfunction isSegmentIntersect([a, b], [c, d]) {\n    return d > a && b > c;\n}\nfunction useMap() {\n    const map = new Map();\n    const get = (key) => map.get(key);\n    const set = (key, value) => map.set(key, value);\n    return [get, set];\n}\nfunction getBoundsWithoutConnector(shape) {\n    const node = shape.cloneNode(true);\n    const connectorShape = node.getElementById('connector');\n    connectorShape && node.removeChild(connectorShape);\n    const { min, max } = node.getRenderBounds();\n    node.destroy();\n    return { min, max };\n}\n/**\n * An iterative dodge method avoids label overlap. (n * log(n))\n */\nexport const OverlapDodgeY = (options) => {\n    const { maxIterations = 10, maxError = 0.1, padding = 1 } = options;\n    return (labels) => {\n        const n = labels.length;\n        if (n <= 1)\n            return labels;\n        // Index y, x0, x, height, by label.\n        const [y0, setY0] = useMap();\n        const [y, setY] = useMap();\n        const [h, setH] = useMap();\n        const [xx, setXX] = useMap();\n        for (const label of labels) {\n            const { min, max } = getBoundsWithoutConnector(label);\n            const [x0, y0] = min;\n            const [x1, y1] = max;\n            setY0(label, y0);\n            setY(label, y0);\n            setH(label, y1 - y0);\n            setXX(label, [x0, x1]);\n        }\n        // Offsets position Y.\n        for (let iter = 0; iter < maxIterations; iter++) {\n            labels.sort((a, b) => ascending(y(a), y(b)));\n            let error = 0;\n            for (let i = 0; i < n - 1; i++) {\n                const l0 = labels[i];\n                let j = i + 1;\n                let l1;\n                // Find the next label overlapping with the current label in x direction.\n                while ((l1 = labels[j]) && !isSegmentIntersect(xx(l0), xx(l1)))\n                    j += 1;\n                if (l1) {\n                    const y0 = y(l0);\n                    const h0 = h(l0);\n                    const y1 = y(l1);\n                    const delta = y1 - (y0 + h0);\n                    if (delta < padding) {\n                        const newDelta = (padding - delta) / 2;\n                        error = Math.max(error, newDelta);\n                        setY(l0, y0 - newDelta);\n                        setY(l1, y1 + newDelta);\n                    }\n                }\n            }\n            if (error < maxError)\n                break;\n        }\n        for (const label of labels) {\n            label.style.y += y(label) - y0(label);\n        }\n        return labels;\n    };\n};\n//# sourceMappingURL=overlapDodgeY.js.map","import { isOverflow, parseAABB } from '../utils/bounds';\nimport { hide, show } from '../utils/style';\n/**\n * Hide the label when the label is overflowed from the element.\n */\nexport const OverflowHide = () => {\n    return (labels) => {\n        labels.forEach((l) => {\n            show(l);\n            const bounds = l.attr('bounds');\n            const b = l.getLocalBounds();\n            const overflow = isOverflow(parseAABB(b), bounds);\n            if (overflow)\n                hide(l);\n        });\n        return labels;\n    };\n};\n//# sourceMappingURL=overflowHide.js.map","import { maxIndex } from '@antv/vendor/d3-array';\nimport { parseToRGB } from '../utils/color';\nfunction getsRGB(s) {\n    let c = s / 255;\n    c = c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);\n    return c;\n}\nfunction getL(r, g, b) {\n    return 0.2126 * getsRGB(r) + 0.7152 * getsRGB(g) + 0.0722 * getsRGB(b);\n}\n/**\n * Calculate the contrast. see https://webaim.org/resources/contrastchecker/\n * @param foreground\n * @param background\n */\nfunction contrast(foreground, background) {\n    if (!foreground || !background || foreground === background)\n        return 1;\n    const { r, g, b } = foreground;\n    const { r: rb, g: gb, b: bb } = background;\n    const L1 = getL(r, g, b);\n    const L2 = getL(rb, gb, bb);\n    return (Math.max(L1, L2) + 0.05) / (Math.min(L1, L2) + 0.05);\n}\n/**\n * Reverse color for max contrast.\n */\nfunction mostContrast(color, palette) {\n    const i = maxIndex(palette, (c) => contrast(color, parseToRGB(c)));\n    return palette[i];\n}\n/**\n * Reverse the label color when the contrast is lower then `threshold`.\n * The default value of `threshold` is 4.5.\n * More about contract, see https://webaim.org/resources/contrastchecker/\n */\nexport const ContrastReverse = (options) => {\n    const { threshold = 4.5, palette = ['#000', '#fff'] } = options;\n    return (labels) => {\n        labels.forEach((l) => {\n            const background = l.attr('dependentElement').parsedStyle.fill;\n            const foreground = l.parsedStyle.fill;\n            const c = contrast(foreground, background);\n            if (c < threshold)\n                l.attr('fill', mostContrast(background, palette));\n        });\n        return labels;\n    };\n};\n//# sourceMappingURL=contrastReverse.js.map","import { parseColor } from '@antv/g';\nexport function parseToRGB(c) {\n    if (typeof c === 'object')\n        return c;\n    return parseColor(c);\n}\n//# sourceMappingURL=color.js.map","import { show } from '../utils/style';\nconst adjustPosition = (target, edge) => {\n    const [[minEdgeX, minEdgeY], [maxEdgeX, maxEdgeY]] = edge;\n    const [[minX, minY], [maxX, maxY]] = target;\n    let changeX = 0, changeY = 0;\n    // x-axis\n    if (minX < minEdgeX) {\n        changeX = minEdgeX - minX;\n    }\n    else if (maxX > maxEdgeX) {\n        changeX = maxEdgeX - maxX;\n    }\n    // y-axis\n    if (minY < minEdgeY) {\n        changeY = minEdgeY - minY;\n    }\n    else if (maxY > maxEdgeY) {\n        changeY = maxEdgeY - maxY;\n    }\n    return [changeX, changeY];\n};\n/**\n * adjust the label when exceed the plot\n */\nexport const ExceedAdjust = () => {\n    return (labels, { canvas, layout }) => {\n        labels.forEach((l) => {\n            show(l);\n            const { max, min } = l.getRenderBounds();\n            const [xMax, yMax] = max, [xMin, yMin] = min;\n            const changeValue = adjustPosition([\n                [xMin, yMin],\n                [xMax, yMax],\n            ], \n            // Prevent label overlap in multiple charts by calculating layouts separately to avoid collisions.\n            [\n                [layout.x, layout.y],\n                [layout.x + layout.width, layout.y + layout.height],\n            ]);\n            // For label with connectorPoints\n            if (l.style.connector && l.style.connectorPoints) {\n                l.style.connectorPoints[0][0] -= changeValue[0];\n                l.style.connectorPoints[0][1] -= changeValue[1];\n            }\n            l.style.x += changeValue[0];\n            l.style.y += changeValue[1];\n        });\n        return labels;\n    };\n};\n//# sourceMappingURL=exceedAdjust.js.map","export default x => x;\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(2),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 2 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Linear } from '@antv/scale';\nimport { upperFirst } from '@antv/util';\nimport { geoPath, geoGraticule10 } from '@antv/vendor/d3-geo';\nimport { maybeTooltip } from '../utils/mark';\nimport * as d3Projection from './d3Projection';\n/**\n * Get projection factory from d3-projection.\n */\nfunction normalizeProjection(type) {\n    if (typeof type === 'function')\n        return type;\n    const name = `geo${upperFirst(type)}`;\n    const projection = d3Projection[name];\n    if (!projection)\n        throw new Error(`Unknown coordinate: ${type}`);\n    return projection;\n}\n/**\n * @see https://github.com/mapbox/geojson-merge/blob/master/index.js\n */\nfunction mergeGeoJSON(gjs) {\n    return {\n        type: 'FeatureCollection',\n        features: gjs.flatMap((gj) => normalizeGeoJSON(gj).features),\n    };\n}\nfunction normalizeGeoJSON(gj) {\n    const types = {\n        Point: 'geometry',\n        MultiPoint: 'geometry',\n        LineString: 'geometry',\n        MultiLineString: 'geometry',\n        Polygon: 'geometry',\n        MultiPolygon: 'geometry',\n        GeometryCollection: 'geometry',\n        Feature: 'feature',\n        FeatureCollection: 'featureCollection',\n    };\n    if (!gj || !gj.type)\n        return null;\n    const type = types[gj.type];\n    if (!type)\n        return null;\n    if (type === 'geometry') {\n        return {\n            type: 'FeatureCollection',\n            features: [\n                {\n                    type: 'Feature',\n                    properties: {},\n                    geometry: gj,\n                },\n            ],\n        };\n    }\n    else if (type === 'feature') {\n        return {\n            type: 'FeatureCollection',\n            features: [gj],\n        };\n    }\n    else if (type === 'featureCollection') {\n        return gj;\n    }\n}\n/**\n * Specify the options for d3 projection\n * @see https://github.com/d3/d3-geo#projections\n * @todo Specify key each by each.\n */\nfunction setProjectionOptions(projection, options) {\n    var _a;\n    for (const [key, value] of Object.entries(options)) {\n        (_a = projection[key]) === null || _a === void 0 ? void 0 : _a.call(projection, value);\n    }\n}\nfunction setProjectionSize(projection, nodes, layout, options) {\n    const defaultOutline = () => {\n        const geoNodes = nodes.filter(isGeoPath);\n        // For geoPath with sphere mark, use it as outline.\n        const sphere = geoNodes.find((d) => d.sphere);\n        if (sphere)\n            return { type: 'Sphere' };\n        // Merge all GeoJSON as the outline.\n        return mergeGeoJSON(geoNodes.filter((d) => !d.sphere).flatMap((d) => d.data.value));\n    };\n    const { outline = defaultOutline() } = options;\n    const { size = 'fitExtent' } = options;\n    if (size === 'fitExtent') {\n        return setFitExtent(projection, outline, layout);\n    }\n    else if (size === 'fitWidth') {\n        return setFitWidth(projection, outline, layout);\n    }\n}\nfunction setFitExtent(projection, object, layout) {\n    const { x, y, width, height } = layout;\n    projection.fitExtent([\n        [x, y],\n        [width, height],\n    ], object);\n}\nfunction setFitWidth(projection, object, layout) {\n    const { width, height } = layout;\n    const [[x0, y0], [x1, y1]] = geoPath(projection.fitWidth(width, object)).bounds(object);\n    const dy = Math.ceil(y1 - y0);\n    const l = Math.min(Math.ceil(x1 - x0), dy);\n    const s = (projection.scale() * (l - 1)) / l;\n    const [tx, ty] = projection.translate();\n    const t = ty + (height - dy) / 2;\n    projection.scale(s).translate([tx, t]).precision(0.2);\n}\n/**\n * @todo Remove this.\n */\nfunction normalizeDataSource(node) {\n    const { data } = node;\n    if (Array.isArray(data))\n        return Object.assign(Object.assign({}, node), { data: { value: data } });\n    const { type } = data;\n    if (type === 'graticule10') {\n        return Object.assign(Object.assign({}, node), { data: { value: [geoGraticule10()] } });\n    }\n    else if (type === 'sphere') {\n        // Sphere is not a standard type of GeoJSON.\n        // Mark this geoPath as sphere geoPath.\n        return Object.assign(Object.assign({}, node), { sphere: true, data: { value: [{ type: 'Sphere' }] } });\n    }\n    return node;\n}\nfunction isGeoPath(d) {\n    return d.type === 'geoPath';\n}\n/**\n * A view with geo coordinate.\n */\nexport const GeoView = () => {\n    return (options) => {\n        const { children, coordinate: projection = {} } = options;\n        if (!Array.isArray(children))\n            return [];\n        // Get projection factory.\n        const { type = 'equalEarth' } = projection, projectionOptions = __rest(projection, [\"type\"]);\n        const createProjection = normalizeProjection(type);\n        const nodes = children.map(normalizeDataSource);\n        // Set path generator lazily.\n        let path;\n        // A custom geo coordinate.\n        function Geo() {\n            return [\n                [\n                    'custom',\n                    (x, y, width, height) => {\n                        // Create and set projection.\n                        const visual = createProjection();\n                        const layout = { x, y, width, height };\n                        setProjectionSize(visual, nodes, layout, projectionOptions);\n                        setProjectionOptions(visual, projectionOptions);\n                        // Create path generator.\n                        path = geoPath(visual);\n                        // Normalize projection and projection.invert,\n                        // which normalize projected points.\n                        const scaleX = new Linear({\n                            domain: [x, x + width],\n                        });\n                        const scaleY = new Linear({\n                            domain: [y, y + height],\n                        });\n                        const normalize = (point) => {\n                            const visualPoint = visual(point);\n                            if (!visualPoint)\n                                return [null, null];\n                            const [vx, vy] = visualPoint;\n                            return [scaleX.map(vx), scaleY.map(vy)];\n                        };\n                        const normalizeInvert = (point) => {\n                            if (!point)\n                                return null;\n                            const [px, py] = point;\n                            const visualPoint = [scaleX.invert(px), scaleY.invert(py)];\n                            return visual.invert(visualPoint);\n                        };\n                        return {\n                            transform: (point) => normalize(point),\n                            untransform: (point) => normalizeInvert(point),\n                        };\n                    },\n                ],\n            ];\n        }\n        function GeoPath(options) {\n            const { style, tooltip = {} } = options;\n            return Object.assign(Object.assign({}, options), { type: 'path', tooltip: maybeTooltip(tooltip, {\n                    title: 'id',\n                    items: [{ channel: 'color' }],\n                }), style: Object.assign(Object.assign({}, style), { d: (d) => path(d) || [] }) });\n        }\n        const t = (d) => (isGeoPath(d) ? GeoPath(d) : d);\n        return [\n            Object.assign(Object.assign({}, options), { type: 'view', scale: {\n                    x: { type: 'identity' },\n                    y: { type: 'identity' },\n                }, axis: false, coordinate: { type: Geo }, children: nodes.flatMap(t) }),\n        ];\n    };\n};\nGeoView.props = {};\n//# sourceMappingURL=geoView.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/**\n * Wrap GeoPath by a GeoView.\n */\nexport const GeoPath = () => {\n    return (options) => {\n        const { type, data, scale, encode, style, animate, key, state } = options, rest = __rest(options, [\"type\", \"data\", \"scale\", \"encode\", \"style\", \"animate\", \"key\", \"state\"]);\n        return [\n            Object.assign(Object.assign({ type: 'geoView' }, rest), { children: [\n                    {\n                        type: 'geoPath',\n                        key: `${key}-0`,\n                        data: {\n                            value: data,\n                        },\n                        scale,\n                        encode,\n                        style,\n                        animate,\n                        state,\n                    },\n                ] }),\n        ];\n    };\n};\nGeoPath.props = {};\n//# sourceMappingURL=geoPath.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { forceSimulation, forceManyBody, forceLink, forceX, forceY, forceCenter, } from '@antv/vendor/d3-force';\nimport { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { maybeAnimation, subTooltip } from '../utils/mark';\nimport { field, initializeData } from './utils';\nconst DEFAULT_LAYOUT_OPTIONS = {\n    joint: true,\n};\nconst DEFAULT_LINK_OPTIONS = {\n    type: 'link',\n    axis: false,\n    legend: false,\n    encode: {\n        x: [(d) => d.source.x, (d) => d.target.x],\n        y: [(d) => d.source.y, (d) => d.target.y],\n    },\n    style: {\n        stroke: '#999',\n        strokeOpacity: 0.6,\n    },\n};\nconst DEFAULT_NODE_OPTIONS = {\n    type: 'point',\n    axis: false,\n    legend: false,\n    encode: {\n        x: 'x',\n        y: 'y',\n        size: 5,\n        color: 'group',\n        shape: 'point',\n    },\n    style: {\n        stroke: '#fff',\n    },\n};\nconst DEFAULT_LABEL_OPTIONS = {\n    text: '',\n};\nfunction dataTransform(data, layout, encode) {\n    const { nodes, links } = data;\n    const { joint, nodeStrength, linkStrength } = layout;\n    const { nodeKey = (d) => d.id, linkKey = (d) => d.id } = encode;\n    const nodeForce = forceManyBody();\n    const linkForce = forceLink(links).id(field(linkKey));\n    typeof nodeStrength === 'function' && nodeForce.strength(nodeStrength);\n    typeof linkStrength === 'function' && linkForce.strength(linkStrength);\n    const simulation = forceSimulation(nodes)\n        .force('link', linkForce)\n        .force('charge', nodeForce);\n    joint\n        ? simulation.force('center', forceCenter())\n        : simulation.force('x', forceX()).force('y', forceY());\n    simulation.stop();\n    const n = Math.ceil(Math.log(simulation.alphaMin()) / Math.log(1 - simulation.alphaDecay()));\n    for (let i = 0; i < n; i++)\n        simulation.tick();\n    return {\n        nodesData: nodes,\n        linksData: links,\n    };\n}\nexport const ForceGraph = (options) => {\n    const { data, encode: e = {}, scale, style = {}, layout = {}, nodeLabels = [], linkLabels = [], animate = {}, tooltip = {}, } = options;\n    const { nodeKey = (d) => d.id, linkKey = (d) => d.id } = e, restEncode = __rest(e, [\"nodeKey\", \"linkKey\"]);\n    const encode = Object.assign({ nodeKey, linkKey }, restEncode);\n    const nodeEncode = subObject(encode, 'node');\n    const linkEncode = subObject(encode, 'link');\n    const { links, nodes } = initializeData(data, encode);\n    const { nodesData, linksData } = dataTransform({ links, nodes }, deepMix({}, DEFAULT_LAYOUT_OPTIONS, layout), encode);\n    const linkTooltip = subTooltip(tooltip, 'link', {\n        items: [\n            (d) => ({ name: 'source', value: field(linkKey)(d.source) }),\n            (d) => ({ name: 'target', value: field(linkKey)(d.target) }),\n        ],\n    });\n    const nodeTooltip = subTooltip(tooltip, 'node', {\n        items: [(d) => ({ name: 'key', value: field(nodeKey)(d) })],\n    }, true);\n    return [\n        deepMix({}, DEFAULT_LINK_OPTIONS, {\n            data: linksData,\n            encode: linkEncode,\n            labels: linkLabels,\n            style: subObject(style, 'link'),\n            tooltip: linkTooltip,\n            animate: maybeAnimation(animate, 'link'),\n        }),\n        deepMix({}, DEFAULT_NODE_OPTIONS, {\n            data: nodesData,\n            encode: Object.assign({}, nodeEncode),\n            scale,\n            style: subObject(style, 'node'),\n            tooltip: nodeTooltip,\n            labels: [\n                Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), subObject(style, 'label')),\n                ...nodeLabels,\n            ],\n            animate: maybeAnimation(animate, 'link'),\n        }),\n    ];\n};\nForceGraph.props = {};\n//# sourceMappingURL=forceGraph.js.map","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","import { cluster, hierarchy } from '@antv/vendor/d3-hierarchy';\nexport const hierarchyFunction = (layoutFunction) => (options) => {\n    return (data) => {\n        const { field = 'value', nodeSize, separation, sortBy, as = ['x', 'y'], } = options;\n        const [x, y] = as;\n        // Process root data.\n        const root = hierarchy(data, (d) => d.children)\n            .sum((d) => d[field])\n            .sort(sortBy);\n        // Layout\n        const c = layoutFunction();\n        c.size([1, 1]);\n        if (nodeSize)\n            c.nodeSize(nodeSize);\n        if (separation)\n            c.separation(separation);\n        c(root);\n        const nodes = [];\n        root.each((node) => {\n            node[x] = node.x;\n            node[y] = node.y;\n            node.name = node.data.name;\n            nodes.push(node);\n        });\n        const edges = root.links();\n        edges.forEach((edge) => {\n            edge[x] = [edge.source[x], edge.target[x]];\n            edge[y] = [edge.source[y], edge.target[y]];\n        });\n        return { nodes, edges };\n    };\n};\nexport const Cluster = (options) => {\n    return hierarchyFunction(cluster)(options);\n};\nCluster.props = {};\n//# sourceMappingURL=cluster.js.map","import { tree } from '@antv/vendor/d3-hierarchy';\nimport { hierarchyFunction } from './cluster';\nexport const Tree = (options) => {\n    return hierarchyFunction(tree)(options);\n};\nTree.props = {};\n//# sourceMappingURL=tree.js.map","import { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { Tree as TreeTransform, } from '../data/tree';\nimport { maybeAnimation, subTooltip } from '../utils/mark';\nconst DEFAULT_LAYOUT_OPTIONS = {\n    sortBy: (a, b) => b.value - a.value,\n};\nconst DEFAULT_NODE_OPTIONS = {\n    axis: false,\n    legend: false,\n    type: 'point',\n    encode: {\n        x: 'x',\n        y: 'y',\n        size: 2,\n        shape: 'point',\n    },\n};\nconst DEFAULT_LINK_OPTIONS = {\n    type: 'link',\n    encode: {\n        x: 'x',\n        y: 'y',\n        shape: 'smooth',\n    },\n};\nconst DEFAULT_LABEL_OPTIONS = {\n    text: '',\n    fontSize: 10,\n};\nexport const Tree = (options) => {\n    const { data, encode = {}, scale = {}, style = {}, layout = {}, nodeLabels = [], linkLabels = [], animate = {}, tooltip = {}, } = options;\n    const valueEncode = encode === null || encode === void 0 ? void 0 : encode.value;\n    const { nodes, edges } = TreeTransform(Object.assign(Object.assign(Object.assign({}, DEFAULT_LAYOUT_OPTIONS), layout), { field: valueEncode }))(data);\n    const nodeTooltip = subTooltip(tooltip, 'node', {\n        title: 'name',\n        items: ['value'],\n    }, true);\n    const linkTooltip = subTooltip(tooltip, 'link', {\n        title: '',\n        items: [\n            (d) => ({ name: 'source', value: d.source.name }),\n            (d) => ({ name: 'target', value: d.target.name }),\n        ],\n    });\n    return [\n        deepMix({}, DEFAULT_LINK_OPTIONS, {\n            data: edges,\n            encode: subObject(encode, 'link'),\n            scale: subObject(scale, 'link'),\n            labels: linkLabels,\n            style: Object.assign({ stroke: '#999' }, subObject(style, 'link')),\n            tooltip: linkTooltip,\n            animate: maybeAnimation(animate, 'link'),\n        }),\n        deepMix({}, DEFAULT_NODE_OPTIONS, {\n            data: nodes,\n            scale: subObject(scale, 'node'),\n            encode: subObject(encode, 'node'),\n            labels: [\n                Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), subObject(style, 'label')),\n                ...nodeLabels,\n            ],\n            style: Object.assign({}, subObject(style, 'node')),\n            tooltip: nodeTooltip,\n            animate: maybeAnimation(animate, 'node'),\n        }),\n    ];\n};\nTree.props = {};\n//# sourceMappingURL=tree.js.map","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {shuffle} from \"../array.js\";\nimport lcg from \"../lcg.js\";\n\nexport default function(circles) {\n  return packEncloseRandom(circles, lcg());\n}\n\nexport function packEncloseRandom(circles, random) {\n  var i = 0, n = (circles = shuffle(Array.from(circles), random)).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(Math.abs(A) > 1e-6 ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array, random) {\n  let m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport lcg from \"../lcg.js\";\nimport {packEncloseRandom} from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packSiblingsRandom(circles, random) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle…\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // “Closeness” is determined by linear distance along the front-chain.\n    // “Ahead” or “behind” is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = packEncloseRandom(a, random);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packSiblingsRandom(circles, lcg());\n  return circles;\n}\n","import {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\nimport lcg from \"../lcg.js\";\nimport {packSiblingsRandom} from \"./siblings.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    const random = lcg();\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildrenRandom(padding, 0.5, random))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildrenRandom(constantZero, 1, random))\n          .eachAfter(packChildrenRandom(padding, root.r / Math.min(dx, dy), random))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildrenRandom(padding, k, random) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packSiblingsRandom(children, random);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, isArray } from '@antv/util';\nimport { stratify, hierarchy, pack as packLayout, } from '@antv/vendor/d3-hierarchy';\nimport { subObject } from '../utils/helper';\nimport { maybeTooltip } from '../utils/mark';\nimport { field } from './utils';\nconst GET_DEFAULT_LAYOUT_OPTIONS = (width, height) => ({\n    size: [width, height],\n    padding: 0,\n    sort: (a, b) => b.value - a.value,\n});\nconst GET_DEFAULT_OPTIONS = (width, height, encode) => ({\n    type: 'point',\n    axis: false,\n    legend: false,\n    scale: {\n        x: { domain: [0, width] },\n        y: { domain: [0, height] },\n        size: { type: 'identity' },\n    },\n    encode: {\n        x: 'x',\n        y: 'y',\n        size: 'r',\n        shape: 'point',\n    },\n    style: {\n        fill: !encode.color ? (d) => (d.height === 0 ? '#ddd' : '#fff') : undefined,\n        stroke: !encode.color ? (d) => (d.height === 0 ? '' : '#000') : undefined,\n    },\n});\nconst DEFAULT_LABEL_OPTIONS = {\n    text: '',\n    position: 'inside',\n    textOverflow: 'clip',\n    wordWrap: true,\n    maxLines: 1,\n    wordWrapWidth: (d) => d.r * 2,\n};\nconst DEFAULT_TOOLTIP_OPTIONS = {\n    title: (d) => d.data.name,\n    items: [{ field: 'value' }],\n};\nconst dataTransform = (data, layout, encode) => {\n    const { value } = encode;\n    const root = isArray(data)\n        ? stratify().path(layout.path)(data)\n        : hierarchy(data);\n    value ? root.sum((d) => field(value)(d)).sort(layout.sort) : root.count();\n    // @ts-ignore\n    packLayout().size(layout.size).padding(layout.padding)(root);\n    return root.descendants();\n};\nexport const Pack = (markOptions, context) => {\n    const { width, height } = context;\n    const { data, encode = {}, scale = {}, style = {}, layout = {}, labels = [], tooltip = {} } = markOptions, resOptions = __rest(markOptions, [\"data\", \"encode\", \"scale\", \"style\", \"layout\", \"labels\", \"tooltip\"]);\n    const DEFAULT_OPTIONS = GET_DEFAULT_OPTIONS(width, height, encode);\n    const transformedData = dataTransform(data, deepMix({}, GET_DEFAULT_LAYOUT_OPTIONS(width, height), layout), deepMix({}, DEFAULT_OPTIONS['encode'], encode));\n    const labelStyle = subObject(style, 'label');\n    return deepMix({}, DEFAULT_OPTIONS, Object.assign(Object.assign({ data: transformedData, encode,\n        scale,\n        style, labels: [\n            Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), labelStyle),\n            ...labels,\n        ] }, resOptions), { tooltip: maybeTooltip(tooltip, DEFAULT_TOOLTIP_OPTIONS), axis: false }));\n};\nPack.props = {};\n//# sourceMappingURL=pack.js.map","import { min } from '@antv/vendor/d3-array';\nfunction targetDepth(d) {\n    return d.target.depth;\n}\nexport function left(node) {\n    return node.depth;\n}\nexport function right(node, n) {\n    return n - 1 - node.height;\n}\nexport function justify(node, n) {\n    return node.sourceLinks.length ? node.depth : n - 1;\n}\nexport function center(node) {\n    return node.targetLinks.length\n        ? node.depth\n        : node.sourceLinks.length\n            ? min(node.sourceLinks, targetDepth) - 1\n            : 0;\n}\n//# sourceMappingURL=align.js.map","export function constant(x) {\n    return function () {\n        return x;\n    };\n}\n//# sourceMappingURL=constant.js.map","import { sum, max, min } from '@antv/vendor/d3-array';\nimport { justify } from './align';\nimport { constant } from './constant';\nfunction ascendingSourceBreadth(a, b) {\n    return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\nfunction ascendingTargetBreadth(a, b) {\n    return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\nfunction ascendingBreadth(a, b) {\n    return a.y0 - b.y0;\n}\nfunction value(d) {\n    return d.value;\n}\nfunction defaultId(d) {\n    return d.index;\n}\nfunction defaultNodes(graph) {\n    return graph.nodes;\n}\nfunction defaultLinks(graph) {\n    return graph.links;\n}\nfunction find(nodeById, id) {\n    const node = nodeById.get(id);\n    if (!node)\n        throw new Error('missing: ' + id);\n    return node;\n}\nfunction computeLinkBreadths({ nodes }) {\n    for (const node of nodes) {\n        let y0 = node.y0;\n        let y1 = y0;\n        for (const link of node.sourceLinks) {\n            link.y0 = y0 + link.width / 2;\n            y0 += link.width;\n        }\n        for (const link of node.targetLinks) {\n            link.y1 = y1 + link.width / 2;\n            y1 += link.width;\n        }\n    }\n}\nexport function Sankey() {\n    let x0 = 0, y0 = 0, x1 = 1, y1 = 1; // extent\n    let dx = 24; // nodeWidth\n    let dy = 8, py; // nodePadding\n    let id = defaultId;\n    let align = justify;\n    let depth;\n    let sort;\n    let linkSort;\n    let nodes = defaultNodes;\n    let links = defaultLinks;\n    let iterations = 6;\n    function sankey(arg) {\n        const graph = {\n            nodes: nodes(arg),\n            links: links(arg),\n        };\n        computeNodeLinks(graph);\n        computeNodeValues(graph);\n        computeNodeDepths(graph);\n        computeNodeHeights(graph);\n        computeNodeBreadths(graph);\n        computeLinkBreadths(graph);\n        return graph;\n    }\n    sankey.update = function (graph) {\n        computeLinkBreadths(graph);\n        return graph;\n    };\n    sankey.nodeId = function (_) {\n        return arguments.length\n            ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey)\n            : id;\n    };\n    sankey.nodeAlign = function (_) {\n        return arguments.length\n            ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey)\n            : align;\n    };\n    sankey.nodeDepth = function (_) {\n        return arguments.length\n            ? ((depth = typeof _ === 'function' ? _ : _), sankey)\n            : depth;\n    };\n    sankey.nodeSort = function (_) {\n        return arguments.length ? ((sort = _), sankey) : sort;\n    };\n    sankey.nodeWidth = function (_) {\n        return arguments.length ? ((dx = +_), sankey) : dx;\n    };\n    sankey.nodePadding = function (_) {\n        return arguments.length ? ((dy = py = +_), sankey) : dy;\n    };\n    sankey.nodes = function (_) {\n        return arguments.length\n            ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey)\n            : nodes;\n    };\n    sankey.links = function (_) {\n        return arguments.length\n            ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey)\n            : links;\n    };\n    sankey.linkSort = function (_) {\n        return arguments.length ? ((linkSort = _), sankey) : linkSort;\n    };\n    sankey.size = function (_) {\n        return arguments.length\n            ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey)\n            : [x1 - x0, y1 - y0];\n    };\n    sankey.extent = function (_) {\n        return arguments.length\n            ? ((x0 = +_[0][0]),\n                (x1 = +_[1][0]),\n                (y0 = +_[0][1]),\n                (y1 = +_[1][1]),\n                sankey)\n            : [\n                [x0, y0],\n                [x1, y1],\n            ];\n    };\n    sankey.iterations = function (_) {\n        return arguments.length ? ((iterations = +_), sankey) : iterations;\n    };\n    function computeNodeLinks({ nodes, links }) {\n        nodes.forEach((node, idx) => {\n            node.index = idx;\n            node.sourceLinks = [];\n            node.targetLinks = [];\n        });\n        const nodeById = new Map(nodes.map((d) => [id(d), d]));\n        links.forEach((link, idx) => {\n            link.index = idx;\n            let { source, target } = link;\n            if (typeof source !== 'object')\n                source = link.source = find(nodeById, source);\n            if (typeof target !== 'object')\n                target = link.target = find(nodeById, target);\n            source.sourceLinks.push(link);\n            target.targetLinks.push(link);\n        });\n        if (linkSort != null) {\n            for (const { sourceLinks, targetLinks } of nodes) {\n                sourceLinks.sort(linkSort);\n                targetLinks.sort(linkSort);\n            }\n        }\n    }\n    function computeNodeValues({ nodes }) {\n        for (const node of nodes) {\n            node.value =\n                node.fixedValue === undefined\n                    ? Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value))\n                    : node.fixedValue;\n        }\n    }\n    function computeNodeDepths({ nodes }) {\n        const n = nodes.length;\n        let current = new Set(nodes);\n        let next = new Set();\n        let x = 0;\n        while (current.size) {\n            current.forEach((node) => {\n                node.depth = x;\n                for (const { target } of node.sourceLinks) {\n                    next.add(target);\n                }\n            });\n            if (++x > n)\n                throw new Error('circular link');\n            current = next;\n            next = new Set();\n        }\n        // 如果配置了 depth，则设置自定义 depth\n        if (depth) {\n            const maxDepth = Math.max(max(nodes, (d) => d.depth) + 1, 0);\n            let node;\n            for (let i = 0; i < nodes.length; i++) {\n                node = nodes[i];\n                node.depth = depth.call(null, node, maxDepth);\n            }\n        }\n    }\n    function computeNodeHeights({ nodes }) {\n        const n = nodes.length;\n        let current = new Set(nodes);\n        let next = new Set();\n        let x = 0;\n        while (current.size) {\n            current.forEach((node) => {\n                node.height = x;\n                for (const { source } of node.targetLinks) {\n                    next.add(source);\n                }\n            });\n            if (++x > n)\n                throw new Error('circular link');\n            current = next;\n            next = new Set();\n        }\n    }\n    function computeNodeLayers({ nodes }) {\n        const x = Math.max(max(nodes, (d) => d.depth) + 1, 0);\n        const kx = (x1 - x0 - dx) / (x - 1);\n        const columns = new Array(x).fill(0).map(() => []);\n        for (const node of nodes) {\n            const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n            node.layer = i;\n            node.x0 = x0 + i * kx;\n            node.x1 = node.x0 + dx;\n            if (columns[i])\n                columns[i].push(node);\n            else\n                columns[i] = [node];\n        }\n        if (sort)\n            for (const column of columns) {\n                column.sort(sort);\n            }\n        return columns;\n    }\n    function initializeNodeBreadths(columns) {\n        const ky = min(columns, (c) => (y1 - y0 - (c.length - 1) * py) / sum(c, value));\n        for (const nodes of columns) {\n            let y = y0;\n            for (const node of nodes) {\n                node.y0 = y;\n                node.y1 = y + node.value * ky;\n                y = node.y1 + py;\n                for (const link of node.sourceLinks) {\n                    link.width = link.value * ky;\n                }\n            }\n            y = (y1 - y + py) / (nodes.length + 1);\n            for (let i = 0; i < nodes.length; ++i) {\n                const node = nodes[i];\n                node.y0 += y * (i + 1);\n                node.y1 += y * (i + 1);\n            }\n            reorderLinks(nodes);\n        }\n    }\n    function computeNodeBreadths(graph) {\n        const columns = computeNodeLayers(graph);\n        py = Math.min(dy, (y1 - y0) / (max(columns, (c) => c.length) - 1));\n        initializeNodeBreadths(columns);\n        for (let i = 0; i < iterations; ++i) {\n            const alpha = Math.pow(0.99, i);\n            const beta = Math.max(1 - alpha, (i + 1) / iterations);\n            relaxRightToLeft(columns, alpha, beta);\n            relaxLeftToRight(columns, alpha, beta);\n        }\n    }\n    // Reposition each node based on its incoming (target) links.\n    function relaxLeftToRight(columns, alpha, beta) {\n        for (let i = 1, n = columns.length; i < n; ++i) {\n            const column = columns[i];\n            for (const target of column) {\n                let y = 0;\n                let w = 0;\n                for (const { source, value } of target.targetLinks) {\n                    const v = value * (target.layer - source.layer);\n                    y += targetTop(source, target) * v;\n                    w += v;\n                }\n                if (!(w > 0))\n                    continue;\n                const dy = (y / w - target.y0) * alpha;\n                target.y0 += dy;\n                target.y1 += dy;\n                reorderNodeLinks(target);\n            }\n            if (sort === undefined)\n                column.sort(ascendingBreadth);\n            if (column.length)\n                resolveCollisions(column, beta);\n        }\n    }\n    // Reposition each node based on its outgoing (source) links.\n    function relaxRightToLeft(columns, alpha, beta) {\n        for (let n = columns.length, i = n - 2; i >= 0; --i) {\n            const column = columns[i];\n            for (const source of column) {\n                let y = 0;\n                let w = 0;\n                for (const { target, value } of source.sourceLinks) {\n                    const v = value * (target.layer - source.layer);\n                    y += sourceTop(source, target) * v;\n                    w += v;\n                }\n                if (!(w > 0))\n                    continue;\n                const dy = (y / w - source.y0) * alpha;\n                source.y0 += dy;\n                source.y1 += dy;\n                reorderNodeLinks(source);\n            }\n            if (sort === undefined)\n                column.sort(ascendingBreadth);\n            if (column.length)\n                resolveCollisions(column, beta);\n        }\n    }\n    function resolveCollisions(nodes, alpha) {\n        const i = nodes.length >> 1;\n        const subject = nodes[i];\n        resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n        resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n        resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n        resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n    }\n    // Push any overlapping nodes down.\n    function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n        for (; i < nodes.length; ++i) {\n            const node = nodes[i];\n            const dy = (y - node.y0) * alpha;\n            if (dy > 1e-6)\n                (node.y0 += dy), (node.y1 += dy);\n            y = node.y1 + py;\n        }\n    }\n    // Push any overlapping nodes up.\n    function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n        for (; i >= 0; --i) {\n            const node = nodes[i];\n            const dy = (node.y1 - y) * alpha;\n            if (dy > 1e-6)\n                (node.y0 -= dy), (node.y1 -= dy);\n            y = node.y0 - py;\n        }\n    }\n    function reorderNodeLinks({ sourceLinks, targetLinks }) {\n        if (linkSort === undefined) {\n            for (const { source: { sourceLinks }, } of targetLinks) {\n                sourceLinks.sort(ascendingTargetBreadth);\n            }\n            for (const { target: { targetLinks }, } of sourceLinks) {\n                targetLinks.sort(ascendingSourceBreadth);\n            }\n        }\n    }\n    function reorderLinks(nodes) {\n        if (linkSort === undefined) {\n            for (const { sourceLinks, targetLinks } of nodes) {\n                sourceLinks.sort(ascendingTargetBreadth);\n                targetLinks.sort(ascendingSourceBreadth);\n            }\n        }\n    }\n    // Returns the target.y0 that would produce an ideal link from source to target.\n    function targetTop(source, target) {\n        let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n        for (const { target: node, width } of source.sourceLinks) {\n            if (node === target)\n                break;\n            y += width + py;\n        }\n        for (const { source: node, width } of target.targetLinks) {\n            if (node === source)\n                break;\n            y -= width;\n        }\n        return y;\n    }\n    // Returns the source.y0 that would produce an ideal link from source to target.\n    function sourceTop(source, target) {\n        let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n        for (const { source: node, width } of target.targetLinks) {\n            if (node === source)\n                break;\n            y += width + py;\n        }\n        for (const { target: node, width } of source.sourceLinks) {\n            if (node === target)\n                break;\n            y -= width;\n        }\n        return y;\n    }\n    return sankey;\n}\n//# sourceMappingURL=sankey.js.map","import { sankey, left, right, center, justify } from './utils/d3-sankey';\nconst DEFAULT_OPTIONS = {\n    nodeAlign: 'justify',\n    nodeWidth: 0.008,\n    nodePadding: 0.03,\n    nodes: (graph) => graph.nodes,\n    links: (graph) => graph.links,\n    nodeSort: undefined,\n    linkSort: undefined,\n    iterations: 6,\n};\nconst ALIGN_METHOD = {\n    left,\n    right,\n    center,\n    justify,\n};\nfunction getNodeAlignFunction(nodeAlign) {\n    const type = typeof nodeAlign;\n    if (type === 'string')\n        return ALIGN_METHOD[nodeAlign] || justify;\n    if (type === 'function')\n        return nodeAlign;\n    return justify;\n}\n/**\n * Compute the node and edge position, return a graph representing the Sankey layout. All will be normalized to [[0, 0], [1, 1]]\n * Required graph data (nodes, edges)\n */\nexport const Sankey = (options) => {\n    return (data) => {\n        const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth, nodes: nodeNodes, links: nodeLinks, linkSort, iterations, } = Object.assign({}, DEFAULT_OPTIONS, options);\n        const sankeyProcessor = sankey()\n            .nodeSort(nodeSort)\n            .linkSort(linkSort)\n            .links(nodeLinks)\n            .nodes(nodeNodes)\n            .nodeWidth(nodeWidth)\n            .nodePadding(nodePadding)\n            .nodeDepth(nodeDepth)\n            .nodeAlign(getNodeAlignFunction(nodeAlign))\n            .iterations(iterations)\n            .extent([\n            [0, 0],\n            [1, 1],\n        ]);\n        if (typeof nodeId === 'function') {\n            sankeyProcessor.nodeId(nodeId);\n        }\n        const layoutData = sankeyProcessor(data);\n        const { nodes: N, links: L } = layoutData;\n        const nodes = N.map((node) => {\n            const { x0, x1, y0, y1 } = node;\n            /* points\n             * 3---2\n             * |   |\n             * 0---1\n             */\n            return Object.assign(Object.assign({}, node), { x: [x0, x1, x1, x0], y: [y0, y0, y1, y1] });\n        });\n        const links = L.map((edge) => {\n            const { source, target } = edge;\n            const sx = source.x1;\n            const tx = target.x0;\n            const offset = edge.width / 2;\n            return Object.assign(Object.assign({}, edge), { x: [sx, sx, tx, tx], y: [\n                    edge.y0 + offset,\n                    edge.y0 - offset,\n                    edge.y1 + offset,\n                    edge.y1 - offset,\n                ] });\n        });\n        return { nodes, links };\n    };\n};\nSankey.props = {};\n//# sourceMappingURL=sankey.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { Sankey as SankeyTransform } from '../data/sankey';\nimport { subObject } from '../utils/helper';\nimport { subTooltip, maybeAnimation } from '../utils/mark';\nimport { field, initializeData } from './utils';\nconst DEFAULT_LAYOUT_OPTIONS = {\n    nodeId: (d) => d.key,\n    nodeWidth: 0.02,\n    nodePadding: 0.02,\n};\nconst DEFAULT_NODE_OPTIONS = {\n    type: 'polygon',\n    axis: false,\n    legend: false,\n    encode: {\n        shape: 'polygon',\n        x: 'x',\n        y: 'y',\n    },\n    scale: {\n        x: { type: 'identity' },\n        y: { type: 'identity' },\n    },\n    style: {\n        stroke: '#000',\n    },\n};\nconst DEFAULT_LINK_OPTIONS = {\n    type: 'polygon',\n    axis: false,\n    legend: false,\n    encode: {\n        shape: 'ribbon',\n        x: 'x',\n        y: 'y',\n    },\n    style: {\n        fillOpacity: 0.5,\n        stroke: undefined,\n    },\n};\nconst DEFAULT_LABEL_OPTIONS = {\n    textAlign: (d) => (d.x[0] < 0.5 ? 'start' : 'end'),\n    position: (d) => (d.x[0] < 0.5 ? 'right' : 'left'),\n    fontSize: 10,\n};\n/**\n * @todo Add interaction\n * @todo Add source-link color mode\n */\nexport const Sankey = (options) => {\n    const { data, encode = {}, scale, style = {}, layout = {}, nodeLabels = [], linkLabels = [], animate = {}, tooltip = {}, interaction, } = options;\n    // Initialize data, generating nodes by link if is not specified.\n    const { links, nodes } = initializeData(data, encode);\n    // Extract encode for node and link.\n    const nodeEncode = subObject(encode, 'node');\n    const linkEncode = subObject(encode, 'link');\n    const { key: nodeKey = (d) => d.key, color = nodeKey } = nodeEncode;\n    // Transform data, using nodeKey as nodeId.\n    const { links: linkData, nodes: nodeData } = SankeyTransform(Object.assign(Object.assign(Object.assign({}, DEFAULT_LAYOUT_OPTIONS), { nodeId: field(nodeKey) }), layout))({ links, nodes });\n    // Extract label style and apply defaults.\n    const _a = subObject(style, 'label'), { text = nodeKey, spacing = 5 } = _a, labelStyle = __rest(_a, [\"text\", \"spacing\"]);\n    const key1 = field(nodeKey);\n    const nodeTooltip = subTooltip(tooltip, 'node', {\n        title: key1,\n        items: [{ field: 'value' }],\n    }, true);\n    const linkTooltip = subTooltip(tooltip, 'link', {\n        title: '',\n        items: [\n            (d) => ({ name: 'source', value: key1(d.source) }),\n            (d) => ({ name: 'target', value: key1(d.target) }),\n        ],\n    });\n    return [\n        deepMix({}, DEFAULT_NODE_OPTIONS, {\n            data: nodeData,\n            encode: Object.assign(Object.assign({}, nodeEncode), { color }),\n            scale,\n            style: subObject(style, 'node'),\n            labels: [\n                Object.assign(Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), { text, dx: (d) => (d.x[0] < 0.5 ? spacing : -spacing) }), labelStyle),\n                ...nodeLabels,\n            ],\n            tooltip: nodeTooltip,\n            animate: maybeAnimation(animate, 'node'),\n            axis: false,\n            interaction,\n        }),\n        deepMix({}, DEFAULT_LINK_OPTIONS, {\n            data: linkData,\n            encode: linkEncode,\n            labels: linkLabels,\n            style: Object.assign({ fill: linkEncode.color ? undefined : '#aaa', lineWidth: 0 }, subObject(style, 'link')),\n            tooltip: linkTooltip,\n            animate: maybeAnimation(animate, 'link'),\n            interaction,\n        }),\n    ];\n};\nSankey.props = {};\n//# sourceMappingURL=sankey.js.map","export function weight(a, b) {\n    return b.value - a.value;\n}\nexport function frequency(a, b) {\n    return b.frequency - a.frequency;\n}\nexport function id(a, b) {\n    return `${a.id}`.localeCompare(`${b.id}`);\n}\nexport function name(a, b) {\n    return `${a.name}`.localeCompare(`${b.name}`);\n}\n//# sourceMappingURL=sort.js.map","import { group, sum } from '@antv/vendor/d3-array';\nimport { error } from '../../../utils/helper';\nimport * as SortMethods from './sort';\nconst DEFAULT_OPTIONS = {\n    y: 0,\n    thickness: 0.05,\n    weight: false,\n    marginRatio: 0.1,\n    id: (node) => node.id,\n    source: (edge) => edge.source,\n    target: (edge) => edge.target,\n    sourceWeight: (edge) => edge.value || 1,\n    targetWeight: (edge) => edge.value || 1,\n    sortBy: null,\n};\n/**\n * Layout for Arc / Chord diagram with d3 style.\n */\nexport function Arc(options) {\n    const { y, thickness, weight, marginRatio, id, source, target, sourceWeight, targetWeight, sortBy, } = Object.assign(Object.assign({}, DEFAULT_OPTIONS), options);\n    function arc(data) {\n        // Clone first.\n        const nodes = data.nodes.map((n) => (Object.assign({}, n)));\n        const edges = data.edges.map((n) => (Object.assign({}, n)));\n        // Keep reference in below functions.\n        preprocess(nodes, edges);\n        sortNodes(nodes, edges);\n        layoutNodes(nodes, edges);\n        layoutEdges(nodes, edges);\n        return { nodes, edges };\n    }\n    /**\n     * Calculate id, value, frequency for node, and source,target for edge.\n     */\n    function preprocess(nodes, edges) {\n        edges.forEach((edge) => {\n            edge.source = source(edge);\n            edge.target = target(edge);\n            edge.sourceWeight = sourceWeight(edge);\n            edge.targetWeight = targetWeight(edge);\n        });\n        // Group edges by source, target.\n        const edgesBySource = group(edges, (e) => e.source);\n        const edgesByTarget = group(edges, (e) => e.target);\n        nodes.forEach((node) => {\n            node.id = id(node);\n            const sources = edgesBySource.has(node.id)\n                ? edgesBySource.get(node.id)\n                : [];\n            const targets = edgesByTarget.has(node.id)\n                ? edgesByTarget.get(node.id)\n                : [];\n            node.frequency = sources.length + targets.length;\n            node.value =\n                sum(sources, (d) => d.sourceWeight) +\n                    sum(targets, (d) => d.targetWeight);\n        });\n        return { nodes, edges };\n    }\n    function sortNodes(nodes, edges) {\n        const method = typeof sortBy === 'function' ? sortBy : SortMethods[sortBy];\n        if (method) {\n            nodes.sort(method);\n        }\n    }\n    function layoutNodes(nodes, edges) {\n        const size = nodes.length;\n        if (!size) {\n            throw error(\"Invalid nodes: it's empty!\");\n        }\n        // No weight.\n        if (!weight) {\n            const deltaX = 1 / size;\n            nodes.forEach((node, i) => {\n                node.x = (i + 0.5) * deltaX;\n                node.y = y;\n            });\n            return { nodes, edges };\n        }\n        // todo: marginRatio should be in [0, 1)\n        // todo: thickness shoule be in (0, 1)\n        const margin = marginRatio / (2 * size);\n        const total = nodes.reduce((prev, node) => (prev += node.value), 0);\n        nodes.reduce((deltaX, node) => {\n            node.weight = node.value / total;\n            node.width = node.weight * (1 - marginRatio);\n            node.height = thickness;\n            /* points\n             * 3---2\n             * |   |\n             * 0---1\n             */\n            const minX = margin + deltaX;\n            const maxX = minX + node.width;\n            const minY = y - thickness / 2;\n            const maxY = minY + thickness;\n            node.x = [minX, maxX, maxX, minX];\n            node.y = [minY, minY, maxY, maxY];\n            // Return next deltaX.\n            return deltaX + node.width + 2 * margin;\n        }, 0);\n        return {\n            nodes,\n            edges,\n        };\n    }\n    /**\n     * Get edge layout information from nodes, and save into edge object.\n     */\n    function layoutEdges(nodes, edges) {\n        const nodesMap = new Map(nodes.map((d) => [d.id, d]));\n        if (!weight) {\n            edges.forEach((edge) => {\n                const sourceId = source(edge);\n                const targetId = target(edge);\n                const sourceNode = nodesMap.get(sourceId);\n                const targetNode = nodesMap.get(targetId);\n                // Edge's layout information is Equal with node.\n                if (sourceNode && targetNode) {\n                    edge.x = [sourceNode.x, targetNode.x];\n                    edge.y = [sourceNode.y, targetNode.y];\n                }\n            });\n            return { nodes, edges };\n        }\n        // Initial edge.x, edge.y.\n        edges.forEach((edge) => {\n            edge.x = [0, 0, 0, 0];\n            edge.y = [y, y, y, y];\n        });\n        // Group edges by source, target.\n        const edgesBySource = group(edges, (e) => e.source);\n        const edgesByTarget = group(edges, (e) => e.target);\n        // When weight = true, we need to calculation the bbox of edge start/end.\n        nodes.forEach((node) => {\n            const { edges, width, x, y, value, id } = node;\n            const sourceEdges = edgesBySource.get(id) || [];\n            const targetEdges = edgesByTarget.get(id) || [];\n            let offset = 0;\n            /* points\n             * 0----------2\n             * |          |\n             * 1----------3\n             */\n            sourceEdges.map((edge) => {\n                const w = (edge.sourceWeight / value) * width;\n                edge.x[0] = x[0] + offset;\n                edge.x[1] = x[0] + offset + w;\n                offset += w;\n            });\n            targetEdges.forEach((edge) => {\n                const w = (edge.targetWeight / value) * width;\n                edge.x[3] = x[0] + offset;\n                edge.x[2] = x[0] + offset + w;\n                offset += w;\n            });\n        });\n    }\n    return arc;\n}\n//# sourceMappingURL=arc.js.map","import { Arc as ArcLayout } from '../data/utils/arc';\n/**\n * For arc diagram(edge with weight) or chord diagram(with weight)\n */\nexport const Arc = (options) => {\n    return (data) => {\n        return ArcLayout(options)(data);\n    };\n};\nArc.props = {};\n//# sourceMappingURL=arc.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { subTooltip, maybeAnimation } from '../utils/mark';\nimport { Arc } from '../data/arc';\nimport { field, initializeData } from './utils';\nconst DEFAULT_LAYOUT_OPTIONS = {\n    y: 0,\n    thickness: 0.05,\n    marginRatio: 0.1,\n    id: (node) => node.key,\n    source: (edge) => edge.source,\n    target: (edge) => edge.target,\n    sourceWeight: (edge) => edge.value || 1,\n    targetWeight: (edge) => edge.value || 1,\n    sortBy: null, // optional, id | weight | frequency | {function}\n};\nconst DEFAULT_NODE_OPTIONS = {\n    type: 'polygon',\n    axis: false,\n    legend: false,\n    encode: {\n        shape: 'polygon',\n        x: 'x',\n        y: 'y',\n    },\n    scale: {\n        x: { type: 'identity' },\n        y: { type: 'identity' },\n    },\n    style: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n    },\n};\nconst DEFAULT_LINK_OPTIONS = {\n    type: 'polygon',\n    axis: false,\n    legend: false,\n    encode: {\n        shape: 'ribbon',\n        x: 'x',\n        y: 'y',\n    },\n    style: {\n        opacity: 0.5,\n        lineWidth: 1,\n    },\n};\nconst DEFAULT_LABEL_OPTIONS = {\n    position: 'outside',\n    fontSize: 10,\n};\nexport const Chord = (options, context) => {\n    const { data, encode = {}, scale, style = {}, layout = {}, nodeLabels = [], linkLabels = [], animate = {}, tooltip = {}, } = options;\n    // Initialize data, generating nodes by link if is not specified.\n    const { nodes, links } = initializeData(data, encode);\n    // Extract encode for node and link.\n    const nodeEncode = subObject(encode, 'node');\n    const linkEncode = subObject(encode, 'link');\n    const { key: nodeKey = (d) => d.key, color = nodeKey } = nodeEncode;\n    const { linkEncodeColor = (d) => d.source } = linkEncode;\n    const { nodeWidthRatio = DEFAULT_LAYOUT_OPTIONS.thickness, nodePaddingRatio = DEFAULT_LAYOUT_OPTIONS.marginRatio } = layout, restLayout = __rest(layout, [\"nodeWidthRatio\", \"nodePaddingRatio\"]);\n    const { nodes: nodeData, edges: linkData } = Arc(Object.assign(Object.assign(Object.assign(Object.assign({}, DEFAULT_LAYOUT_OPTIONS), { id: field(nodeKey), thickness: nodeWidthRatio, marginRatio: nodePaddingRatio }), restLayout), { weight: true }))({ nodes, edges: links });\n    // Extract label style and apply defaults.\n    const _a = subObject(style, 'label'), { text = nodeKey } = _a, labelStyle = __rest(_a, [\"text\"]);\n    const nodeTooltip = subTooltip(tooltip, 'node', {\n        title: '',\n        items: [(d) => ({ name: d.key, value: d.value })],\n    }, true);\n    const linkTooltip = subTooltip(tooltip, 'link', {\n        title: '',\n        items: [(d) => ({ name: `${d.source} -> ${d.target}`, value: d.value })],\n    });\n    const { height, width } = context;\n    const minimumLen = Math.min(height, width);\n    return [\n        deepMix({}, DEFAULT_LINK_OPTIONS, {\n            data: linkData,\n            encode: Object.assign(Object.assign({}, linkEncode), { color: linkEncodeColor }),\n            labels: linkLabels,\n            style: Object.assign({ fill: linkEncodeColor ? undefined : '#aaa' }, subObject(style, 'link')),\n            tooltip: linkTooltip,\n            animate: maybeAnimation(animate, 'link'),\n        }),\n        deepMix({}, DEFAULT_NODE_OPTIONS, {\n            data: nodeData,\n            encode: Object.assign(Object.assign({}, nodeEncode), { color }),\n            scale,\n            style: subObject(style, 'node'),\n            coordinate: {\n                type: 'polar',\n                // Leave enough rendering space for the label.\n                outerRadius: (minimumLen - 20) / minimumLen,\n                startAngle: -Math.PI * 2,\n                endAngle: 0,\n            },\n            labels: [\n                Object.assign(Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), { text }), labelStyle),\n                ...nodeLabels,\n            ],\n            tooltip: nodeTooltip,\n            animate: maybeAnimation(animate, 'node'),\n            axis: false,\n        }),\n    ];\n};\nChord.props = {};\n//# sourceMappingURL=chord.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, get, last } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { maybeTooltip } from '../utils/mark';\nimport { treeDataTransform } from '../utils/treeDataTransform';\n// Defaults\nconst GET_DEFAULT_LAYOUT_OPTIONS = (width, height) => ({\n    tile: 'treemapSquarify',\n    ratio: 0.5 * (1 + Math.sqrt(5)),\n    size: [width, height],\n    round: false,\n    ignoreParentValue: true,\n    padding: 0,\n    paddingInner: 0,\n    paddingOuter: 0,\n    paddingTop: 0,\n    paddingRight: 0,\n    paddingBottom: 0,\n    paddingLeft: 0,\n    sort: (a, b) => b.value - a.value,\n    layer: 0,\n});\nconst GET_DEFAULT_OPTIONS = (width, height) => ({\n    type: 'rect',\n    axis: false,\n    encode: {\n        x: 'x',\n        y: 'y',\n        key: 'id',\n        color: (d) => d.path[1],\n    },\n    scale: {\n        x: { domain: [0, width], range: [0, 1] },\n        y: { domain: [0, height], range: [0, 1] },\n    },\n    style: {\n        stroke: '#fff',\n    },\n    state: {\n        active: { opacity: 0.6 },\n        inactive: { opacity: 1 },\n    },\n});\nconst DEFAULT_LABEL_OPTIONS = {\n    fontSize: 10,\n    text: (d) => last(d.path),\n    position: 'inside',\n    fill: '#000',\n    textOverflow: 'clip',\n    wordWrap: true,\n    maxLines: 1,\n    wordWrapWidth: (d) => d.x1 - d.x0,\n};\nconst DEFAULT_TOOLTIP_OPTIONS = {\n    title: (d) => { var _a, _b; return (_b = (_a = d.path) === null || _a === void 0 ? void 0 : _a.join) === null || _b === void 0 ? void 0 : _b.call(_a, '.'); },\n    items: [{ field: 'value' }],\n};\nconst DEFAULT_TOOLTIP_OPTIONS_DRILL = {\n    title: (d) => last(d.path),\n    items: [{ field: 'value' }],\n};\nexport const Treemap = (options, context) => {\n    const { width, height, options: markOptions } = context;\n    const { data, encode = {}, scale, style = {}, layout = {}, labels = [], tooltip = {} } = options, resOptions = __rest(options, [\"data\", \"encode\", \"scale\", \"style\", \"layout\", \"labels\", \"tooltip\"]);\n    const treemapDrillDown = get(markOptions, [\n        'interaction',\n        'treemapDrillDown',\n    ]);\n    // Layout\n    const layoutOptions = deepMix({}, GET_DEFAULT_LAYOUT_OPTIONS(width, height), layout, {\n        layer: treemapDrillDown\n            ? (d) => {\n                return d.depth === 1;\n            }\n            : layout.layer,\n    });\n    // Data\n    const [transformedData, transformedDataAll] = treeDataTransform(data, layoutOptions, encode);\n    // Label\n    const labelStyle = subObject(style, 'label');\n    return deepMix({}, GET_DEFAULT_OPTIONS(width, height), Object.assign(Object.assign({ data: transformedData, scale,\n        style, labels: [\n            Object.assign(Object.assign({}, DEFAULT_LABEL_OPTIONS), labelStyle),\n            ...labels,\n        ] }, resOptions), { encode, tooltip: maybeTooltip(tooltip, DEFAULT_TOOLTIP_OPTIONS), axis: false }), treemapDrillDown\n        ? {\n            interaction: Object.assign(Object.assign({}, resOptions.interaction), { treemapDrillDown: treemapDrillDown\n                    ? Object.assign(Object.assign({}, treemapDrillDown), { originData: transformedDataAll, layout: layoutOptions }) : undefined }),\n            encode: Object.assign({ color: (d) => last(d.path) }, encode),\n            tooltip: maybeTooltip(tooltip, DEFAULT_TOOLTIP_OPTIONS_DRILL),\n        }\n        : {});\n};\nTreemap.props = {};\n//# sourceMappingURL=treemap.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { min as d3Min, max as d3Max, quantile, group, } from '@antv/vendor/d3-array';\nimport { subObject } from '../utils/helper';\nimport { maybeAnimation, subTooltip } from '../utils/mark';\nfunction min(I, V) {\n    return d3Min(I, (i) => V[i]);\n}\nfunction max(I, V) {\n    return d3Max(I, (i) => V[i]);\n}\nfunction lower(I, V) {\n    const lo = q1(I, V) * 2.5 - q3(I, V) * 1.5;\n    return d3Min(I, (i) => (V[i] >= lo ? V[i] : NaN));\n}\nfunction q1(I, V) {\n    return quantile(I, 0.25, (i) => V[i]);\n}\nfunction q2(I, V) {\n    return quantile(I, 0.5, (i) => V[i]);\n}\nfunction q3(I, V) {\n    return quantile(I, 0.75, (i) => V[i]);\n}\nfunction upper(I, V) {\n    const hi = q3(I, V) * 2.5 - q1(I, V) * 1.5;\n    return d3Max(I, (i) => (V[i] <= hi ? V[i] : NaN));\n}\n/**\n * Group marks by x and reserve outlier indexes.\n */\nfunction OutlierY() {\n    return (I, mark) => {\n        const { encode } = mark;\n        const { y, x } = encode;\n        const { value: V } = y;\n        const { value: X } = x;\n        const GI = Array.from(group(I, (i) => X[+i]).values());\n        const FI = GI.flatMap((I) => {\n            const lo = lower(I, V);\n            const hi = upper(I, V);\n            return I.filter((i) => V[i] < lo || V[i] > hi);\n        });\n        return [FI, mark];\n    };\n}\nexport const Boxplot = (options) => {\n    const { data, encode, style = {}, tooltip = {}, transform, animate } = options, rest = __rest(options, [\"data\", \"encode\", \"style\", \"tooltip\", \"transform\", \"animate\"]);\n    const { point = true } = style, restStyle = __rest(style, [\"point\"]);\n    const { y } = encode;\n    const encodeY = { y, y1: y, y2: y, y3: y, y4: y };\n    const qy = { y1: q1, y2: q2, y3: q3 };\n    // Tooltips.\n    const boxTooltip = subTooltip(tooltip, 'box', {\n        items: [\n            { channel: 'y', name: 'min' },\n            { channel: 'y1', name: 'q1' },\n            { channel: 'y2', name: 'q2' },\n            { channel: 'y3', name: 'q3' },\n            { channel: 'y4', name: 'max' },\n        ],\n    }, true);\n    const pointTooltip = subTooltip(tooltip, 'point', {\n        title: { channel: 'x' },\n        items: [{ name: 'outlier', channel: 'y' }],\n    });\n    // Only show min and max instead of lower and upper.\n    // Only draw a box.\n    if (!point) {\n        return Object.assign({ type: 'box', data: data, transform: [\n                Object.assign(Object.assign({ type: 'groupX', y: min }, qy), { y4: max }),\n            ], encode: Object.assign(Object.assign({}, encode), encodeY), style: restStyle, tooltip: boxTooltip }, rest);\n    }\n    const boxStyle = subObject(restStyle, 'box');\n    const pointStyle = subObject(restStyle, 'point');\n    return [\n        Object.assign({ type: 'box', data: data, transform: [\n                Object.assign(Object.assign({ type: 'groupX', y: lower }, qy), { y4: upper }),\n            ], encode: Object.assign(Object.assign({}, encode), encodeY), style: boxStyle, tooltip: boxTooltip, animate: maybeAnimation(animate, 'box') }, rest),\n        // Draw outliers.\n        {\n            type: 'point',\n            data: data,\n            transform: [{ type: OutlierY }],\n            encode,\n            style: Object.assign({}, pointStyle),\n            tooltip: pointTooltip,\n            animate: maybeAnimation(animate, 'point'),\n        },\n    ];\n};\nBoxplot.props = {};\n//# sourceMappingURL=boxplot.js.map","import { omit } from '@antv/util';\n// Get point1 point2 radius.\nconst getR = (point1, point2) => {\n    return (Math.sqrt(Math.pow(point1[0] - point2[0], 2) + Math.pow(point1[1] - point2[1], 2)) / 2);\n};\n// Gauge round.\nexport const Round = (options, context) => {\n    if (!context)\n        return;\n    const { coordinate } = context;\n    if (!(coordinate === null || coordinate === void 0 ? void 0 : coordinate.getCenter))\n        return;\n    // Get coordinate center point.\n    const center = coordinate.getCenter();\n    return (points, cfg, defaultCfg) => {\n        const { document } = context.canvas;\n        const { color, index } = cfg;\n        const g = document.createElement('g', {});\n        const minR = getR(points[0], points[1]);\n        const maxR = getR(points[0], center) * 2;\n        /**\n         * MinR small circle radius,  maxR big circle radius.\n         * Draw four arcs.\n         * Style lineWidth and stroke for the time being inset.\n         */\n        const roundPath = document.createElement('path', {\n            style: Object.assign(Object.assign(Object.assign({ d: [\n                    ['M', ...points[0]],\n                    ['A', minR, minR, 0, 1, 0, ...points[1]],\n                    ['A', maxR + minR * 2, maxR + minR * 2, 0, 0, 0, ...points[2]],\n                    ['A', minR, minR, 0, 1, index === 0 ? 0 : 1, ...points[3]],\n                    ['A', maxR, maxR, 0, 0, 1, ...points[0]],\n                    ['Z'],\n                ] }, defaultCfg), omit(options, ['shape', 'last', 'first'])), { fill: color || defaultCfg.color }),\n        });\n        g.appendChild(roundPath);\n        return g;\n    };\n};\n//# sourceMappingURL=round.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, isNumber } from '@antv/util';\nimport { Group } from '@antv/g';\nimport { filterPrefixObject, isUnset, subObject } from '../utils/helper';\nimport { getTransformOptions } from '../utils/coordinate';\nimport { Radial } from '../coordinate';\nimport { applyStyle, getOrigin } from '../shape/utils';\nimport { select } from '../utils/selection';\nimport { GaugeRound } from '../shape';\nconst indicatorShape = (options, context) => {\n    const { shape, radius } = options, style = __rest(options, [\"shape\", \"radius\"]);\n    const pointerStyle = subObject(style, 'pointer');\n    const pinStyle = subObject(style, 'pin');\n    const { shape: pointerShape } = pointerStyle, resPointerStyle = __rest(pointerStyle, [\"shape\"]);\n    const { shape: pinShape } = pinStyle, resPinStyle = __rest(pinStyle, [\"shape\"]);\n    const { coordinate, theme } = context;\n    return (points, value) => {\n        // Invert points.\n        const invertedPoints = points.map((p) => coordinate.invert(p));\n        // Get new coordinate.\n        const [startAngle, endAngle, innerRadius] = getTransformOptions(coordinate, 'polar');\n        const newCoordinate = coordinate.clone();\n        const { color: stroke } = value;\n        const newTransformations = Radial({\n            startAngle,\n            endAngle,\n            innerRadius,\n            outerRadius: radius,\n        });\n        newTransformations.push(['cartesian']);\n        newCoordinate.update({\n            transformations: newTransformations,\n        });\n        const newPoints = invertedPoints.map((p) => newCoordinate.map(p));\n        const [x, y] = getOrigin(newPoints);\n        const [cx, cy] = coordinate.getCenter();\n        const pointerAttrs = Object.assign(Object.assign({ x1: x, y1: y, x2: cx, y2: cy, stroke }, resPointerStyle), style);\n        const pinAttrs = Object.assign(Object.assign({ cx,\n            cy,\n            stroke }, resPinStyle), style);\n        const indicatorGroup = select(new Group());\n        if (!isUnset(pointerShape)) {\n            typeof pointerShape === 'function'\n                ? indicatorGroup.append(() => pointerShape(newPoints, value, newCoordinate, theme))\n                : indicatorGroup.append('line').call(applyStyle, pointerAttrs).node();\n        }\n        if (!isUnset(pinShape)) {\n            typeof pinShape === 'function'\n                ? indicatorGroup.append(() => pinShape(newPoints, value, newCoordinate, theme))\n                : indicatorGroup.append('circle').call(applyStyle, pinAttrs).node();\n        }\n        return indicatorGroup.node();\n    };\n};\nconst DEFAULT_OPTIONS = {\n    coordinate: {\n        type: 'radial',\n        innerRadius: 0.9,\n        outerRadius: 1,\n        startAngle: (-11 / 10) * Math.PI,\n        endAngle: (1 / 10) * Math.PI,\n    },\n    axis: {\n        x: false,\n    },\n    legend: false,\n    tooltip: false,\n    encode: {\n        x: 'x',\n        y: 'y',\n        color: 'color',\n    },\n    scale: {\n        color: {\n            range: ['#30BF78', '#D0D0D0'],\n        },\n    },\n};\nconst DEFAULT_INDICATOR_OPTIONS = {\n    style: {\n        shape: indicatorShape,\n        lineWidth: 4,\n        pointerLineCap: 'round',\n        pinR: 10,\n        pinFill: '#fff',\n        radius: 0.6,\n    },\n};\nconst DEFAULT_TEXT_OPTIONS = {\n    type: 'text',\n    style: {\n        x: '50%',\n        y: '60%',\n        textAlign: 'center',\n        textBaseline: 'middle',\n        fontSize: 20,\n        fontWeight: 800,\n        fill: '#888',\n    },\n    tooltip: false,\n};\nfunction getGaugeData(data) {\n    if (isNumber(data)) {\n        // Percent range [0, 1].\n        const percent = Math.max(0, Math.min(data, 1));\n        return {\n            percent,\n            target: percent,\n            total: 1,\n        };\n    }\n    return data;\n}\nfunction dataTransform(data, scale) {\n    const { name = 'score', target, total, percent, thresholds = [], } = getGaugeData(data);\n    const _target = percent || target;\n    const _total = percent ? 1 : total;\n    const newScale = Object.assign({ y: {\n            domain: [0, _total],\n        } }, scale);\n    if (!thresholds.length) {\n        return {\n            targetData: [{ x: name, y: _target, color: 'target' }],\n            totalData: [\n                { x: name, y: _target, color: 'target' },\n                { x: name, y: _total - _target, color: 'total' },\n            ],\n            target: _target,\n            total: _total,\n            scale: newScale,\n        };\n    }\n    return {\n        targetData: [{ x: name, y: _target, color: 'target' }],\n        totalData: thresholds.map((d, i) => ({\n            x: name,\n            y: i >= 1 ? d - thresholds[i - 1] : d,\n            color: i,\n        })),\n        target: _target,\n        total: _total,\n        scale: newScale,\n    };\n}\nfunction getTextContent(textStyle, { target, total }) {\n    const { content } = textStyle;\n    return content ? content(target, total) : target.toString();\n}\nexport const Gauge = (options) => {\n    const { data = {}, scale = {}, style = {}, animate = {}, transform = [] } = options, resOptions = __rest(options, [\"data\", \"scale\", \"style\", \"animate\", \"transform\"]);\n    const { targetData, totalData, target, total, scale: newScale, } = dataTransform(data, scale);\n    const _a = subObject(style, 'text'), { tooltip } = _a, textStyle = __rest(_a, [\"tooltip\"]);\n    // pointer + pin\n    const indicatorStyle = filterPrefixObject(style, ['pointer', 'pin']);\n    const arcStyle = subObject(style, 'arc');\n    const shape = arcStyle.shape;\n    return [\n        deepMix({}, DEFAULT_OPTIONS, Object.assign({ type: 'interval', transform: [{ type: 'stackY' }], data: totalData, scale: newScale, style: shape === 'round' ? Object.assign(Object.assign({}, arcStyle), { shape: GaugeRound }) : arcStyle, animate: typeof animate === 'object' ? subObject(animate, 'arc') : animate }, resOptions)),\n        deepMix({}, DEFAULT_OPTIONS, DEFAULT_INDICATOR_OPTIONS, Object.assign({ type: 'point', data: targetData, scale: newScale, style: indicatorStyle, animate: typeof animate === 'object' ? subObject(animate, 'indicator') : animate }, resOptions)),\n        deepMix({}, DEFAULT_TEXT_OPTIONS, {\n            style: Object.assign({ text: getTextContent(textStyle, { target, total }) }, textStyle),\n            tooltip,\n            animate: typeof animate === 'object' ? subObject(animate, 'text') : animate,\n        }),\n    ];\n};\nGauge.props = {};\n//# sourceMappingURL=gauge.js.map","const DURATION = 5000;\n/**\n * A function of linear mapping.\n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min, max, factor) {\n    return min + (max - min) * factor;\n}\n/**\n * Using Bessel curve to simulate sine wave.\n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * Whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1).\n *\n * @param x          x position of the left-most point (a).\n * @param stage      0-3, stating which part of the wave it is.\n * @param waveLength wave length of the sine wave.\n * @param amplitude  wave amplitude.\n * @return Sinusoidal segment curve.\n */\nfunction getWaterWavePositions(x, stage, waveLength, amplitude) {\n    if (stage === 0) {\n        return [\n            [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n            [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n            [x + waveLength / 4, amplitude],\n        ];\n    }\n    if (stage === 1) {\n        return [\n            [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n            [\n                x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1),\n                amplitude / 2,\n            ],\n            [x + waveLength / 4, 0],\n        ];\n    }\n    if (stage === 2) {\n        return [\n            [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n            [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n            [x + waveLength / 4, -amplitude],\n        ];\n    }\n    return [\n        [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n        [\n            x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1),\n            -amplitude / 2,\n        ],\n        [x + waveLength / 4, 0],\n    ];\n}\n/**\n * Get wave path.\n * @param radius\n * @param waterLevel      water level\n * @param waveLength      wave length\n * @param phase\n * @param amplitude\n * @param cx              center x\n * @param cy              center y\n * @return path           path\n */\nfunction getWaterWavePath(radius, waterLevel, waveLength, phase, amplitude, cx, cy) {\n    const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n    const path = [];\n    let _phase = phase;\n    // Map phase to [-Math.PI * 2, 0].\n    while (_phase < -Math.PI * 2) {\n        _phase += Math.PI * 2;\n    }\n    while (_phase > 0) {\n        _phase -= Math.PI * 2;\n    }\n    _phase = (_phase / Math.PI / 2) * waveLength;\n    const left = cx - radius + _phase - radius * 2;\n    /**\n     * Top-left corner as start point.\n     *\n     * Draws this point.\n     *  |\n     * \\|/\n     *  ~~~~~~~~\n     *  |      |\n     *  +------+\n     */\n    path.push(['M', left, waterLevel]);\n    /**\n     * Top wave.\n     *\n     * ~~~~~~~~ <- Draws this sine wave.\n     * |      |\n     * +------+\n     */\n    let waveRight = 0;\n    for (let c = 0; c < curves; ++c) {\n        const stage = c % 4;\n        const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n        path.push([\n            'C',\n            pos[0][0] + left,\n            -pos[0][1] + waterLevel,\n            pos[1][0] + left,\n            -pos[1][1] + waterLevel,\n            pos[2][0] + left,\n            -pos[2][1] + waterLevel,\n        ]);\n        if (c === curves - 1) {\n            waveRight = pos[2][0];\n        }\n    }\n    /**\n     * Top-right corner.\n     *\n     *                       ~~~~~~~~\n     * 3. Draws this line. -> |      | <- 1. Draws this line.\n     *                       +------+\n     *                          ^\n     *                          |\n     *                  2. Draws this line.\n     */\n    path.push(['L', waveRight + left, cy + radius]);\n    path.push(['L', left, cy + radius]);\n    path.push(['Z']);\n    return path;\n}\n/**\n * Add wave.\n * @param x           center x\n * @param y           center y\n * @param level       wave level 0～1\n * @param waveCount   wave count\n * @param waveAttrs   style\n * @param group       g\n * @param minY        Minimum height\n * @param radius      radius\n * @param waveLength  wave length\n * @param animation  animation config\n * @param document\n */\nexport function addWave(x, y, level, waveCount, waveAttrs, group, minY, radius, waveLength, animation, document) {\n    // Box property Color width height.\n    const { fill, fillOpacity, opacity } = waveAttrs;\n    // Number of cyclic waveCount.\n    for (let idx = 0; idx < waveCount; idx++) {\n        const factor = waveCount <= 1 ? 1 : idx / (waveCount - 1);\n        const path = getWaterWavePath(radius, minY + radius * level, waveLength, 0, \n        // Amplitude height.\n        radius / 40, x, y);\n        // Create wave path.\n        const wave = document.createElement('path', {\n            style: {\n                d: path,\n                fill,\n                opacity: lerp(0.2, 0.9, factor) * Number(opacity || fillOpacity),\n            },\n        });\n        group.appendChild(wave);\n        try {\n            if (animation === false)\n                return;\n            const keyframes = [\n                {\n                    transform: 'translate(0, 0)',\n                },\n                {\n                    transform: `translate(${waveLength * 2}, 0)`,\n                },\n            ];\n            wave.animate(keyframes, {\n                duration: lerp(0.5 * DURATION, DURATION, factor) * 2,\n                iterations: Infinity,\n            });\n        }\n        catch (e) {\n            console.warn('off-screen group animate error!');\n        }\n    }\n}\n//# sourceMappingURL=wave.js.map","/**\n * @param x center x\n * @param y center y\n * @param radius\n */\nfunction circle(x, y, r) {\n    return `\n      M ${x} ${y - r} \n      a ${r} ${r} 0 1 0 0 ${r * 2}\n      a ${r} ${r} 0 1 0 0 ${-r * 2}\n      Z\n    `;\n}\n/**\n * @param x center x\n * @param y center y\n * @param radius\n */\nfunction rect(x, y, r) {\n    const GOLDEN_SECTION_RATIO = 0.618;\n    const w = r * GOLDEN_SECTION_RATIO;\n    return `\n      M ${x - w} ${y - r}\n      L ${x + w} ${y - r}\n      L ${x + w} ${y + r}\n      L ${x - w} ${y + r}\n      Z\n    `;\n}\n/**\n * @param x center x\n * @param y center y\n * @param radius\n */\nfunction diamond(x, y, r) {\n    return `\n      M ${x} ${y - r}\n      L ${x + r} ${y}\n      L ${x} ${y + r}\n      L ${x - r} ${y}\n      Z\n    `;\n}\n/**\n * @param x center x\n * @param y center y\n * @param radius\n */\nfunction triangle(x, y, r) {\n    return `\n      M ${x} ${y - r}\n      L ${x + r} ${y + r}\n      L ${x - r} ${y + r}\n      Z\n    `;\n}\n/**\n * @param x center x\n * @param y center y\n * @param radius\n */\nfunction pin(x, y, radius) {\n    const w = (radius * 4) / 3;\n    const h = Math.max(w, radius * 2);\n    const r = w / 2;\n    // Attrs of the upper circle.\n    const cx = x;\n    const cy = r + y - h / 2;\n    const theta = Math.asin(r / ((h - r) * 0.85));\n    const dy = Math.sin(theta) * r;\n    const dx = Math.cos(theta) * r;\n    // The start point of the path.\n    const x0 = cx - dx;\n    const y0 = cy + dy;\n    // Control point.\n    const cpX = x;\n    const cpY = cy + r / Math.sin(theta);\n    return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\nexport const LiquidShapesPath = {\n    pin,\n    rect,\n    circle,\n    diamond,\n    triangle,\n};\n//# sourceMappingURL=shapes.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isFunction } from '@antv/util';\nimport { addWave } from './wave';\nimport { LiquidShapesPath } from './shapes';\nconst getLiquidShape = (shape = 'circle') => LiquidShapesPath[shape] || LiquidShapesPath.circle;\nexport const Liquid = (options, context) => {\n    if (!context)\n        return;\n    const { coordinate } = context;\n    const { liquidOptions, styleOptions } = options;\n    const { liquidShape, percent } = liquidOptions;\n    const { background: backgroundStyle, outline = {}, wave = {} } = styleOptions, attr = __rest(styleOptions, [\"background\", \"outline\", \"wave\"]);\n    const { border = 2, distance = 0 } = outline, outlineStyle = __rest(outline, [\"border\", \"distance\"]);\n    const { length = 192, count = 3 } = wave;\n    return (points, cfg, defaultAttr) => {\n        const { document } = context.canvas;\n        const { color, fillOpacity } = defaultAttr;\n        const attrs = Object.assign(Object.assign({ fill: color }, defaultAttr), attr);\n        const g = document.createElement('g', {});\n        // Center x/y.\n        const [centerX, centerY] = coordinate.getCenter();\n        // [width,height].\n        const size = coordinate.getSize();\n        const radius = Math.min(...size) / 2;\n        // 1、Gets the path of the overall shape.\n        const buildPath = isFunction(liquidShape)\n            ? liquidShape\n            : getLiquidShape(liquidShape);\n        const shapePath = buildPath(centerX, centerY, radius, ...size);\n        // 2、Background create.\n        if (Object.keys(backgroundStyle).length) {\n            const backgroundShape = document.createElement('path', {\n                style: Object.assign({ d: shapePath, fill: '#fff' }, backgroundStyle),\n            });\n            g.appendChild(backgroundShape);\n        }\n        // Percent > 0 Mapping water waves.\n        if (percent > 0) {\n            // 3. Clip create.\n            const clipShape = document.createElement('path', {\n                style: {\n                    d: shapePath,\n                },\n            });\n            g.appendChild(clipShape);\n            g.style.clipPath = clipShape;\n            // 4. Wave create.\n            addWave(centerX, centerY, 1 - percent, count, attrs, g, clipShape.getBBox().y, radius * 2, length, true, document);\n        }\n        // 5. Draw distance.\n        const distanceShape = document.createElement('path', {\n            style: {\n                d: shapePath,\n                fill: 'transparent',\n                lineWidth: border + 2 * distance,\n                stroke: '#fff',\n            },\n        });\n        // 6. Draw border.\n        const borderShape = document.createElement('path', {\n            style: Object.assign(Object.assign(Object.assign({ d: shapePath, stroke: color, strokeOpacity: fillOpacity, lineWidth: border }, attrs), outlineStyle), { fill: 'transparent' }),\n        });\n        g.appendChild(distanceShape);\n        g.appendChild(borderShape);\n        return g;\n    };\n};\nLiquid.props = {};\n//# sourceMappingURL=liquid.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, isNumber } from '@antv/util';\nimport { subObject } from '../utils/helper';\nimport { prettyNumber } from '../utils/number';\nimport { LiquidShape } from '../shape';\nconst DEFAULT_OPTIONS = {\n    axis: {\n        x: false,\n        y: false,\n    },\n    legend: false,\n    tooltip: false,\n    encode: {\n        x: 'type',\n        y: 'percent',\n    },\n    scale: {\n        y: {\n            domain: [0, 1],\n        },\n    },\n    style: {\n        shape: LiquidShape,\n    },\n    animate: {\n        enter: {\n            type: 'fadeIn',\n        },\n    },\n};\nconst DEFAULT_TEXT_OPTIONS = {\n    type: 'text',\n    style: {\n        x: '50%',\n        y: '50%',\n        textAlign: 'center',\n        textBaseline: 'middle',\n        fontSize: 20,\n        fontWeight: 800,\n        fill: '#888',\n    },\n    animate: {\n        enter: {\n            type: 'fadeIn',\n        },\n    },\n};\nexport const Liquid = (options) => {\n    const { data = {}, style = {}, animate } = options, resOptions = __rest(options, [\"data\", \"style\", \"animate\"]);\n    // Compatible with old data structures: { percent: number } and percent >= 0.\n    const percent = Math.max(0, isNumber(data) ? data : data === null || data === void 0 ? void 0 : data.percent);\n    const newData = [{ percent, type: 'liquid' }];\n    const contentStyle = Object.assign(Object.assign({}, subObject(style, 'text')), subObject(style, 'content'));\n    const outline = subObject(style, 'outline');\n    const wave = subObject(style, 'wave');\n    const background = subObject(style, 'background');\n    return [\n        deepMix({}, DEFAULT_OPTIONS, Object.assign({ type: 'interval', data: newData, style: {\n                liquidOptions: {\n                    percent,\n                    liquidShape: style === null || style === void 0 ? void 0 : style.shape,\n                },\n                styleOptions: Object.assign(Object.assign({}, style), { outline,\n                    wave,\n                    background }),\n            }, animate }, resOptions)),\n        deepMix({}, DEFAULT_TEXT_OPTIONS, {\n            style: Object.assign({ text: `${prettyNumber(percent * 100)} %` }, contentStyle),\n            animate,\n        }),\n    ];\n};\nLiquid.props = {};\n//# sourceMappingURL=liquid.js.map","const SMALL = 1e-10;\n/**\n * Returns the intersection area of a bunch of circles (where each circle\n * is an object having an x,y and radius property)\n */\nexport function intersectionArea(circles, stats) {\n    // Get all the intersection points of the circles\n    const intersectionPoints = getIntersectionPoints(circles);\n    // Filter out points that aren't included in all the circles\n    const innerPoints = intersectionPoints.filter(function (p) {\n        return containedInCircles(p, circles);\n    });\n    let arcArea = 0, polygonArea = 0, i;\n    const arcs = [];\n    // If we have intersection points that are within all the circles,\n    // then figure out the area contained by them\n    if (innerPoints.length > 1) {\n        // Sort the points by angle from the center of the polygon, which lets\n        // us just iterate over points to get the edges\n        const center = getCenter(innerPoints);\n        for (i = 0; i < innerPoints.length; ++i) {\n            const p = innerPoints[i];\n            p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n        }\n        innerPoints.sort(function (a, b) {\n            return b.angle - a.angle;\n        });\n        // Iterate over all points, get arc between the points\n        // and update the areas\n        let p2 = innerPoints[innerPoints.length - 1];\n        for (i = 0; i < innerPoints.length; ++i) {\n            const p1 = innerPoints[i];\n            // Polygon area updates easily ...\n            polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n            // Updating the arc area is a little more involved\n            const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n            let arc = null;\n            for (let j = 0; j < p1.parentIndex.length; ++j) {\n                if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n                    // Figure out the angle halfway between the two points\n                    // on the current circle\n                    const circle = circles[p1.parentIndex[j]], a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y), a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n                    let angleDiff = a2 - a1;\n                    if (angleDiff < 0) {\n                        angleDiff += 2 * Math.PI;\n                    }\n                    // and use that angle to figure out the width of the\n                    // arc\n                    const a = a2 - angleDiff / 2;\n                    let width = distance(midPoint, {\n                        x: circle.x + circle.radius * Math.sin(a),\n                        y: circle.y + circle.radius * Math.cos(a),\n                    });\n                    // Clamp the width to the largest is can actually be\n                    // (sometimes slightly overflows because of FP errors)\n                    if (width > circle.radius * 2) {\n                        width = circle.radius * 2;\n                    }\n                    // Pick the circle whose arc has the smallest width\n                    if (arc === null || arc.width > width) {\n                        arc = { circle: circle, width: width, p1: p1, p2: p2 };\n                    }\n                }\n            }\n            if (arc !== null) {\n                arcs.push(arc);\n                arcArea += circleArea(arc.circle.radius, arc.width);\n                p2 = p1;\n            }\n        }\n    }\n    else {\n        // No intersection points, is either disjoint - or is completely\n        // overlapped. figure out which by examining the smallest circle\n        let smallest = circles[0];\n        for (i = 1; i < circles.length; ++i) {\n            if (circles[i].radius < smallest.radius) {\n                smallest = circles[i];\n            }\n        }\n        // Make sure the smallest circle is completely contained in all\n        // the other circles\n        let disjoint = false;\n        for (i = 0; i < circles.length; ++i) {\n            if (distance(circles[i], smallest) >\n                Math.abs(smallest.radius - circles[i].radius)) {\n                disjoint = true;\n                break;\n            }\n        }\n        if (disjoint) {\n            arcArea = polygonArea = 0;\n        }\n        else {\n            arcArea = smallest.radius * smallest.radius * Math.PI;\n            arcs.push({\n                circle: smallest,\n                p1: { x: smallest.x, y: smallest.y + smallest.radius },\n                p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n                width: smallest.radius * 2,\n            });\n        }\n    }\n    polygonArea /= 2;\n    if (stats) {\n        stats.area = arcArea + polygonArea;\n        stats.arcArea = arcArea;\n        stats.polygonArea = polygonArea;\n        stats.arcs = arcs;\n        stats.innerPoints = innerPoints;\n        stats.intersectionPoints = intersectionPoints;\n    }\n    return arcArea + polygonArea;\n}\n/**\n * Returns whether a point is contained by all of a list of circles\n */\nexport function containedInCircles(point, circles) {\n    for (let i = 0; i < circles.length; ++i) {\n        if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n            return false;\n        }\n    }\n    return true;\n}\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n    const ret = [];\n    for (let i = 0; i < circles.length; ++i) {\n        for (let j = i + 1; j < circles.length; ++j) {\n            const intersect = circleCircleIntersection(circles[i], circles[j]);\n            for (let k = 0; k < intersect.length; ++k) {\n                const p = intersect[k];\n                p.parentIndex = [i, j];\n                ret.push(p);\n            }\n        }\n    }\n    return ret;\n}\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n    return (r * r * Math.acos(1 - width / r) -\n        (r - width) * Math.sqrt(width * (2 * r - width)));\n}\n/** Euclidean distance between two points */\nexport function distance(p1, p2) {\n    return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n    // no overlap\n    if (d >= r1 + r2) {\n        return 0;\n    }\n    // Completely overlapped\n    if (d <= Math.abs(r1 - r2)) {\n        return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n    }\n    const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d), w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n    return circleArea(r1, w1) + circleArea(r2, w2);\n}\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n    const d = distance(p1, p2), r1 = p1.radius, r2 = p2.radius;\n    // If to far away, or self contained - can't be done\n    if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n        return [];\n    }\n    const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d), h = Math.sqrt(r1 * r1 - a * a), x0 = p1.x + (a * (p2.x - p1.x)) / d, y0 = p1.y + (a * (p2.y - p1.y)) / d, rx = -(p2.y - p1.y) * (h / d), ry = -(p2.x - p1.x) * (h / d);\n    return [\n        { x: x0 + rx, y: y0 - ry },\n        { x: x0 - rx, y: y0 + ry },\n    ];\n}\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n    const center = { x: 0, y: 0 };\n    for (let i = 0; i < points.length; ++i) {\n        center.x += points[i].x;\n        center.y += points[i].y;\n    }\n    center.x /= points.length;\n    center.y /= points.length;\n    return center;\n}\n//# sourceMappingURL=circleintersection.js.map","import { bisect, conjugateGradient, nelderMead, norm2, scale, zeros, zerosM, } from 'fmin';\nimport { circleCircleIntersection, circleOverlap, distance, intersectionArea, } from './circleintersection';\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters) {\n    parameters = parameters || {};\n    parameters.maxIterations = parameters.maxIterations || 500;\n    const initialLayout = parameters.initialLayout || bestInitialLayout;\n    const loss = parameters.lossFunction || lossFunction;\n    // add in missing pairwise areas as having 0 size\n    areas = addMissingAreas(areas);\n    // initial layout is done greedily\n    const circles = initialLayout(areas, parameters);\n    // transform x/y coordinates to a vector to optimize\n    const initial = [], setids = [];\n    let setid;\n    for (setid in circles) {\n        // eslint-disable-next-line\n        if (circles.hasOwnProperty(setid)) {\n            initial.push(circles[setid].x);\n            initial.push(circles[setid].y);\n            setids.push(setid);\n        }\n    }\n    // optimize initial layout from our loss function\n    const solution = nelderMead(function (values) {\n        const current = {};\n        for (let i = 0; i < setids.length; ++i) {\n            const setid = setids[i];\n            current[setid] = {\n                x: values[2 * i],\n                y: values[2 * i + 1],\n                radius: circles[setid].radius,\n            };\n        }\n        return loss(current, areas);\n    }, initial, parameters);\n    // transform solution vector back to x/y points\n    const positions = solution.x;\n    for (let i = 0; i < setids.length; ++i) {\n        setid = setids[i];\n        circles[setid].x = positions[2 * i];\n        circles[setid].y = positions[2 * i + 1];\n    }\n    return circles;\n}\nconst SMALL = 1e-10;\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n    // handle complete overlapped circles\n    if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n        return Math.abs(r1 - r2);\n    }\n    return bisect(function (distance) {\n        return circleOverlap(r1, r2, distance) - overlap;\n    }, 0, r1 + r2);\n}\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n    areas = areas.slice();\n    // two circle intersections that aren't defined\n    const ids = [], pairs = {};\n    let i, j, a, b;\n    for (i = 0; i < areas.length; ++i) {\n        const area = areas[i];\n        if (area.sets.length == 1) {\n            ids.push(area.sets[0]);\n        }\n        else if (area.sets.length == 2) {\n            a = area.sets[0];\n            b = area.sets[1];\n            // @ts-ignore\n            pairs[[a, b]] = true;\n            // @ts-ignore\n            pairs[[b, a]] = true;\n        }\n    }\n    ids.sort((a, b) => {\n        return a > b ? 1 : -1;\n    });\n    for (i = 0; i < ids.length; ++i) {\n        a = ids[i];\n        for (j = i + 1; j < ids.length; ++j) {\n            b = ids[j];\n            // @ts-ignore\n            if (!([a, b] in pairs)) {\n                areas.push({ sets: [a, b], size: 0 });\n            }\n        }\n    }\n    return areas;\n}\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n    // initialize an empty distance matrix between all the points\n    const distances = zerosM(sets.length, sets.length), constraints = zerosM(sets.length, sets.length);\n    // compute required distances between all the sets such that\n    // the areas match\n    areas\n        .filter(function (x) {\n        return x.sets.length == 2;\n    })\n        .map(function (current) {\n        const left = setids[current.sets[0]], right = setids[current.sets[1]], r1 = Math.sqrt(sets[left].size / Math.PI), r2 = Math.sqrt(sets[right].size / Math.PI), distance = distanceFromIntersectArea(r1, r2, current.size);\n        distances[left][right] = distances[right][left] = distance;\n        // also update constraints to indicate if its a subset or disjoint\n        // relationship\n        let c = 0;\n        if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n            c = 1;\n        }\n        else if (current.size <= 1e-10) {\n            c = -1;\n        }\n        constraints[left][right] = constraints[right][left] = c;\n    });\n    return { distances: distances, constraints: constraints };\n}\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n    let loss = 0, i;\n    for (i = 0; i < fxprime.length; ++i) {\n        fxprime[i] = 0;\n    }\n    for (i = 0; i < distances.length; ++i) {\n        const xi = x[2 * i], yi = x[2 * i + 1];\n        for (let j = i + 1; j < distances.length; ++j) {\n            const xj = x[2 * j], yj = x[2 * j + 1], dij = distances[i][j], constraint = constraints[i][j];\n            const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi), distance = Math.sqrt(squaredDistance), delta = squaredDistance - dij * dij;\n            if ((constraint > 0 && distance <= dij) ||\n                (constraint < 0 && distance >= dij)) {\n                continue;\n            }\n            loss += 2 * delta * delta;\n            fxprime[2 * i] += 4 * delta * (xi - xj);\n            fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n            fxprime[2 * j] += 4 * delta * (xj - xi);\n            fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n        }\n    }\n    return loss;\n}\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n    let initial = greedyLayout(areas, params);\n    const loss = params.lossFunction || lossFunction;\n    // greedylayout is sufficient for all 2/3 circle cases. try out\n    // constrained MDS for higher order problems, take its output\n    // if it outperforms. (greedy is aesthetically better on 2/3 circles\n    // since it axis aligns)\n    if (areas.length >= 8) {\n        const constrained = constrainedMDSLayout(areas, params), constrainedLoss = loss(constrained, areas), greedyLoss = loss(initial, areas);\n        if (constrainedLoss + 1e-8 < greedyLoss) {\n            initial = constrained;\n        }\n    }\n    return initial;\n}\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n    params = params || {};\n    const restarts = params.restarts || 10;\n    // bidirectionally map sets to a rowid  (so we can create a matrix)\n    const sets = [], setids = {};\n    let i;\n    for (i = 0; i < areas.length; ++i) {\n        const area = areas[i];\n        if (area.sets.length == 1) {\n            setids[area.sets[0]] = sets.length;\n            sets.push(area);\n        }\n    }\n    const matrices = getDistanceMatrices(areas, sets, setids);\n    let distances = matrices.distances;\n    const constraints = matrices.constraints;\n    // keep distances bounded, things get messed up otherwise.\n    // TODO: proper preconditioner?\n    const norm = norm2(distances.map(norm2)) / distances.length;\n    distances = distances.map(function (row) {\n        return row.map(function (value) {\n            return value / norm;\n        });\n    });\n    const obj = function (x, fxprime) {\n        return constrainedMDSGradient(x, fxprime, distances, constraints);\n    };\n    let best, current;\n    for (i = 0; i < restarts; ++i) {\n        const initial = zeros(distances.length * 2).map(Math.random);\n        current = conjugateGradient(obj, initial, params);\n        if (!best || current.fx < best.fx) {\n            best = current;\n        }\n    }\n    const positions = best.x;\n    // translate rows back to (x,y,radius) coordinates\n    const circles = {};\n    for (i = 0; i < sets.length; ++i) {\n        const set = sets[i];\n        circles[set.sets[0]] = {\n            x: positions[2 * i] * norm,\n            y: positions[2 * i + 1] * norm,\n            radius: Math.sqrt(set.size / Math.PI),\n        };\n    }\n    if (params.history) {\n        for (i = 0; i < params.history.length; ++i) {\n            scale(params.history[i].x, norm);\n        }\n    }\n    return circles;\n}\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n    const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n    // define a circle for each set\n    const circles = {}, setOverlaps = {};\n    let set;\n    for (let i = 0; i < areas.length; ++i) {\n        const area = areas[i];\n        if (area.sets.length == 1) {\n            set = area.sets[0];\n            circles[set] = {\n                x: 1e10,\n                y: 1e10,\n                // rowid: circles.length, // fix to ->\n                rowid: Object.keys(circles).length,\n                size: area.size,\n                radius: Math.sqrt(area.size / Math.PI),\n            };\n            setOverlaps[set] = [];\n        }\n    }\n    areas = areas.filter(function (a) {\n        return a.sets.length == 2;\n    });\n    // map each set to a list of all the other sets that overlap it\n    for (let i = 0; i < areas.length; ++i) {\n        const current = areas[i];\n        // eslint-disable-next-line\n        let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n        const left = current.sets[0], right = current.sets[1];\n        // completely overlapped circles shouldn't be positioned early here\n        if (current.size + SMALL >=\n            Math.min(circles[left].size, circles[right].size)) {\n            weight = 0;\n        }\n        setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n        setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n    }\n    // get list of most overlapped sets\n    const mostOverlapped = [];\n    for (set in setOverlaps) {\n        // eslint-disable-next-line\n        if (setOverlaps.hasOwnProperty(set)) {\n            let size = 0;\n            for (let i = 0; i < setOverlaps[set].length; ++i) {\n                size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n            }\n            mostOverlapped.push({ set: set, size: size });\n        }\n    }\n    // sort by size desc\n    function sortOrder(a, b) {\n        return b.size - a.size;\n    }\n    mostOverlapped.sort(sortOrder);\n    // keep track of what sets have been laid out\n    const positioned = {};\n    function isPositioned(element) {\n        return element.set in positioned;\n    }\n    // adds a point to the output\n    function positionSet(point, index) {\n        circles[index].x = point.x;\n        circles[index].y = point.y;\n        positioned[index] = true;\n    }\n    // add most overlapped set at (0,0)\n    positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n    // get distances between all points. TODO, necessary?\n    // answer: probably not\n    // var distances = venn.getDistanceMatrices(circles, areas).distances;\n    for (let i = 1; i < mostOverlapped.length; ++i) {\n        const setIndex = mostOverlapped[i].set, overlap = setOverlaps[setIndex].filter(isPositioned);\n        set = circles[setIndex];\n        overlap.sort(sortOrder);\n        if (overlap.length === 0) {\n            // this shouldn't happen anymore with addMissingAreas\n            throw 'ERROR: missing pairwise overlap information';\n        }\n        const points = [];\n        for (let j = 0; j < overlap.length; ++j) {\n            // get appropriate distance from most overlapped already added set\n            const p1 = circles[overlap[j].set], d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n            // sample positions at 90 degrees for maximum aesthetics\n            points.push({ x: p1.x + d1, y: p1.y });\n            points.push({ x: p1.x - d1, y: p1.y });\n            points.push({ y: p1.y + d1, x: p1.x });\n            points.push({ y: p1.y - d1, x: p1.x });\n            // if we have at least 2 overlaps, then figure out where the\n            // set should be positioned analytically and try those too\n            for (let k = j + 1; k < overlap.length; ++k) {\n                const p2 = circles[overlap[k].set], d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n                const extraPoints = circleCircleIntersection({ x: p1.x, y: p1.y, radius: d1 }, { x: p2.x, y: p2.y, radius: d2 });\n                for (let l = 0; l < extraPoints.length; ++l) {\n                    points.push(extraPoints[l]);\n                }\n            }\n        }\n        // we have some candidate positions for the set, examine loss\n        // at each position to figure out where to put it at\n        let bestLoss = 1e50, bestPoint = points[0];\n        for (let j = 0; j < points.length; ++j) {\n            circles[setIndex].x = points[j].x;\n            circles[setIndex].y = points[j].y;\n            const localLoss = loss(circles, areas);\n            if (localLoss < bestLoss) {\n                bestLoss = localLoss;\n                bestPoint = points[j];\n            }\n        }\n        positionSet(bestPoint, setIndex);\n    }\n    return circles;\n}\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n    let output = 0;\n    function getCircles(indices) {\n        return indices.map(function (i) {\n            return sets[i];\n        });\n    }\n    for (let i = 0; i < overlaps.length; ++i) {\n        const area = overlaps[i];\n        let overlap;\n        if (area.sets.length == 1) {\n            continue;\n        }\n        else if (area.sets.length == 2) {\n            const left = sets[area.sets[0]], right = sets[area.sets[1]];\n            overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n        }\n        else {\n            overlap = intersectionArea(getCircles(area.sets));\n        }\n        // eslint-disable-next-line\n        const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n        output += weight * (overlap - area.size) * (overlap - area.size);\n    }\n    return output;\n}\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n    if (orientationOrder === null) {\n        circles.sort(function (a, b) {\n            return b.radius - a.radius;\n        });\n    }\n    else {\n        circles.sort(orientationOrder);\n    }\n    let i;\n    // shift circles so largest circle is at (0, 0)\n    if (circles.length > 0) {\n        const largestX = circles[0].x, largestY = circles[0].y;\n        for (i = 0; i < circles.length; ++i) {\n            circles[i].x -= largestX;\n            circles[i].y -= largestY;\n        }\n    }\n    if (circles.length == 2) {\n        // if the second circle is a subset of the first, arrange so that\n        // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n        const dist = distance(circles[0], circles[1]);\n        if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n            circles[1].x =\n                circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n            circles[1].y = circles[0].y;\n        }\n    }\n    // rotate circles so that second largest is at an angle of 'orientation'\n    // from largest\n    if (circles.length > 1) {\n        const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n        let x, y;\n        const c = Math.cos(rotation), s = Math.sin(rotation);\n        for (i = 0; i < circles.length; ++i) {\n            x = circles[i].x;\n            y = circles[i].y;\n            circles[i].x = c * x - s * y;\n            circles[i].y = s * x + c * y;\n        }\n    }\n    // mirror solution if third solution is above plane specified by\n    // first two circles\n    if (circles.length > 2) {\n        let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n        while (angle < 0) {\n            angle += 2 * Math.PI;\n        }\n        while (angle > 2 * Math.PI) {\n            angle -= 2 * Math.PI;\n        }\n        if (angle > Math.PI) {\n            const slope = circles[1].y / (1e-10 + circles[1].x);\n            for (i = 0; i < circles.length; ++i) {\n                const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n                circles[i].x = 2 * d - circles[i].x;\n                circles[i].y = 2 * d * slope - circles[i].y;\n            }\n        }\n    }\n}\nexport function disjointCluster(circles) {\n    // union-find clustering to get disjoint sets\n    circles.map(function (circle) {\n        circle.parent = circle;\n    });\n    // path compression step in union find\n    function find(circle) {\n        if (circle.parent !== circle) {\n            circle.parent = find(circle.parent);\n        }\n        return circle.parent;\n    }\n    function union(x, y) {\n        const xRoot = find(x), yRoot = find(y);\n        xRoot.parent = yRoot;\n    }\n    // get the union of all overlapping sets\n    for (let i = 0; i < circles.length; ++i) {\n        for (let j = i + 1; j < circles.length; ++j) {\n            const maxDistance = circles[i].radius + circles[j].radius;\n            if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n                union(circles[j], circles[i]);\n            }\n        }\n    }\n    // find all the disjoint clusters and group them together\n    const disjointClusters = {};\n    let setid;\n    for (let i = 0; i < circles.length; ++i) {\n        setid = find(circles[i]).parent.setid;\n        if (!(setid in disjointClusters)) {\n            disjointClusters[setid] = [];\n        }\n        disjointClusters[setid].push(circles[i]);\n    }\n    // cleanup bookkeeping\n    circles.map(function (circle) {\n        delete circle.parent;\n    });\n    // return in more usable form\n    const ret = [];\n    for (setid in disjointClusters) {\n        // eslint-disable-next-line\n        if (disjointClusters.hasOwnProperty(setid)) {\n            ret.push(disjointClusters[setid]);\n        }\n    }\n    return ret;\n}\nfunction getBoundingBox(circles) {\n    const minMax = function (d) {\n        const hi = Math.max.apply(null, circles.map(function (c) {\n            return c[d] + c.radius;\n        })), lo = Math.min.apply(null, circles.map(function (c) {\n            return c[d] - c.radius;\n        }));\n        return { max: hi, min: lo };\n    };\n    return { xRange: minMax('x'), yRange: minMax('y') };\n}\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n    if (orientation === null) {\n        orientation = Math.PI / 2;\n    }\n    // work with a list instead of a dictionary, and take a copy so we\n    // don't mutate input\n    let circles = [], i, setid;\n    for (setid in solution) {\n        // eslint-disable-next-line\n        if (solution.hasOwnProperty(setid)) {\n            const previous = solution[setid];\n            circles.push({\n                x: previous.x,\n                y: previous.y,\n                radius: previous.radius,\n                setid: setid,\n            });\n        }\n    }\n    // get all the disjoint clusters\n    const clusters = disjointCluster(circles);\n    // orientate all disjoint sets, get sizes\n    for (i = 0; i < clusters.length; ++i) {\n        orientateCircles(clusters[i], orientation, orientationOrder);\n        const bounds = getBoundingBox(clusters[i]);\n        clusters[i].size =\n            (bounds.xRange.max - bounds.xRange.min) *\n                (bounds.yRange.max - bounds.yRange.min);\n        clusters[i].bounds = bounds;\n    }\n    clusters.sort(function (a, b) {\n        return b.size - a.size;\n    });\n    // orientate the largest at 0,0, and get the bounds\n    circles = clusters[0];\n    // @ts-ignore fixme 从逻辑上看似乎是不对的，后续看看\n    let returnBounds = circles.bounds;\n    const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n    function addCluster(cluster, right, bottom) {\n        if (!cluster)\n            return;\n        const bounds = cluster.bounds;\n        let xOffset, yOffset, centreing;\n        if (right) {\n            xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n        }\n        else {\n            xOffset = returnBounds.xRange.max - bounds.xRange.max;\n            centreing =\n                (bounds.xRange.max - bounds.xRange.min) / 2 -\n                    (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n            if (centreing < 0)\n                xOffset += centreing;\n        }\n        if (bottom) {\n            yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n        }\n        else {\n            yOffset = returnBounds.yRange.max - bounds.yRange.max;\n            centreing =\n                (bounds.yRange.max - bounds.yRange.min) / 2 -\n                    (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n            if (centreing < 0)\n                yOffset += centreing;\n        }\n        for (let j = 0; j < cluster.length; ++j) {\n            cluster[j].x += xOffset;\n            cluster[j].y += yOffset;\n            circles.push(cluster[j]);\n        }\n    }\n    let index = 1;\n    while (index < clusters.length) {\n        addCluster(clusters[index], true, false);\n        addCluster(clusters[index + 1], false, true);\n        addCluster(clusters[index + 2], true, true);\n        index += 3;\n        // have one cluster (in top left). lay out next three relative\n        // to it in a grid\n        returnBounds = getBoundingBox(circles);\n    }\n    // convert back to solution form\n    const ret = {};\n    for (i = 0; i < circles.length; ++i) {\n        ret[circles[i].setid] = circles[i];\n    }\n    return ret;\n}\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n    const circles = [], setids = [];\n    for (const setid in solution) {\n        // eslint-disable-next-line\n        if (solution.hasOwnProperty(setid)) {\n            setids.push(setid);\n            circles.push(solution[setid]);\n        }\n    }\n    width -= 2 * padding;\n    height -= 2 * padding;\n    const bounds = getBoundingBox(circles), xRange = bounds.xRange, yRange = bounds.yRange;\n    if (xRange.max == xRange.min || yRange.max == yRange.min) {\n        console.log('not scaling solution: zero size detected');\n        return solution;\n    }\n    const xScaling = width / (xRange.max - xRange.min), yScaling = height / (yRange.max - yRange.min), scaling = Math.min(yScaling, xScaling), \n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2, yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n    const scaled = {};\n    for (let i = 0; i < circles.length; ++i) {\n        const circle = circles[i];\n        scaled[setids[i]] = {\n            radius: scaling * circle.radius,\n            x: padding + xOffset + (circle.x - xRange.min) * scaling,\n            y: padding + yOffset + (circle.y - yRange.min) * scaling,\n        };\n    }\n    return scaled;\n}\n//# sourceMappingURL=layout.js.map","import { intersectionAreaPath, scaleSolution, venn } from './utils/venn';\n/**\n * Layout venn data, get the path string for each set.\n */\nexport const Venn = (options) => {\n    const { sets = 'sets', size = 'size', as = ['key', 'path'], padding = 0, } = options;\n    const [key, path] = as;\n    return (data) => {\n        // Transform the data, venn layout use `sets` and `size` field.\n        const vennData = data.map((d) => (Object.assign(Object.assign({}, d), { sets: d[sets], size: d[size], [key]: d.sets.join('&') })));\n        // Sort data, avoid data occlusion.\n        vennData.sort((a, b) => a.sets.length - b.sets.length);\n        // Layout venn data.\n        const solution = venn(vennData);\n        let circles;\n        return vennData.map((datum) => {\n            const setsValue = datum[sets];\n            const pathFunc = ({ width, height }) => {\n                circles = circles\n                    ? circles\n                    : scaleSolution(solution, width, height, padding);\n                const setCircles = setsValue.map((set) => circles[set]);\n                let p = intersectionAreaPath(setCircles);\n                // Close the path for event picker.\n                if (!/[zZ]$/.test(p))\n                    p += ' Z';\n                return p;\n            };\n            return Object.assign(Object.assign({}, datum), { [path]: pathFunc });\n        });\n    };\n};\nVenn.props = {};\n//# sourceMappingURL=venn.js.map","import { intersectionArea } from './circleintersection';\n/**\n * 根据圆心(x, y) 半径 r 返回圆的绘制 path\n * @param x 圆心点 x\n * @param y 圆心点 y\n * @param r 圆的半径\n * @returns 圆的 path\n */\nfunction circlePath(x, y, r) {\n    const ret = [];\n    // ret.push('\\nM', x, y);\n    // ret.push('\\nm', -r, 0);\n    // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n    // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n    const x0 = x - r;\n    const y0 = y;\n    ret.push('M', x0, y0);\n    ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n    ret.push('A', r, r, 0, 1, 0, x0, y0);\n    return ret.join(' ');\n}\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n    const stats = {};\n    intersectionArea(circles, stats);\n    const arcs = stats.arcs;\n    if (arcs.length === 0) {\n        return 'M 0 0';\n    }\n    else if (arcs.length == 1) {\n        const circle = arcs[0].circle;\n        return circlePath(circle.x, circle.y, circle.radius);\n    }\n    else {\n        // draw path around arcs\n        const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n        for (let i = 0; i < arcs.length; ++i) {\n            const arc = arcs[i], r = arc.circle.radius, wide = arc.width > r;\n            ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n        }\n        return ret.join(' ');\n    }\n}\n//# sourceMappingURL=diagram.js.map","const e={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};function t(t,n){e[t]=n}class n extends Error{constructor(e,t,n){super(e),this.position=t,this.token=n,this.name=\"ExpressionError\"}}var r;!function(e){e[e.STRING=0]=\"STRING\",e[e.NUMBER=1]=\"NUMBER\",e[e.BOOLEAN=2]=\"BOOLEAN\",e[e.NULL=3]=\"NULL\",e[e.IDENTIFIER=4]=\"IDENTIFIER\",e[e.OPERATOR=5]=\"OPERATOR\",e[e.FUNCTION=6]=\"FUNCTION\",e[e.DOT=7]=\"DOT\",e[e.BRACKET_LEFT=8]=\"BRACKET_LEFT\",e[e.BRACKET_RIGHT=9]=\"BRACKET_RIGHT\",e[e.PAREN_LEFT=10]=\"PAREN_LEFT\",e[e.PAREN_RIGHT=11]=\"PAREN_RIGHT\",e[e.COMMA=12]=\"COMMA\",e[e.QUESTION=13]=\"QUESTION\",e[e.COLON=14]=\"COLON\",e[e.DOLLAR=15]=\"DOLLAR\"}(r||(r={}));const o=new Set([32,9,10,13]),a=new Set([43,45,42,47,37,33,38,124,61,60,62]),s=new Map([[\"true\",r.BOOLEAN],[\"false\",r.BOOLEAN],[\"null\",r.NULL]]),i=new Map([[\"===\",!0],[\"!==\",!0],[\"<=\",!0],[\">=\",!0],[\"&&\",!0],[\"||\",!0],[\"+\",!0],[\"-\",!0],[\"*\",!0],[\"/\",!0],[\"%\",!0],[\"!\",!0],[\"<\",!0],[\">\",!0]]),u=new Map([[46,r.DOT],[91,r.BRACKET_LEFT],[93,r.BRACKET_RIGHT],[40,r.PAREN_LEFT],[41,r.PAREN_RIGHT],[44,r.COMMA],[63,r.QUESTION],[58,r.COLON],[36,r.DOLLAR]]),c=new Map;for(const[e,t]of u.entries())c.set(e,{type:t,value:String.fromCharCode(e)});function p(e){return e>=48&&e<=57}function l(e){return e>=97&&e<=122||e>=65&&e<=90||95===e}function f(e){return l(e)||p(e)}function E(e){return a.has(e)}var h;!function(e){e[e.Program=0]=\"Program\",e[e.Literal=1]=\"Literal\",e[e.Identifier=2]=\"Identifier\",e[e.MemberExpression=3]=\"MemberExpression\",e[e.CallExpression=4]=\"CallExpression\",e[e.BinaryExpression=5]=\"BinaryExpression\",e[e.UnaryExpression=6]=\"UnaryExpression\",e[e.ConditionalExpression=7]=\"ConditionalExpression\"}(h||(h={}));const d=new Map([[\"||\",2],[\"&&\",3],[\"===\",4],[\"!==\",4],[\">\",5],[\">=\",5],[\"<\",5],[\"<=\",5],[\"+\",6],[\"-\",6],[\"*\",7],[\"/\",7],[\"%\",7],[\"!\",8]]),R={type:h.Literal,value:null},T={type:h.Literal,value:!0},w={type:h.Literal,value:!1},y=e=>{let t=0;const o=e.length,a=()=>t>=o?null:e[t],s=()=>e[t++],i=e=>{const t=a();return null!==t&&t.type===e},u=e=>e.type===r.OPERATOR?d.get(e.value)||-1:e.type===r.DOT||e.type===r.BRACKET_LEFT?9:e.type===r.QUESTION?1:-1,c=e=>{let o,u;if(s().type===r.DOT){if(!i(r.IDENTIFIER)){const e=a();throw new n(\"Expected property name\",t,e?e.value:\"<end of input>\")}const e=s();o={type:h.Identifier,name:e.value},u=!1}else{if(o=l(0),!i(r.BRACKET_RIGHT)){const e=a();throw new n(\"Expected closing bracket\",t,e?e.value:\"<end of input>\")}s(),u=!0}return{type:h.MemberExpression,object:e,property:o,computed:u}},p=()=>{const e=a();if(!e)throw new n(\"Unexpected end of input\",t,\"<end of input>\");if(e.type===r.OPERATOR&&(\"!\"===e.value||\"-\"===e.value)){s();const t=p();return{type:h.UnaryExpression,operator:e.value,argument:t,prefix:!0}}switch(e.type){case r.NUMBER:return s(),{type:h.Literal,value:Number(e.value)};case r.STRING:return s(),{type:h.Literal,value:e.value};case r.BOOLEAN:return s(),\"true\"===e.value?T:w;case r.NULL:return s(),R;case r.IDENTIFIER:return s(),{type:h.Identifier,name:e.value};case r.FUNCTION:return(()=>{const e=s(),o=[];if(!i(r.PAREN_LEFT)){const e=a();throw new n(\"Expected opening parenthesis after function name\",t,e?e.value:\"<end of input>\")}for(s();;){if(i(r.PAREN_RIGHT)){s();break}if(!a()){const e=a();throw new n(\"Expected closing parenthesis\",t,e?e.value:\"<end of input>\")}if(o.length>0){if(!i(r.COMMA)){const e=a();throw new n(\"Expected comma between function arguments\",t,e?e.value:\"<end of input>\")}s()}const e=l(0);o.push(e)}return{type:h.CallExpression,callee:{type:h.Identifier,name:e.value},arguments:o}})();case r.PAREN_LEFT:{s();const e=l(0);if(!i(r.PAREN_RIGHT)){const e=a();throw new n(\"Expected closing parenthesis\",t,e?e.value:\"<end of input>\")}return s(),e}default:throw new n(`Unexpected token: ${e.type}`,t,e.value)}},l=(f=0)=>{let E=p();for(;t<o;){const o=e[t],p=u(o);if(p<=f)break;if(o.type!==r.QUESTION)if(o.type!==r.OPERATOR){if(o.type!==r.DOT&&o.type!==r.BRACKET_LEFT)break;E=c(E)}else{s();const e=l(p);E={type:h.BinaryExpression,operator:o.value,left:E,right:e}}else{s();const e=l(0);if(!i(r.COLON)){const e=a();throw new n(\"Expected : in conditional expression\",t,e?e.value:\"<end of input>\")}s();const o=l(0);E={type:h.ConditionalExpression,test:E,consequent:e,alternate:o}}}return E},f=l();return{type:h.Program,body:f}},O=(e,t,r)=>{let o=t;r&&(o={...t,context:{...t.context,...r}});const a=e=>{switch(e.type){case h.Literal:return(e=>e.value)(e);case h.Identifier:return(e=>{if(!(e.name in o.context))throw new n(`Undefined variable: ${e.name}`);return o.context[e.name]})(e);case h.MemberExpression:return(e=>{const t=a(e.object);if(null==t)throw new n(\"Cannot access property of null or undefined\");return t[e.computed?a(e.property):e.property.name]})(e);case h.CallExpression:return(e=>{const t=o.functions[e.callee.name];if(!t)throw new n(`Undefined function: ${e.callee.name}`);return t(...e.arguments.map((e=>a(e))))})(e);case h.BinaryExpression:return(e=>{if(\"&&\"===e.operator){const t=a(e.left);return t?a(e.right):t}if(\"||\"===e.operator){return a(e.left)||a(e.right)}const t=a(e.left),r=a(e.right);switch(e.operator){case\"+\":return t+r;case\"-\":return t-r;case\"*\":return t*r;case\"/\":return t/r;case\"%\":return t%r;case\"===\":return t===r;case\"!==\":return t!==r;case\">\":return t>r;case\">=\":return t>=r;case\"<\":return t<r;case\"<=\":return t<=r;default:throw new n(`Unknown operator: ${e.operator}`)}})(e);case h.UnaryExpression:return(e=>{const t=a(e.argument);if(e.prefix)switch(e.operator){case\"!\":return!t;case\"-\":if(\"number\"!=typeof t)throw new n(`Cannot apply unary - to non-number: ${t}`);return-t;default:throw new n(`Unknown operator: ${e.operator}`)}throw new n(`Postfix operators are not supported: ${e.operator}`)})(e);case h.ConditionalExpression:return(e=>{const t=a(e.test);return a(t?e.consequent:e.alternate)})(e);default:throw new n(`Evaluation error: Unsupported node type: ${e.type}`)}};return a(e.body)};function A(t){const a=(e=>{const t=e,a=t.length,u=new Array(Math.ceil(a/3));let h=0,d=0;function R(e){const o=d+1;d++;let s=\"\",i=!1;for(;d<a;){const n=t.charCodeAt(d);if(n===e)return i||(s=t.substring(o,d)),d++,{type:r.STRING,value:s};92===n?(i||(s=t.substring(o,d),i=!0),d++,s+=t[d]):i&&(s+=t[d]),d++}throw new n(`Unterminated string starting with ${String.fromCharCode(e)}`,d,t.substring(Math.max(0,d-10),d))}function T(){const e=d;for(45===t.charCodeAt(d)&&d++;d<a&&p(t.charCodeAt(d));)d++;if(d<a&&46===t.charCodeAt(d))for(d++;d<a&&p(t.charCodeAt(d));)d++;const n=t.slice(e,d);return{type:r.NUMBER,value:n}}function w(){d++;const e=d;if(d<a&&l(t.charCodeAt(d)))for(d++;d<a&&f(t.charCodeAt(d));)d++;const n=t.slice(e,d);return{type:r.FUNCTION,value:n}}function y(){const e=d++;for(;d<a&&f(t.charCodeAt(d));)d++;const n=t.slice(e,d),o=s.get(n);return o?{type:o,value:n}:{type:r.IDENTIFIER,value:n}}function O(){if(d+2<a){const e=t.substring(d,d+3);if(i.has(e))return d+=3,{type:r.OPERATOR,value:e}}if(d+1<a){const e=t.substring(d,d+2);if(i.has(e))return d+=2,{type:r.OPERATOR,value:e}}const e=t[d];if(i.has(e))return d++,{type:r.OPERATOR,value:e};throw new n(`Unknown operator at position ${d}: ${t.substring(d,d+1)}`,d,t.substring(Math.max(0,d-10),d))}for(;d<a;){const e=t.charCodeAt(d);if(A=e,o.has(A)){d++;continue}const r=c.get(e);if(r)u[h++]=r,d++;else if(34!==e&&39!==e)if(p(e)||45===e&&d+1<a&&p(t.charCodeAt(d+1)))u[h++]=T();else if(64!==e)if(l(e))u[h++]=y();else{if(!E(e))throw new n(`Unexpected character: ${t[d]}`,d,t.substring(Math.max(0,d-10),d));u[h++]=O()}else u[h++]=w();else u[h++]=R(e)}var A;return h===u.length?u:u.slice(0,h)})(t),u=y(a),h=((e={},t={})=>({context:e,functions:t}))({},e);return(e={})=>O(u,h,e)}function N(e,t={}){return A(e)(t)}export{n as ExpressionError,A as compile,N as evaluate,t as register};\n","import isNil from './is-nil';\nimport isObject from './is-object';\nvar identity = function (v) { return v; };\nexport default (function (object, func) {\n    if (func === void 0) { func = identity; }\n    var r = {};\n    if (isObject(object) && !isNil(object)) {\n        Object.keys(object).forEach(function (key) {\n            // @ts-ignore\n            r[key] = func(object[key], key);\n        });\n    }\n    return r;\n});\n//# sourceMappingURL=map-values.js.map","import { compile } from '@antv/expr';\nimport { mapValues } from '@antv/util';\nimport { lru } from './lru';\n// Whitelist of properties that can contain expressions.\nexport const EXPR_WHITE_LIST = ['style', 'encode', 'labels', 'children'];\n/**\n * Compiles an expression string into a function.\n * @param expr Expression string to compile.\n * @returns Compiled function or original string if empty.\n */\nconst compileExpression = lru((expr) => {\n    const evaluator = compile(expr);\n    return (...args) => {\n        const paramNames = Array.from({ length: args.length }, (_, i) => String.fromCharCode(97 + i));\n        const namedParams = Object.fromEntries(args.map((value, index) => [paramNames[index], value]));\n        // global is used to overview what can i get in props.\n        return evaluator(Object.assign(Object.assign({}, namedParams), { global: Object.assign({}, namedParams) }));\n    };\n}, (expr) => expr, 128);\n/**\n * Processes options object to convert expressions to functions.\n * @param options Options object to process.\n * @param isSpecRoot Whether the options is the root of the spec.\n * @returns Processed options object with expressions converted to functions.\n */\nexport function parseOptionsExpr(options, isSpecRoot = true) {\n    if (Array.isArray(options)) {\n        return options.map((_, i) => parseOptionsExpr(options[i], isSpecRoot));\n    }\n    if (typeof options === 'object' && options) {\n        return mapValues(options, (value, key) => {\n            // if options is root and the key is in the white list, parse the expression.\n            if (isSpecRoot && EXPR_WHITE_LIST.includes(key)) {\n                return parseOptionsExpr(value, key === 'children');\n            }\n            if (!isSpecRoot) {\n                return parseOptionsExpr(value, false);\n            }\n            return value;\n        });\n    }\n    // if options is a string and is a valid expression.\n    if (typeof options === 'string') {\n        const trimmed = options.trim();\n        if (trimmed.startsWith('{') && trimmed.endsWith('}')) {\n            return compileExpression(trimmed.slice(1, -1));\n        }\n    }\n    return options;\n}\n//# sourceMappingURL=expr.js.map","/**\n * @examples\n * ✅\n * color - `discrete`, shape - `constant`\n * legendCategory.rule[27] is matched\n *\n * ❎\n * shape - `discrete`, size - `constant`\n * There are no rules to match\n *\n */\nexport const LEGEND_INFER_STRATEGIES = [\n    [\n        'legendCategory',\n        [\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n                ['shape', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n                ['shape', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'constant'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n                ['shape', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n                ['shape', 'discrete'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n                ['shape', 'discrete'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['shape', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n                ['shape', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n                ['shape', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['shape', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n                ['shape', 'discrete'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'constant'],\n                ['shape', 'discrete'],\n            ],\n            // [\n            //   ['color', 'constant'],\n            //   ['opacity', 'constant'],\n            //   ['size', 'constant'],\n            // ],\n            // [\n            //   ['color', 'constant'],\n            //   ['shape', 'constant'],\n            //   ['size', 'constant'],\n            // ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n                ['shape', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['shape', 'discrete'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'discrete'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['opacity', 'constant'],\n            ],\n            [\n                ['color', 'discrete'],\n                ['shape', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['shape', 'discrete'],\n            ],\n            [\n                ['color', 'constant'],\n                ['size', 'constant'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'discrete'],\n            ],\n            // [\n            //   ['color', 'constant'],\n            //   ['opacity', 'constant'],\n            // ],\n            // [\n            //   ['color', 'constant'],\n            //   ['shape', 'constant'],\n            // ],\n            [['color', 'discrete']],\n            // [['color', 'constant']],\n        ],\n    ],\n    [\n        'legendContinuousSize',\n        [\n            [\n                ['color', 'continuous'],\n                ['opacity', 'continuous'],\n                ['size', 'continuous'],\n            ],\n            [\n                ['color', 'constant'],\n                ['opacity', 'continuous'],\n                ['size', 'continuous'],\n            ],\n            [\n                ['color', 'continuous'],\n                ['size', 'continuous'],\n            ],\n            [\n                ['color', 'constant'],\n                ['size', 'continuous'],\n            ],\n            [\n                ['size', 'continuous'],\n                ['opacity', 'continuous'],\n            ],\n            [['size', 'continuous']],\n        ],\n    ],\n    [\n        'legendContinuousBlockSize',\n        [\n            [\n                ['color', 'distribution'],\n                ['opacity', 'distribution'],\n                ['size', 'distribution'],\n            ],\n            [\n                ['color', 'distribution'],\n                ['size', 'distribution'],\n            ],\n        ],\n    ],\n    [\n        'legendContinuousBlock',\n        [\n            [\n                ['color', 'distribution'],\n                ['opacity', 'continuous'],\n            ],\n            [['color', 'distribution']],\n        ],\n    ],\n    [\n        'legendContinuous',\n        [\n            [\n                ['color', 'continuous'],\n                ['opacity', 'continuous'],\n            ],\n            [['color', 'continuous']],\n            [['opacity', 'continuous']],\n        ],\n    ],\n];\n//# sourceMappingURL=constant.js.map","export const ContinuousScale = {\n    linear: 'linear',\n    identity: 'identity',\n    log: 'log',\n    pow: 'pow',\n    sqrt: 'sqrt',\n    sequential: 'sequential',\n};\nexport const DistributionScale = {\n    threshold: 'threshold',\n    quantize: 'quantize',\n    quantile: 'quantile',\n};\nexport const DiscreteScale = {\n    ordinal: 'ordinal',\n    band: 'band',\n    point: 'point',\n};\nexport const ConstantScale = {\n    constant: 'constant',\n};\n//# sourceMappingURL=scale.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { deepMix, isEqual } from '@antv/util';\nimport { groups, max, sum } from '@antv/vendor/d3-array';\nimport { format } from '@antv/vendor/d3-format';\nimport { DisplayObject, Text } from '@antv/g';\nimport { getPolarOptions, getRadialOptions, } from '../coordinate';\nimport { combine } from '../utils/array';\nimport { prettyNumber } from '../utils/number';\nimport { capitalizeFirst, defined, subObject } from '../utils/helper';\nimport { LEGEND_INFER_STRATEGIES } from '../component/constant';\nimport { coordOf, isHelix, isParallel, isPolar, isRadar, isRadial, isReflect, isReflectY, isTheta, isTranspose, } from './coordinate';\nimport { useLibrary } from './library';\nimport { isValidScale } from './scale';\nimport { ConstantScale, ContinuousScale, DiscreteScale, DistributionScale, } from './types/scale';\nexport function inferComponent(scales, partialOptions, library) {\n    const { coordinates = [], title } = partialOptions;\n    const [, createGuideComponent] = useLibrary('component', library);\n    const displayedScales = scales.filter(({ guide }) => {\n        if (guide === null)\n            return false;\n        return true;\n    });\n    const components = [];\n    // Sliders and scrollbar component.\n    const sliders = inferScrollableComponents(partialOptions, scales, library);\n    components.push(...sliders);\n    // Title components.\n    if (title) {\n        const { props } = createGuideComponent('title');\n        const { defaultPosition, defaultOrientation, defaultOrder, defaultSize, defaultCrossPadding, } = props;\n        const titleOptions = typeof title === 'string' ? { title } : title;\n        components.push(Object.assign({ type: 'title', position: defaultPosition, orientation: defaultOrientation, order: defaultOrder, crossPadding: defaultCrossPadding[0], defaultSize }, titleOptions));\n    }\n    // Axis and legends.\n    const inferredComponents = inferComponentsType(displayedScales, coordinates);\n    inferredComponents.forEach(([type, relativeScales]) => {\n        const { props } = createGuideComponent(type);\n        const { defaultPosition, defaultPlane = 'xy', defaultOrientation, defaultSize, defaultOrder, defaultLength, defaultPadding: DP = [0, 0], defaultCrossPadding: DCP = [0, 0], } = props;\n        // @todo to be confirm if the scale can be merged.\n        // const scale: G2ScaleOptions = Object.assign({}, ...relativeScales);\n        const scale = deepMix({}, ...relativeScales);\n        const { guide: guideOptions, field } = scale;\n        // A scale may have multiple guides.\n        const guides = Array.isArray(guideOptions) ? guideOptions : [guideOptions];\n        for (const partialGuide of guides) {\n            const [position, orientation] = inferComponentPositionAndOrientation(type, defaultPosition, defaultOrientation, partialGuide, relativeScales, displayedScales, coordinates);\n            // Skip if position and orientation are not specified.\n            // @example the last axis of radar chart\n            if (!position && !orientation)\n                continue;\n            const isVertical = position === 'left' || position === 'right';\n            const defaultPadding = isVertical ? DP[1] : DP[0];\n            const defaultCrossPadding = isVertical ? DCP[1] : DCP[0];\n            const { size, order = defaultOrder, length = defaultLength, padding = defaultPadding, crossPadding = defaultCrossPadding, } = partialGuide;\n            components.push(Object.assign(Object.assign({ title: field }, partialGuide), { defaultSize,\n                length,\n                position, plane: defaultPlane, orientation,\n                padding,\n                order,\n                crossPadding,\n                size,\n                type, scales: relativeScales }));\n        }\n    });\n    return components;\n}\nexport function renderComponent(component, coordinate, theme, library, markState) {\n    const [useGuideComponent] = useLibrary('component', library);\n    const { scaleInstances: scales, scale, bbox } = component, options = __rest(component, [\"scaleInstances\", \"scale\", \"bbox\"]);\n    const value = { bbox, library };\n    const render = useGuideComponent(options);\n    return render({\n        coordinate,\n        library,\n        markState,\n        scales,\n        theme,\n        value,\n        scale,\n    });\n}\nexport function normalizeComponents(components) {\n    return components.map((d) => {\n        const component = deepMix(d, d.style);\n        delete component.style;\n        return component;\n    });\n}\nexport function flatComponents(components) {\n    return components.flatMap((d) => (d.type == 'group' ? d.children : d));\n}\n// Wrap legends into a group component.\nexport function groupComponents(components, crossSize) {\n    // Group components by key.\n    const P = ['left', 'right', 'bottom', 'top'];\n    const key = ({ type, position, group }) => {\n        if (!P.includes(position))\n            return Symbol('independent');\n        if (group === undefined) {\n            if (type.startsWith('legend'))\n                return `legend-${position}`;\n            return Symbol('independent');\n        }\n        if (group === 'independent')\n            return Symbol('independent');\n        return group;\n    };\n    const grouped = groups(components, key);\n    // Update attributes of group components,\n    // and maybe flatten group components without enough room.\n    return grouped.flatMap(([, components]) => {\n        if (components.length === 1)\n            return components[0];\n        // If crossSize defined, group components only when has\n        // enough room.\n        if (crossSize !== undefined) {\n            // Compute total length.\n            const DL = components\n                .filter((d) => d.length !== undefined)\n                .map((d) => d.length);\n            const totalLength = sum(DL);\n            // If there is no enough room for components,\n            // do not group.\n            if (totalLength > crossSize) {\n                components.forEach((d) => (d.group = Symbol('independent')));\n                return components;\n            }\n            // Group legends and update legend length.\n            const emptyLength = crossSize - totalLength;\n            const emptyCount = components.length - DL.length;\n            const length = emptyLength / emptyCount;\n            components.forEach((d) => {\n                if (d.length !== undefined)\n                    return;\n                d.length = length;\n            });\n        }\n        // Create a group component.\n        const size = max(components, (d) => d.size);\n        const order = max(components, (d) => d.order);\n        const crossPadding = max(components, (d) => d.crossPadding);\n        const position = components[0].position;\n        return {\n            type: 'group',\n            size,\n            order,\n            position,\n            children: components,\n            crossPadding,\n        };\n    });\n}\nfunction inferLegendComponentType(scales, coordinates) {\n    // Filter accepts scales.\n    const channels = ['shape', 'size', 'color', 'opacity'];\n    const isConstantSize = (type, name) => type === 'constant' && name === 'size';\n    const accepts = scales.filter(({ type, name }) => typeof type === 'string' &&\n        channels.includes(name) &&\n        !isConstantSize(type, name));\n    // Group scales by fields.\n    const constants = accepts.filter(({ type }) => type === 'constant');\n    const nonConstants = accepts.filter(({ type }) => type !== 'constant');\n    const groupKey = (d) => (d.field ? d.field : Symbol('independent'));\n    const fieldScales = groups(nonConstants, groupKey)\n        .map(([key, scales]) => [key, [...scales, ...constants]])\n        .filter(([, scales]) => scales.some((scale) => scale.type !== 'constant'));\n    const scalesByField = new Map(fieldScales);\n    // Skip empty scales.\n    if (scalesByField.size === 0)\n        return [];\n    // Infer components.\n    const sort = (arr) => arr.sort(([a], [b]) => a.localeCompare(b));\n    const components = Array.from(scalesByField)\n        .map(([, scs]) => {\n        const combinations = combine(scs).sort((a, b) => b.length - a.length);\n        const options = combinations.map((combination) => ({\n            combination,\n            option: combination.map((scale) => [scale.name, getScaleType(scale)]),\n        }));\n        // For category legend.\n        for (const { option, combination } of options) {\n            // If every scale is constant, do not display legend.\n            if (option.every((d) => d[1] === 'constant'))\n                continue;\n            if (option.every((d) => d[1] === 'discrete' || d[1] === 'constant')) {\n                return ['legendCategory', combination];\n            }\n        }\n        // For reset legend.\n        // @todo Remove this.\n        for (const [componentType, accords] of LEGEND_INFER_STRATEGIES) {\n            for (const { option, combination } of options) {\n                if (accords.some((accord) => isEqual(sort(accord), sort(option)))) {\n                    return [componentType, combination];\n                }\n            }\n        }\n        return null;\n    })\n        .filter(defined);\n    return components;\n}\nfunction getScaleType(scale) {\n    const { type } = scale;\n    if (typeof type !== 'string')\n        return null;\n    if (type in ContinuousScale)\n        return 'continuous';\n    if (type in DiscreteScale)\n        return 'discrete';\n    if (type in DistributionScale)\n        return 'distribution';\n    if (type in ConstantScale)\n        return 'constant';\n    return null;\n}\nfunction inferAxisComponentType(scales, coordinates) {\n    return scales\n        .map((scale) => {\n        const { name } = scale;\n        // todo wait for gui provide helix axis\n        if (isHelix(coordinates) || isTheta(coordinates))\n            return null;\n        if (isTranspose(coordinates) &&\n            (isPolar(coordinates) || isRadial(coordinates)))\n            return null;\n        // infer axis\n        if (name.startsWith('x')) {\n            if (isPolar(coordinates))\n                return ['axisArc', [scale]];\n            if (isRadial(coordinates))\n                return ['axisLinear', [scale]];\n            return [isTranspose(coordinates) ? 'axisY' : 'axisX', [scale]];\n        }\n        if (name.startsWith('y')) {\n            if (isPolar(coordinates))\n                return ['axisLinear', [scale]];\n            if (isRadial(coordinates))\n                return ['axisArc', [scale]];\n            return [isTranspose(coordinates) ? 'axisX' : 'axisY', [scale]];\n        }\n        // Only support linear axis for z.\n        if (name.startsWith('z')) {\n            return ['axisZ', [scale]];\n        }\n        if (name.startsWith('position')) {\n            if (isRadar(coordinates))\n                return ['axisRadar', [scale]];\n            if (!isPolar(coordinates))\n                return ['axisY', [scale]];\n        }\n        return null;\n    })\n        .filter(defined);\n}\nfunction inferComponentsType(scales, coordinates) {\n    const availableScales = scales.filter((scale) => isValidScale(scale));\n    return [\n        ...inferLegendComponentType(availableScales, coordinates),\n        ...inferAxisComponentType(availableScales, coordinates),\n    ];\n}\nfunction angleOf(coordinates) {\n    const polar = coordOf(coordinates, 'polar');\n    if (polar.length) {\n        const lastPolar = polar[polar.length - 1];\n        const { startAngle, endAngle } = getPolarOptions(lastPolar);\n        return [startAngle, endAngle];\n    }\n    const radial = coordOf(coordinates, 'radial');\n    if (radial.length) {\n        const lastRadial = radial[radial.length - 1];\n        const { startAngle, endAngle } = getRadialOptions(lastRadial);\n        return [startAngle, endAngle];\n    }\n    return [-Math.PI / 2, (Math.PI / 2) * 3];\n}\n/**\n * match index of position\n */\nfunction matchPosition(name) {\n    const match = /position(\\d*)/g.exec(name);\n    if (!match)\n        return null;\n    return +match[1];\n}\nfunction inferAxisPositionAndOrientation(type, ordinalPosition, relativeScales, scales, coordinates) {\n    // a axis only has one scale\n    const { name } = relativeScales[0];\n    // todo, in current resolution, the radar chart is implement by parallel + polar coordinate.\n    // implementation plan to be confirmed.\n    // in current implementation, it must to add the first position encode to it's last.\n    // so we won't render the last axis repeatably.\n    if (type === 'axisRadar') {\n        const positions = scales.filter((scale) => scale.name.startsWith('position'));\n        const index = matchPosition(name);\n        if (name === positions.slice(-1)[0].name || index === null)\n            return [null, null];\n        // infer radar axis orientation\n        const [startAngle, endAngle] = angleOf(coordinates);\n        const angle = ((endAngle - startAngle) / (positions.length - 1)) * index + startAngle;\n        return ['center', angle];\n    }\n    if (type === 'axisY' && isParallel(coordinates)) {\n        return isTranspose(coordinates)\n            ? ['center', 'horizontal']\n            : ['center', 'vertical'];\n    }\n    // in non-cartesian coordinate systems, infer the arc axis angle\n    if (type === 'axisLinear') {\n        const [startAngle] = angleOf(coordinates);\n        return ['center', startAngle];\n    }\n    if (type === 'axisArc') {\n        if (ordinalPosition[0] === 'inner')\n            return ['inner', null];\n        return ['outer', null];\n    }\n    if (isPolar(coordinates))\n        return ['center', null];\n    if (isRadial(coordinates))\n        return ['center', null];\n    if ((type === 'axisX' && isReflect(coordinates)) ||\n        (type === 'axisX' && isReflectY(coordinates))) {\n        return ['top', null];\n    }\n    // if (type === 'axisX') return ['bottom', null];\n    return ordinalPosition;\n}\n// @todo Infer position by coordinates.\nfunction inferComponentPositionAndOrientation(type, defaultPosition, defaultOrientation, guide, relativeScales, scales, coordinates) {\n    const [startAngle] = angleOf(coordinates);\n    const ordinalPositionAndOrientation = [\n        guide.position || defaultPosition,\n        startAngle !== null && startAngle !== void 0 ? startAngle : defaultOrientation,\n    ];\n    if (typeof type === 'string' && type.startsWith('axis')) {\n        return inferAxisPositionAndOrientation(type, ordinalPositionAndOrientation, relativeScales, scales, coordinates);\n    }\n    if (typeof type === 'string' &&\n        type.startsWith('legend') &&\n        isPolar(coordinates)) {\n        if (guide.position === 'center')\n            return ['center', 'vertical'];\n    }\n    // for general component, use default position\n    return ordinalPositionAndOrientation;\n}\nfunction inferScrollableType(name, type, coordinates = []) {\n    if (name === 'x')\n        return isTranspose(coordinates) ? `${type}Y` : `${type}X`;\n    if (name === 'y')\n        return isTranspose(coordinates) ? `${type}X` : `${type}Y`;\n    return null;\n}\n/**\n * Infer scrollable components, such as slider and scrollbar.\n */\nfunction inferScrollableComponents(partialOptions, scales, library) {\n    const [, createGuideComponent] = useLibrary('component', library);\n    const { coordinates } = partialOptions;\n    function normalized(type, channelName, scale, options) {\n        const componentType = inferScrollableType(channelName, type, coordinates);\n        if (!options || !componentType)\n            return;\n        const { props } = createGuideComponent(componentType);\n        const { defaultPosition, defaultSize, defaultOrder, defaultCrossPadding: [crossPadding], } = props;\n        return Object.assign(Object.assign({ position: defaultPosition, defaultSize, order: defaultOrder, type: componentType, crossPadding }, options), { scales: [scale] });\n    }\n    return scales\n        .filter((d) => d.slider || d.scrollbar)\n        .flatMap((scale) => {\n        const { slider, scrollbar, name: channelName } = scale;\n        return [\n            normalized('slider', channelName, scale, slider),\n            normalized('scrollbar', channelName, scale, scrollbar),\n        ];\n    })\n        .filter((d) => !!d);\n}\n// !!! Note Mutate component.size and component.\nexport function computeComponentSize(component, crossSize, crossPadding, position, theme, library) {\n    // Only compute and update size of components in padding area.\n    const { type } = component;\n    const paddingAreas = ['left', 'right', 'bottom', 'top'];\n    if (!paddingAreas.includes(position))\n        return;\n    if (typeof type !== 'string')\n        return;\n    const t = type;\n    const createCompute = () => {\n        if (t.startsWith('axis'))\n            return computeAxisSize;\n        if (t.startsWith('group'))\n            return computeGroupSize;\n        if (t.startsWith('legendContinuous'))\n            return computeContinuousLegendSize;\n        if (t === 'legendCategory')\n            return computeCategoryLegendSize;\n        if (t.startsWith('slider'))\n            return computeSliderSize;\n        if (t === 'title')\n            return computeTitleSize;\n        if (t.startsWith('scrollbar'))\n            return computeScrollbarSize;\n        return () => { };\n    };\n    return createCompute()(component, crossSize, crossPadding, position, theme, library);\n}\nfunction computeGroupSize(component, crossSize, crossPadding, position, theme, library) {\n    const { children } = component;\n    const maxCrossPadding = max(children, (d) => d.crossPadding);\n    children.forEach((d) => (d.crossPadding = maxCrossPadding));\n    children.forEach((child) => computeComponentSize(child, crossSize, crossPadding, position, theme, library));\n    const maxSize = max(children, (d) => d.size);\n    component.size = maxSize;\n    children.forEach((d) => (d.size = maxSize));\n}\nfunction computeScrollbarSize(component, crossSize, crossPadding, position, theme, library) {\n    const { trackSize = 6 } = deepMix({}, theme.scrollbar, component);\n    component.size = trackSize;\n}\nfunction computeTitleSize(component, crossSize, crossPadding, position, theme, library) {\n    const _a = deepMix({}, theme.title, component), { title, subtitle, spacing = 0 } = _a, style = __rest(_a, [\"title\", \"subtitle\", \"spacing\"]);\n    if (title) {\n        const titleStyle = subObject(style, 'title');\n        const titleBBox = computeLabelSize(title, titleStyle);\n        component.size = titleBBox.height;\n    }\n    if (subtitle) {\n        const subtitleStyle = subObject(style, 'subtitle');\n        const subtitleBBox = computeLabelSize(subtitle, subtitleStyle);\n        component.size += spacing + subtitleBBox.height;\n    }\n}\nfunction computeSliderSize(component, crossSize, crossPadding, position, theme, library) {\n    const styleOf = () => {\n        const { slider } = theme;\n        return deepMix({}, slider, component);\n    };\n    const { trackSize, handleIconSize } = styleOf();\n    const size = Math.max(trackSize, handleIconSize * 2.4);\n    component.size = size;\n}\nfunction computeAxisSize(component, crossSize, crossPadding, position, theme, library) {\n    var _a;\n    // If padding is auto, use hide as the labelTransform by default\n    // to avoid overlap between labels.\n    component.transform = component.transform || [{ type: 'hide' }];\n    // Vertical or horizontal.\n    const isVertical = position === 'left' || position === 'right';\n    // Get styles to be applied.\n    const style = styleOf(component, position, theme);\n    const { tickLength = 0, labelSpacing = 0, titleSpacing = 0, labelAutoRotate } = style, rest = __rest(style, [\"tickLength\", \"labelSpacing\", \"titleSpacing\", \"labelAutoRotate\"]);\n    // Compute Labels.\n    const scale = createScale(component, library);\n    const labelBBoxes = computeLabelsBBox(rest, scale);\n    const paddingTick = tickLength + labelSpacing;\n    if (labelBBoxes && labelBBoxes.length) {\n        const maxLabelWidth = max(labelBBoxes, (d) => d.width);\n        const maxLabelHeight = max(labelBBoxes, (d) => d.height);\n        if (isVertical) {\n            component.size = maxLabelWidth + paddingTick;\n        }\n        else {\n            const { tickFilter, labelTransform } = component;\n            // If the labels can't be placed horizontally, and labelTransform is unset,\n            // rotate 90 deg to display them.\n            if (overflowX(scale, labelBBoxes, crossSize, crossPadding, tickFilter) &&\n                !labelTransform &&\n                labelAutoRotate !== false &&\n                labelAutoRotate !== null) {\n                component.labelTransform = 'rotate(90)';\n                component.size = maxLabelWidth + paddingTick;\n            }\n            else {\n                component.labelTransform = (_a = component.labelTransform) !== null && _a !== void 0 ? _a : 'rotate(0)';\n                component.size = maxLabelHeight + paddingTick;\n            }\n        }\n    }\n    else {\n        component.size = tickLength;\n    }\n    // Compute title.\n    const titleBBox = computeTitleBBox(rest);\n    if (titleBBox) {\n        if (isVertical) {\n            component.size += titleSpacing + titleBBox.width;\n        }\n        else {\n            component.size += titleSpacing + titleBBox.height;\n        }\n    }\n}\nfunction computeContinuousLegendSize(component, crossSize, crossPadding, position, theme, library) {\n    // Get styles.\n    const styleOf = () => {\n        const { legendContinuous } = theme;\n        return deepMix({}, legendContinuous, component);\n    };\n    const _a = styleOf(), { labelSpacing = 0, titleSpacing = 0 } = _a, rest = __rest(_a, [\"labelSpacing\", \"titleSpacing\"]);\n    // Vertical or horizontal.\n    const isVertical = position === 'left' || position === 'right';\n    // Ribbon styles.\n    const ribbonStyles = subObject(rest, 'ribbon');\n    const { size: ribbonSize } = ribbonStyles;\n    const handleIconStyles = subObject(rest, 'handleIcon');\n    const { size: handleIconSize } = handleIconStyles;\n    const mainSize = Math.max(ribbonSize, handleIconSize * 2.4);\n    component.size = mainSize;\n    // Compute labels.\n    const scale = createScale(component, library);\n    const labelBBoxes = computeLabelsBBox(rest, scale);\n    if (labelBBoxes) {\n        const key = isVertical ? 'width' : 'height';\n        const size = max(labelBBoxes, (d) => d[key]);\n        component.size += size + labelSpacing;\n    }\n    // Compute title.\n    const titleBBox = computeTitleBBox(rest);\n    if (titleBBox) {\n        if (isVertical) {\n            component.size = Math.max(component.size, titleBBox.width);\n        }\n        else {\n            component.size += titleSpacing + titleBBox.height;\n        }\n    }\n}\nfunction computeCategoryLegendSize(component, crossSize0, crossPadding, position, theme, library) {\n    const styleOf = () => {\n        const { legendCategory } = theme;\n        const { title } = component;\n        const [defaultTitle, specifiedTitle] = Array.isArray(title)\n            ? [title, undefined]\n            : [undefined, title];\n        return deepMix({ title: defaultTitle }, legendCategory, Object.assign(Object.assign({}, component), { title: specifiedTitle }));\n    };\n    const _a = styleOf(), { itemSpacing, itemMarkerSize, titleSpacing, rowPadding, colPadding, maxCols = Infinity, maxRows = Infinity } = _a, rest = __rest(_a, [\"itemSpacing\", \"itemMarkerSize\", \"titleSpacing\", \"rowPadding\", \"colPadding\", \"maxCols\", \"maxRows\"]);\n    const { cols, length } = component;\n    const getRows = (rows) => Math.min(rows, maxRows);\n    const getCols = (cols) => Math.min(cols, maxCols);\n    // Vertical or horizontal.\n    const isVertical = position === 'left' || position === 'right';\n    const crossSize = length === undefined\n        ? crossSize0 + (isVertical ? 0 : crossPadding[0] + crossPadding[1])\n        : length;\n    // Compute title.\n    const titleBBox = computeTitleBBox(rest);\n    const scale = createScale(component, library);\n    const labelBBoxes = computeLabelsBBox(rest, scale, 'itemLabel');\n    const height = Math.max(labelBBoxes[0].height, itemMarkerSize) + rowPadding;\n    const widthOf = (w, padding = 0) => itemMarkerSize + w + itemSpacing[0] + padding;\n    // Only support grid layout for vertical area.\n    const computeVerticalSize = () => {\n        let maxSize = -Infinity;\n        let pos = 0;\n        let cols = 1;\n        let rows = 0;\n        let maxRows = -Infinity;\n        let maxPos = -Infinity;\n        const titleHeight = titleBBox ? titleBBox.height : 0;\n        const maxHeight = crossSize - titleHeight;\n        for (const { width } of labelBBoxes) {\n            const w = widthOf(width, colPadding);\n            maxSize = Math.max(maxSize, w);\n            if (pos + height > maxHeight) {\n                cols++;\n                maxRows = Math.max(maxRows, rows);\n                maxPos = Math.max(maxPos, pos);\n                rows = 1;\n                pos = height;\n            }\n            else {\n                pos += height;\n                rows++;\n            }\n        }\n        if (cols <= 1) {\n            maxRows = rows;\n            maxPos = pos;\n        }\n        component.size = maxSize * getCols(cols);\n        component.length = maxPos + titleHeight;\n        deepMix(component, { cols: getCols(cols), gridRow: maxRows });\n    };\n    // Horizontal grid layout.\n    const computeHorizontalGrid = () => {\n        const rows = Math.ceil(labelBBoxes.length / cols);\n        const maxWidth = max(labelBBoxes, (d) => widthOf(d.width)) * cols;\n        component.size = height * getRows(rows) - rowPadding;\n        component.length = Math.min(maxWidth, crossSize);\n    };\n    // Horizontal flex layout.\n    const computeHorizontalFlex = () => {\n        let rows = 1;\n        let pos = 0;\n        let maxPos = -Infinity;\n        for (const { width } of labelBBoxes) {\n            const w = widthOf(width, colPadding);\n            if (pos + w > crossSize) {\n                maxPos = Math.max(maxPos, pos);\n                pos = w;\n                rows++;\n            }\n            else {\n                pos += w;\n            }\n        }\n        if (rows === 1)\n            maxPos = pos;\n        component.size = height * getRows(rows) - rowPadding;\n        component.length = maxPos;\n    };\n    if (isVertical)\n        computeVerticalSize();\n    else if (typeof cols === 'number')\n        computeHorizontalGrid();\n    else\n        computeHorizontalFlex();\n    // Compute titles.\n    if (titleBBox) {\n        if (isVertical) {\n            component.size = Math.max(component.size, titleBBox.width);\n        }\n        else {\n            component.size += titleSpacing + titleBBox.height;\n        }\n    }\n}\nexport function createScale(component, library) {\n    const [useScale] = useLibrary('scale', library);\n    // Init scale, the tickCount of axis has higher priority than scale.\n    const { scales, tickCount, tickMethod } = component;\n    const scaleOptions = scales.find((d) => d.type !== 'constant' && d.type !== 'identity');\n    if (tickCount !== undefined)\n        scaleOptions.tickCount = tickCount;\n    if (tickMethod !== undefined)\n        scaleOptions.tickMethod = tickMethod;\n    return useScale(scaleOptions);\n}\nexport function computeLabelsBBox(component, scale, key = 'label') {\n    const { labelFormatter, tickFilter, label = true } = component, style = __rest(component, [\"labelFormatter\", \"tickFilter\", \"label\"]);\n    if (!label)\n        return null;\n    // Get labels to be rendered.\n    const labels = labelsOf(scale, labelFormatter, tickFilter);\n    const labelStyle = subObject(style, key);\n    const labelStyles = labels.map((d, i) => Object.fromEntries(Object.entries(labelStyle).map(([key, value]) => [\n        key,\n        typeof value === 'function' ? value(d, i) : value,\n    ])));\n    const labelBBoxes = labels.map((d, i) => {\n        const normalizeStyle = labelStyles[i];\n        return computeLabelSize(d, normalizeStyle);\n    });\n    // Cache boxes to avoid computed twice.\n    // @todo GUI use untransformed bbox, so it can't cache if\n    // label.style has transform attributes.\n    const hasTransform = labelStyles.some((d) => d.transform);\n    if (!hasTransform) {\n        const I = labels.map((_, i) => i);\n        component.indexBBox = new Map(I.map((i) => [i, [labels[i], labelBBoxes[i]]]));\n    }\n    return labelBBoxes;\n}\nexport function computeTitleBBox(component) {\n    const isFalsy = (x) => x === false || x === null;\n    const { title } = component, style = __rest(component, [\"title\"]);\n    if (isFalsy(title) || title === undefined)\n        return null;\n    const titleStyle = subObject(style, 'title');\n    const { direction, transform } = titleStyle;\n    const titleText = Array.isArray(title) ? title.join(',') : title;\n    if (typeof titleText !== 'string')\n        return null;\n    const titleBBox = computeLabelSize(titleText, Object.assign(Object.assign({}, titleStyle), { transform: transform || (direction === 'vertical' ? 'rotate(-90)' : '') }));\n    return titleBBox;\n}\nexport function styleOf(axis, position, theme) {\n    const { title } = axis;\n    const [defaultTitle, specifiedTitle] = Array.isArray(title)\n        ? [title, undefined]\n        : [undefined, title];\n    const { axis: baseStyle, \n    // @ts-ignore\n    [`axis${capitalizeFirst(position)}`]: positionStyle, } = theme;\n    return deepMix({ title: defaultTitle }, baseStyle, positionStyle, Object.assign(Object.assign({}, axis), { title: specifiedTitle }));\n}\nfunction ticksOf(scale, tickFilter) {\n    const ticks = scale.getTicks ? scale.getTicks() : scale.getOptions().domain;\n    if (!tickFilter)\n        return ticks;\n    return ticks.filter(tickFilter);\n}\nfunction labelsOf(scale, labelFormatter, tickFilter) {\n    const T = ticksOf(scale, tickFilter);\n    const ticks = T.map((d) => (typeof d === 'number' ? prettyNumber(d) : d));\n    const formatter = labelFormatter\n        ? typeof labelFormatter === 'string'\n            ? format(labelFormatter)\n            : labelFormatter\n        : scale.getFormatter\n            ? scale.getFormatter()\n            : (d) => `${d}`;\n    return ticks.map(formatter);\n}\nfunction offsetOf(scale, d) {\n    if (!scale.getBandWidth)\n        return 0;\n    const offset = scale.getBandWidth(d) / 2;\n    return offset;\n}\nfunction overflowX(scale, labelBBoxes, crossSize, crossPadding, tickFilter) {\n    // If actual size bigger than container size, overflow.\n    const totalSize = sum(labelBBoxes, (d) => d.width);\n    if (totalSize > crossSize)\n        return true;\n    // Clone scale to get visual position for labels.\n    const scaleX = scale.clone();\n    scaleX.update({ range: [0, crossSize] });\n    const ticks = ticksOf(scale, tickFilter);\n    const X = ticks.map((d) => scaleX.map(d) + offsetOf(scaleX, d));\n    const I = ticks.map((_, i) => i);\n    const startX = -crossPadding[0];\n    const endX = crossSize + crossPadding[1];\n    const extent = (x, bbox) => {\n        const { width } = bbox;\n        return [x - width / 2, x + width / 2];\n    };\n    // Collision detection.\n    for (let i = 0; i < I.length; i++) {\n        const x = X[i];\n        const [x0, x1] = extent(x, labelBBoxes[i]);\n        // If a label is out of plot area, overflow.\n        if (x0 < startX || x1 > endX)\n            return true;\n        const y = X[i + 1];\n        if (y) {\n            // If two labels intersect, overflow.\n            const [y0] = extent(y, labelBBoxes[i + 1]);\n            if (x1 > y0)\n                return true;\n        }\n    }\n    return false;\n}\nfunction computeLabelSize(d, style) {\n    const shape = normalizeLabel(d);\n    const { filter } = style, rest = __rest(style, [\"filter\"]);\n    shape.attr(Object.assign(Object.assign({}, rest), { visibility: 'none' }));\n    const bbox = shape.getBBox();\n    return bbox;\n}\nfunction normalizeLabel(d) {\n    if (d instanceof DisplayObject)\n        return d;\n    return new Text({ style: { text: `${d}` } });\n}\n//# sourceMappingURL=component.js.map","import { ascending, group, max, min, sum, } from '@antv/vendor/d3-array';\nimport { deepMix } from '@antv/util';\nimport { isParallel, isPolar, isRadar, radiusOf } from '../utils/coordinate';\nimport { capitalizeFirst, defined } from '../utils/helper';\nimport { divide } from '../utils/array';\nimport { camelCase } from '../utils/string';\nimport { computeComponentSize, computeLabelsBBox, computeTitleBBox, createScale, groupComponents, styleOf, } from './component';\nimport { isPolar as isPolarOptions, isRadial as isRadarOptions, } from './coordinate';\nexport function processAxisZ(components) {\n    const axisX = components.find(({ type }) => type === 'axisX');\n    const axisY = components.find(({ type }) => type === 'axisY');\n    const axisZ = components.find(({ type }) => type === 'axisZ');\n    if (axisX && axisY && axisZ) {\n        axisX.plane = 'xy';\n        axisY.plane = 'xy';\n        axisZ.plane = 'yz';\n        axisZ.origin = [axisX.bbox.x, axisX.bbox.y, 0];\n        axisZ.eulerAngles = [0, -90, 0];\n        axisZ.bbox.x = axisX.bbox.x;\n        axisZ.bbox.y = axisX.bbox.y;\n        components.push(Object.assign(Object.assign({}, axisX), { plane: 'xz', showLabel: false, showTitle: false, origin: [axisX.bbox.x, axisX.bbox.y, 0], eulerAngles: [-90, 0, 0] }));\n        components.push(Object.assign(Object.assign({}, axisY), { plane: 'yz', showLabel: false, showTitle: false, origin: [axisY.bbox.x + axisY.bbox.width, axisY.bbox.y, 0], eulerAngles: [0, -90, 0] }));\n        components.push(Object.assign(Object.assign({}, axisZ), { plane: 'xz', actualPosition: 'left', showLabel: false, showTitle: false, eulerAngles: [90, -90, 0] }));\n    }\n}\nexport function computeLayout(components, options, theme, library) {\n    var _a, _b;\n    const { width, height, depth, x = 0, y = 0, z = 0, inset = (_a = theme.inset) !== null && _a !== void 0 ? _a : 0, insetLeft = inset, insetTop = inset, insetBottom = inset, insetRight = inset, margin = (_b = theme.margin) !== null && _b !== void 0 ? _b : 0, marginLeft = margin, marginBottom = margin, marginTop = margin, marginRight = margin, padding = theme.padding, paddingBottom = padding, paddingLeft = padding, paddingRight = padding, paddingTop = padding, } = computeInset(components, options, theme, library);\n    const MIN_CONTENT_RATIO = 1 / 4;\n    const maybeClamp = (viewWidth, paddingLeft, paddingRight, pl0, pr0) => {\n        // Only clamp when has marks.\n        const { marks } = options;\n        if (marks.length === 0)\n            return [pl0, pr0];\n        // If size of content is enough, skip.\n        const contentSize = viewWidth - pl0 - pr0;\n        const diff = contentSize - viewWidth * MIN_CONTENT_RATIO;\n        if (diff > 0)\n            return [pl0, pr0];\n        // Shrink start and end size equally.\n        const shrinkSize = viewWidth * (1 - MIN_CONTENT_RATIO);\n        return [\n            paddingLeft === 'auto' ? (shrinkSize * pl0) / (pl0 + pr0) : pl0,\n            paddingRight === 'auto' ? (shrinkSize * pr0) / (pl0 + pr0) : pr0,\n        ];\n    };\n    const roughPadding = (padding) => (padding === 'auto' ? 20 : padding !== null && padding !== void 0 ? padding : 20);\n    const rpt = roughPadding(paddingTop);\n    const rpb = roughPadding(paddingBottom);\n    // Compute paddingLeft and paddingRight first to get innerWidth.\n    const horizontalPadding = computePadding(components, height - rpt - rpb, [rpt + marginTop, rpb + marginBottom], ['left', 'right'], options, theme, library);\n    const { paddingLeft: pl0, paddingRight: pr0 } = horizontalPadding;\n    const viewWidth = width - marginLeft - marginRight;\n    const [pl, pr] = maybeClamp(viewWidth, paddingLeft, paddingRight, pl0, pr0);\n    const iw = viewWidth - pl - pr;\n    // Compute paddingBottom and paddingTop based on innerWidth.\n    const verticalPadding = computePadding(components, iw, [pl + marginLeft, pr + marginRight], ['bottom', 'top'], options, theme, library);\n    const { paddingTop: pt0, paddingBottom: pb0 } = verticalPadding;\n    const viewHeight = height - marginBottom - marginTop;\n    const [pb, pt] = maybeClamp(viewHeight, paddingBottom, paddingTop, pb0, pt0);\n    const ih = viewHeight - pb - pt;\n    return {\n        width,\n        height,\n        depth,\n        insetLeft,\n        insetTop,\n        insetBottom,\n        insetRight,\n        innerWidth: iw,\n        innerHeight: ih,\n        paddingLeft: pl,\n        paddingRight: pr,\n        paddingTop: pt,\n        paddingBottom: pb,\n        marginLeft,\n        marginBottom,\n        marginTop,\n        marginRight,\n        x,\n        y,\n        z,\n    };\n}\n// For composite mark with a layout algorithm and without axis,\n// such as worldcloud, circlepack.\nexport function computeRoughPlotSize(options) {\n    const { height, width, padding = 0, paddingLeft = padding, paddingRight = padding, paddingTop = padding, paddingBottom = padding, margin = 16, marginLeft = margin, marginRight = margin, marginTop = margin, marginBottom = margin, inset = 0, insetLeft = inset, insetRight = inset, insetTop = inset, insetBottom = inset, } = options;\n    // @todo Add this padding to theme.\n    // 30 is default size for padding, which defined in runtime.\n    const maybeAuto = (padding) => (padding === 'auto' ? 20 : padding);\n    const finalWidth = width -\n        maybeAuto(paddingLeft) -\n        maybeAuto(paddingRight) -\n        marginLeft -\n        marginRight -\n        insetLeft -\n        insetRight;\n    const finalHeight = height -\n        maybeAuto(paddingTop) -\n        maybeAuto(paddingBottom) -\n        marginTop -\n        marginBottom -\n        insetTop -\n        insetBottom;\n    return { width: finalWidth, height: finalHeight };\n}\nfunction computeInset(components, options, theme, library) {\n    const { coordinates } = options;\n    if (!isPolarOptions(coordinates) && !isRadarOptions(coordinates)) {\n        return options;\n    }\n    // Filter axis.\n    const axes = components.filter((d) => typeof d.type === 'string' && d.type.startsWith('axis'));\n    if (axes.length === 0)\n        return options;\n    const styles = axes.map((component) => {\n        const key = component.type === 'axisArc' ? 'arc' : 'linear';\n        return styleOf(component, key, theme);\n    });\n    // Compute max labelSpacing.\n    const maxLabelSpacing = max(styles, (d) => { var _a; return (_a = d.labelSpacing) !== null && _a !== void 0 ? _a : 0; });\n    // Compute labelBBoxes.\n    const labelBBoxes = axes\n        .flatMap((component, i) => {\n        const style = styles[i];\n        const scale = createScale(component, library);\n        const labels = computeLabelsBBox(style, scale);\n        return labels;\n    })\n        .filter(defined);\n    const size = max(labelBBoxes, (d) => d.height) + maxLabelSpacing;\n    // Compute titles.\n    const titleBBoxes = axes\n        .flatMap((_, i) => {\n        const style = styles[i];\n        return computeTitleBBox(style);\n    })\n        .filter((d) => d !== null);\n    const titleSize = titleBBoxes.length === 0 ? 0 : max(titleBBoxes, (d) => d.height);\n    // Update inset.\n    const { inset = size, insetLeft = inset, insetBottom = inset, insetTop = inset + titleSize, insetRight = inset, } = options;\n    return Object.assign(Object.assign({}, options), { insetLeft, insetBottom, insetTop, insetRight });\n}\n/**\n * @todo Support percentage size(e.g. 50%)\n */\nfunction computePadding(components, crossSize, crossPadding, positions, options, theme, library) {\n    const positionComponents = group(components, (d) => d.position);\n    const { padding = theme.padding, paddingLeft = padding, paddingRight = padding, paddingBottom = padding, paddingTop = padding, } = options;\n    const layout = {\n        paddingBottom,\n        paddingLeft,\n        paddingTop,\n        paddingRight,\n    };\n    for (const position of positions) {\n        const key = `padding${capitalizeFirst(camelCase(position))}`;\n        const components = positionComponents.get(position) || [];\n        const value = layout[key];\n        const defaultSizeOf = (d) => {\n            if (d.size === undefined)\n                d.size = d.defaultSize;\n        };\n        const sizeOf = (d) => {\n            if (d.type === 'group') {\n                d.children.forEach(defaultSizeOf);\n                d.size = max(d.children, (d) => d.size);\n            }\n            else {\n                d.size = d.defaultSize;\n            }\n        };\n        const autoSizeOf = (d) => {\n            if (d.size)\n                return;\n            if (value !== 'auto')\n                sizeOf(d);\n            else {\n                // Compute component size dynamically.\n                computeComponentSize(d, crossSize, crossPadding, position, theme, library);\n                defaultSizeOf(d);\n            }\n        };\n        const maybeHide = (d) => {\n            if (!d.type.startsWith('axis'))\n                return;\n            if (d.labelAutoHide === undefined)\n                d.labelAutoHide = true;\n        };\n        const isHorizontal = position === 'bottom' || position === 'top';\n        // !!!Note\n        // Mute axis component padding.\n        // The first axis do not has padding.\n        const minOrder = min(components, (d) => d.order);\n        const axes = components.filter((d) => d.type.startsWith('axis') && d.order == minOrder);\n        if (axes.length)\n            axes[0].crossPadding = 0;\n        // Specified padding.\n        if (typeof value === 'number') {\n            components.forEach(defaultSizeOf);\n            components.forEach(maybeHide);\n        }\n        else {\n            // Compute padding dynamically.\n            if (components.length === 0) {\n                layout[key] = 0;\n            }\n            else {\n                const size = isHorizontal\n                    ? crossSize + crossPadding[0] + crossPadding[1]\n                    : crossSize;\n                const grouped = groupComponents(components, size);\n                grouped.forEach(autoSizeOf);\n                const totalSize = grouped.reduce((sum, { size, crossPadding = 12 }) => sum + size + crossPadding, 0);\n                layout[key] = totalSize;\n            }\n        }\n    }\n    return layout;\n}\nexport function placeComponents(components, coordinate, layout) {\n    // Group components by plane & position.\n    const positionComponents = group(components, (d) => `${d.plane || 'xy'}-${d.position}`);\n    const { paddingLeft, paddingRight, paddingTop, paddingBottom, marginLeft, marginTop, marginBottom, marginRight, innerHeight, innerWidth, insetBottom, insetLeft, insetRight, insetTop, height, width, depth, } = layout;\n    const planes = {\n        xy: createSection({\n            width,\n            height,\n            paddingLeft,\n            paddingRight,\n            paddingTop,\n            paddingBottom,\n            marginLeft,\n            marginTop,\n            marginBottom,\n            marginRight,\n            innerHeight,\n            innerWidth,\n            insetBottom,\n            insetLeft,\n            insetRight,\n            insetTop,\n        }),\n        yz: createSection({\n            width: depth,\n            height: height,\n            paddingLeft: 0,\n            paddingRight: 0,\n            paddingTop: 0,\n            paddingBottom: 0,\n            marginLeft: 0,\n            marginTop: 0,\n            marginBottom: 0,\n            marginRight: 0,\n            innerWidth: depth,\n            innerHeight: height,\n            insetBottom: 0,\n            insetLeft: 0,\n            insetRight: 0,\n            insetTop: 0,\n        }),\n        xz: createSection({\n            width,\n            height: depth,\n            paddingLeft: 0,\n            paddingRight: 0,\n            paddingTop: 0,\n            paddingBottom: 0,\n            marginLeft: 0,\n            marginTop: 0,\n            marginBottom: 0,\n            marginRight: 0,\n            innerWidth: width,\n            innerHeight: depth,\n            insetBottom: 0,\n            insetLeft: 0,\n            insetRight: 0,\n            insetTop: 0,\n        }),\n    };\n    for (const [key, components] of positionComponents.entries()) {\n        const [plane, position] = key.split('-');\n        const area = planes[plane][position];\n        /**\n         * @description non-entity components: axis in the center, inner, outer, component in the center\n         * @description entity components: other components\n         * @description no volume components take up no extra space\n         */\n        const [nonEntityComponents, entityComponents] = divide(components, (component) => {\n            if (typeof component.type !== 'string')\n                return false;\n            if (position === 'center')\n                return true;\n            if (component.type.startsWith('axis') &&\n                ['inner', 'outer'].includes(position)) {\n                return true;\n            }\n            return false;\n        });\n        if (nonEntityComponents.length) {\n            placeNonEntityComponents(nonEntityComponents, coordinate, area, position);\n        }\n        if (entityComponents.length) {\n            placePaddingArea(components, coordinate, area);\n        }\n    }\n}\nfunction createSection({ width, height, paddingLeft, paddingRight, paddingTop, paddingBottom, marginLeft, marginTop, marginBottom, marginRight, innerHeight, innerWidth, insetBottom, insetLeft, insetRight, insetTop, }) {\n    const pl = paddingLeft + marginLeft;\n    const pt = paddingTop + marginTop;\n    const pr = paddingRight + marginRight;\n    const pb = paddingBottom + marginBottom;\n    const plotWidth = width - marginLeft - marginRight;\n    const centerSection = [\n        pl + insetLeft,\n        pt + insetTop,\n        innerWidth - insetLeft - insetRight,\n        innerHeight - insetTop - insetBottom,\n        'center',\n        null,\n        null,\n    ];\n    const xySection = {\n        top: [\n            pl,\n            0,\n            innerWidth,\n            pt,\n            'vertical',\n            true,\n            ascending,\n            marginLeft,\n            plotWidth,\n        ],\n        right: [width - pr, pt, pr, innerHeight, 'horizontal', false, ascending],\n        bottom: [\n            pl,\n            height - pb,\n            innerWidth,\n            pb,\n            'vertical',\n            false,\n            ascending,\n            marginLeft,\n            plotWidth,\n        ],\n        left: [0, pt, pl, innerHeight, 'horizontal', true, ascending],\n        'top-left': [pl, 0, innerWidth, pt, 'vertical', true, ascending],\n        'top-right': [pl, 0, innerWidth, pt, 'vertical', true, ascending],\n        'bottom-left': [\n            pl,\n            height - pb,\n            innerWidth,\n            pb,\n            'vertical',\n            false,\n            ascending,\n        ],\n        'bottom-right': [\n            pl,\n            height - pb,\n            innerWidth,\n            pb,\n            'vertical',\n            false,\n            ascending,\n        ],\n        center: centerSection,\n        inner: centerSection,\n        outer: centerSection,\n    };\n    return xySection;\n}\nfunction placeNonEntityComponents(components, coordinate, area, position) {\n    const [axisComponents, nonAxisComponents] = divide(components, (component) => {\n        if (typeof component.type === 'string' &&\n            component.type.startsWith('axis')) {\n            return true;\n        }\n        return false;\n    });\n    placeNonEntityAxis(axisComponents, coordinate, area, position);\n    // in current stage, only legend component which located in the center can be placed\n    placeCenter(nonAxisComponents, coordinate, area);\n}\nfunction placeNonEntityAxis(components, coordinate, area, position) {\n    if (position === 'center') {\n        if (isRadar(coordinate)) {\n            placeAxisRadar(components, coordinate, area, position);\n        }\n        else if (isPolar(coordinate)) {\n            placeArcLinear(components, coordinate, area);\n        }\n        else if (isParallel(coordinate)) {\n            placeAxisParallel(components, coordinate, area, components[0].orientation);\n        }\n    }\n    else if (position === 'inner') {\n        placeAxisArcInner(components, coordinate, area);\n    }\n    else if (position === 'outer') {\n        placeAxisArcOuter(components, coordinate, area);\n    }\n}\nfunction placeAxisArcInner(components, coordinate, area) {\n    const [x, y, , height] = area;\n    const [cx, cy] = coordinate.getCenter();\n    const [innerRadius] = radiusOf(coordinate);\n    const r = height / 2;\n    const size = innerRadius * r;\n    const x0 = cx - size;\n    const y0 = cy - size;\n    for (let i = 0; i < components.length; i++) {\n        const component = components[i];\n        component.bbox = {\n            x: x + x0,\n            y: y + y0,\n            width: size * 2,\n            height: size * 2,\n        };\n    }\n}\nfunction placeAxisArcOuter(components, coordinate, area) {\n    const [x, y, width, height] = area;\n    for (const component of components) {\n        component.bbox = { x, y, width, height };\n    }\n}\n/**\n * @example arcX, arcY, axisLinear with angle\n */\nfunction placeArcLinear(components, coordinate, area) {\n    const [x, y, width, height] = area;\n    for (const component of components) {\n        component.bbox = { x: x, y, width, height };\n    }\n}\nfunction placeAxisParallel(components, coordinate, area, orientation) {\n    if (orientation === 'horizontal') {\n        placeAxisParallelHorizontal(components, coordinate, area);\n    }\n    else if (orientation === 'vertical') {\n        placeAxisParallelVertical(components, coordinate, area);\n    }\n}\nfunction placeAxisParallelVertical(components, coordinate, area) {\n    const [x, y, , height] = area;\n    // Create a high dimension vector and map to a list of two-dimension points.\n    // [0, 0, 0] -> [x0, 0, x1, 0, x2, 0]\n    const vector = new Array(components.length).fill(0);\n    const points = coordinate.map(vector);\n    // Extract x of each points.\n    // [x0, 0, x1, 0, x2, 0] -> [x0, x1, x2]\n    const X = points.filter((_, i) => i % 2 === 0).map((d) => d + x);\n    // Place each axis by coordinate in parallel coordinate.\n    for (let i = 0; i < components.length; i++) {\n        const component = components[i];\n        const x = X[i];\n        const width = X[i + 1] - x;\n        component.bbox = { x, y, width, height };\n    }\n}\nfunction placeAxisParallelHorizontal(components, coordinate, area) {\n    const [x, y, width] = area;\n    // Create a high dimension vector and map to a list of two-dimension points.\n    // [0, 0, 0] -> [height, y0, height, y1, height, y2]\n    const vector = new Array(components.length).fill(0);\n    const points = coordinate.map(vector);\n    // Extract y of each points.\n    // [x0, 0, x1, 0, x2, 0] -> [x0, x1, x2]\n    const Y = points.filter((_, i) => i % 2 === 1).map((d) => d + y);\n    // Place each axis by coordinate in parallel coordinate.\n    for (let i = 0; i < components.length; i++) {\n        const component = components[i];\n        const y = Y[i];\n        const height = Y[i + 1] - y;\n        component.bbox = { x, y, width, height };\n    }\n}\nfunction placeAxisRadar(components, coordinate, area, position) {\n    const [x, y, width, height] = area;\n    for (const component of components) {\n        component.bbox = { x, y, width, height };\n        component.radar = {\n            index: components.indexOf(component),\n            count: components.length,\n        };\n    }\n}\nfunction placePaddingArea(components, coordinate, area) {\n    const [x, y, width, height, direction, reverse, comparator, minX, totalSize] = area;\n    const [mainStartKey, mainStartValue, crossStartKey, crossStartValue, mainSizeKey, mainSizeValue, crossSizeKey, crossSizeValue,] = direction === 'vertical'\n        ? ['y', y, 'x', x, 'height', height, 'width', width]\n        : ['x', x, 'y', y, 'width', width, 'height', height];\n    // Sort components by order.\n    // The smaller the order, the closer to center.\n    components.sort((a, b) => comparator === null || comparator === void 0 ? void 0 : comparator(a.order, b.order));\n    const isLarge = (type) => type === 'title' || type === 'group' || type.startsWith('legend');\n    const crossSizeOf = (type, small, bigger) => {\n        if (bigger === undefined)\n            return small;\n        if (isLarge(type))\n            return bigger;\n        return small;\n    };\n    const crossStartOf = (type, x, minX) => {\n        if (minX === undefined)\n            return x;\n        if (isLarge(type))\n            return minX;\n        return x;\n    };\n    const startValue = reverse ? mainStartValue + mainSizeValue : mainStartValue;\n    for (let i = 0, start = startValue; i < components.length; i++) {\n        const component = components[i];\n        const { crossPadding = 0, type } = component;\n        const { size } = component;\n        component.bbox = {\n            [mainStartKey]: reverse\n                ? start - size - crossPadding\n                : start + crossPadding,\n            [crossStartKey]: crossStartOf(type, crossStartValue, minX),\n            [mainSizeKey]: size,\n            [crossSizeKey]: crossSizeOf(type, crossSizeValue, totalSize),\n        };\n        start += (size + crossPadding) * (reverse ? -1 : 1);\n    }\n    // Place group components.\n    const groupComponents = components.filter((d) => d.type === 'group');\n    for (const group of groupComponents) {\n        const { bbox, children } = group;\n        const size = bbox[crossSizeKey];\n        const step = size / children.length;\n        const justifyContent = children.reduce((j, child) => {\n            var _a;\n            const j0 = (_a = child.layout) === null || _a === void 0 ? void 0 : _a.justifyContent;\n            return j0 ? j0 : j;\n        }, 'flex-start');\n        const L = children.map((d, i) => {\n            const { length = step, padding = 0 } = d;\n            return length + (i === children.length - 1 ? 0 : padding);\n        });\n        const totalLength = sum(L);\n        const diff = size - totalLength;\n        const offset = justifyContent === 'flex-start'\n            ? 0\n            : justifyContent === 'center'\n                ? diff / 2\n                : diff;\n        for (let i = 0, start = bbox[crossStartKey] + offset; i < children.length; i++) {\n            const component = children[i];\n            const { padding = 0 } = component;\n            const interval = i === children.length - 1 ? 0 : padding;\n            component.bbox = {\n                [mainSizeKey]: bbox[mainSizeKey],\n                [mainStartKey]: bbox[mainStartKey],\n                [crossStartKey]: start,\n                [crossSizeKey]: L[i] - interval,\n            };\n            deepMix(component, { layout: { justifyContent } });\n            start += L[i];\n        }\n    }\n}\n/**\n * @example legend in the center of radial or polar system\n */\nfunction placeCenter(components, coordinate, area) {\n    if (components.length === 0)\n        return;\n    const [x, y, width, height] = area;\n    const [innerRadius] = radiusOf(coordinate);\n    const r = ((height / 2) * innerRadius) / Math.sqrt(2);\n    const cx = x + width / 2;\n    const cy = y + height / 2;\n    for (let i = 0; i < components.length; i++) {\n        const component = components[i];\n        component.bbox = { x: cx - r, y: cy - r, width: r * 2, height: r * 2 };\n    }\n}\n//# sourceMappingURL=layout.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Rect } from '@antv/g';\nimport { deepMix, upperFirst, isArray } from '@antv/util';\nimport { group, groups } from '@antv/vendor/d3-array';\nimport { format } from '@antv/vendor/d3-format';\nimport { mapObject } from '../utils/array';\nimport { ChartEvent } from '../utils/event';\nimport { isStrictObject, appendTransform, compose, copyAttributes, defined, error, maybeSubObject, subObject, useMemo, } from '../utils/helper';\nimport { select, Selection } from '../utils/selection';\nimport { groupComponents, inferComponent, normalizeComponents, renderComponent, } from './component';\nimport { AREA_CLASS_NAME, COMPONENT_CLASS_NAME, ELEMENT_CLASS_NAME, LABEL_CLASS_NAME, LABEL_LAYER_CLASS_NAME, MAIN_LAYER_CLASS_NAME, PLOT_CLASS_NAME, VIEW_CLASS_NAME, } from './constant';\nimport { coordinate2Transform, createCoordinate } from './coordinate';\nimport { computeLayout, computeRoughPlotSize, placeComponents, processAxisZ, } from './layout';\nimport { documentOf, useLibrary } from './library';\nimport { initializeMark } from './mark';\nimport { applyScale, assignScale, collectScales, inferScale, syncFacetsScales, useRelationScale, groupTransform, } from './scale';\nimport { applyDataTransform } from './transform';\nexport function plot(options, selection, context) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const [useComposition] = useLibrary('composition', library);\n        const [useInteraction] = useLibrary('interaction', library);\n        // Some helper functions.\n        const marks = new Set(Object.keys(library)\n            .map((d) => { var _a; return (_a = /mark\\.(.*)/.exec(d)) === null || _a === void 0 ? void 0 : _a[1]; })\n            .filter(defined));\n        const staticMarks = new Set(Object.keys(library)\n            .map((d) => { var _a; return (_a = /component\\.(.*)/.exec(d)) === null || _a === void 0 ? void 0 : _a[1]; })\n            .filter(defined));\n        const typeOf = (node) => {\n            const { type } = node;\n            if (typeof type === 'function') {\n                // @ts-ignore\n                const { props = {} } = type;\n                const { composite = true } = props;\n                if (composite)\n                    return 'mark';\n            }\n            if (typeof type !== 'string')\n                return type;\n            if (marks.has(type) || staticMarks.has(type))\n                return 'mark';\n            return type;\n        };\n        const isMark = (node) => typeOf(node) === 'mark';\n        const isStandardView = (node) => typeOf(node) === 'standardView';\n        const isStaticMark = (node) => {\n            const { type } = node;\n            if (typeof type !== 'string')\n                return false;\n            if (staticMarks.has(type))\n                return true;\n            return false;\n        };\n        const transform = (node) => {\n            if (isStandardView(node))\n                return [node];\n            const type = typeOf(node);\n            const composition = useComposition({ type, static: isStaticMark(node) });\n            return composition(node);\n        };\n        // Some temporary variables help parse the view tree.\n        const views = [];\n        const viewNode = new Map();\n        const nodeState = new Map();\n        const discovered = [options];\n        const nodeGenerators = [];\n        while (discovered.length) {\n            const node = discovered.shift();\n            if (isStandardView(node)) {\n                // Initialize view to get data to be visualized. If the marks\n                // of the view have already been initialized (facet view),\n                // initialize the view based on the initialized mark states,\n                // otherwise initialize it from beginning.\n                const state = nodeState.get(node);\n                const [view, children] = state\n                    ? initializeState(state, node, library)\n                    : yield initializeView(node, context);\n                viewNode.set(view, node);\n                views.push(view);\n                // Transform children, they will be transformed into\n                // standardView if they are mark or view node.\n                const transformedNodes = children\n                    .flatMap(transform)\n                    .map((d) => coordinate2Transform(d, library));\n                discovered.push(...transformedNodes);\n                // Only StandardView can be treated as facet and it\n                // should sync position scales among facets normally.\n                if (transformedNodes.every(isStandardView)) {\n                    const states = yield Promise.all(transformedNodes.map((d) => initializeMarks(d, context)));\n                    // Note!!!\n                    // This will mutate scales for marks.\n                    syncFacetsScales(states);\n                    for (let i = 0; i < transformedNodes.length; i++) {\n                        const nodeT = transformedNodes[i];\n                        const state = states[i];\n                        nodeState.set(nodeT, state);\n                    }\n                }\n            }\n            else {\n                // Apply transform to get data in advance for non-mark composition\n                // node, which makes sure that composition node can preprocess the\n                // data to produce more nodes based on it.\n                const n = isMark(node) ? node : yield applyTransform(node, context);\n                const N = transform(n);\n                if (Array.isArray(N))\n                    discovered.push(...N);\n                else if (typeof N === 'function')\n                    nodeGenerators.push(N());\n            }\n        }\n        context.emitter.emit(ChartEvent.BEFORE_PAINT);\n        // Plot chart.\n        const enterContainer = new Map();\n        const updateContainer = new Map();\n        const transitions = [];\n        selection\n            .selectAll(className(VIEW_CLASS_NAME))\n            .data(views, (d) => d.key)\n            .join((enter) => enter\n            .append('g')\n            .attr('className', VIEW_CLASS_NAME)\n            .attr('id', (view) => view.key)\n            .call(applyTranslate)\n            .each(function (view, i, element) {\n            plotView(view, select(element), transitions, context);\n            enterContainer.set(view, element);\n        }), (update) => update.call(applyTranslate).each(function (view, i, element) {\n            plotView(view, select(element), transitions, context);\n            updateContainer.set(view, element);\n        }), (exit) => exit\n            .each(function (d, i, element) {\n            // Remove existed interactions.\n            const interactions = element['nameInteraction'].values();\n            for (const interaction of interactions) {\n                interaction.destroy();\n            }\n        })\n            .remove());\n        // Apply interactions.\n        const viewInstanceof = (viewContainer, updateInteractions, oldStore) => {\n            return Array.from(viewContainer.entries()).map(([view, container]) => {\n                // Index state by component or interaction name,\n                // such as legend, scrollbar, brushFilter.\n                // Each state transform options to another options.\n                const store = oldStore || new Map();\n                const setState = (key, reducer = (x) => x) => store.set(key, reducer);\n                const options = viewNode.get(view);\n                const update = createUpdateView(select(container), options, context);\n                return {\n                    view,\n                    container,\n                    options,\n                    setState,\n                    update: (from, updateTypes) => __awaiter(this, void 0, void 0, function* () {\n                        // Apply all state functions to get new options.\n                        const reducer = compose(Array.from(store.values()));\n                        const newOptions = reducer(options);\n                        return yield update(newOptions, from, () => {\n                            if (isArray(updateTypes)) {\n                                updateInteractions(viewContainer, updateTypes, store);\n                            }\n                        });\n                    }),\n                };\n            });\n        };\n        const updateInteractions = (container = updateContainer, updateType, oldStore) => {\n            var _a;\n            // Interactions for update views.\n            const updateViewInstances = viewInstanceof(container, updateInteractions, oldStore);\n            for (const target of updateViewInstances) {\n                const { options, container } = target;\n                const nameInteraction = container['nameInteraction'];\n                let typeOptions = inferInteraction(options);\n                if (updateType) {\n                    typeOptions = typeOptions.filter((v) => updateType.includes(v[0]));\n                }\n                for (const typeOption of typeOptions) {\n                    const [type, option] = typeOption;\n                    // Remove interaction for existed views.\n                    const prevInteraction = nameInteraction.get(type);\n                    if (prevInteraction)\n                        (_a = prevInteraction.destroy) === null || _a === void 0 ? void 0 : _a.call(prevInteraction);\n                    // Apply new interaction.\n                    if (option) {\n                        const interaction = useThemeInteraction(target.view, type, option, useInteraction);\n                        const destroy = interaction(target, updateViewInstances, context.emitter);\n                        nameInteraction.set(type, { destroy });\n                    }\n                }\n            }\n        };\n        // Interactions for enter views.\n        const enterViewInstances = viewInstanceof(enterContainer, updateInteractions);\n        for (const target of enterViewInstances) {\n            const { options } = target;\n            // A Map index interaction by interaction name.\n            const nameInteraction = new Map();\n            target.container['nameInteraction'] = nameInteraction;\n            // Apply interactions.\n            for (const typeOption of inferInteraction(options)) {\n                const [type, option] = typeOption;\n                if (option) {\n                    const interaction = useThemeInteraction(target.view, type, option, useInteraction);\n                    const destroy = interaction(target, enterViewInstances, context.emitter);\n                    nameInteraction.set(type, { destroy });\n                }\n            }\n        }\n        updateInteractions();\n        // Author animations.\n        const { width, height } = options;\n        const keyframes = [];\n        for (const nodeGenerator of nodeGenerators) {\n            // Delay the rendering of animation keyframe. Different animation\n            // created by different nodeGenerator will play in the same time.\n            // eslint-disable-next-line no-async-promise-executor\n            const keyframe = new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                for (const node of nodeGenerator) {\n                    const sizedNode = Object.assign({ width, height }, node);\n                    yield plot(sizedNode, selection, context);\n                }\n                resolve();\n            }));\n            keyframes.push(keyframe);\n        }\n        context.views = views;\n        // Clear and update animation.\n        (_a = context.animations) === null || _a === void 0 ? void 0 : _a.forEach((animation) => animation === null || animation === void 0 ? void 0 : animation.cancel());\n        context.animations = transitions;\n        context.emitter.emit(ChartEvent.AFTER_PAINT);\n        // Note!!!\n        // The returned promise will never resolved if one of nodeGenerator\n        // never stop to yield node, which may created by a keyframe composition\n        // with iteration count set to infinite.\n        const finished = transitions\n            .filter(defined)\n            .map(cancel)\n            .map((d) => d.finished);\n        return Promise.all([...finished, ...keyframes]);\n    });\n}\nfunction applyTranslate(selection) {\n    selection.style('transform', (d) => `translate(${d.layout.x}, ${d.layout.y})`);\n}\nfunction definedInteraction(library) {\n    const [, createInteraction] = useLibrary('interaction', library);\n    return (d) => {\n        const [name, options] = d;\n        try {\n            return [name, createInteraction(name)];\n        }\n        catch (_a) {\n            return [name, options.type];\n        }\n    };\n}\nfunction createUpdateView(selection, options, context) {\n    const { library } = context;\n    const createDefinedInteraction = definedInteraction(library);\n    const filter = (d) => d[1] && d[1].props && d[1].props.reapplyWhenUpdate;\n    const interactions = inferInteraction(options);\n    const updates = interactions\n        .map(createDefinedInteraction)\n        .filter(filter)\n        .map((d) => d[0]);\n    return (newOptions, source, callback) => __awaiter(this, void 0, void 0, function* () {\n        const transitions = [];\n        const [newView, newChildren] = yield initializeView(newOptions, context);\n        plotView(newView, selection, transitions, context);\n        // Update interaction need to reapply when update.\n        for (const name of updates.filter((d) => d !== source)) {\n            updateInteraction(name, selection, newOptions, newView, context);\n        }\n        for (const child of newChildren) {\n            plot(child, selection, context);\n        }\n        callback();\n        return { options: newOptions, view: newView };\n    });\n}\nfunction updateInteraction(name, selection, options, view, context) {\n    var _a;\n    const { library } = context;\n    const [useInteraction] = useLibrary('interaction', library);\n    // Instances for interaction.\n    const container = selection.node();\n    const nameInteraction = container['nameInteraction'];\n    const interactionOptions = inferInteraction(options).find(([d]) => d === name);\n    // Destroy older interaction.\n    const interaction = nameInteraction.get(name);\n    if (!interaction)\n        return;\n    (_a = interaction.destroy) === null || _a === void 0 ? void 0 : _a.call(interaction);\n    if (!interactionOptions[1])\n        return;\n    // Apply new interaction.\n    const applyInteraction = useThemeInteraction(view, name, interactionOptions[1], useInteraction);\n    const target = {\n        options,\n        view,\n        container: selection.node(),\n        update: (options) => Promise.resolve(options),\n    };\n    const destroy = applyInteraction(target, [], context.emitter);\n    nameInteraction.set(name, { destroy });\n}\nfunction initializeView(options, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const flattenOptions = yield transformMarks(options, context);\n        const mergedOptions = bubbleOptions(flattenOptions);\n        // @todo Remove this.\n        // !!! NOTE: Mute original view options.\n        // Update interaction and coordinate for this view.\n        options.interaction = mergedOptions.interaction;\n        options.coordinate = mergedOptions.coordinate;\n        // @ts-ignore\n        options.marks = [...mergedOptions.marks, ...mergedOptions.components];\n        const transformedOptions = coordinate2Transform(mergedOptions, library);\n        const state = yield initializeMarks(transformedOptions, context);\n        return initializeState(state, transformedOptions, library);\n    });\n}\nfunction bubbleOptions(options) {\n    const { coordinate: viewCoordinate = {}, interaction: viewInteraction = {}, style: viewStyle = {}, marks } = options, rest = __rest(options, [\"coordinate\", \"interaction\", \"style\", \"marks\"]);\n    const markCoordinates = marks.map((d) => d.coordinate || {});\n    const markInteractions = marks.map((d) => d.interaction || {});\n    const markViewStyles = marks.map((d) => d.viewStyle || {});\n    const newCoordinate = [...markCoordinates, viewCoordinate].reduceRight((prev, cur) => deepMix(prev, cur), {});\n    const newInteraction = [viewInteraction, ...markInteractions].reduce((prev, cur) => deepMix(prev, cur), {});\n    const newStyle = [...markViewStyles, viewStyle].reduce((prev, cur) => deepMix(prev, cur), {});\n    return Object.assign(Object.assign({}, rest), { marks, coordinate: newCoordinate, interaction: newInteraction, style: newStyle });\n}\nfunction transformMarks(options, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const [useMark, createMark] = useLibrary('mark', library);\n        const staticMarks = new Set(Object.keys(library)\n            .map((d) => { var _a; return (_a = /component\\.(.*)/.exec(d)) === null || _a === void 0 ? void 0 : _a[1]; })\n            .filter(defined));\n        const { marks } = options;\n        const flattenMarks = [];\n        const components = [];\n        const discovered = [...marks];\n        const { width, height } = computeRoughPlotSize(options);\n        const markOptions = { options, width, height };\n        // Pre order traversal.\n        while (discovered.length) {\n            const [node] = discovered.splice(0, 1);\n            // Apply data transform to get data.\n            const mark = (yield applyTransform(node, context));\n            const { type = error('G2Mark type is required.'), key } = mark;\n            // For components.\n            if (staticMarks.has(type))\n                components.push(mark);\n            else {\n                const { props = {} } = createMark(type);\n                const { composite = true } = props;\n                if (!composite)\n                    flattenMarks.push(mark);\n                else {\n                    // Unwrap data from { value: data } to data,\n                    // then the composite mark can process the normalized data.\n                    const { data } = mark;\n                    const newMark = Object.assign(Object.assign({}, mark), { data: data ? (Array.isArray(data) ? data : data.value) : data });\n                    // Convert composite mark to marks.\n                    const marks = yield useMark(newMark, markOptions);\n                    const M = Array.isArray(marks) ? marks : [marks];\n                    discovered.unshift(...M.map((d, i) => (Object.assign(Object.assign({}, d), { key: `${key}-${i}` }))));\n                }\n            }\n        }\n        return Object.assign(Object.assign({}, options), { marks: flattenMarks, components });\n    });\n}\nfunction initializeMarks(options, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const [useTheme] = useLibrary('theme', library);\n        const [, createMark] = useLibrary('mark', library);\n        const { theme: partialTheme, marks: partialMarks, coordinates = [], } = options;\n        const theme = useTheme(inferTheme(partialTheme));\n        const markState = new Map();\n        // Initialize channels for marks.\n        for (const markOptions of partialMarks) {\n            const { type } = markOptions;\n            const { props = {} } = createMark(type);\n            const markAndState = yield initializeMark(markOptions, props, context);\n            if (markAndState) {\n                const [initializedMark, state] = markAndState;\n                markState.set(initializedMark, state);\n            }\n        }\n        // Group channels by scale key, each group has scale.\n        const scaleChannels = group(Array.from(markState.values()).flatMap((d) => d.channels), ({ scaleKey }) => scaleKey);\n        // Infer scale for each channel groups.\n        for (const channels of scaleChannels.values()) {\n            // Merge scale options for these channels.\n            const scaleOptions = channels.reduce((total, { scale }) => deepMix(total, scale), {});\n            const { scaleKey } = channels[0];\n            // Use the fields of the first channel as the title.\n            const { values: FV } = channels[0];\n            const fields = Array.from(new Set(FV.map((d) => d.field).filter(defined)));\n            const options = deepMix({\n                guide: { title: fields.length === 0 ? undefined : fields },\n                field: fields[0],\n            }, scaleOptions);\n            // Use the name of the first channel as the scale name.\n            const { name } = channels[0];\n            const values = channels.flatMap(({ values }) => values.map((d) => d.value));\n            const scale = Object.assign(Object.assign({}, inferScale(name, values, options, coordinates, theme, library)), { uid: Symbol('scale'), key: scaleKey });\n            channels.forEach((channel) => (channel.scale = scale));\n        }\n        return markState;\n    });\n}\nfunction useThemeInteraction(view, type, option, useInteraction) {\n    const theme = view.theme;\n    const defaults = typeof type === 'string' ? theme[type] || {} : {};\n    const interaction = useInteraction(deepMix(defaults, Object.assign({ type }, option)));\n    return interaction;\n}\nfunction initializeState(markState, options, library) {\n    var _a;\n    const [useMark] = useLibrary('mark', library);\n    const [useTheme] = useLibrary('theme', library);\n    const [useLabelTransform] = useLibrary('labelTransform', library);\n    const { key, frame = false, theme: partialTheme, clip, style = {}, labelTransform = [], } = options;\n    const theme = useTheme(inferTheme(partialTheme));\n    // Infer components and compute layout.\n    const states = Array.from(markState.values());\n    const scales = collectScales(states, options);\n    const components = normalizeComponents(inferComponent(inferComponentScales(Array.from(scales), states, markState), options, library));\n    const layout = computeLayout(components, options, theme, library);\n    const coordinate = createCoordinate(layout, options, library);\n    const framedStyle = frame\n        ? deepMix({ mainLineWidth: 1, mainStroke: '#000' }, style)\n        : style;\n    // Place components and mutate their bbox.\n    placeComponents(groupComponents(components), coordinate, layout);\n    // AxisZ need a copy of axisX and axisY to show grids in X-Z & Y-Z planes.\n    processAxisZ(components);\n    // Index scale instance by uid.\n    const uidScale = new Map(Array.from(markState.values()).flatMap((state) => {\n        const { channels } = state;\n        return channels.map(({ scale }) => [\n            scale.uid,\n            useRelationScale(scale, library),\n        ]);\n    }));\n    groupTransform(markState, uidScale);\n    // Scale from marks and components.\n    const scaleInstance = {};\n    // Initialize scale from components.\n    for (const component of components) {\n        const { scales: scaleDescriptors = [] } = component;\n        const scales = [];\n        for (const descriptor of scaleDescriptors) {\n            const { name, uid } = descriptor;\n            const scale = (_a = uidScale.get(uid)) !== null && _a !== void 0 ? _a : useRelationScale(descriptor, library);\n            scales.push(scale);\n            // Delivery the scale of axisX to the AxisY,\n            // in order to calculate the angle of axisY component when rendering radar chart.\n            if (name === 'y') {\n                scale.update(Object.assign(Object.assign({}, scale.getOptions()), { xScale: scaleInstance.x }));\n            }\n            assignScale(scaleInstance, { [name]: scale });\n        }\n        component.scaleInstances = scales;\n    }\n    // Calc data to be rendered for each mark.\n    // @todo More readable APIs for Container which stays\n    // the same style with JS standard and lodash APIs.\n    // @todo More proper way to index scale for different marks.\n    const children = [];\n    for (const [mark, state] of markState.entries()) {\n        const { \n        // scale,\n        // Callback to create children options based on this mark.\n        children: createChildren, \n        // The total count of data (both show and hide)for this facet.\n        // This is for unit visualization to sync data domain.\n        dataDomain, modifier, key: markKey, } = mark;\n        const { index, channels, tooltip } = state;\n        const scale = Object.fromEntries(channels.map(({ name, scale }) => [name, scale]));\n        // Transform abstract value to visual value by scales.\n        const markScaleInstance = mapObject(scale, ({ uid }) => uidScale.get(uid));\n        assignScale(scaleInstance, markScaleInstance);\n        const value = applyScale(channels, markScaleInstance);\n        // Calc points and transformation for each data,\n        // and then transform visual value to visual data.\n        const calcPoints = useMark(mark);\n        const [I, P, S] = filterValid(calcPoints(index, markScaleInstance, value, coordinate));\n        const count = dataDomain || I.length;\n        const T = modifier ? modifier(P, count, layout) : [];\n        const titleOf = (i) => { var _a, _b; return (_b = (_a = tooltip.title) === null || _a === void 0 ? void 0 : _a[i]) === null || _b === void 0 ? void 0 : _b.value; };\n        const itemsOf = (i) => tooltip.items.map((V) => V[i]);\n        const visualData = I.map((d, i) => {\n            const datum = Object.assign({ points: P[i], transform: T[i], index: d, markKey, viewKey: key }, (tooltip && {\n                title: titleOf(d),\n                items: itemsOf(d),\n            }));\n            for (const [k, V] of Object.entries(value)) {\n                datum[k] = V[d];\n                if (S)\n                    datum[`series${upperFirst(k)}`] = S[i].map((i) => V[i]);\n            }\n            if (S)\n                datum['seriesIndex'] = S[i];\n            if (S && tooltip) {\n                datum['seriesItems'] = S[i].map((si) => itemsOf(si));\n                datum['seriesTitle'] = S[i].map((si) => titleOf(si));\n            }\n            return datum;\n        });\n        state.data = visualData;\n        state.index = I;\n        // Create children options by children callback,\n        // and then propagate data to each child.\n        const markChildren = createChildren === null || createChildren === void 0 ? void 0 : createChildren(visualData, markScaleInstance, layout);\n        children.push(...(markChildren || []));\n    }\n    const view = {\n        layout,\n        theme,\n        coordinate,\n        markState,\n        key,\n        clip,\n        scale: scaleInstance,\n        style: framedStyle,\n        components,\n        labelTransform: compose(labelTransform.map(useLabelTransform)),\n    };\n    return [view, children];\n}\nfunction plotView(view, selection, transitions, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { library } = context;\n        const { components, theme, layout, markState, coordinate, key, style, clip, scale, } = view;\n        // Render background for the different areas.\n        const { x, y, width, height } = layout, rest = __rest(layout, [\"x\", \"y\", \"width\", \"height\"]);\n        const areaKeys = ['view', 'plot', 'main', 'content'];\n        const I = areaKeys.map((_, i) => i);\n        const sizeKeys = ['a', 'margin', 'padding', 'inset'];\n        const areaStyles = areaKeys.map((d) => maybeSubObject(Object.assign({}, theme.view, style), d));\n        const areaSizes = sizeKeys.map((d) => subObject(rest, d));\n        const styleArea = (selection) => selection\n            .style('x', (i) => areaLayouts[i].x)\n            .style('y', (i) => areaLayouts[i].y)\n            .style('width', (i) => areaLayouts[i].width)\n            .style('height', (i) => areaLayouts[i].height)\n            .each(function (i, d, element) {\n            applyStyle(select(element), areaStyles[i]);\n        });\n        let px = 0;\n        let py = 0;\n        let pw = width;\n        let ph = height;\n        const areaLayouts = I.map((i) => {\n            const size = areaSizes[i];\n            const { left = 0, top = 0, bottom = 0, right = 0 } = size;\n            px += left;\n            py += top;\n            pw -= left + right;\n            ph -= top + bottom;\n            return {\n                x: px,\n                y: py,\n                width: pw,\n                height: ph,\n            };\n        });\n        selection\n            .selectAll(className(AREA_CLASS_NAME))\n            .data(\n        // Only render area with defined style.\n        I.filter((i) => defined(areaStyles[i])), (i) => areaKeys[i])\n            .join((enter) => enter\n            .append('rect')\n            .attr('className', AREA_CLASS_NAME)\n            .style('zIndex', -2)\n            .call(styleArea), (update) => update.call(styleArea), (exit) => exit.remove());\n        const animationExtent = computeAnimationExtent(markState);\n        const componentAnimateOptions = animationExtent\n            ? { duration: animationExtent[1] }\n            : false;\n        // Render components.\n        // @todo renderComponent return ctor and options.\n        // Key for each type of component.\n        // Index them grouped by position.\n        for (const [, C] of groups(components, (d) => `${d.type}-${d.position}`)) {\n            C.forEach((d, i) => (d.index = i));\n        }\n        const componentsTransitions = selection\n            .selectAll(className(COMPONENT_CLASS_NAME))\n            .data(components, (d) => `${d.type}-${d.position}-${d.index}`)\n            .join((enter) => enter\n            .append('g')\n            .style('zIndex', ({ zIndex }) => zIndex || -1)\n            .attr('className', COMPONENT_CLASS_NAME)\n            .append((options) => renderComponent(deepMix({ animate: componentAnimateOptions, scale }, options), coordinate, theme, library, markState)), (update) => update.transition(function (options, i, element) {\n            const { preserve = false } = options;\n            if (preserve)\n                return;\n            const newComponent = renderComponent(deepMix({ animate: componentAnimateOptions, scale }, options), coordinate, theme, library, markState);\n            const { attributes } = newComponent;\n            const [node] = element.childNodes;\n            return node.update(attributes, false);\n        }))\n            .transitions();\n        transitions.push(...componentsTransitions.flat().filter(defined));\n        // Main layer is for showing the main visual representation such as marks. There\n        // may be multiple main layers for a view, each main layer correspond to one of marks.\n        // @todo Test DOM structure.\n        const T = selection\n            .selectAll(className(PLOT_CLASS_NAME))\n            .data([layout], () => key)\n            .join((enter) => enter\n            // Make this layer interactive, such as click and mousemove events.\n            .append('rect')\n            .style('zIndex', 0)\n            .style('fill', 'transparent')\n            .attr('className', PLOT_CLASS_NAME)\n            .call(updateBBox)\n            .call(updateLayers, Array.from(markState.keys()))\n            .call(applyClip, clip), (update) => update\n            .call(updateLayers, Array.from(markState.keys()))\n            .call((selection) => {\n            return animationExtent\n                ? animateBBox(selection, animationExtent)\n                : updateBBox(selection);\n        })\n            .call(applyClip, clip))\n            .transitions();\n        transitions.push(...T.flat());\n        // Render marks with corresponding data.\n        for (const [mark, state] of markState.entries()) {\n            const { data } = state;\n            const { key, class: cls, type } = mark;\n            const viewNode = selection.select(`#${key}`);\n            const shapeFunction = createMarkShapeFunction(mark, state, view, context);\n            const enterFunction = createEnterFunction(mark, state, view, library);\n            const updateFunction = createUpdateFunction(mark, state, view, library);\n            const exitFunction = createExitFunction(mark, state, view, library);\n            const facetElements = selectFacetElements(selection, viewNode, cls, 'element');\n            const T = viewNode\n                .selectAll(className(ELEMENT_CLASS_NAME))\n                .selectFacetAll(facetElements)\n                .data(data, (d) => d.key, (d) => d.groupKey)\n                .join((enter) => enter\n                .append(shapeFunction)\n                // Note!!! Only one className can be set.\n                // Using attribute as alternative for other classNames.\n                .attr('className', ELEMENT_CLASS_NAME)\n                .attr('markType', type)\n                .transition(function (data, i, element) {\n                return enterFunction(data, [element]);\n            }), (update) => update.call((selection) => {\n                const parent = selection.parent();\n                const origin = useMemo((node) => {\n                    const [x, y] = node.getBounds().min;\n                    return [x, y];\n                });\n                selection\n                    .transition(function (data, index, element) {\n                    maybeFacetElement(element, parent, origin);\n                    const node = shapeFunction(data, index);\n                    const animation = updateFunction(data, [element], [node]);\n                    if (animation === null || animation === void 0 ? void 0 : animation.length)\n                        return animation;\n                    if (element.nodeName === node.nodeName &&\n                        node.nodeName !== 'g') {\n                        copyAttributes(element, node);\n                    }\n                    else {\n                        element.parentNode.replaceChild(node, element);\n                        node.className = ELEMENT_CLASS_NAME;\n                        // @ts-ignore\n                        node.markType = type;\n                        // @ts-ignore\n                        node.__data__ = element.__data__;\n                    }\n                    return animation;\n                })\n                    .attr('markType', type)\n                    .attr('className', ELEMENT_CLASS_NAME);\n            }), (exit) => {\n                return exit\n                    .each(function (d, i, element) {\n                    element.__removed__ = true;\n                })\n                    .transition(function (data, i, element) {\n                    return exitFunction(data, [element]);\n                })\n                    .remove();\n            }, (merge) => merge\n                // Append elements to be merged.\n                .append(shapeFunction)\n                .attr('className', ELEMENT_CLASS_NAME)\n                .attr('markType', type)\n                .transition(function (data, i, element) {\n                // Remove merged elements after animation finishing.\n                const { __fromElements__: fromElements } = element;\n                const transition = updateFunction(data, fromElements, [element]);\n                const exit = new Selection(fromElements, null, element.parentNode);\n                exit.transition(transition).remove();\n                return transition;\n            }), (split) => split\n                .transition(function (data, i, element) {\n                // Append splitted shapes.\n                const enter = new Selection([], element.__toData__, element.parentNode);\n                const toElements = enter\n                    .append(shapeFunction)\n                    .attr('className', ELEMENT_CLASS_NAME)\n                    .attr('markType', type)\n                    .nodes();\n                return updateFunction(data, [element], toElements);\n            })\n                // Remove elements to be splitted after animation finishing.\n                .remove())\n                .transitions();\n            transitions.push(...T.flat());\n        }\n        // Plot label for this view.\n        plotLabel(view, selection, transitions, library, context);\n    });\n}\n/**\n * Auto hide labels be specify label layout.\n */\nfunction plotLabel(view, selection, transitions, library, context) {\n    const [useLabelTransform] = useLibrary('labelTransform', library);\n    const { markState, labelTransform } = view;\n    const labelLayer = selection.select(className(LABEL_LAYER_CLASS_NAME)).node();\n    // A Map index shapeFunction by label.\n    const labelShapeFunction = new Map();\n    // A Map index options by label.\n    const labelDescriptor = new Map();\n    // Get all labels for this view.\n    const labels = Array.from(markState.entries()).flatMap(([mark, state]) => {\n        const { labels: labelOptions = [], key } = mark;\n        const shapeFunction = createLabelShapeFunction(mark, state, view, library, context);\n        const elements = selection\n            .select(`#${key}`)\n            .selectAll(className(ELEMENT_CLASS_NAME))\n            .nodes()\n            // Only select the valid element.\n            .filter((n) => !n.__removed__);\n        return labelOptions.flatMap((labelOption, i) => {\n            const { transform = [] } = labelOption, options = __rest(labelOption, [\"transform\"]);\n            return elements.flatMap((e) => {\n                const L = getLabels(options, i, e);\n                L.forEach((l) => {\n                    labelShapeFunction.set(l, (data) => shapeFunction(Object.assign(Object.assign({}, data), { element: e })));\n                    labelDescriptor.set(l, labelOption);\n                });\n                return L;\n            });\n        });\n    });\n    // Render all labels.\n    const labelShapes = select(labelLayer)\n        .selectAll(className(LABEL_CLASS_NAME))\n        .data(labels, (d) => d.key)\n        .join((enter) => enter\n        .append((d) => labelShapeFunction.get(d)(d))\n        .attr('className', LABEL_CLASS_NAME), (update) => update.each(function (d, i, element) {\n        // @todo Handle Label with different type.\n        const shapeFunction = labelShapeFunction.get(d);\n        const node = shapeFunction(d);\n        copyAttributes(element, node);\n    }), (exit) => exit.remove())\n        .nodes();\n    // Apply group-level transforms.\n    const labelGroups = group(labelShapes, (d) => labelDescriptor.get(d.__data__));\n    const { coordinate, layout } = view;\n    const labelTransformContext = {\n        canvas: context.canvas,\n        coordinate,\n        layout,\n    };\n    for (const [label, shapes] of labelGroups) {\n        const { transform = [] } = label;\n        const transformFunction = compose(transform.map(useLabelTransform));\n        transformFunction(shapes, labelTransformContext);\n    }\n    // Apply view-level transform.\n    if (labelTransform) {\n        labelTransform(labelShapes, labelTransformContext);\n    }\n}\nfunction getLabels(label, labelIndex, element) {\n    const { seriesIndex: SI, seriesKey, points, key, index } = element.__data__;\n    const bounds = getLocalBounds(element);\n    if (!SI) {\n        return [\n            Object.assign(Object.assign({}, label), { key: `${key}-${labelIndex}`, bounds,\n                index,\n                points, dependentElement: element }),\n        ];\n    }\n    const selector = normalizeLabelSelector(label);\n    const F = SI.map((index, i) => (Object.assign(Object.assign({}, label), { key: `${seriesKey[i]}-${labelIndex}`, bounds: [points[i]], index,\n        points, dependentElement: element })));\n    return selector ? selector(F) : F;\n}\nfunction filterValid([I, P, S]) {\n    if (S)\n        return [I, P, S];\n    const definedIndex = [];\n    const definedPoints = [];\n    for (let i = 0; i < I.length; i++) {\n        const d = I[i];\n        const p = P[i];\n        if (p.every(([x, y]) => defined(x) && defined(y))) {\n            definedIndex.push(d);\n            definedPoints.push(p);\n        }\n    }\n    return [definedIndex, definedPoints];\n}\nfunction normalizeLabelSelector(label) {\n    const { selector } = label;\n    if (!selector)\n        return null;\n    if (typeof selector === 'function')\n        return selector;\n    if (selector === 'first')\n        return (I) => [I[0]];\n    if (selector === 'last')\n        return (I) => [I[I.length - 1]];\n    throw new Error(`Unknown selector: ${selector}`);\n}\n/**\n * Avoid getting error bounds caused by element animations.\n * @todo Remove this temporary handle method, if runtime supports\n * correct process: drawElement, do label layout and then do\n * transitions together.\n */\nfunction getLocalBounds(element) {\n    const cloneElement = element.cloneNode();\n    const animations = element.getAnimations();\n    cloneElement.style.visibility = 'hidden';\n    animations.forEach((animation) => {\n        const keyframes = animation.effect.getKeyframes();\n        cloneElement.attr(keyframes[keyframes.length - 1]);\n    });\n    element.parentNode.appendChild(cloneElement);\n    const bounds = cloneElement.getLocalBounds();\n    cloneElement.destroy();\n    const { min, max } = bounds;\n    return [min, max];\n}\nfunction createLabelShapeFunction(mark, state, view, library, context) {\n    const [useShape] = useLibrary('shape', library);\n    const { data: abstractData, encode } = mark;\n    const { data: visualData, defaultLabelShape } = state;\n    const point2d = visualData.map((d) => d.points);\n    const channel = mapObject(encode, (d) => d.value);\n    // Assemble Context.\n    const { theme, coordinate } = view;\n    const shapeContext = Object.assign(Object.assign({}, context), { document: documentOf(context), theme,\n        coordinate });\n    return (options) => {\n        // Computed values from data and styles.\n        const { index, points } = options;\n        const datum = abstractData[index];\n        const { formatter = (d) => `${d}`, transform, style: abstractStyle, render, selector, element } = options, abstractOptions = __rest(options, [\"formatter\", \"transform\", \"style\", \"render\", \"selector\", \"element\"]);\n        const visualOptions = mapObject(Object.assign(Object.assign({}, abstractOptions), abstractStyle), (d) => valueOf(d, datum, index, abstractData, {\n            channel,\n            element,\n        }));\n        const { shape = defaultLabelShape, text } = visualOptions, style = __rest(visualOptions, [\"shape\", \"text\"]);\n        const f = typeof formatter === 'string' ? format(formatter) : formatter;\n        const value = Object.assign(Object.assign({}, style), { text: f(text, datum, index, abstractData), datum });\n        // Params for create shape.\n        const shapeOptions = Object.assign({ type: `label.${shape}`, render }, style);\n        const shapeFunction = useShape(shapeOptions, shapeContext);\n        const defaults = getDefaultsStyle(theme, 'label', shape, 'label');\n        return shapeFunction(points, value, defaults, point2d);\n    };\n}\nfunction valueOf(value, datum, i, data, options) {\n    if (typeof value === 'function')\n        return value(datum, i, data, options);\n    if (typeof value !== 'string')\n        return value;\n    if (isStrictObject(datum) && datum[value] !== undefined)\n        return datum[value];\n    return value;\n}\n/**\n * Compute max duration for this frame.\n */\nfunction computeAnimationExtent(markState) {\n    let maxDuration = -Infinity;\n    let minDelay = Infinity;\n    for (const [mark, state] of markState) {\n        const { animate = {} } = mark;\n        const { data } = state;\n        const { enter = {}, update = {}, exit = {} } = animate;\n        const { type: defaultUpdateType, duration: defaultUpdateDuration = 300, delay: defaultUpdateDelay = 0, } = update;\n        const { type: defaultEnterType, duration: defaultEnterDuration = 300, delay: defaultEnterDelay = 0, } = enter;\n        const { type: defaultExitType, duration: defaultExitDuration = 300, delay: defaultExitDelay = 0, } = exit;\n        for (const d of data) {\n            const { updateType = defaultUpdateType, updateDuration = defaultUpdateDuration, updateDelay = defaultUpdateDelay, enterType = defaultEnterType, enterDuration = defaultEnterDuration, enterDelay = defaultEnterDelay, exitDuration = defaultExitDuration, exitDelay = defaultExitDelay, exitType = defaultExitType, } = d;\n            if (updateType === undefined || updateType) {\n                maxDuration = Math.max(maxDuration, updateDuration + updateDelay);\n                minDelay = Math.min(minDelay, updateDelay);\n            }\n            if (exitType === undefined || exitType) {\n                maxDuration = Math.max(maxDuration, exitDuration + exitDelay);\n                minDelay = Math.min(minDelay, exitDelay);\n            }\n            if (enterType === undefined || enterType) {\n                maxDuration = Math.max(maxDuration, enterDuration + enterDelay);\n                minDelay = Math.min(minDelay, enterDelay);\n            }\n        }\n    }\n    if (maxDuration === -Infinity)\n        return null;\n    return [minDelay, maxDuration - minDelay];\n}\nfunction selectFacetElements(selection, current, facetClassName, elementClassName) {\n    const group = selection.node().parentElement;\n    return group\n        .findAll((node) => node.style.facet !== undefined &&\n        node.style.facet === facetClassName &&\n        node !== current.node())\n        .flatMap((node) => node.getElementsByClassName(elementClassName));\n}\n/**\n * Update the parent of element and apply transform to make it\n * stay in original position.\n */\nfunction maybeFacetElement(element, parent, originOf) {\n    if (!element.__facet__)\n        return;\n    // element -> g#main -> rect#plot\n    const prePlot = element.parentNode.parentNode;\n    // g#main -> rect#plot\n    const newPlot = parent.parentNode;\n    const [px, py] = originOf(prePlot);\n    const [x, y] = originOf(newPlot);\n    const translate = `translate(${px - x}, ${py - y})`;\n    appendTransform(element, translate);\n    parent.append(element);\n}\nfunction createMarkShapeFunction(mark, state, view, context) {\n    const { library } = context;\n    const [useShape] = useLibrary('shape', library);\n    const { data: abstractData, encode } = mark;\n    const { defaultShape, data, shape: shapeLibrary } = state;\n    const channel = mapObject(encode, (d) => d.value);\n    const point2d = data.map((d) => d.points);\n    const { theme, coordinate } = view;\n    const { type: markType, style = {} } = mark;\n    const shapeContext = Object.assign(Object.assign({}, context), { document: documentOf(context), coordinate,\n        theme });\n    return (data) => {\n        const { shape: styleShape = defaultShape } = style;\n        const { shape = styleShape, points, seriesIndex, index: i } = data, v = __rest(data, [\"shape\", \"points\", \"seriesIndex\", \"index\"]);\n        const value = Object.assign(Object.assign({}, v), { index: i });\n        // Get data-driven style.\n        // If it is a series shape, such as area and line,\n        // provides the series of abstract data and indices\n        // for this shape, otherwise the single datum and\n        // index.\n        const abstractDatum = seriesIndex\n            ? seriesIndex.map((i) => abstractData[i])\n            : abstractData[i];\n        const I = seriesIndex ? seriesIndex : i;\n        const visualStyle = mapObject(style, (d) => valueOf(d, abstractDatum, I, abstractData, { channel }));\n        // Try get shape from mark first, then from library.\n        const shapeFunction = shapeLibrary[shape]\n            ? shapeLibrary[shape](visualStyle, shapeContext)\n            : useShape(Object.assign(Object.assign({}, visualStyle), { type: shapeName(mark, shape) }), shapeContext);\n        const defaults = getDefaultsStyle(theme, markType, shape, defaultShape);\n        return shapeFunction(points, value, defaults, point2d);\n    };\n}\nfunction getDefaultsStyle(theme, mark, shape, defaultShape) {\n    if (typeof mark !== 'string')\n        return;\n    const { color } = theme;\n    const markTheme = theme[mark] || {};\n    const shapeTheme = markTheme[shape] || markTheme[defaultShape];\n    return Object.assign({ color }, shapeTheme);\n}\nfunction createAnimationFunction(type, mark, state, view, library) {\n    var _a, _b;\n    const [, createShape] = useLibrary('shape', library);\n    const [useAnimation] = useLibrary('animation', library);\n    const { defaultShape, shape: shapeLibrary } = state;\n    const { theme, coordinate } = view;\n    const upperType = upperFirst(type);\n    const key = `default${upperType}Animation`;\n    // Get shape from mark first, then from library.\n    const { [key]: defaultAnimation } = ((_a = shapeLibrary[defaultShape]) === null || _a === void 0 ? void 0 : _a.props) ||\n        createShape(shapeName(mark, defaultShape)).props;\n    const { [type]: defaultEffectTiming = {} } = theme;\n    const animate = ((_b = mark.animate) === null || _b === void 0 ? void 0 : _b[type]) || {};\n    const context = { coordinate };\n    return (data, from, to) => {\n        const { [`${type}Type`]: animation, [`${type}Delay`]: delay, [`${type}Duration`]: duration, [`${type}Easing`]: easing, } = data;\n        const options = Object.assign({ type: animation || defaultAnimation }, animate);\n        if (!options.type)\n            return null;\n        const animateFunction = useAnimation(options, context);\n        const value = { delay, duration, easing };\n        const A = animateFunction(from, to, deepMix(defaultEffectTiming, value));\n        let an = [];\n        if (!Array.isArray(A)) {\n            an = [A];\n        }\n        else {\n            an = A;\n        }\n        return an.filter(Boolean);\n    };\n}\nfunction createEnterFunction(mark, state, view, library) {\n    return createAnimationFunction('enter', mark, state, view, library);\n}\n/**\n * Animation will not cancel automatically, it should be canceled\n * manually. This is very important for performance.\n */\nfunction cancel(animation) {\n    animation.finished.then(() => {\n        animation.cancel();\n    });\n    return animation;\n}\nfunction createUpdateFunction(mark, state, view, library) {\n    return createAnimationFunction('update', mark, state, view, library);\n}\nfunction createExitFunction(mark, state, view, library) {\n    return createAnimationFunction('exit', mark, state, view, library);\n}\nfunction inferTheme(theme = {}) {\n    if (typeof theme === 'string')\n        return { type: theme };\n    const { type = 'light' } = theme, rest = __rest(theme, [\"type\"]);\n    return Object.assign(Object.assign({}, rest), { type });\n}\n/**\n * @todo Infer builtin tooltips.\n */\nfunction inferInteraction(view) {\n    const defaults = {\n        event: true,\n        tooltip: true,\n        // @todo Inferred by slider self.\n        sliderFilter: true,\n        legendFilter: true,\n        scrollbarFilter: true,\n    };\n    const { interaction = {} } = view;\n    return Object.entries(deepMix(defaults, interaction)).reverse();\n}\nfunction applyTransform(node, context) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { data } = node, rest = __rest(node, [\"data\"]);\n        if (data == undefined)\n            return node;\n        const [, { data: newData }] = yield applyDataTransform([], { data }, context);\n        return Object.assign({ data: newData }, rest);\n    });\n}\nfunction updateBBox(selection) {\n    selection\n        .style('transform', (d) => `translate(${d.paddingLeft + d.marginLeft}, ${d.paddingTop + d.marginTop})`)\n        .style('width', (d) => d.innerWidth)\n        .style('height', (d) => d.innerHeight);\n}\nfunction animateBBox(selection, extent) {\n    const [delay, duration] = extent;\n    selection.transition(function (data, i, element) {\n        const { transform, width, height } = element.style;\n        const { paddingLeft, paddingTop, innerWidth, innerHeight, marginLeft, marginTop, } = data;\n        const keyframes = [\n            {\n                transform,\n                width,\n                height,\n            },\n            {\n                transform: `translate(${paddingLeft + marginLeft}, ${paddingTop + marginTop})`,\n                width: innerWidth,\n                height: innerHeight,\n            },\n        ];\n        return element.animate(keyframes, { delay, duration, fill: 'both' });\n    });\n}\nfunction shapeName(mark, name) {\n    const { type } = mark;\n    if (typeof name === 'string')\n        return `${type}.${name}`;\n    return name;\n}\n/**\n * Create and update layer for each mark.\n * All the layers created here are treated as main layers.\n */\nfunction updateLayers(selection, marks) {\n    const facet = (d) => (d.class !== undefined ? `${d.class}` : '');\n    // Skip for empty selection, it can't append nodes.\n    const nodes = selection.nodes();\n    if (nodes.length === 0)\n        return;\n    selection\n        .selectAll(className(MAIN_LAYER_CLASS_NAME))\n        .data(marks, (d) => d.key)\n        .join((enter) => enter\n        .append('g')\n        .attr('className', MAIN_LAYER_CLASS_NAME)\n        .attr('id', (d) => d.key)\n        .style('facet', facet)\n        .style('fill', 'transparent')\n        .style('zIndex', (d) => { var _a; return (_a = d.zIndex) !== null && _a !== void 0 ? _a : 0; }), (update) => update\n        .style('facet', facet)\n        .style('fill', 'transparent')\n        .style('zIndex', (d) => { var _a; return (_a = d.zIndex) !== null && _a !== void 0 ? _a : 0; }), (exit) => exit.remove());\n    const labelLayer = selection.select(className(LABEL_LAYER_CLASS_NAME)).node();\n    if (labelLayer)\n        return;\n    selection\n        .append('g')\n        .attr('className', LABEL_LAYER_CLASS_NAME)\n        .style('zIndex', 0);\n}\nfunction className(...names) {\n    return names.map((d) => `.${d}`).join('');\n}\nfunction applyClip(selection, clip) {\n    if (!selection.node())\n        return;\n    selection.style('clipPath', (data) => {\n        if (!clip)\n            return null;\n        const { paddingTop: y, paddingLeft: x, marginLeft: x1, marginTop: y1, innerWidth: width, innerHeight: height, } = data;\n        return new Rect({ style: { x: x + x1, y: y + y1, width, height } });\n    });\n}\nfunction inferComponentScales(scales, states, markState) {\n    // add shape scale to state.\n    var _a;\n    // for cell, omit shape scale.\n    // @todo support shape scale for cell.\n    for (const [key] of markState.entries()) {\n        if (key.type === 'cell') {\n            return scales.filter((scale) => scale.name !== 'shape');\n        }\n    }\n    // can't infer shape scale if there are multiple states.\n    if (states.length !== 1 || scales.some((scale) => scale.name === 'shape')) {\n        return scales;\n    }\n    const { defaultShape: shape } = states[0];\n    const acceptMarkTypes = ['point', 'line', 'rect', 'hollow'];\n    if (!acceptMarkTypes.includes(shape))\n        return scales;\n    const shapeMap = {\n        point: 'point',\n        line: 'hyphen',\n        rect: 'square',\n        hollow: 'hollow',\n    };\n    // create shape scale\n    const field = ((_a = scales.find((scale) => scale.name === 'color')) === null || _a === void 0 ? void 0 : _a.field) || null;\n    const shapeScale = {\n        field,\n        name: 'shape',\n        type: 'constant',\n        domain: [],\n        range: [shapeMap[shape]],\n    };\n    return [...scales, shapeScale];\n}\nexport function applyStyle(selection, style) {\n    for (const [key, value] of Object.entries(style)) {\n        selection.style(key, value);\n    }\n}\n//# sourceMappingURL=plot.js.map","import { get } from '@antv/util';\n// style: { columnWidthRatio: 0.2 } => scale: { x: { padding: 0.8 } }\nexport function columnWidthRatio(options) {\n    const { style, scale, type } = options;\n    const scaleOption = {};\n    const columnWidthRatio = get(style, 'columnWidthRatio');\n    if (columnWidthRatio && type === 'interval') {\n        scaleOption.x = Object.assign(Object.assign({}, scale === null || scale === void 0 ? void 0 : scale.x), { padding: 1 - columnWidthRatio });\n    }\n    return Object.assign(Object.assign({}, options), { scale: Object.assign(Object.assign({}, scale), scaleOption) });\n}\n//# sourceMappingURL=style.js.map","import { flow } from '../../utils/flow';\nimport { columnWidthRatio } from './style';\nexport function preprocessOption(options) {\n    const convertedOptions = adapter(options);\n    // If there are children, recursively convert each child node.\n    if (convertedOptions.children && Array.isArray(convertedOptions.children)) {\n        convertedOptions.children = convertedOptions.children.map((child) => preprocessOption(child));\n    }\n    return convertedOptions;\n}\n// Entry point for all syntactic sugar functions.\nfunction adapter(options) {\n    //@todo define a type for params of flow\n    return flow(columnWidthRatio)(options);\n}\n//# sourceMappingURL=index.js.map","/**\n * 类似 lodash.flow 的方法\n * @param flows\n */\nexport function flow(...flows) {\n    return (param) => {\n        return flows.reduce((result, f) => {\n            return f(result);\n        }, param);\n    };\n}\n//# sourceMappingURL=flow.js.map","import { Canvas as GCanvas, Group } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Plugin as DragAndDropPlugin } from '@antv/g-plugin-dragndrop';\nimport { deepMix } from '@antv/util';\nimport EventEmitter from '@antv/event-emitter';\nimport { select } from '../utils/selection';\nimport { ChartEvent } from '../utils/event';\nimport { error } from '../utils/helper';\nimport { parseOptionsExpr } from '../utils/expr';\nimport { plot } from './plot';\nimport { VIEW_CLASS_NAME } from './constant';\nimport { preprocessOption } from './option-preprocess';\n/**\n * Infer key for each node of view tree.\n * Each key should be unique in the entire view tree.\n * The key is for incremental render when view tree is changed.\n * @todo Fix custom key equals to inferred key.\n */\nfunction inferKeys(options) {\n    const root = deepMix({}, options);\n    const nodeParent = new Map([[root, null]]);\n    const nodeIndex = new Map([[null, -1]]);\n    const discovered = [root];\n    while (discovered.length) {\n        const node = discovered.shift();\n        // If key of node is not specified, using parentKey and the index for it\n        // in parent.children as its key.\n        // e.g. The key of node named 'a' will be 'a', and the key of node named\n        // 'b' will be 'parent-1' in the following view tree specification.\n        // { key: 'parent', children: [{ name: 'a', key: 'a' }, { name: 'b' }] }\n        if (node.key === undefined) {\n            const parent = nodeParent.get(node);\n            const index = nodeIndex.get(node);\n            const key = parent === null ? `${0}` : `${parent.key}-${index}`;\n            node.key = key;\n        }\n        const { children = [] } = node;\n        if (Array.isArray(children)) {\n            for (let i = 0; i < children.length; i++) {\n                // Clone node as well.\n                const child = deepMix({}, children[i]);\n                children[i] = child;\n                nodeParent.set(child, node);\n                nodeIndex.set(child, i);\n                discovered.push(child);\n            }\n        }\n    }\n    return root;\n}\nfunction Canvas(width, height) {\n    const renderer = new CanvasRenderer();\n    // DragAndDropPlugin is for interaction.\n    renderer.registerPlugin(new DragAndDropPlugin());\n    return new GCanvas({\n        width,\n        height,\n        container: document.createElement('div'),\n        renderer: renderer,\n    });\n}\nexport function render(options, context = {}, resolve = () => { }, reject = (e) => {\n    throw e;\n}) {\n    const afterParsedOptions = parseOptionsExpr(options);\n    // Initialize the context if it is not provided.\n    const { width = 640, height = 480, depth = 0 } = afterParsedOptions;\n    // Preprocessing here, such as syntactic sugar.\n    const preprocessedOption = preprocessOption(afterParsedOptions);\n    const keyed = inferKeys(preprocessedOption);\n    const { canvas = Canvas(width, height), emitter = new EventEmitter(), library, } = context;\n    context.canvas = canvas;\n    context.emitter = emitter;\n    const { width: prevWidth, height: prevHeight } = canvas.getConfig();\n    if (prevWidth !== width || prevHeight !== height) {\n        canvas.resize(width, height);\n    }\n    emitter.emit(ChartEvent.BEFORE_RENDER);\n    // Plot the chart and mutate context.\n    // Make sure that plot chart after container is ready for every time.\n    const selection = select(canvas.document.documentElement);\n    canvas.ready\n        .then(() => plot(Object.assign(Object.assign({}, keyed), { width, height, depth }), selection, context))\n        .then(() => {\n        // Place the center of whole scene at z axis' origin.\n        if (depth) {\n            const [x, y] = canvas.document.documentElement.getPosition();\n            // Since `render` method can be called for multiple times, use setPosition instead of translate here.\n            canvas.document.documentElement.setPosition(x, y, -depth / 2);\n        }\n        // Wait for the next tick.\n        // FIXME: Use `rendered?` event instead of `requestAnimationFrame`.\n        canvas.requestAnimationFrame(() => {\n            canvas.requestAnimationFrame(() => {\n                emitter.emit(ChartEvent.AFTER_RENDER);\n                resolve === null || resolve === void 0 ? void 0 : resolve();\n            });\n        });\n    })\n        .catch((e) => {\n        reject === null || reject === void 0 ? void 0 : reject(e);\n    });\n    // Return the container HTML element wraps the canvas or svg element.\n    return normalizeContainer(canvas.getConfig().container);\n}\nexport function renderToMountedElement(options, context = {}, resolve = () => { }, reject = (e) => {\n    throw e;\n}) {\n    var _a;\n    // Initialize the context if it is not provided.\n    const { width = 640, height = 480 } = options;\n    const keyed = inferKeys(options);\n    const { group = new Group(), emitter = new EventEmitter(), library, } = context;\n    if (!(group === null || group === void 0 ? void 0 : group.parentElement)) {\n        error(`renderToMountedElement can't render chart to unmounted group.`);\n    }\n    const selection = select(group);\n    context.group = group;\n    context.emitter = emitter;\n    context.canvas =\n        context.canvas || ((_a = group === null || group === void 0 ? void 0 : group.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView);\n    emitter.emit(ChartEvent.BEFORE_RENDER);\n    // Plot the chart and mutate context.\n    // Make sure that plot chart after container is ready for every time.\n    plot(Object.assign(Object.assign({}, keyed), { width, height }), selection, context)\n        .then(() => {\n        var _a;\n        (_a = context.canvas) === null || _a === void 0 ? void 0 : _a.requestAnimationFrame(() => {\n            emitter.emit(ChartEvent.AFTER_RENDER);\n            resolve === null || resolve === void 0 ? void 0 : resolve();\n        });\n    })\n        .catch((e) => {\n        reject === null || reject === void 0 ? void 0 : reject(e);\n    });\n    // Return the Group wraps the canvas or svg element.\n    return group;\n}\nexport function destroy(options, context = {}, isDestroyCanvas = false) {\n    const { canvas, emitter } = context;\n    if (canvas) {\n        destroyAllInteractions(canvas);\n        isDestroyCanvas ? canvas.destroy() : canvas.destroyChildren();\n    }\n    emitter.off();\n}\n/**\n * Destroy all interactions mounted on the canvas.\n */\nfunction destroyAllInteractions(canvas) {\n    const viewGroups = canvas.getRoot().querySelectorAll(`.${VIEW_CLASS_NAME}`);\n    viewGroups === null || viewGroups === void 0 ? void 0 : viewGroups.forEach((group) => {\n        const { nameInteraction = new Map() } = group;\n        if ((nameInteraction === null || nameInteraction === void 0 ? void 0 : nameInteraction.size) > 0) {\n            Array.from(nameInteraction === null || nameInteraction === void 0 ? void 0 : nameInteraction.values()).forEach((value) => {\n                value === null || value === void 0 ? void 0 : value.destroy();\n            });\n        }\n    });\n}\nfunction normalizeContainer(container) {\n    return typeof container === 'string'\n        ? document.getElementById(container)\n        : container;\n}\n//# sourceMappingURL=render.js.map","const parseInt10 = (d) => (d ? parseInt(d) : 0);\n/**\n * @description Get the element's bounding size.\n * @param container dom element.\n * @returns the element width and height\n */\nexport function getContainerSize(container) {\n    // size = width/height - padding.\n    const style = getComputedStyle(container);\n    const wrapperWidth = container.clientWidth || parseInt10(style.width);\n    const wrapperHeight = container.clientHeight || parseInt10(style.height);\n    const widthPadding = parseInt10(style.paddingLeft) + parseInt10(style.paddingRight);\n    const heightPadding = parseInt10(style.paddingTop) + parseInt10(style.paddingBottom);\n    return {\n        width: wrapperWidth - widthPadding,\n        height: wrapperHeight - heightPadding,\n    };\n}\n/**\n * @description Calculate the real canvas size by view options.\n */\nexport function getBBoxSize(options) {\n    const { height, width, padding = 0, paddingLeft = padding, paddingRight = padding, paddingTop = padding, paddingBottom = padding, margin = 0, marginLeft = margin, marginRight = margin, marginTop = margin, marginBottom = margin, inset = 0, insetLeft = inset, insetRight = inset, insetTop = inset, insetBottom = inset, } = options;\n    // @todo Add this padding to theme.\n    // 30 is default size for padding, which defined in runtime.\n    const maybeAuto = (padding) => (padding === 'auto' ? 20 : padding);\n    const finalWidth = width -\n        maybeAuto(paddingLeft) -\n        maybeAuto(paddingRight) -\n        marginLeft -\n        marginRight -\n        insetLeft -\n        insetRight;\n    const finalHeight = height -\n        maybeAuto(paddingTop) -\n        maybeAuto(paddingBottom) -\n        marginTop -\n        marginBottom -\n        insetTop -\n        insetBottom;\n    return { width: finalWidth, height: finalHeight };\n}\n//# sourceMappingURL=size.js.map","/**\n * BFS nodes and execute callback.\n */\nfunction bfs(node, callback) {\n    const discovered = [node];\n    while (discovered.length) {\n        const currentNode = discovered.shift();\n        callback && callback(currentNode);\n        const children = currentNode.children || [];\n        for (const child of children) {\n            discovered.push(child);\n        }\n    }\n}\n/**\n * Hierarchy container.\n */\nexport class Node {\n    constructor(value = {}, type) {\n        // The parent node.\n        this.parentNode = null;\n        // The children nodes.\n        this.children = [];\n        // The index of parent children.\n        this.index = 0;\n        this.type = type;\n        this.value = value;\n    }\n    /**\n     * Apply specified transform to current value. Mount the node\n     * to replace the original one in the tree and then return it.\n     */\n    map(transform = (x) => x) {\n        const newValue = transform(this.value);\n        this.value = newValue;\n        return this;\n    }\n    /**\n     * Set or get the specified attribute. It the value is specified, update\n     * the attribute of current value and return the node. Otherwise\n     * return the the attribute of current value.\n     */\n    attr(key, value) {\n        if (arguments.length === 1)\n            return this.value[key];\n        return this.map((v) => ((v[key] = value), v));\n    }\n    /**\n     * Create a new node and append to children nodes.\n     */\n    append(Ctor) {\n        const node = new Ctor({});\n        node.children = [];\n        this.push(node);\n        return node;\n    }\n    push(node) {\n        node.parentNode = this;\n        node.index = this.children.length;\n        this.children.push(node);\n        return this;\n    }\n    /**\n     * Remove current node from parentNode.\n     */\n    remove() {\n        const parent = this.parentNode;\n        if (parent) {\n            const { children } = parent;\n            const index = children.findIndex((item) => item === this);\n            children.splice(index, 1);\n        }\n        return this;\n    }\n    getNodeByKey(key) {\n        let targetNode = null;\n        const callback = (node) => {\n            if (key === node.attr('key')) {\n                targetNode = node;\n            }\n        };\n        bfs(this, callback);\n        return targetNode;\n    }\n    getNodesByType(type) {\n        const nodes = [];\n        const callback = (node) => {\n            if (type === node.type) {\n                nodes.push(node);\n            }\n        };\n        bfs(this, callback);\n        return nodes;\n    }\n    getNodeByType(type) {\n        let node = null;\n        bfs(this, (current) => {\n            if (node)\n                return;\n            if (type === current.type)\n                node = current;\n        });\n        return node;\n    }\n    /**\n     * Apply specified callback to the node value.\n     */\n    call(callback, ...params) {\n        callback(this.map(), ...params);\n        return this;\n    }\n    getRoot() {\n        // Find the root chart and render.\n        let root = this;\n        while (root && root.parentNode) {\n            root = root.parentNode;\n        }\n        return root;\n    }\n}\n//# sourceMappingURL=node.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { isNumber } from '@antv/util';\nimport { getContainerSize } from '../utils/size';\nimport { deepAssign } from '../utils/helper';\nimport { Node } from './node';\n// Keys can specified by new Chart({...}).\n// Keys can bubble form mark-level options to view-level options.\nexport const VIEW_KEYS = [\n    'width',\n    'height',\n    'depth',\n    'padding',\n    'paddingLeft',\n    'paddingRight',\n    'paddingBottom',\n    'paddingTop',\n    'inset',\n    'insetLeft',\n    'insetRight',\n    'insetTop',\n    'insetBottom',\n    'margin',\n    'marginLeft',\n    'marginRight',\n    'marginTop',\n    'marginBottom',\n    'autoFit',\n    'theme',\n    'title',\n    'interaction',\n];\nexport const REMOVE_FLAG = '__remove__';\nexport const CALLBACK_NODE = '__callback__';\n/** Minimum chart width */\nexport const MIN_CHART_WIDTH = 1;\n/** Minimum chart height */\nexport const MIN_CHART_HEIGHT = 1;\nexport function normalizeContainer(container) {\n    if (container === undefined) {\n        const container = document.createElement('div');\n        container[REMOVE_FLAG] = true;\n        return container;\n    }\n    if (typeof container === 'string') {\n        const node = document.getElementById(container);\n        return node;\n    }\n    return container;\n}\nexport function removeContainer(container) {\n    const parent = container.parentNode;\n    if (parent) {\n        parent.removeChild(container);\n    }\n}\nexport function normalizeRoot(node) {\n    if (node.type !== null)\n        return node;\n    const root = node.children[node.children.length - 1];\n    for (const key of VIEW_KEYS)\n        root.attr(key, node.attr(key));\n    return root;\n}\nexport function valueOf(node) {\n    return Object.assign(Object.assign({}, node.value), { type: node.type });\n}\nexport function sizeOf(options, container) {\n    const { width, height, autoFit, depth = 0 } = options;\n    let effectiveWidth = 640;\n    let effectiveHeight = 480;\n    if (autoFit) {\n        const { width: containerWidth, height: containerHeight } = getContainerSize(container);\n        effectiveWidth = containerWidth || effectiveWidth;\n        effectiveHeight = containerHeight || effectiveHeight;\n    }\n    effectiveWidth = width || effectiveWidth;\n    effectiveHeight = height || effectiveHeight;\n    return {\n        width: Math.max(isNumber(effectiveWidth) ? effectiveWidth : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n        height: Math.max(isNumber(effectiveHeight) ? effectiveHeight : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n        depth,\n    };\n}\nexport function optionsOf(node) {\n    const root = normalizeRoot(node);\n    const discovered = [root];\n    const nodeValue = new Map();\n    nodeValue.set(root, valueOf(root));\n    while (discovered.length) {\n        const node = discovered.pop();\n        const value = nodeValue.get(node);\n        const { children = [] } = node;\n        for (const child of children) {\n            if (child.type === CALLBACK_NODE) {\n                value.children = child.value;\n            }\n            else {\n                const childValue = valueOf(child);\n                const { children = [] } = value;\n                children.push(childValue);\n                discovered.push(child);\n                nodeValue.set(child, childValue);\n                value.children = children;\n            }\n        }\n    }\n    return nodeValue.get(root);\n}\nfunction isMark(type, mark) {\n    if (typeof type === 'function')\n        return true;\n    return new Set(Object.keys(mark)).has(type);\n}\nfunction isComposition(type, composition) {\n    return (typeof type !== 'function' && new Set(Object.keys(composition)).has(type));\n}\nfunction normalizeRootOptions(node, options, previousType, marks, composition) {\n    const { type: oldType } = node;\n    const { type = previousType || oldType } = options;\n    if (isComposition(type, composition)) {\n        for (const key of VIEW_KEYS) {\n            if (node.attr(key) !== undefined && options[key] === undefined) {\n                options[key] = node.attr(key);\n            }\n        }\n        return options;\n    }\n    if (isMark(type, marks)) {\n        const view = { type: 'view' };\n        const mark = Object.assign({}, options);\n        for (const key of VIEW_KEYS) {\n            if (mark[key] !== undefined) {\n                view[key] = mark[key];\n                delete mark[key];\n            }\n        }\n        return Object.assign(Object.assign({}, view), { children: [mark] });\n    }\n    return options;\n}\nfunction typeCtor(type, mark, composition) {\n    if (typeof type === 'function')\n        return mark.mark;\n    const node = Object.assign(Object.assign({}, mark), composition);\n    const ctor = node[type];\n    if (!ctor)\n        throw new Error(`Unknown mark: ${type}.`);\n    return ctor;\n}\n// Create node from options.\nfunction createNode(options, mark, composition) {\n    if (typeof options === 'function') {\n        const node = new Node();\n        node.value = options;\n        node.type = CALLBACK_NODE;\n        return node;\n    }\n    const { type, children } = options, value = __rest(options, [\"type\", \"children\"]);\n    const Ctor = typeCtor(type, mark, composition);\n    const node = new Ctor();\n    node.value = value;\n    // @ts-ignore\n    node.type = type;\n    return node;\n}\n// Update node by options.\nfunction updateNode(node, newOptions) {\n    const { type, children } = newOptions, value = __rest(newOptions, [\"type\", \"children\"]);\n    if (node.type === type || type === undefined) {\n        // Update node.\n        deepAssign(node.value, value);\n    }\n    else if (typeof type === 'string') {\n        // Transform node.\n        node.type = type;\n        node.value = value;\n    }\n}\n// Create a nested node tree from newOptions, and append it to the parent.\nfunction appendNode(parent, newOptions, mark, composition) {\n    if (!parent)\n        return;\n    const discovered = [[parent, newOptions]];\n    while (discovered.length) {\n        const [parent, nodeOptions] = discovered.shift();\n        const node = createNode(nodeOptions, mark, composition);\n        if (Array.isArray(parent.children))\n            parent.push(node);\n        const { children } = nodeOptions;\n        if (Array.isArray(children)) {\n            for (const child of children) {\n                discovered.push([node, child]);\n            }\n        }\n        else if (typeof children === 'function') {\n            discovered.push([node, children]);\n        }\n    }\n}\n// Update node tree from options.\nexport function updateRoot(node, options, definedType, mark, composition) {\n    const rootOptions = normalizeRootOptions(node, options, definedType, mark, composition);\n    const discovered = [[null, node, rootOptions]];\n    while (discovered.length) {\n        const [parent, oldNode, newNode] = discovered.shift();\n        // If there is no oldNode, create a node tree directly.\n        if (!oldNode) {\n            appendNode(parent, newNode, mark, composition);\n        }\n        else if (!newNode) {\n            oldNode.remove();\n        }\n        else {\n            updateNode(oldNode, newNode);\n            const { children: newChildren } = newNode;\n            const { children: oldChildren } = oldNode;\n            if (Array.isArray(newChildren) && Array.isArray(oldChildren)) {\n                // Only update node specified in newChildren,\n                // the extra oldChildren will remain still.\n                const n = Math.max(newChildren.length, oldChildren.length);\n                for (let i = 0; i < n; i++) {\n                    const newChild = newChildren[i];\n                    const oldChild = oldChildren[i];\n                    discovered.push([oldNode, oldChild, newChild]);\n                }\n            }\n            else if (typeof newChildren === 'function') {\n                discovered.push([oldNode, null, newChildren]);\n            }\n        }\n    }\n}\nexport function createEmptyPromise() {\n    let reject;\n    let resolve;\n    const cloned = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n    });\n    return [cloned, resolve, reject];\n}\n//# sourceMappingURL=utils.js.map","import { isStrictObject } from '../utils/helper';\nfunction defineValueProp(Node, name, { key = name }) {\n    Node.prototype[name] = function (value) {\n        if (arguments.length === 0)\n            return this.attr(key);\n        return this.attr(key, value);\n    };\n}\nfunction defineArrayProp(Node, name, { key = name }) {\n    Node.prototype[name] = function (value) {\n        if (arguments.length === 0)\n            return this.attr(key);\n        if (Array.isArray(value))\n            return this.attr(key, value);\n        const array = [...(this.attr(key) || []), value];\n        return this.attr(key, array);\n    };\n}\nfunction defineObjectProp(Node, name, { key: k = name }) {\n    Node.prototype[name] = function (key, value) {\n        if (arguments.length === 0)\n            return this.attr(k);\n        if (arguments.length === 1 && typeof key !== 'string') {\n            return this.attr(k, key);\n        }\n        const obj = this.attr(k) || {};\n        obj[key] = arguments.length === 1 ? true : value;\n        return this.attr(k, obj);\n    };\n}\nfunction defineMixProp(Node, name, descriptor) {\n    Node.prototype[name] = function (key) {\n        if (arguments.length === 0)\n            return this.attr(name);\n        if (Array.isArray(key))\n            return this.attr(name, { items: key });\n        if (isStrictObject(key) &&\n            (key.title !== undefined || key.items !== undefined)) {\n            return this.attr(name, key);\n        }\n        if (key === null || key === false)\n            return this.attr(name, key);\n        const obj = this.attr(name) || {};\n        const { items = [] } = obj;\n        items.push(key);\n        obj.items = items;\n        return this.attr(name, obj);\n    };\n}\nfunction defineNodeProp(Node, name, { ctor }) {\n    Node.prototype[name] = function (hocMark) {\n        const node = this.append(ctor);\n        if (name === 'mark') {\n            node.type = hocMark;\n        }\n        return node;\n    };\n}\nfunction defineContainerProp(Node, name, { ctor }) {\n    Node.prototype[name] = function () {\n        this.type = null;\n        return this.append(ctor);\n    };\n}\n/**\n * A decorator to define different type of attribute setter or\n * getter for current node.\n */\nexport function defineProps(descriptors) {\n    return (Node) => {\n        for (const [name, descriptor] of Object.entries(descriptors)) {\n            const { type } = descriptor;\n            if (type === 'value')\n                defineValueProp(Node, name, descriptor);\n            else if (type === 'array')\n                defineArrayProp(Node, name, descriptor);\n            else if (type === 'object')\n                defineObjectProp(Node, name, descriptor);\n            else if (type === 'node')\n                defineNodeProp(Node, name, descriptor);\n            else if (type === 'container')\n                defineContainerProp(Node, name, descriptor);\n            else if (type === 'mix')\n                defineMixProp(Node, name, descriptor);\n        }\n        return Node;\n    };\n}\nexport function nodeProps(node) {\n    return Object.fromEntries(Object.entries(node).map(([name, ctor]) => [name, { type: 'node', ctor }]));\n}\n//# sourceMappingURL=define.js.map","export const commonProps = {\n    encode: { type: 'object' },\n    scale: { type: 'object' },\n    data: { type: 'value' },\n    transform: { type: 'array' },\n    style: { type: 'object' },\n    animate: { type: 'object' },\n    coordinate: { type: 'object' },\n    interaction: { type: 'object' },\n    label: { type: 'array', key: 'labels' },\n    axis: { type: 'object' },\n    legend: { type: 'object' },\n    slider: { type: 'object' },\n    scrollbar: { type: 'object' },\n    state: { type: 'object' },\n    layout: { type: 'object' },\n    theme: { type: 'object' },\n    title: { type: 'value' },\n};\nexport const markProps = Object.assign(Object.assign({}, commonProps), { tooltip: { type: 'mix' }, viewStyle: { type: 'object' } });\nexport const compositionProps = Object.assign(Object.assign({}, commonProps), { labelTransform: { type: 'array' } });\n//# sourceMappingURL=props.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { hide, show } from '../utils/style';\nimport { Node } from './node';\nimport { defineProps } from './define';\nimport { compositionProps } from './props';\nlet CompositionNode = class CompositionNode extends Node {\n    /**\n     * Change current node data and its children data.\n     */\n    changeData(data) {\n        var _a;\n        const chart = this.getRoot();\n        if (!chart)\n            return;\n        this.attr('data', data);\n        if ((_a = this.children) === null || _a === void 0 ? void 0 : _a.length) {\n            this.children.forEach((child) => {\n                child.attr('data', data);\n            });\n        }\n        return chart === null || chart === void 0 ? void 0 : chart.render();\n    }\n    /**\n     * Get view instance by key.\n     */\n    getView() {\n        const chart = this.getRoot();\n        const { views } = chart.getContext();\n        if (!(views === null || views === void 0 ? void 0 : views.length))\n            return undefined;\n        return views.find((view) => view.key === this._key);\n    }\n    getScale() {\n        var _a;\n        return (_a = this.getView()) === null || _a === void 0 ? void 0 : _a.scale;\n    }\n    getScaleByChannel(channel) {\n        const scale = this.getScale();\n        if (scale)\n            return scale[channel];\n        return;\n    }\n    getCoordinate() {\n        var _a;\n        return (_a = this.getView()) === null || _a === void 0 ? void 0 : _a.coordinate;\n    }\n    getTheme() {\n        var _a;\n        return (_a = this.getView()) === null || _a === void 0 ? void 0 : _a.theme;\n    }\n    getGroup() {\n        const key = this._key;\n        if (!key)\n            return undefined;\n        const chart = this.getRoot();\n        const chartGroup = chart.getContext().canvas.getRoot();\n        return chartGroup.getElementById(key);\n    }\n    /**\n     * Show the view.\n     */\n    show() {\n        const group = this.getGroup();\n        if (!group)\n            return;\n        !group.isVisible() && show(group);\n    }\n    /**\n     * Hide the view.\n     */\n    hide() {\n        const group = this.getGroup();\n        if (!group)\n            return;\n        group.isVisible() && hide(group);\n    }\n};\nCompositionNode = __decorate([\n    defineProps(compositionProps)\n], CompositionNode);\nexport { CompositionNode };\n//# sourceMappingURL=composition.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Node } from './node';\nimport { defineProps } from './define';\nimport { markProps } from './props';\nlet MarkNode = class MarkNode extends Node {\n    changeData(data) {\n        const chart = this.getRoot();\n        if (!chart)\n            return;\n        this.attr('data', data);\n        return chart === null || chart === void 0 ? void 0 : chart.render();\n    }\n    /**\n     * Get mark from chart views.\n     */\n    getMark() {\n        var _a;\n        const chartView = (_a = this.getRoot()) === null || _a === void 0 ? void 0 : _a.getView();\n        if (!chartView)\n            return undefined;\n        const { markState } = chartView;\n        const markKey = Array.from(markState.keys()).find((item) => item.key === this.attr('key'));\n        return markState.get(markKey);\n    }\n    /**\n     * Get all scales instance.\n     */\n    getScale() {\n        var _a;\n        const chartView = (_a = this.getRoot()) === null || _a === void 0 ? void 0 : _a.getView();\n        if (!chartView)\n            return undefined;\n        return chartView === null || chartView === void 0 ? void 0 : chartView.scale;\n    }\n    /**\n     * Get the scale instance by channel.\n     */\n    getScaleByChannel(channel) {\n        var _a, _b;\n        const chartView = (_a = this.getRoot()) === null || _a === void 0 ? void 0 : _a.getView();\n        if (!chartView)\n            return undefined;\n        return (_b = chartView === null || chartView === void 0 ? void 0 : chartView.scale) === null || _b === void 0 ? void 0 : _b[channel];\n    }\n    /**\n     * Get canvas group.\n     */\n    getGroup() {\n        const key = this.attr('key');\n        if (!key)\n            return undefined;\n        const chart = this.getRoot();\n        const chartGroup = chart.getContext().canvas.getRoot();\n        return chartGroup.getElementById(key);\n    }\n};\nMarkNode = __decorate([\n    defineProps(markProps)\n], MarkNode);\nexport { MarkNode };\n//# sourceMappingURL=mark.js.map","import { registerSymbol } from '../utils/marker';\nexport const library = {};\n// @todo Warn if override existing key.\nexport function register(key, component) {\n    if (key.startsWith('symbol.'))\n        registerSymbol(key.split('.').pop(), component);\n    else\n        Object.assign(library, { [key]: component });\n}\n//# sourceMappingURL=library.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { Canvas as GCanvas } from '@antv/g';\nimport { Renderer as CanvasRenderer } from '@antv/g-canvas';\nimport { Plugin as DragAndDropPlugin } from '@antv/g-plugin-dragndrop';\nimport { debounce } from '@antv/util';\nimport EventEmitter from '@antv/event-emitter';\nimport { render, destroy } from '../runtime';\nimport { ChartEvent } from '../utils/event';\nimport { normalizeContainer, removeContainer, sizeOf, optionsOf, updateRoot, createEmptyPromise, REMOVE_FLAG, } from './utils';\nimport { CompositionNode } from './composition';\nimport { defineProps, nodeProps } from './define';\nimport { MarkNode } from './mark';\nimport { library } from './library';\nexport const G2_CHART_KEY = 'G2_CHART_KEY';\nexport class Runtime extends CompositionNode {\n    constructor(options) {\n        const { container, canvas, renderer, plugins, lib, createCanvas } = options, rest = __rest(options, [\"container\", \"canvas\", \"renderer\", \"plugins\", \"lib\", \"createCanvas\"]);\n        super(rest, 'view');\n        // Identifies whether bindAutoFit.\n        this._hasBindAutoFit = false;\n        this._rendering = false;\n        this._trailing = false;\n        this._trailingResolve = null;\n        this._trailingReject = null;\n        this._previousDefinedType = null;\n        this._onResize = debounce(() => {\n            this.forceFit();\n        }, 300);\n        this._renderer = renderer || new CanvasRenderer();\n        this._plugins = plugins || [];\n        this._container = normalizeContainer(container);\n        this._emitter = new EventEmitter();\n        this._context = {\n            library: Object.assign(Object.assign({}, lib), library),\n            emitter: this._emitter,\n            canvas,\n            createCanvas,\n        };\n        this._create();\n    }\n    render() {\n        if (this._rendering)\n            return this._addToTrailing();\n        if (!this._context.canvas)\n            this._createCanvas();\n        this._bindAutoFit();\n        this._rendering = true;\n        // @fixme The cancel render is not marked, which will cause additional rendered event.\n        // @ref src/runtime/render.ts\n        const finished = new Promise((resolve, reject) => render(this._computedOptions(), this._context, this._createResolve(resolve), this._createReject(reject)));\n        const [finished1, resolve, reject] = createEmptyPromise();\n        finished\n            .then(resolve)\n            .catch(reject)\n            .then(() => this._renderTrailing());\n        return finished1;\n    }\n    /**\n     * @overload\n     * @param {G2ViewTree} [options]\n     * @returns {Runtime|Spec}\n     */\n    options(options) {\n        if (arguments.length === 0)\n            return optionsOf(this);\n        const { type } = options;\n        if (type)\n            this._previousDefinedType = type;\n        updateRoot(this, options, this._previousDefinedType, this._marks, this._compositions);\n        return this;\n    }\n    getContainer() {\n        return this._container;\n    }\n    getContext() {\n        return this._context;\n    }\n    on(event, callback, once) {\n        this._emitter.on(event, callback, once);\n        return this;\n    }\n    once(event, callback) {\n        this._emitter.once(event, callback);\n        return this;\n    }\n    emit(event, ...args) {\n        this._emitter.emit(event, ...args);\n        return this;\n    }\n    off(event, callback) {\n        this._emitter.off(event, callback);\n        return this;\n    }\n    clear() {\n        const options = this.options();\n        this.emit(ChartEvent.BEFORE_CLEAR);\n        this._reset();\n        destroy(options, this._context, false);\n        this.emit(ChartEvent.AFTER_CLEAR);\n    }\n    destroy() {\n        const options = this.options();\n        this.emit(ChartEvent.BEFORE_DESTROY);\n        this._unbindAutoFit();\n        this._reset();\n        destroy(options, this._context, true);\n        if (this._container[REMOVE_FLAG])\n            removeContainer(this._container);\n        this.emit(ChartEvent.AFTER_DESTROY);\n    }\n    forceFit() {\n        // Don't fit if size do not change.\n        this.options['autoFit'] = true;\n        const { width, height } = sizeOf(this.options(), this._container);\n        if (width === this._width && height === this._height) {\n            return Promise.resolve(this);\n        }\n        // Don't call changeSize to prevent update width and height of options.\n        this.emit(ChartEvent.BEFORE_CHANGE_SIZE);\n        const finished = this.render();\n        finished.then(() => {\n            this.emit(ChartEvent.AFTER_CHANGE_SIZE);\n        });\n        return finished;\n    }\n    changeSize(width, height) {\n        if (width === this._width && height === this._height) {\n            return Promise.resolve(this);\n        }\n        this.emit(ChartEvent.BEFORE_CHANGE_SIZE);\n        this.attr('width', width);\n        this.attr('height', height);\n        const finished = this.render();\n        finished.then(() => {\n            this.emit(ChartEvent.AFTER_CHANGE_SIZE);\n        });\n        return finished;\n    }\n    _create() {\n        const { library } = this._context;\n        // @todo After refactor component as mark, remove this.\n        const isMark = (key) => key.startsWith('mark.') ||\n            key === 'component.axisX' ||\n            key === 'component.axisY' ||\n            key === 'component.legends';\n        const marks = [\n            'mark.mark',\n            ...Object.keys(library).filter(isMark),\n        ];\n        // Create mark generators.\n        this._marks = {};\n        for (const key of marks) {\n            const name = key.split('.').pop();\n            class Mark extends MarkNode {\n                constructor() {\n                    super({}, name);\n                }\n            }\n            this._marks[name] = Mark;\n            this[name] = function (composite) {\n                const node = this.append(Mark);\n                if (name === 'mark')\n                    node.type = composite;\n                return node;\n            };\n        }\n        // Create composition generators.\n        const compositions = [\n            'composition.view',\n            ...Object.keys(library).filter((key) => key.startsWith('composition.') && key !== 'composition.mark'),\n        ];\n        this._compositions = Object.fromEntries(compositions.map((key) => {\n            const name = key.split('.').pop();\n            let Composition = class Composition extends CompositionNode {\n                constructor() {\n                    super({}, name);\n                }\n            };\n            Composition = __decorate([\n                defineProps(nodeProps(this._marks))\n            ], Composition);\n            return [name, Composition];\n        }));\n        for (const Ctor of Object.values(this._compositions)) {\n            defineProps(nodeProps(this._compositions))(Ctor);\n        }\n        for (const key of compositions) {\n            const name = key.split('.').pop();\n            this[name] = function () {\n                const Composition = this._compositions[name];\n                this.type = null;\n                return this.append(Composition);\n            };\n        }\n    }\n    _reset() {\n        const KEYS = ['theme', 'type', 'width', 'height', 'autoFit'];\n        this.type = 'view';\n        this.value = Object.fromEntries(Object.entries(this.value).filter(([key]) => key.startsWith('margin') ||\n            key.startsWith('padding') ||\n            key.startsWith('inset') ||\n            KEYS.includes(key)));\n        this.children = [];\n    }\n    _renderTrailing() {\n        if (!this._trailing)\n            return;\n        this._trailing = false;\n        this.render()\n            .then(() => {\n            const trailingResolve = this._trailingResolve.bind(this);\n            this._trailingResolve = null;\n            trailingResolve(this);\n        })\n            .catch((error) => {\n            const trailingReject = this._trailingReject.bind(this);\n            this._trailingReject = null;\n            trailingReject(error);\n        });\n    }\n    _createResolve(resolve) {\n        return () => {\n            this._rendering = false;\n            resolve(this);\n        };\n    }\n    _createReject(reject) {\n        return (error) => {\n            this._rendering = false;\n            reject(error);\n        };\n    }\n    // Update actual size and key.\n    _computedOptions() {\n        const options = this.options();\n        const { key = G2_CHART_KEY } = options;\n        const { width, height, depth } = sizeOf(options, this._container);\n        this._width = width;\n        this._height = height;\n        this._key = key;\n        return Object.assign(Object.assign({ key: this._key }, options), { width, height, depth });\n    }\n    // Create canvas if it does not exist.\n    // DragAndDropPlugin is for interaction.\n    // It is OK to register more than one time, G will handle this.\n    _createCanvas() {\n        const { width, height } = sizeOf(this.options(), this._container);\n        this._plugins.push(new DragAndDropPlugin());\n        this._plugins.forEach((d) => this._renderer.registerPlugin(d));\n        this._context.canvas = new GCanvas({\n            container: this._container,\n            width,\n            height,\n            renderer: this._renderer,\n        });\n    }\n    _addToTrailing() {\n        var _a;\n        // Resolve previous promise, and give up this task.\n        (_a = this._trailingResolve) === null || _a === void 0 ? void 0 : _a.call(this, this);\n        // Create new task.\n        this._trailing = true;\n        const promise = new Promise((resolve, reject) => {\n            this._trailingResolve = resolve;\n            this._trailingReject = reject;\n        });\n        return promise;\n    }\n    _bindAutoFit() {\n        const options = this.options();\n        const { autoFit } = options;\n        if (this._hasBindAutoFit) {\n            // If it was bind before, unbind it now.\n            if (!autoFit)\n                this._unbindAutoFit();\n            return;\n        }\n        if (autoFit) {\n            this._hasBindAutoFit = true;\n            window.addEventListener('resize', this._onResize);\n        }\n    }\n    _unbindAutoFit() {\n        if (this._hasBindAutoFit) {\n            this._hasBindAutoFit = false;\n            window.removeEventListener('resize', this._onResize);\n        }\n    }\n}\n//# sourceMappingURL=runtime.js.map","import { corelib, plotlib, graphlib, geolib, stdlib } from './lib';\nimport { extend, Runtime } from './api';\nexport { corelib, plotlib, graphlib, geolib, stdlib };\nexport * from './exports';\n/**\n * G2 standard library initial all the libs except 3D and auto.\n */\nconst library = Object.assign({}, stdlib());\nexport const Chart = extend(Runtime, library);\n//# sourceMappingURL=index.js.map","import { corelib } from './core';\nimport { geolib } from './geo';\nimport { graphlib } from './graph';\nimport { plotlib } from './plot';\nexport function stdlib() {\n    return Object.assign(Object.assign(Object.assign(Object.assign({}, geolib()), graphlib()), plotlib()), corelib());\n}\n//# sourceMappingURL=std.js.map","import { GeoView } from '../composition/geoView';\nimport { GeoPath } from '../composition/geoPath';\nexport function geolib() {\n    return {\n        'composition.geoView': GeoView,\n        'composition.geoPath': GeoPath,\n    };\n}\n//# sourceMappingURL=geo.js.map","import { Sankey, Treemap, Pack, ForceGraph, Tree, Chord } from '../mark';\nimport { Arc, Cluster } from '../data';\nexport function graphlib() {\n    return {\n        'data.arc': Arc,\n        'data.cluster': Cluster,\n        'mark.forceGraph': ForceGraph,\n        'mark.tree': Tree,\n        'mark.pack': Pack,\n        'mark.sankey': Sankey,\n        'mark.chord': Chord,\n        'mark.treemap': Treemap,\n    };\n}\n//# sourceMappingURL=graph.js.map","import { Boxplot, WordCloud, Gauge, Liquid } from '../mark';\nimport { Venn } from '../data';\nexport function plotlib() {\n    return {\n        'data.venn': Venn,\n        'mark.boxplot': Boxplot,\n        'mark.gauge': Gauge,\n        'mark.wordCloud': WordCloud,\n        'mark.liquid': Liquid,\n    };\n}\n//# sourceMappingURL=plot.js.map","import { Cartesian, Polar, Transpose, Theta, Parallel, Fisheye, Radial, Radar, Helix, } from '../coordinate';\nimport { Constant, Field, Transform, Column } from '../encode';\nimport { Cell, Interval, Rect, Line, Point, Text, Area, Image, Polygon, Box, Vector, Link, LineX, LineY, Connector, Range, RangeX, RangeY, Path, Shape, Density, Heatmap, WordCloud as WordCloudGeometry, } from '../mark';\nimport { Category10, Category20 } from '../palette';\nimport { Linear as ScaleLinear, Ordinal as ScaleOrdinal, Band as ScaleBand, Identity as ScaleIdentity, Point as ScalePoint, Time as ScaleTime, Log as ScaleLog, Pow as ScalePow, Threshold as ScaleThreshold, Quantile as ScaleQuantile, Quantize as ScaleQuantize, Sqrt as ScaleSqrt, Sequential as ScaleSequential, Constant as ScaleConstant, } from '../scale';\nimport { Classic, ClassicDark, Academy, Light, Dark } from '../theme';\nimport { AxisX, AxisY, LegendCategory, LegendContinuous, TitleComponent, SliderX, SliderY, ScrollbarX, ScrollbarY, Legends, } from '../component';\nimport { ScaleInX, ScaleOutX, ScaleInY, ScaleOutY, WaveIn, FadeIn, FadeOut, Morphing, ZoomIn, ZoomOut, PathIn, GrowInX, GrowInY, } from '../animation';\nimport { ElementHighlight, ElementHighlightByX, ElementHighlightByColor, ElementSelect, ElementSelectByX, ElementSelectByColor, ChartIndex, Fisheye as ChartFisheye, Tooltip, LegendFilter, LegendHighlight, BrushHighlight, BrushXHighlight, BrushYHighlight, BrushAxisHighlight, BrushFilter, BrushXFilter, BrushYFilter, SliderFilter, Poptip, ScrollbarFilter, TreemapDrillDown, ElementPointMove, } from '../interaction';\nimport { SpaceLayer, SpaceFlex, FacetRect, FacetCircle, RepeatMatrix, TimingKeyframe, } from '../composition';\nimport { StackY, DodgeX, StackEnter, NormalizeY, Jitter, JitterX, JitterY, SymmetryY, DiffY, Select, SelectX, SelectY, GroupX, Group, SortX, FlexX, SortY, GroupY, GroupColor, SortColor, Pack, BinX, Bin, Sample, Filter, } from '../transform';\nimport { Fetch as DataFetch, SortBy as DataSortBy, Filter as DataFilter, Map as DataMap, Pick as DataPick, Rename as DataRename, Fold as DataFold, Slice as DataSlice, Inline as DataInline, Custom as DataCustom, Join as DataJoin, Sort as DataSort, KDE as DataKDE, Log as DataLog, EMA as DataEMA, WordCloud, } from '../data';\nimport { OverlapDodgeY, OverflowHide, ContrastReverse, OverlapHide, ExceedAdjust, } from '../label-transform';\nexport function corelib() {\n    return {\n        'data.fetch': DataFetch,\n        'data.inline': DataInline,\n        'data.sortBy': DataSortBy,\n        'data.sort': DataSort,\n        'data.filter': DataFilter,\n        'data.pick': DataPick,\n        'data.rename': DataRename,\n        'data.fold': DataFold,\n        'data.slice': DataSlice,\n        'data.custom': DataCustom,\n        'data.map': DataMap,\n        'data.join': DataJoin,\n        'data.kde': DataKDE,\n        'data.log': DataLog,\n        'data.wordCloud': WordCloud,\n        'data.ema': DataEMA,\n        'transform.stackY': StackY,\n        'transform.binX': BinX,\n        'transform.bin': Bin,\n        'transform.dodgeX': DodgeX,\n        'transform.jitter': Jitter,\n        'transform.jitterX': JitterX,\n        'transform.jitterY': JitterY,\n        'transform.symmetryY': SymmetryY,\n        'transform.diffY': DiffY,\n        'transform.stackEnter': StackEnter,\n        'transform.normalizeY': NormalizeY,\n        'transform.select': Select,\n        'transform.selectX': SelectX,\n        'transform.selectY': SelectY,\n        'transform.groupX': GroupX,\n        'transform.groupY': GroupY,\n        'transform.groupColor': GroupColor,\n        'transform.group': Group,\n        'transform.sortX': SortX,\n        'transform.sortY': SortY,\n        'transform.sortColor': SortColor,\n        'transform.flexX': FlexX,\n        'transform.pack': Pack,\n        'transform.sample': Sample,\n        'transform.filter': Filter,\n        'coordinate.cartesian': Cartesian,\n        'coordinate.polar': Polar,\n        'coordinate.transpose': Transpose,\n        'coordinate.theta': Theta,\n        'coordinate.parallel': Parallel,\n        'coordinate.fisheye': Fisheye,\n        'coordinate.radial': Radial,\n        'coordinate.radar': Radar,\n        'coordinate.helix': Helix,\n        'encode.constant': Constant,\n        'encode.field': Field,\n        'encode.transform': Transform,\n        'encode.column': Column,\n        'mark.interval': Interval,\n        'mark.rect': Rect,\n        'mark.line': Line,\n        'mark.point': Point,\n        'mark.text': Text,\n        'mark.cell': Cell,\n        'mark.area': Area,\n        'mark.link': Link,\n        'mark.image': Image,\n        'mark.polygon': Polygon,\n        'mark.box': Box,\n        'mark.vector': Vector,\n        'mark.lineX': LineX,\n        'mark.lineY': LineY,\n        'mark.connector': Connector,\n        'mark.range': Range,\n        'mark.rangeX': RangeX,\n        'mark.rangeY': RangeY,\n        'mark.path': Path,\n        'mark.shape': Shape,\n        'mark.density': Density,\n        'mark.heatmap': Heatmap,\n        'mark.wordCloud': WordCloudGeometry,\n        'palette.category10': Category10,\n        'palette.category20': Category20,\n        'scale.linear': ScaleLinear,\n        'scale.ordinal': ScaleOrdinal,\n        'scale.band': ScaleBand,\n        'scale.identity': ScaleIdentity,\n        'scale.point': ScalePoint,\n        'scale.time': ScaleTime,\n        'scale.log': ScaleLog,\n        'scale.pow': ScalePow,\n        'scale.sqrt': ScaleSqrt,\n        'scale.threshold': ScaleThreshold,\n        'scale.quantile': ScaleQuantile,\n        'scale.quantize': ScaleQuantize,\n        'scale.sequential': ScaleSequential,\n        'scale.constant': ScaleConstant,\n        'theme.classic': Classic,\n        'theme.classicDark': ClassicDark,\n        'theme.academy': Academy,\n        'theme.light': Light,\n        'theme.dark': Dark,\n        'component.axisX': AxisX,\n        'component.axisY': AxisY,\n        'component.legendCategory': LegendCategory,\n        'component.legendContinuous': LegendContinuous,\n        'component.legends': Legends,\n        'component.title': TitleComponent,\n        'component.sliderX': SliderX,\n        'component.sliderY': SliderY,\n        'component.scrollbarX': ScrollbarX,\n        'component.scrollbarY': ScrollbarY,\n        'animation.scaleInX': ScaleInX,\n        'animation.scaleOutX': ScaleOutX,\n        'animation.scaleInY': ScaleInY,\n        'animation.scaleOutY': ScaleOutY,\n        'animation.waveIn': WaveIn,\n        'animation.fadeIn': FadeIn,\n        'animation.fadeOut': FadeOut,\n        'animation.zoomIn': ZoomIn,\n        'animation.zoomOut': ZoomOut,\n        'animation.pathIn': PathIn,\n        'animation.morphing': Morphing,\n        'animation.growInX': GrowInX,\n        'animation.growInY': GrowInY,\n        'interaction.elementHighlight': ElementHighlight,\n        'interaction.elementHighlightByX': ElementHighlightByX,\n        'interaction.elementHighlightByColor': ElementHighlightByColor,\n        'interaction.elementSelect': ElementSelect,\n        'interaction.elementSelectByX': ElementSelectByX,\n        'interaction.elementSelectByColor': ElementSelectByColor,\n        'interaction.fisheye': ChartFisheye,\n        'interaction.chartIndex': ChartIndex,\n        'interaction.tooltip': Tooltip,\n        'interaction.legendFilter': LegendFilter,\n        'interaction.legendHighlight': LegendHighlight,\n        'interaction.brushHighlight': BrushHighlight,\n        'interaction.brushXHighlight': BrushXHighlight,\n        'interaction.brushYHighlight': BrushYHighlight,\n        'interaction.brushAxisHighlight': BrushAxisHighlight,\n        'interaction.brushFilter': BrushFilter,\n        'interaction.brushXFilter': BrushXFilter,\n        'interaction.brushYFilter': BrushYFilter,\n        'interaction.sliderFilter': SliderFilter,\n        'interaction.scrollbarFilter': ScrollbarFilter,\n        'interaction.poptip': Poptip,\n        'interaction.treemapDrillDown': TreemapDrillDown,\n        'interaction.elementPointMove': ElementPointMove,\n        'composition.spaceLayer': SpaceLayer,\n        'composition.spaceFlex': SpaceFlex,\n        'composition.facetRect': FacetRect,\n        'composition.repeatMatrix': RepeatMatrix,\n        'composition.facetCircle': FacetCircle,\n        'composition.timingKeyframe': TimingKeyframe,\n        'labelTransform.overlapHide': OverlapHide,\n        'labelTransform.overlapDodgeY': OverlapDodgeY,\n        'labelTransform.overflowHide': OverflowHide,\n        'labelTransform.contrastReverse': ContrastReverse,\n        'labelTransform.exceedAdjust': ExceedAdjust,\n    };\n}\n//# sourceMappingURL=core.js.map","export function extend(Runtime, library) {\n    class Chart extends Runtime {\n        constructor(options) {\n            super(Object.assign(Object.assign({}, options), { lib: library }));\n        }\n    }\n    return Chart;\n}\n//# sourceMappingURL=extend.js.map","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using Polak–Ribiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n","var castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nmodule.exports = createCaseFirst;\n","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n","var capitalize = require('./capitalize'),\n    createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nmodule.exports = camelCase;\n","var toString = require('./toString'),\n    upperFirst = require('./upperFirst');\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nmodule.exports = capitalize;\n","var createCaseFirst = require('./_createCaseFirst');\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nmodule.exports = upperFirst;\n","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","// packages/react/use-previous/src/use-previous.tsx\nimport * as React from \"react\";\nfunction usePrevious(value) {\n  const ref = React.useRef({ value, previous: value });\n  return React.useMemo(() => {\n    if (ref.current.value !== value) {\n      ref.current.previous = ref.current.value;\n      ref.current.value = value;\n    }\n    return ref.current.previous;\n  }, [value]);\n}\nexport {\n  usePrevious\n};\n//# sourceMappingURL=index.mjs.map\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","export default x => () => x;\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n\n  if (!(left <= k && k <= right)) return array;\n\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof = number) {\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n      index = Uint32Array.from(values, (_, i) => i),\n      j = numbers.length - 1,\n      i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), (i) => numbers[i]);\n  return i >= 0 ? i : -1;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n","export default function permute(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","export default function() {}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n"],"names":["t","x","r","Symbol","iterator","n","e","call","length","next","value","done","TypeError","k","o","a","i","push","error","return","O","arguments","Array","prototype","slice","concat","q","C","toString","W","isArray","B","Object","getPrototypeOf","$","z","values","u","hasOwnProperty","E","A","apply","this","cache","has","get","set","Map","fontSize","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","font","join","measureText","width","P","Float32Array","g","Math","hypot","sqrt","J","s","l","h","c","p","f","d","v","m","y","R","L","M","w","b","U","reduce","_","V","PI","G","H","Q","X","max","floor","log","LN10","Y","ceil","Z","Number","isNaN","tt","rescale","initRange","nice","chooseTransforms","composeOutput","chooseClamp","options","range","domain","interpolator","round","getOptions","map","output","invert","exports","rt","splice","Function","getOwnPropertyDescriptor","constructor","name","nt","et","ot","wrap","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","at","it","create","to","min","toUpperCase","substring","toLowerCase","hsl","hwb","rgb","model","match","parseInt","parseFloat","hex","percent","keyword","ut","st","lt","ht","ct","initKey","pt","valueOf","ft","super","delete","dt","getDefaultOptions","update","gt","vt","from","mapper","notFoundReturn","mt","Date","JSON","stringify","yt","unknown","domainIndexMap","size","getDomain","domainKey","getRange","rangeIndexMap","rangeKey","clear","compare","sortedDomain","clone","sort","Mt","paddingOuter","paddingInner","flex","align","fill","valueBandWidth","valueStep","adjustedRange","wt","padding","getStep","getBandWidth","getPaddingInner","getPaddingOuter","isFinite","bt","xt","reverse","kt","Ot","clamp","interpolate","tickCount","input","getTickMethodOptions","chooseNice","getTicks","composeInput","tickMethod","At","jt","substr","I","j","dayNamesShort","dayNames","monthNamesShort","monthNames","amPm","DoFn","It","Reflect","decorate","defineProperty","St","Ft","transform","untransform","Dt","Pt","Rt","cos","sin","pow","atan2","Tt","Kt","S","Nt","qt","Ct","Wt","Bt","$t","zt","Et","F","D","T","Jt","Lt","Ut","_t","Vt","Gt","Ht","Qt","K","height","transformations","transformers","cartesian","translate","custom","matrix","polar","transpose","scale","reflect","rotate","helix","parallel","fisheye","N","depth","cartesian3D","translate3D","scale3D","transpose3D","recoordinate","getSize","getCenter","compose","createMatrixTransform","forEach","Coordinate","Coordinate3D","Cartesian","props","getPolarOptions","defaultOptions","startAngle","endAngle","innerRadius","outerRadius","polarOption","assign","Polar","Transpose","Theta","getThetaOptions","Parallel","Fisheye","focusX","focusY","distortionX","distortionY","visual","getRadialOptions","Radial","Radar","Helix","Constant","data","Field","Transform","Column","column","field","type","inferredColumn","inferred","visualColumn","nonConstantColumn","constant","array","columnOf","encode","key","channel","maybeColumnOf","console","KV","fv","isObject","MaybeZeroY1","mark","y1","undefined","MaybeZeroX","guide","arcInnerRadius","arcOuterRadius","arcStartAngle","arcEndAngle","arcPadAngle","padAngle","cornerTangents","x0","y0","x1","r1","rc","cw","x01","y01","lo","ox","oy","x11","y11","x10","y10","x00","y00","dx","dy","d2","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","context","path","arc","buffer","r0","a0","a1","da","moveTo","t0","t1","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","pi","x2","y2","x3","y3","x32","y32","intersect","ax","ay","bx","by","kc","lc","lineTo","closePath","centroid","isTranspose","coordinate","filter","isPolar","some","isRadial","startsWith","isHelix","isParallel","isFisheye","isCircular","isTheta","radiusOf","find","angleOf","isRadius","group","keys","nest","groups","rollup","rollups","regroup","keyof","index","__awaiter","thisArg","_arguments","generator","Promise","resolve","reject","fulfilled","step","rejected","result","adopt","then","getViewFromElement","element","_a","current","attributes","class","parentNode","dataOf","viewData","view","__data__","datum","markKey","seriesIndex","markState","selectedMark","groupNameOf","color","scaleColor","series","scaleSeries","facet","invertAble","fns","composed","fn","args","capitalizeFirst","str","replace","message","Error","copyAttributes","target","source","exclude","Set","entries","attr","defined","useMemo","compute","subObject","obj","prefix","maybeSubObject","trim","fromEntries","omitPrefixObject","prefixes","every","maybePercentage","px","isStrictObject","isUnset","deepAssign","dist","src","maxLevel","level","node","Selection","ownerDocument","elements","parent","selections","transitions","updateElements","_elements","_data","_parent","_document","_enter","_update","_exit","_merge","_split","_transitions","_facetElements","selectAll","selector","querySelectorAll","selectFacetAll","select","append","callback","newElement","__fromElements__","appendChild","maybeAppend","id","className","child","getElementById","newChild","groupId","enter","exit","merge","split","keyElement","keyUpdateElement","groupKeyElements","groupKey","__facet__","__toData__","add","other","Ctor","registry","remove","newEnter","newUpdate","newExit","newMerge","newSplit","transition","all","finished","each","style","on","event","handler","addEventListener","nodes","sub","angle","angleWithQuadrant","angleBetween","v0","v1","calcBBox","points","minX","Infinity","maxX","minY","maxY","mid","lower","upper","prettyNumber","precision","abs","toFixed","rect","circle","text","ellipse","image","line","polygon","polyline","html","extent","valueof","mapObject","object","callbackfn","indexOf","firstOf","lastOf","divide","item","comb","len","applyStyle","selection","appendArc","center","radius","computeGradient","mode","tpShape","theta","getTheta","percentage","gradientMode","between","start","end","gradient","reorder","p2","p3","getArcObject","a2","a3","toOpacityKey","colorAttribute","opacityAttribute","getTransform","suffix","getOrigin","z0","z2","__rest","getOwnPropertySymbols","propertyIsEnumerable","inset","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight","rest","finalX","finalY","finalWidth","finalHeight","clampWidth","clampHeight","clampX","clampY","arcObject","Color","first","last","defaults","defaultColor","defaultRadius","restDefaults","defaultLineWidth","lineWidth","stroke","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","opacity","standardDirRadius","standardDir","shift","extendedStyle","defaultEnterAnimation","defaultUpdateAnimation","defaultExitAnimation","Rect","defaultMarker","Hollow","getFunnelPoints","nextPoints","Funnel","adjustPoints","point2d","funnelPoints","curve","getPyramidPoints","Pyramid","fillZero","digit","String","padStart","dynamicFormatDateTime","date","yyyyMMDD","getFullYear","getMonth","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","tooltip","title","titles","items","newItems","flatMap","aggregate","MaybeKey","baseChannels","shapes","scaleKey","baseGeometryChannels","tooltip2d","tooltip1d","baseAnnotationChannels","basePreInference","bandWidth","createBandOffset","bandOffset","bandOffsetX","bandOffsetY","isBandX","isBandY","isSeries","widthX","widthY","offset","visualMark","innerWidth","innerHeight","initializeData","links","LS","LT","LV","shape","hollow","funnel","pyramid","Interval","Y1","SZ","NSZ","x1x2","mx","groupWidth","defaultShape","defaultLabelShape","composite","channels","required","preInference","postInference","interaction","shareTooltip","X1","curveRadialLinear","curveRadial","_curve","radial","lineRadial","descriptor","render","connectedCallback","draw","attributeChangedCallback","areaStart","areaEnd","lineStart","lineEnd","point","DoublePath","d1","style1","style2","Curve","gradientColor","connect","connectNulls","defaultSize","seriesColor","sc","seriesX","sx","seriesY","sy","finalStyle","linePath","idx","DP","MS","definedPoints","segments","dp","segmentation","connectStyle","missing","Line","params","that","_context","bezierCurveTo","_x1","_k","_x2","_x0","_y1","_y2","_y0","Cardinal","tension","_line","NaN","_point","cardinal","CardinalClosed","noop","_x3","_x4","_x5","_y3","_y4","_y5","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","Smooth","HV","VH","HVH","s0","s1","r2","r3","r4","x4","x5","x6","x7","x8","x9","arcTo","Trail","seriesSize","MaybeGradient","MaybeSeries","fc","smooth","hv","vh","hvh","trail","_b","xoffset","yoffset","PV","vector","pv","vectors","independent","seriesTooltip","crosshairs","hollowPoint","bind","square","hollowSquare","diamond","hr","hollowDiamond","triangle","diffY","hollowTriangle","triangleDown","hollowTriangleDown","hexagon","diffX","hollowHexagon","bowtie","hollowBowtie","cross","tick","plus","hyphen","dot","dash","vhv","Symbols","camelCase","letter","symbol","finalLineWidth","finalRadius","HollowPoint","HollowDiamond","HollowHexagon","HollowSquare","HollowTriangleDown","HollowTriangle","HollowBowtie","BaseCircle","Circle","HollowCircle","Point","Plus","Diamond","Square","Triangle","Hexagon","Cross","Bowtie","Hyphen","Tick","TriangleDown","MaybeZeroY","MaybeSize","hollowCircle","DX","DY","xy","quantitative","getConnectorPoint","getLocalBounds","Advance","_c","labelTransform","labelTransformOrigin","background","connector","startMarker","endMarker","coordCenter","innerHTML","children","backgroundStyle","_d","controlPoints","connectorStyle","textShape","transformOrigin","textBaseline","top","right","bottom","left","container","getEulerAngles","setEulerAngles","halfExtents","hw","hh","inferBackgroundBounds","connectorPath","control","inflection","inferConnectorPath","markerStart","markerEnd","Text","textStyle","BadgeShape","markerStyle","p0x","p0y","p1x","p1y","p2x","p2y","getPath","bgShape","inferTextPosition","Badge","Tag","textAlign","MaybeTuple","position","MaybeVisualPosition","restMark","badge","tag","MaybeZeroPadding","cell","Cell","DoubleArea","areaPath","connectPath","areaStyle","definedPointsY1","definedPointsY0","dpy1","dpy0","getPathNode","areaRadialPath","Y0","lineX0","lineX1","lineY0","lineY1","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","areaRadial","Area","area","SI","MaybeIdentityY","MaybeIdentityX","Vector","arrow","arrowSize","arrow1","arrow2","arrowAngle","arrowAngle1","arrowAngle2","arrowPoints","Link","Arc","quadraticCurveTo","VHV","cornerRatio","ratio","getVHVPath","link","Polygon","closedPoints","dists","curr","currDist","prev","prevDist","appendPolygon","getPolygonPath","Ribbon","getRibbonPath","ribbon","Xn","Yn","Pn","Box","radiusHigh","radiusQ3","radiusMedian","radiusQ1","radiusLow","Violin","middleAngle","rectAngle","asin","box","violin","Y2","Y3","y4","Y4","xScale","low","q1","median","q3","high","vx","vy","shapeTheme","arrowMarker","arrowStyle","getArrowMarker","MaybeTupleX","LineX","MaybeTupleY","LineY","inferSymbol","Connector","offset1","offset2","connectLength1","length1","X0","getPoints","makerStyle","extend","extended","C1","AbstractRange","extendX","extendY","Range","MaybeDefaultX","extractX","RangeX","MaybeDefaultY","extractY","RangeY","Path","Shape","MaybeFunctionAttribute","Density","density","SZn","num","limit","keep","reset","isPartial","val","flru","lru","keyFn","maxSize","newCanvas","createCanvas","getPointTemplate","blurFactor","tplCanvas","tplCtx","beginPath","fillStyle","createRadialGradient","addColorStop","fillRect","HeatmapRenderer","opts","blur","minOpacity","maxOpacity","shadowCtx","palette","gradientConfig","paletteCtx","createLinearGradient","stop","parseGradient","getImageData","getColorPalette","clearRect","rectX","rectY","tpl","templateAlpha","globalAlpha","drawImage","drawAlpha","img","maxHeight","useGradientOpacity","imgData","finalAlpha","colorize","ctx","putImageData","Heatmap","canvas","toDataURL","heatmap","WordCloud","layout","resOptions","initializedData","axis","Category10","Category20","Linear","Ordinal","Band","arr","DEFAULT_Q","eps","EPSILON","simplicity","lmin","lmax","lstep","mod","simplicityMax","dMin","dMax","lMin","lMax","densityMax","coverage","coverageMax","span","wilkinsonExtended","onlyLoose","best","score","sm","dm","delta","log10","cm","minStart","maxStart","count","lStep","ticks","Identity","token","twoDigitsOptional","twoDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","_i","args_1","defaultI18n","dayOfMonth","globalI18n","pad","formatFlags","dateObj","DD","Do","getDay","dd","ddd","dddd","MM","MMM","MMMM","YY","YYYY","HH","mm","ss","getMilliseconds","SS","SSS","ZZ","getTimezoneOffset","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","format","mask","getTime","literals","$0","$1","combinedI18nSettings","DURATION_SECOND","DURATION_MINUTE","DURATION_HOUR","DURATION_DAY","DURATION_WEEK","DURATION_MONTH","DURATION_YEAR","createInterval","duration","floorish","offseti","floori","test","adjust","shouldAdjust","roundStep","millisecond","setTime","second","setMilliseconds","minute","setSeconds","setMinutes","day","setHours","month","setDate","setMonth","week","year","setFullYear","localIntervalMap","utcMillisecond","utcSecond","setUTCMilliseconds","getUTCSeconds","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","getUTCDate","utcMonth","setUTCDate","getUTCMonth","setUTCMonth","utcWeek","getUTCDay","utcYear","getUTCFullYear","setUTCFullYear","utcIntervalMap","findTickInterval","interval","utc","hi","tickIntervals","intervalMap","chooseTickIntervals","getter","targetCount","targetInterval","bisect","matchInterval","closeToLow","timeInterval","targetStep","d3Time","tickInterval","d3TimeNice","minuteOffset","Time","getFormatter","maskMap","time","chooseNiceTimeMask","logs","base","shouldReflect","baseCache","log2","pows","exp","d3Log","d3LogNice","niceDomain","Log","transformSqrt","Pow","exponent","transformPow","transformPowInvert","Sqrt","Threshold","thresholds","quantileSorted","i0","Quantile","isSorted","numberArr","tmp","createQuartile","getThresholds","lastIndex","Quantize","Sequential_1","__decorate","decorators","desc","Sequential","rangeOf","normalizeDomain","Scale","normalize","res","createInterpolatorRound","interpolatize","d0","colorDefault","colorBlack","colorWhite","colorStroke","colorBackground","padding1","padding2","padding3","alpha90","alpha65","alpha45","alpha25","alpha10","category10","category20","sizeDefault","margin","delay","viewFill","plotFill","mainFill","contentFill","strokeOpacity","lineCap","fillOpacity","connectorStroke","connectorStrokeOpacity","connectorLineWidth","backgroundFill","backgroundFillOpacity","backgroundPadding","startMarkerSymbol","startMarkerSize","endMarkerSymbol","endMarkerSize","markerFill","markerFillOpacity","markerStrokeOpacity","lineX","lineY","rangeX","rangeY","endMarkerFill","endMarkerFillOpacity","gridLineDash","gridLineWidth","gridStroke","gridStrokeOpacity","labelAlign","labelFill","labelOpacity","labelFontSize","labelFontWeight","labelSpacing","lineLineWidth","lineStroke","lineStrokeOpacity","tickLength","tickLineWidth","tickStroke","tickOpacity","titleFill","titleOpacity","titleFontSize","titleFontWeight","titleSpacing","titleTransformOrigin","lineArrowOffset","lineArrowSize","axisTop","gridDirection","labelDirection","tickDirection","titlePosition","titleTextBaseline","axisBottom","titleTransform","axisLeft","titleDirection","axisRight","axisLinear","girdClosed","gridConnect","gridType","axisArc","axisRadar","label","legendCategory","itemBackgroundFill","itemLabelFill","itemLabelFillOpacity","itemLabelFontSize","itemLabelFontWeight","itemMarkerFillOpacity","itemMarkerSize","itemSpacing","itemValueFill","itemValueFillOpacity","itemValueFontSize","itemValueFontWeight","navButtonFill","navButtonFillOpacity","navPageNumFill","navPageNumFillOpacity","navPageNumFontSize","titleFillOpacity","tickStrokeOpacity","rowPadding","colPadding","maxRows","maxCols","legendContinuous","handleHeight","handleLabelFill","handleLabelFillOpacity","handleLabelFontSize","handleLabelFontWeight","handleMarkerFill","handleMarkerFillOpacity","handleMarkerLineWidth","handleMarkerStroke","handleMarkerStrokeOpacity","handleWidth","labelFillOpacity","ribbonSize","ribbonFill","handle","handleLabel","handleShape","handleIconSize","indicator","connectorLength","connectorLength2","connectorDistance","innerLabel","htmlLabel","slider","trackSize","trackFill","trackFillOpacity","selectionFill","selectionFillOpacity","handleIconFill","handleIconFillOpacity","handleIconStroke","handleIconStrokeOpacity","handleIconLineWidth","handleIconRadius","scrollbar","isRound","slidable","scrollable","thumbFill","thumbFillOpacity","thumbHighlightedFillOpacity","spacing","subtitleFill","subtitleFillOpacity","subtitleFontSize","subtitleFontWeight","subtitleTextBaseline","css","Light","Classic","Dark","crosshairsStroke","crosshairsLineWidth","crosshairsStrokeOpacity","ClassicDark","Academy","labelStrokeOpacity","titleStrokeOpacity","gridFilter","getItemsBBox","config","flexDirection","flexWrap","justifyContent","_e","alignContent","alignItems","isHorizontalFlow","isLeftToRightFlow","direction","_f","offsetX","offsetY","itemsFromDirection","itemsForJustifyContentBBox","justifyContentOffset","itemsFromJustifyContent","itemBox","fromRect","calcAlignItemsOffset","itemsFromAlignItems","finalItems","grid","Layout","_super","_this","layoutEvents","BOUNDS_CHANGED","INSERTED","REMOVED","$margin","$padding","isMutationObserved","bindEvents","enumerable","configurable","getBBox","marginTop","marginRight","marginBottom","marginLeft","getAvailableSpace","paddingTop","paddingRight","paddingBottom","paddingLeft","display","isConnected","bboxes_1","callers","caller","oldValue","newValue","querySelector","titleContent","inferComponentLayout","userDefinitions","G2Layout","subOptions","LegendCategoryLayout","scaleOf","scales","isVertical","orientation","inferComponentShape","component","bbox","userDefinedSize","userDefinedLength","isHorizontal","includes","bboxSize","bboxLength","defaultLength","adaptor","reservedKeys","styles","rotateAxis","eulerAngles","origin","setOrigin","sizeOf","getData","defaultTickFormatter","tickFilter","ticksOf","filteredTicks","labelFormatter","applyInset","createInset","applyFisheye","tickPoint","createFisheye","inferLabelOverlap","labelAutoRotate","labelAutoHide","labelAutoEllipsis","labelAutoWrap","finalTransforms","addToTransforms","overlap","state","optionalAngles","minLength","wordWrapWidth","maxLines","recoveryWhenFail","inferGrid","inferDefaultStyle","theme","themeStyle","baseStyle","positionStyle","channelStyle","inferThemeStyle","axisFactor","useDefinedLabelFormatter","labelFilter","userDefinedLabelFilter","normalizedOptions","LinearAxis","important","order","actualPosition","indexBBox","defaultStyle","internalAxisStyle","gridLength","plane","inferGridLength","overrideStyle","startPos","endPos","innerR","outerR","actualCx","actualCy","getAxisXDomainLength","controllAngleCount","gridClosed","gridCenter","gridControlAngles","inferAxisLinearOverrideStyle","threeDOverrideStyle","tickIsBillboard","lineIsBillboard","labelIsBillboard","titleIsBillboard","gridIsBillboard","infer3DAxisLinearOverrideStyle","labels","finalAxisStyle","crossSize","titleText","labelOverlap","lineOpacity","hasHide","ArcAxis","common","inferArcStyle","axisTheme","omit","defaultPosition","defaultOrder","defaultCrossPadding","defaultPadding","defaultOrientation","AxisX","axisX","crossPadding","AxisY","axisY","inferItemMarker","library","shapeScale","colorScale","shapeScale1","namespace","sum","targetShape","inferShape","itemMarker","marker","useMarker","shapeOf","inferItemMarkerOpacity","inferCategoryStyle","inferItemMarkerSize","itemMarkerOpacity","finalLabelFormatter","domainOf","colorOf","LegendCategory","cols","gridRow","inferLegendShape","finalLayout","legendStyle","gridCol","legendTheme","categoryStyle","filterEmptyIds","layoutWrapper","getNextTickValue","search","v2","CLASS_NAMES","trackGroup","track","selectionGroup","clipPath","getShape","getTrackPath","ch","getSelectionPath","getColor","colors","block","partition","genericColor","getBlockColor","getClipPath","attribute","maybeAppendByClassName","renderTrack","renderSelection","Continuous","eventToOffsetScale","innerRibbonScale","cacheLabelBBox","cacheHandleBBox","onHovering","stopPropagation","getValueByCanvasPoint","getRealSelection","showIndicator","dispatchIndicated","safetyValue","getTickValue","getRealValue","onDragStart","prevValue","onDragging","onDragEnd","updateMouse","currValue","diffValue","updateSelection","cursor","removeEventListener","ifHorizontal","showLabel","renderTitle","availableSpace","contentGroup","labelGroup","zIndex","renderLabel","ribbonGroup","handlesGroup","renderHandles","renderRibbon","renderIndicator","adjustLabel","adjustHandles","getMinMax","ribbonScale","defaultValue","showTitle","finalTitleStyle","showTick","vertical","positive","negative","horizontal","labelBBox","labelFixedSpacing","showHandle","userDefinedRibbonSize","availableWidth","availableHeight","labelShape","labelSize","labelLength","availableSize","availableLength","handleSize","handleLength","handleRatio","handleOffsetRatio","labelPosition","edgeLength","ribbonLength","finalLabelOccupy","_g","ribbonBBox","ribbonStyle","ribbonShape","ribbonRange","getHandleClassName","handleStyle","HandleCtor","labelText","setHandlePosition","startHandle","startHandleWidth","startHandleHeight","endHandle","endHandleWidth","endHandleHeight","handleBBox","handleFormatter","ribbonX","ribbonY","getOffset","formatter","acc","cr","nx","midVal","labelTextAlign","labelTextBaseline","tickStyle","labelStyle","showLine","showGrid","labelData","functionStyle","finalLabelStyle","definedTickLength","internalVal","labelAxisStyle","axisOffset","axisSpacing","axisTickLength","hideIndicator","safeValue","pos","setSelection","stVal","endVal","isOffset","currSt","currEnd","dispatchSelection","getPosition","ribbonLen","evt","detail","dispatchEvent","getQuantizeOrQuantileConfig","getLinearConfig","sizeScale","opacityScale","definedScale","newScale","createColorScale","domainMin","domainMax","inferContinuousConfig","finalSize","updateShapeDimensions","inferContinuousShape","getThresholdConfig","LegendContinuous","defaultLegendSize","Legends","inferStyleByAlign","Title","subtitle","titleStyle","subtitleStyle","bounds","cfg","TitleComponent","isOrdinalScale","i1","constrain","ratioX","selectionOf","scaleX","scaleY","abstractDomain","abstractOf","maybeStep","Slider","sliderTheme","defaultFormatter","inferPosition","trackLength","sparklineData","inferSparklineData","markValue","SliderX","SliderY","Scrollbar","thumbCursor","onValueChange","evtVal","onTrackClick","getLocalPosition","basePos","getOrientVal","setValue","onThumbMouseenter","onTrackMouseenter","onThumbMouseleave","onTrackMouseleave","viewportLength","thumbRadius","getValues","unit","contentLength","getValue","renderSlider","trackStyle","selectionStyle","brushable","selectionRadius","trackRadius","animate","setValues","onHover","scrollbarTheme","mainSize","actualSize","value1","ScrollbarX","ScrollbarY","ScaleInX","keyframes","trimStart","ScaleOutX","ScaleInY","ZERO","registerProperty","inherits","initialValue","interpolable","syntax","NUMBER","scaleInYRadius","PolarScaleInY","RectangularScaleInY","ScaleOutY","WaveIn","waveInArcAngle","animation","onframe","onfinish","FadeIn","FadeOut","ZoomIn","ZoomOut","PathIn","getTotalLength","lineDash","DEFAULT_ATTRIBUTE_VALUE","rx","ry","GEOMETRY_ATTRIBUTES","CIRCLE","ELLIPSE","RECT","IMAGE","LINE","POLYLINE","POLYGON","attributeOf","useDefaultValue","attributeKeys","localBBoxOf","pack","aspect","col","replaceChild","oldChild","markType","hasUniqueString","pattern","lastIndexOf","shape2path","hasSubPath","hasMarker","nodeName","oneToOne","timeEffect","fromName","toName","fromPath","toPath","isSameNodes","hasNonPathNode","isPathWithMarker","fromTransform","toTransform","GROUP","w0","h0","w1","h1","shapeToShape","pathShape","maybePath","Morphing","normalizeSplit","fl","tl","visibility","oneToMultiple","animations","multipleToOne","GrowInX","GrowInY","MAIN_LAYER_CLASS_NAME","LABEL_LAYER_CLASS_NAME","ELEMENT_CLASS_NAME","VIEW_CLASS_NAME","PLOT_CLASS_NAME","COMPONENT_CLASS_NAME","LABEL_CLASS_NAME","AREA_CLASS_NAME","getStyle","setStyle","recursive","hide","show","selectG2Elements","root","__removed__","selectFacetG2Elements","viewInstances","selectFacetViews","parentKey","selectPlotArea","bboxOf","tagName","getRenderBounds","getGeometryBounds","aabb","setFromTransformedAABB","getWorldTransform","mousePosition","brushMousePosition","boundsOfBrushArea","createColorKey","createXKey","createDatumof","views","keyData","keyed","viewKey","useState","setAttribute","STATES","ORIGINAL","updateState","states","original","stateStyle","mixedStyle","currentValue","initState","setState","removeState","hasState","mergeState","marks","merged","selectedState","createValueof","elementIndex","fa","renderLink","pointsOf","pathPointsOf","P0","P1","sortedElements","e0","e1","getAttribute","offsetTransform","amid","renderBackground","BACKGROUND_CLASS_NAME","extentOf","half","bandShapeOf","e2","sizeXOf","sizeYOf","cloneShapeOf","cloneNode","isOrdinalShape","setCursor","dom","getRootNode","defaultView","getContextService","getDomElement","restoreCursor","selectElementByData","getPointsR","nextPoint","getPointsPath","isClose","getElements","plot","maybeRoot","rootOf","VALID_FIND_BY_X_MARKS","elementHighlight","elementsof","emitter","elementSet","keyGroup","appendLink","removeLink","active","appendBackground","removeBackground","isBackground","elementStyle","out","pointerover","nativeEvent","clearTimeout","groupSet","emit","unhighlighted","pointerout","setTimeout","pointerleave","onRest","onHighlight","off","ElementHighlight","createGroup","ElementHighlightByX","ElementHighlightByColor","reapplyWhenUpdate","elementSelect","regionGroupKey","single","multipleSelectHotkey","region","findElement","validFindByXMarks","getValidFindByXMarks","xof","seriesCount","mouse","abstractX","bisector","classList","createFindElementByEvent","regionGroup","selected","isMultiSelectMode","activeHotkey","singleSelect","el","groupBy","groupMap","filteredElements","multipleSelect","hasSelected","hasSelectedGroup","click","isClickElement","hotkeys","handleKeyDown","code","handleKeyUp","onSelect","selectedData","onUnSelect","ElementSelect","createRegionGroup","ElementSelectByX","ElementSelectByColor","wait","leading","trailing","plotArea","updateFocus","throttle","focus","clonedOptions","preserve","newFisheye","maybeCoordinate","ChartIndex","markName","sortedX","lines","getElementsByClassName","keyLabels","rule","dateByFocus","normalizedX","updateRule","newView","updateBasis","updateBasisByTranslate","lineMark","domainY","normalizeY","newNormalizeY","maybeTransform","basis","newState","updateBasisByRerender","mean","subTooltip","main","maybeTooltip","isFullTooltip","maybeAnimation","inferAxisStyle","radar","radarTheme","AxisRadar","restOptions","internalOrientation","inferTitleTransform","LegendContinuousBlock","LegendContinuousSize","LegendContinuousBlockSize","Mark","static","isStatic","frame","clip","viewStyle","useDefaultAdaptor","useOverrideAdaptor","mergeData","dataDescriptor","dataValue","View","viewScale","viewAxis","legend","viewLegend","viewEncode","viewTransform","maxIndex","inferNonCircularStyle","py","inferRadialStyle","autoRotate","rotateToAlignArc","inferRotation","pointOfArc","inferInnerCircularStyle","radiusRatio","maybeUndefined","inferIdentityStyle","getDefaultStyle","inferOutsideCircularStyle","sign","radius1","linePoints","connectorPoints","outside","dodgeY","labelHeight","sortedLabels","boxes","preBox","newHeight","prevY","curY","hideAndDodgeY","unsorted","maxCount","filtered","styleByPoints","WeakMap","spider","computed","newX","originX","extendedOptions","surround","getRadius","newY","processor","Label","specifiedTS","bubblesEvent","eventType","predicate","elementRoot","componentRoot","maybeComponentRoot","babelRoot","maybeLabelRoot","elementType","Event","dblclick","pointertap","pointerdown","pointerup","pointermove","pointerenter","pointerupoutside","dragstart","drag","dragend","dragenter","dragleave","dragover","drop","useLibrary","publicLibrary","currentLibrary","documentOf","initializeMark","partialMark","partialProps","transformedMark","useTransform","transforms","applyDefaults","applyDataTransform","flatEncode","inferChannelsType","maybeVisualChannel","extractColumns","maybeArrayField","maybeNonAnimate","addGuideToScale","normalizeTooltip","extractTooltip","applyMarkTransform","channelDescriptors","nameChannels","exec","scaleType","ordinal","scaleOptions","isConstant","finalRange","fieldOf","specifier","scheme","ramp","radians","degrees","ED","EB","BC_DA","cubehelix","Cubehelix","Rgb","rgbConvert","bl","cubehelixConvert","define","brighter","darker","cosh","sinh","hue","cubehelixGamma","colorCubehelix","gamma","cubehelixLong","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","coordinate2Transform","coordinates","createCoordinate","isTransform","coordOf","inferScale","asOrdinalType","isOrdinal","isTemporal","asQuantitativeType","inferScaleType","expectedDomain","maybeMinMax","zero","inferDomainQ","flat","inferDomainC","inferDomainO","inferDomainS","inferScaleDomain","actualDomain","isQuantitativeScale","clampQuantitativeScale","isDiscreteScale","clampDiscreteScale","maybeRatio","inferOptionsQ","inferPadding","inferOptionsC","inferOptionsS","inferScaleOptions","inferScaleRange","applyScale","scaledValue","scaleName","scaleInstance","assignScale","newKey","useRelationScale","useScale","relations","conditionalize","funcRelations","valueRelations","valueOutput","verify","outputValue","outputFunc","useRelation","syncFacetsScales","syncFacetsScaleByChannel","inferChannelsForComponent","syncedD","gradientColors","rangeMin","rangeMax","categoricalColors","inferRangeQ","usePalette","c10","c20","defaultPalette","fullName","schemeColors","interpolatedColors","isQuantitative","CALLBACK_ITEM_SYMBOL","useData","normalizedDataSource","transformFunctions","transformedData","composeAsync","newData","flattenEncode","typedEncode","isTypedChannel","isField","inferChannelType","newEncode","isPosition","useEncode","createColumnOf","valuedEncode","valueFormatter","normalizedValueFormatter","definedChannel","channelField","name1","newTooltip","columns","arrayColumns","rows","row","eachGuide","axisChannels","scrollbarOptions","getContainer","mount","parentElement","createTooltip","enterable","bounding","containerOffset","tooltipElement","template","prefixCls","overflow","HTMLTooltipElement","showTooltip","canvasContainer","getBounding","container1","container2","getBoundingClientRect","getContainerOffset","content","hideTooltip","clientX","clientY","hideRuleY","hideRuleX","hideMarker","destroyTooltip","destroy","showUndefined","itemColorOf","valueName","groupItems","groupName","seriesKey","definedItems","useGroupName","updateRuleX","plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","minDistIndex","minIndex","minDistPoint","pointsOfPolar","ruleX","createCircle","createLine","updateRuleY","ruleY","markers","interactionKeyof","maybeValue","specified","isEmptyTooltipData","sortFunction","filterFunction","crosshairsX","crosshairsY","body","disableNative","_style","seriesElements","itemElements","isBar","closest","getBounds","minA","maxA","minB","maxB","midA","midB","elementSortedX","sortedIndex","stepWidth","indexByFocus","isOutRange","shouldSkip","isRangeViolation","isInvalid","_x","isOnlyOneElement","elementsByFocus","pointX","elementGroups","domainX","domainXs","getDomainXByPoint","seriesData","selectedItems","selectedSeriesElements","selectedSeriesData","SX","closestX","filteredSeriesData","selectedElements","tooltipData","ruleStyle","ruleStyleX","ruleStyleY","markerStyles","originColor","pointerEvents","updateMarker","firstX","transformedX","onTooltipShow","rootBounds","onTooltipHide","onTooltipDisable","removeEventListeners","onTooltipEnable","addEventListeners","shared","findElementByTarget","isStepWidthPositive","targetLeftBoundary","targetRightBoundary","isGrouped","singleItem","raw","rootBBox","Tooltip","defaultSeries","defaultShowCrosshairs","crosshairsSetting","hasSeries","facetInstances","CATEGORY_LEGEND_CLASS_NAME","markerOf","labelOf","itemsOf","legendsOf","legendsContinuousOf","filterView","allChannels","viewOptions","newMarks","findIndex","newTransform","filterFacets","facets","LegendFilter","contexts","isFacet","channelsOf","legends","removes","itemClick","itemPointerenter","itemPointerout","unselected","markerStroke","setM","removeM","setL","removeL","selectedValues","updateLegendState","onFilter","specifiedChannel","onEnd","legendFilterOrdinal","legendFilterContinuous","LegendHighlight","channelOf","destroys","datumOf","elementGroup","legendState","inactive","highlight","highlightItem","itemPointerover","onUnHighlight","bbox1","bbox2","minX1","minY1","maxX1","maxY1","minX2","minY2","maxX2","maxY2","ResizableMask","renders","renderRect","handleNRender","handleNStyle","handleERender","handleEStyle","handleSRender","handleSStyle","handleWRender","handleWStyle","handleNWRender","handleNWStyle","handleNERender","handleNEStyle","_h","handleSERender","handleSEStyle","_j","handleSWRender","handleSWStyle","appendHandle","handleRender","Node","renderNode","draggable","renderHandle","brushed","brushended","brushcreated","brushstarted","brushupdated","brushRegion","selectedHandles","moveStart","creating","originY","initMask","initReverseMask","initNormalMask","removeMask","updateMask","normalizeBounds","fx","fy","fx1","fy1","updateReverseMask","updateNormalMask","handles","isMask","isSelection","isHandle","currentStart","currentEnd","moveMask","ex","ey","move","selectSiblingViews","brushKey","selectSiblingOptions","brushHighlight","elementof","siblings","siblingsof","optionalExtent","siblingElements","brushStyle","clonedElement","rootWidth","rootHeight","ordinalX","ordinalY","sibling","brush","ex1","ey1","seriesBrushend","cloned","seriesBrushed","brushHandler","AX","AY","pixelsOf","onRemove","preBrushDestroy","BrushHighlight","maskFill","maskFillOpacity","maskStroke","defaultStates","selectSiblingContainers","brushXRegion","BrushXHighlight","brushYRegion","BrushYHighlight","AXIS_HOT_AREA_CLASS_NAME","axesOf","lineOf","boundsOfAxis","mainGroupOf","verticalBrush","axisLine","hotZone","horizontalBrush","BrushAxisHighlight","axes","elementsOf","axisExtent","indexDomain","initIndexDomain","updateElement","clearElement","handlers","createBrush","scale1","brushAxisHighlight","BrushFilter","hideX","hideY","filtering","isDblclick","preTimeStamp","timeStamp","brushFilter","unhighlightedOpacity","BrushXFilter","BrushYFilter","filterDataByDomain","channel0","channel1","abstractValue","SliderFilter","initDomain","getInitValues","sliders","sliderHandler","emitHandlers","channelDomain","eventName","isX","ratioY","domainsOf","initValue","domain0","domain1","emitHandler","SCROLLBAR_CLASS_NAME","ScrollbarFilter","kebabCase","defaultTipStyle","backgroundColor","borderRadius","boxShadow","isTipText","isOverflowing","Poptip","tipStyle","tips","mouseX","mouseY","tip","tipELement","attrs","_keys","_predicate","optional","_callee","_regeneratorRuntime","pop","_marked","hierarchy","mapChildren","objectChildren","childs","eachBefore","computeHeight","copyData","_defineProperty","eachAfter","_step","_iterator","_createForOfIteratorHelper","err","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","descendants","leaves","copy","node_iterator","preroot","ambiguous","imputed","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","currentId","currentParentId","nodeByKey","slash","parentof","sums","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","dice","phi","squarifyRatio","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","beta","treemapDice","treemapSlice","squarify","resquarify","_squarify","constantZero","addObjectDataPath","addArrayDataPath","replaceAll","treeDataTransform","tileMethod","tile","tiles","treemapBinary","treemapSliceDice","treemapSquarify","treemapResquarify","getTileMethod","generateHierarchyRoot","ignoreParentValue","paddingStack","treemap","positionNode","roundNode","filterData","layer","DEFAULT_BREADCRUMB_STYLE","breadCrumbFill","breadCrumbFontSize","breadCrumbY","activeFill","TreemapDrillDown","drillDownOptions","originData","breadCrumb","breadCrumbStyle","breadCrumbActiveStyle","textGroup","drillDownClick","removeChildren","textPath","drillTexts","drillText","textSeparator","originalAttrs","legendClearSetState","strPath","newLayout","colorDomain","createDrillClick","changeStyleKey","createActive","pick","DEFAULT_STYLE","pointR","pointStrokeWidth","pointStroke","pointActiveStroke","pathStroke","pathLineDash","labelStroke","labelLineWidth","labelY","labelX","MOVE_POINT_NAME","elementMouseenter","elementMouseleave","selectedPointsStyle","pointsShape","createHelpShape","pathStyle","getColorType","getSamePointPosition","oldR","ElementPointMove","elementPointMoveOptions","pathDefaultStyle","labelDefaultStyle","pointDefaultStyle","coordinateOptions","newSelection","coordinateType","isArea","pointsGroup","selectedChange","elementClick","childNodes","createPoints","seriesTitle","downPoint","updateView","markTypes","newChangeData","dataKey","isUpdate","getNewData","changeData","dataChange","ratioTransform","isNormalizeY","yField","getPathDataRatioTransformFn","oldPoint","pathLength","pointMousemove","newCy","newCx","initY","nextIndex","newPath","window","mouseupFn","colorType","circlePoint","getIntervalDataRatioTransformFn","initX","newXOut","newYOut","newXIn","newYIn","lastPercent","isBig","getThetaPath","rootClick","SpaceLayer","viewX","viewY","viewWidth","viewHeight","layerData","SpaceFlex","flexData","mainStart","crossStart","total","totalSize","sizes","newChildren","Container","$value","of","setScale","shareSize","flexDomain","inferColor","discovered","encodeColor","legendColor","cs","cl","domainColor","setAnimation","enterType","toCell","setData","cellData","setChildren","subLayout","subLayoutRect","createGuideX","createGuideXRect","createGuideY","createGuideYRect","childOptions","facetScale","shareData","encodeX","encodeY","facetScaleColor","facetDomainColor","visualData","bboxs","filters","facetData2d","maxDataDomain","columnField","columnIndex","columnValue","columnValuesLength","rowField","rowIndex","rowValue","rowValuesLength","normalizedChildren","facetData","guideY","guideX","defaultScale","newAxis","createGuide","dataDomain","createInnerGuide","factory","FacetRect","legendFilter","restEncode","$x","$y","RepeatMatrix","setCoordinate","setEncode","createGuideFacetCircle","subLayoutFacetCircle","sr","ir","FacetCircle","iterationCount","keyframeCount","normal","TimingKeyframe","easing","prevIndex","createGroups","normalizeGroupBy","normalizeComparator","eq","ascending","createFieldsOrder","ascendingComparator","createFunctionOrder","createSeriesOrder","createValueOrder","createSumOrder","createMaxIndexOrder","applyOrder","comparator","seriesSum","GI","seriesMaxIndex","StackY","orderBy","fromY","fromY1","newY1","TY","PG","NG","FG","LG","ny","FS","V1","deviation","variance","thresholdSturges","LN2","bin","threshold","histogram","xz","tz","tn","prestep","bins","quantile","medianIndex","builtinFormatter","summary","GroupN","outputs","reducer","reducerFunction","normalizeReducer","field1","maybeFrom","RV","reducedColumns","GV","GD","THRESHOLD","thresholdAuto","cbrt","thresholdScott","Bin","groupChannels","binChannels","channelIndexKey","binValues","DI","groupKeys","indexKey","BinX","thresholdsX","DodgeX","domainSeries","newMark","createComparator","newS","Jitter","paddingX","paddingY","random","JitterX","JitterY","SymmetryY","newYn","MY","maxMiddleY","newV","DiffY","YG","StackEnter","groupEntries","newGroups","EDL","newEnterDelay","pd","maxDuration","enterDuration","enterDelay","NormalizeY","basisFunction","normalizeBasis","basisValue","specifiedTooltip","Select","selectFunction","normalizeSelector","SelectX","SelectY","GroupX","GroupY","GroupColor","Sort","createReducer","specifiedDomain","filterIndex","ak","av","bk","bv","sortedI","slicedDomain","SortX","SortY","SortColor","FlexX","pcount","space","intervalY","Pack","modifier","lttb","sampled","maxArea","nextA","avgX","avgY","frameStart","frameEnd","pointA","Sample","strategy","sampleFunction","strategies","frames","frameSize","getFrames","normalizeSample","Filter","normalizeValue","expectedValues","FI","newIndex","targetMark","noElementMark","targetField","filterObject","filterWhenNoElements","newEncodes","EOL","EOF","objectConverter","inferColumns","columnSet","formatDate","hours","milliseconds","getUTCMilliseconds","formatYear","delimiter","reFormat","RegExp","DELIMITER","charCodeAt","parseRows","eof","eol","preformatBody","formatValue","formatRow","parse","convert","customConverter","formatBody","formatRows","number","fixtz","Fetch","autoType","response","fetch","dsv","json","Inline","SortBy","fields","normalizedF","ret","Pick","Rename","Fold","Slice","Custom","Join","as","fromKey","fk","KDE","sizeField","gs","gb","pdfResult","_y","_size","cloudRadians","cloudText","cloudFont","cloudFontNormal","cloudFontSize","cloudRotate","cloudPadding","cloudDispatch","cloudSprite","contextAndRatio","di","sprite","maxh","save","weight","wcr","wsr","hcr","hsr","fillText","strokeText","restore","xoff","yoff","hasText","pixels","w32","seen","seenRow","cloudCollide","board","sw","lx","msx","cloudBounds","b0","b1","collideRects","archimedeanSpiral","zeroArray","cloudCanvas","functor","spirals","archimedean","rectangular","tagCloud","spiral","words","timer","cloud","place","maxDelta","dxdy","strokeStyle","tags","now","hasImage","_tags","_bounds","clearInterval","setInterval","createMask","can","cxt","imageData","DEFAULT_OPTIONS","processImageMask","rej","HTMLImageElement","Image","crossOrigin","onload","onerror","cloudOptions","setAsync","fMin","fMax","normalizeFontSize","defaultBounds","tlx","tly","brx","bry","invisibleText","EMA","smoothed","warn","smoothedVal","ema","parseAABB","min2","isInBounds","OverlapHide","priority","displayLabels","overlaping","dl","b2","min1","max1","max2","isOverlap","isSegmentIntersect","useMap","getBoundsWithoutConnector","connectorShape","removeChild","OverlapDodgeY","maxIterations","maxError","setY0","setY","setH","xx","setXX","iter","l0","l1","newDelta","OverflowHide","isOverflow","getsRGB","getL","contrast","foreground","rb","bb","L1","L2","mostContrast","parseToRGB","ContrastReverse","parsedStyle","ExceedAdjust","xMax","yMax","xMin","yMin","changeValue","edge","minEdgeX","minEdgeY","maxEdgeX","maxEdgeY","changeX","changeY","adjustPosition","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","MultiPoint","LineString","streamLine","MultiLineString","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","polygonStart","polygonEnd","Adder","_partials","Float64Array","_n","epsilon","epsilon2","halfPi","quarterPi","tau","atan","acos","areaSum","areaRingSum","areaStream","areaRingStart","areaRingEnd","areaPointFirst","areaPoint","boundsStream","Z0","Z1","X2","Z2","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_radius","pointRadius","lengthRing","lengthSum","lengthStream","lengthPointFirst","lengthPoint","cacheDigits","cacheAppend","cacheRadius","cacheCircle","PathString","digits","_append","RangeError","strings","appendRound","projection","projectionStream","contextStream","measure","graticuleX","graticuleY","graticule10","graticule","outline","extentMajor","extentMinor","stepMajor","stepMinor","rejoin","Intersection","entry","compareIntersection","startInside","subject","segment","pointEqual","isSubject","spherical","lambda","cosPhi","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","cartesianNormalizeInPlace","longitude","arrays","pointVisible","clipLine","sink","ring","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","sinPhi","winding","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","absDelta","antimeridian","intersection","phiArc","polygonContains","pointLine","clean","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","circleStream","cosRadius","sinRadius","circleRadius","clipMax","clipMin","clipRectangle","visible","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","activeStream","bufferStream","clipStream","linePoint","polygonInside","cleanInside","rotationIdentity","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","transformer","methods","TransformStream","fit","fitBounds","clipExtent","fitExtent","fitSize","fitWidth","fitHeight","maxDepth","cosMinDistance","project","delta2","resampleLineTo","c0","c1","phi2","lambda2","dx2","dy2","dz","lambda00","b00","c00","resampleStream","ringPoint","resampleNone","transformRadians","scaleTranslateRotate","scaleTranslate","cosAlpha","sinAlpha","ai","bi","ci","fi","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","cacheStream","preclip","postclip","recenter","resample","transformRotate","clipAngle","smallRadius","notHemisphere","two","n1","n2","n2n2","n1n2","determinant","c2","n1xn2","uu","t2","v00","point2","reflectX","reflectY","conicProjection","parallels","conicEqualAreaRaw","sy0","forward","cylindricalEqualAreaRaw","r0y","conicEqualArea","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","streams","multiplex","azimuthalRaw","azimuthalInvert","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","equirectangularRaw","conicEquidistantRaw","gy","A1","A2","A3","A4","equalEarthRaw","l2","l6","gnomonicRaw","sa","tx","ty","kx","ky","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","setProjectionSize","defaultOutline","geoNodes","isGeoPath","gjs","gj","types","properties","normalizeGeoJSON","setFitExtent","setFitWidth","normalizeDataSource","GeoView","projectionOptions","createProjection","normalizeProjection","setProjectionOptions","visualPoint","normalizeInvert","GeoPath","DEFAULT_LAYOUT_OPTIONS","joint","DEFAULT_LINK_OPTIONS","DEFAULT_NODE_OPTIONS","DEFAULT_LABEL_OPTIONS","ForceGraph","nodeLabels","linkLabels","linkKey","nodeEncode","linkEncode","nodesData","linksData","nodeStrength","linkStrength","nodeForce","linkForce","strength","simulation","force","alphaMin","alphaDecay","dataTransform","linkTooltip","nodeTooltip","defaultSeparation","nextLeft","nextRight","moveSubtree","wm","wp","change","nextAncestor","vim","TreeNode","separation","nodeSize","tree","treeRoot","firstWalk","secondWalk","sizeNode","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","meanXReduce","maxYReduce","cluster","previousNode","meanX","leafLeft","leafRight","hierarchyFunction","layoutFunction","sortBy","edges","Cluster","Tree","valueEncode","packEncloseRandom","circles","shuffle","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","x21","y21","r21","b3","c3","d3","ab","xa","xb","ya","yb","intersects","previous","packSiblingsRandom","_typeof","aa","sj","sk","lcg","radiusLeaf","packChildrenRandom","translateChild","textOverflow","wordWrap","DEFAULT_TOOLTIP_OPTIONS","markOptions","GET_DEFAULT_LAYOUT_OPTIONS","targetDepth","justify","sourceLinks","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","nodeById","computeLinkBreadths","targetLinks","Sankey","linkSort","iterations","sankey","arg","computeNodeLinks","fixedValue","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeLayers","reorderLinks","initializeNodeBreadths","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","targetTop","reorderNodeLinks","resolveCollisions","sourceTop","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","nodeAlign","nodeDepth","nodeSort","nodeWidth","nodePadding","ALIGN_METHOD","nodeNodes","nodeLinks","sankeyProcessor","getNodeAlignFunction","layoutData","linkData","nodeData","key1","frequency","localeCompare","thickness","marginRatio","sourceWeight","targetWeight","edgesBySource","edgesByTarget","sources","targets","preprocess","method","sortNodes","deltaX","layoutNodes","nodesMap","sourceId","targetId","sourceNode","targetNode","sourceEdges","targetEdges","layoutEdges","Chord","linkEncodeColor","nodeWidthRatio","nodePaddingRatio","restLayout","minimumLen","DEFAULT_TOOLTIP_OPTIONS_DRILL","Treemap","treemapDrillDown","layoutOptions","transformedDataAll","q2","OutlierY","Boxplot","restStyle","qy","boxTooltip","pointTooltip","boxStyle","pointStyle","getR","Round","defaultCfg","minR","maxR","roundPath","DEFAULT_INDICATOR_OPTIONS","pointerStyle","pinStyle","pointerShape","resPointerStyle","pinShape","resPinStyle","invertedPoints","getTransformOptions","newCoordinate","newTransformations","newPoints","pointerAttrs","pinAttrs","indicatorGroup","pointerLineCap","pinR","pinFill","DEFAULT_TEXT_OPTIONS","getGaugeData","_target","_total","targetData","totalData","getTextContent","Gauge","indicatorStyle","arcStyle","lerp","factor","getWaterWavePositions","stage","waveLength","amplitude","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","LiquidShapesPath","pin","cpX","cpY","Liquid","liquidOptions","styleOptions","liquidShape","wave","border","distance","outlineStyle","defaultAttr","centerX","centerY","buildPath","getLiquidShape","shapePath","backgroundShape","clipShape","waveCount","waveAttrs","addWave","distanceShape","borderShape","contentStyle","SMALL","intersectionArea","stats","intersectionPoints","circleCircleIntersection","parentIndex","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","angleDiff","circleArea","smallest","disjoint","circleOverlap","w2","distanceFromIntersectArea","bestInitialLayout","areas","initial","loss","lossFunction","setOverlaps","sets","rowid","mostOverlapped","sortOrder","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","greedyLayout","constrained","restarts","setids","matrices","distances","zerosM","constraints","getDistanceMatrices","norm","norm2","fxprime","xi","yi","xj","yj","dij","constraint","squaredDistance","constrainedMDSGradient","zeros","conjugateGradient","positions","history","constrainedMDSLayout","overlaps","getBoundingBox","minMax","xRange","yRange","Venn","vennData","solution","parameters","initialLayout","ids","pairs","addMissingAreas","setid","nelderMead","venn","setsValue","xScaling","yScaling","scaling","xOffset","yOffset","scaled","scaleSolution","circlePath","wide","intersectionAreaPath","STRING","BOOLEAN","NULL","IDENTIFIER","OPERATOR","FUNCTION","DOT","BRACKET_LEFT","BRACKET_RIGHT","PAREN_LEFT","PAREN_RIGHT","COMMA","QUESTION","COLON","DOLLAR","fromCharCode","Program","Literal","Identifier","MemberExpression","CallExpression","BinaryExpression","UnaryExpression","ConditionalExpression","property","operator","argument","callee","consequent","alternate","functions","EXPR_WHITE_LIST","compileExpression","expr","evaluator","paramNames","namedParams","global","parseOptionsExpr","isSpecRoot","func","trimmed","endsWith","LEGEND_INFER_STRATEGIES","ContinuousScale","linear","identity","sequential","DistributionScale","quantize","DiscreteScale","band","ConstantScale","inferComponent","partialOptions","createGuideComponent","displayedScales","components","normalized","channelName","componentType","inferScrollableType","inferScrollableComponents","titleOptions","inferredComponents","availableScales","isValidDomain","isValidRange","isValidScale","inferLegendComponentType","inferAxisComponentType","inferComponentsType","relativeScales","defaultPlane","DCP","guideOptions","guides","partialGuide","inferComponentPositionAndOrientation","renderComponent","useGuideComponent","scaleInstances","groupComponents","grouped","DL","totalLength","accepts","isConstantSize","constants","fieldScales","scalesByField","scs","combinations","combine","combination","option","getScaleType","accords","accord","lastPolar","lastRadial","inferAxisPositionAndOrientation","ordinalPosition","matchPosition","isReflect","isReflectY","ordinalPositionAndOrientation","computeComponentSize","computeAxisSize","computeGroupSize","computeContinuousLegendSize","computeCategoryLegendSize","computeSliderSize","computeTitleSize","computeScrollbarSize","maxCrossPadding","titleBBox","computeLabelSize","subtitleBBox","styleOf","createScale","labelBBoxes","computeLabelsBBox","paddingTick","maxLabelWidth","maxLabelHeight","offsetOf","endX","overflowX","computeTitleBBox","ribbonStyles","handleIconStyles","crossSize0","defaultTitle","specifiedTitle","getRows","getCols","widthOf","maxPos","titleHeight","computeVerticalSize","computeHorizontalGrid","computeHorizontalFlex","labelsOf","labelStyles","hasTransform","isFalsy","normalizeLabel","computeLayout","maxLabelSpacing","titleBBoxes","titleSize","computeInset","maybeClamp","pl0","pr0","shrinkSize","roughPadding","rpt","rpb","horizontalPadding","computePadding","pl","pr","iw","verticalPadding","pt0","pb0","pb","positionComponents","defaultSizeOf","autoSizeOf","maybeHide","minOrder","createSection","centerSection","inner","outer","placeNonEntityComponents","axisComponents","nonAxisComponents","isRadar","placeAxisRadar","placeArcLinear","placeAxisParallelHorizontal","placeAxisParallelVertical","placeAxisParallel","placeAxisArcInner","placeAxisArcOuter","placeNonEntityAxis","placeCenter","placePaddingArea","mainStartKey","mainStartValue","crossStartKey","crossStartValue","mainSizeKey","mainSizeValue","crossSizeKey","crossSizeValue","isLarge","crossSizeOf","small","bigger","crossStartOf","j0","diff","useComposition","useInteraction","staticMarks","typeOf","isMark","isStandardView","isStaticMark","composition","viewNode","nodeState","nodeGenerators","initializeState","initializeView","transformedNodes","initializeMarks","nodeT","applyTransform","enterContainer","updateContainer","applyTranslate","plotView","interactions","viewInstanceof","viewContainer","updateInteractions","oldStore","store","createDefinedInteraction","createInteraction","definedInteraction","inferInteraction","updates","newOptions","updateInteraction","createUpdateView","updateTypes","updateType","updateViewInstances","nameInteraction","typeOptions","typeOption","prevInteraction","useThemeInteraction","enterViewInstances","nodeGenerator","keyframe","sizedNode","cancel","interactionOptions","applyInteraction","flattenOptions","useMark","createMark","flattenMarks","maybeAuto","computeRoughPlotSize","unshift","transformMarks","mergedOptions","viewCoordinate","viewInteraction","markCoordinates","markInteractions","markViewStyles","reduceRight","cur","newInteraction","newStyle","bubbleOptions","transformedOptions","useTheme","partialTheme","partialMarks","inferTheme","markAndState","initializedMark","scaleChannels","FV","uid","useLabelTransform","NONE_STATIC_KEYS","nameScale","staticScale","guide1","options1","collectScales","normalizeComponents","shapeMap","inferComponentScales","useCoordinate","partialTransform","isCartesian3D","framedStyle","mainLineWidth","mainStroke","planes","yz","nonEntityComponents","entityComponents","placeComponents","axisZ","processAxisZ","uidScale","scaleGroups","groupTransform","scaleDescriptors","createChildren","markScaleInstance","calcPoints","filterValid","titleOf","si","markChildren","areaKeys","areaStyles","areaSizes","styleArea","areaLayouts","pw","ph","animationExtent","minDelay","defaultUpdateType","defaultUpdateDuration","defaultUpdateDelay","defaultEnterType","defaultEnterDuration","defaultEnterDelay","defaultExitType","defaultExitDuration","defaultExitDelay","updateDuration","updateDelay","exitDuration","exitDelay","exitType","computeAnimationExtent","componentAnimateOptions","componentsTransitions","newComponent","updateBBox","updateLayers","applyClip","animateBBox","cls","shapeFunction","createMarkShapeFunction","enterFunction","createEnterFunction","updateFunction","createUpdateFunction","exitFunction","createExitFunction","facetElements","selectFacetElements","maybeFacetElement","fromElements","toElements","labelLayer","labelShapeFunction","labelDescriptor","labelOptions","useShape","abstractData","shapeContext","abstractStyle","abstractOptions","visualOptions","shapeOptions","getDefaultsStyle","createLabelShapeFunction","labelOption","labelIndex","cloneElement","getAnimations","effect","getKeyframes","dependentElement","normalizeLabelSelector","getLabels","labelShapes","labelGroups","labelTransformContext","transformFunction","plotLabel","definedIndex","facetClassName","elementClassName","findAll","originOf","prePlot","newPlot","preTransform","unset","appendTransform","shapeLibrary","styleShape","abstractDatum","visualStyle","shapeName","markTheme","createAnimationFunction","createShape","useAnimation","defaultAnimation","defaultEffectTiming","animateFunction","an","Boolean","sliderFilter","scrollbarFilter","names","columnWidthRatio","scaleOption","preprocessOption","convertedOptions","flows","param","adapter","inferKeys","nodeParent","nodeIndex","Canvas","renderer","registerPlugin","afterParsedOptions","prevWidth","prevHeight","getConfig","resize","documentElement","ready","setPosition","requestAnimationFrame","catch","isDestroyCanvas","viewGroups","getRoot","destroyAllInteractions","destroyChildren","parseInt10","bfs","currentNode","getNodeByKey","getNodesByType","getNodeByType","VIEW_KEYS","REMOVE_FLAG","CALLBACK_NODE","autoFit","effectiveWidth","effectiveHeight","containerWidth","containerHeight","getComputedStyle","wrapperWidth","clientWidth","wrapperHeight","clientHeight","getContainerSize","optionsOf","normalizeRoot","childValue","normalizeRootOptions","previousType","oldType","isComposition","createNode","ctor","typeCtor","updateNode","appendNode","nodeOptions","defineValueProp","defineArrayProp","defineObjectProp","defineMixProp","defineNodeProp","hocMark","defineContainerProp","defineProps","descriptors","nodeProps","commonProps","markProps","compositionProps","CompositionNode","chart","getView","_key","getScale","getScaleByChannel","getCoordinate","getTheme","getGroup","isVisible","MarkNode","getMark","chartView","G2_CHART_KEY","Chart","Runtime","lib","plugins","_hasBindAutoFit","_rendering","_trailing","_trailingResolve","_trailingReject","_previousDefinedType","_onResize","debounce","forceFit","_renderer","_plugins","_container","_emitter","_create","_addToTrailing","_createCanvas","_bindAutoFit","_computedOptions","_createResolve","_createReject","finished1","createEmptyPromise","_renderTrailing","definedType","oldNode","newNode","oldChildren","updateRoot","_marks","_compositions","once","_reset","_unbindAutoFit","removeContainer","_width","_height","changeSize","compositions","Composition","KEYS","trailingResolve","trailingReject","tolerance","fA","fB","fMid","weightedSum","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","simplex","updateSimplex","reflected","contracted","expanded","iteration","sortedSimplex","worst","shouldReduce","wolfeLineSearch","pk","phiPrime0","phi_old","phiPrime","zoom","a_lo","a_high","phi_lo","temp","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","module","string","baseSlice","castSlice","hasUnicode","stringToArray","methodName","strSymbols","chr","charAt","asciiToArray","unicodeToArray","rsAstralRange","rsAstral","rsCombo","rsFitz","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsSeq","rsSymbol","reUnicode","capitalize","createCompounder","upperFirst","createCaseFirst","self","isNumber","findMin","findMax","findMinMulti","findMaxMulti","inside","LN_2","helper","kernel","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","normalizedMinMax","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","bucket","xToBucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","startGradPos","gradAccumulator","getExpectedValueFromPdf","pdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln","usePrevious","ref","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","color_formatHex","formatHex","color_formatRgb","formatRgb","rgbn","rgba","hsla","rgb_formatHex","rgb_formatRgb","clampa","clampi","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","displayable","formatHex8","formatHsl","definition","nogamma","exponential","v3","t3","rgbGamma","colorRgb","rgbSpline","spline","rgbBasis","ascendingBisect","bisectRight","bisectLeft","bisectCenter","descending","compare1","compare2","numbers","quickselect","sd","swap","value0","subarray","quantileIndex","Uint32Array","greatest","ascendingDefined","compareDefined","e10","e5","tickSpec","power","i2","inc","tickIncrement","tickStep","prefixExponent","formatDecimal","coefficient","toExponential","toPrecision","formatRounded","formatPrefix","locale","grouping","thousands","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","minus","nan","newFormat","formatSpecifier","comma","formatTypes","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","toLocaleString","formatDecimalParts","re","FormatSpecifier","tauEpsilon","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","ccw","defined0","x0z","y0z","arealine","LinearClosed","slope3","slope2","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","_t0","Step","stepBefore","stepAfter","withPath","InternMap","defineProperties","_intern","intern_get","intern_set","intern_delete"],"sourceRoot":""}