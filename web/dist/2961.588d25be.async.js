"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[2961],{2961:function(e,t,n){n.d(t,{Z:function(){return B}});var a,r=n(67294),o=n(93967),i=n.n(o),l=n(87462),s=n(4942),u=n(1413),c=n(74902),d=n(97685),f=n(45987),p=n(67656),m=n(82234),v=n(87887),g=n(21770),x=n(71002),h=n(9220),b=n(8410),w=n(75164),y=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],C={};function z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a||((a=document.createElement("textarea")).setAttribute("tab-index","-1"),a.setAttribute("aria-hidden","true"),a.setAttribute("name","hiddenTextarea"),document.body.appendChild(a)),e.getAttribute("wrap")?a.setAttribute("wrap",e.getAttribute("wrap")):a.removeAttribute("wrap");var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&C[n])return C[n];var a=window.getComputedStyle(e),r=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),o=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),i=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),l={sizingStyle:y.map((function(e){return"".concat(e,":").concat(a.getPropertyValue(e))})).join(";"),paddingSize:o,borderSize:i,boxSizing:r};return t&&n&&(C[n]=l),l}(e,t),i=o.paddingSize,l=o.borderSize,s=o.boxSizing,u=o.sizingStyle;a.setAttribute("style","".concat(u,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),a.value=e.value||e.placeholder||"";var c,d=void 0,f=void 0,p=a.scrollHeight;if("border-box"===s?p+=l:"content-box"===s&&(p-=i),null!==n||null!==r){a.value=" ";var m=a.scrollHeight-i;null!==n&&(d=m*n,"border-box"===s&&(d=d+i+l),p=Math.max(d,p)),null!==r&&(f=m*r,"border-box"===s&&(f=f+i+l),c=p>f?"":"hidden",p=Math.min(f,p))}var v={height:p,overflowY:c,resize:"none"};return d&&(v.minHeight=d),f&&(v.maxHeight=f),v}var S=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],Z=r.forwardRef((function(e,t){var n=e,a=n.prefixCls,o=n.defaultValue,c=n.value,p=n.autoSize,m=n.onResize,v=n.className,y=n.style,C=n.disabled,Z=n.onChange,E=(n.onInternalAutoSize,(0,f.Z)(n,S)),$=(0,g.Z)(o,{value:c,postState:function(e){return null!=e?e:""}}),A=(0,d.Z)($,2),I=A[0],N=A[1],R=r.useRef();r.useImperativeHandle(t,(function(){return{textArea:R.current}}));var O=r.useMemo((function(){return p&&"object"===(0,x.Z)(p)?[p.minRows,p.maxRows]:[]}),[p]),j=(0,d.Z)(O,2),F=j[0],H=j[1],P=!!p,T=r.useState(2),V=(0,d.Z)(T,2),k=V[0],D=V[1],M=r.useState(),L=(0,d.Z)(M,2),W=L[0],B=L[1],q=function(){D(0)};(0,b.Z)((function(){P&&q()}),[c,F,H,P]),(0,b.Z)((function(){if(0===k)D(1);else if(1===k){var e=z(R.current,!1,F,H);D(2),B(e)}else!function(){try{if(document.activeElement===R.current){var e=R.current,t=e.selectionStart,n=e.selectionEnd,a=e.scrollTop;R.current.setSelectionRange(t,n),R.current.scrollTop=a}}catch(e){}}()}),[k]);var K=r.useRef(),X=function(){w.Z.cancel(K.current)};r.useEffect((function(){return X}),[]);var J=P?W:null,Y=(0,u.Z)((0,u.Z)({},y),J);return 0!==k&&1!==k||(Y.overflowY="hidden",Y.overflowX="hidden"),r.createElement(h.Z,{onResize:function(e){2===k&&(null==m||m(e),p&&(X(),K.current=(0,w.Z)((function(){q()}))))},disabled:!(p||m)},r.createElement("textarea",(0,l.Z)({},E,{ref:R,style:Y,className:i()(a,v,(0,s.Z)({},"".concat(a,"-disabled"),C)),disabled:C,value:I,onChange:function(e){N(e.target.value),null==Z||Z(e)}})))})),E=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],$=r.forwardRef((function(e,t){var n,a=e.defaultValue,o=e.value,x=e.onFocus,h=e.onBlur,b=e.onChange,w=e.allowClear,y=e.maxLength,C=e.onCompositionStart,z=e.onCompositionEnd,S=e.suffix,$=e.prefixCls,A=void 0===$?"rc-textarea":$,I=e.showCount,N=e.count,R=e.className,O=e.style,j=e.disabled,F=e.hidden,H=e.classNames,P=e.styles,T=e.onResize,V=e.onClear,k=e.onPressEnter,D=e.readOnly,M=e.autoSize,L=e.onKeyDown,W=(0,f.Z)(e,E),B=(0,g.Z)(a,{value:o,defaultValue:a}),q=(0,d.Z)(B,2),K=q[0],X=q[1],J=null==K?"":String(K),Y=r.useState(!1),G=(0,d.Z)(Y,2),Q=G[0],U=G[1],_=r.useRef(!1),ee=r.useState(null),te=(0,d.Z)(ee,2),ne=te[0],ae=te[1],re=(0,r.useRef)(null),oe=(0,r.useRef)(null),ie=function(){var e;return null===(e=oe.current)||void 0===e?void 0:e.textArea},le=function(){ie().focus()};(0,r.useImperativeHandle)(t,(function(){var e;return{resizableTextArea:oe.current,focus:le,blur:function(){ie().blur()},nativeElement:(null===(e=re.current)||void 0===e?void 0:e.nativeElement)||ie()}})),(0,r.useEffect)((function(){U((function(e){return!j&&e}))}),[j]);var se=r.useState(null),ue=(0,d.Z)(se,2),ce=ue[0],de=ue[1];r.useEffect((function(){var e;ce&&(e=ie()).setSelectionRange.apply(e,(0,c.Z)(ce))}),[ce]);var fe,pe=(0,m.Z)(N,I),me=null!==(n=pe.max)&&void 0!==n?n:y,ve=Number(me)>0,ge=pe.strategy(J),xe=!!me&&ge>me,he=function(e,t){var n=t;!_.current&&pe.exceedFormatter&&pe.max&&pe.strategy(t)>pe.max&&t!==(n=pe.exceedFormatter(t,{max:pe.max}))&&de([ie().selectionStart||0,ie().selectionEnd||0]),X(n),(0,v.rJ)(e.currentTarget,e,b,n)},be=S;pe.show&&(fe=pe.showFormatter?pe.showFormatter({value:J,count:ge,maxLength:me}):"".concat(ge).concat(ve?" / ".concat(me):""),be=r.createElement(r.Fragment,null,be,r.createElement("span",{className:i()("".concat(A,"-data-count"),null==H?void 0:H.count),style:null==P?void 0:P.count},fe)));var we=!M&&!I&&!w;return r.createElement(p.Q,{ref:re,value:J,allowClear:w,handleReset:function(e){X(""),le(),(0,v.rJ)(ie(),e,b)},suffix:be,prefixCls:A,classNames:(0,u.Z)((0,u.Z)({},H),{},{affixWrapper:i()(null==H?void 0:H.affixWrapper,(0,s.Z)((0,s.Z)({},"".concat(A,"-show-count"),I),"".concat(A,"-textarea-allow-clear"),w))}),disabled:j,focused:Q,className:i()(R,xe&&"".concat(A,"-out-of-range")),style:(0,u.Z)((0,u.Z)({},O),ne&&!we?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"==typeof fe?fe:void 0}},hidden:F,readOnly:D,onClear:V},r.createElement(Z,(0,l.Z)({},W,{autoSize:M,maxLength:y,onKeyDown:function(e){"Enter"===e.key&&k&&k(e),null==L||L(e)},onChange:function(e){he(e,e.target.value)},onFocus:function(e){U(!0),null==x||x(e)},onBlur:function(e){U(!1),null==h||h(e)},onCompositionStart:function(e){_.current=!0,null==C||C(e)},onCompositionEnd:function(e){_.current=!1,he(e,e.currentTarget.value),null==z||z(e)},className:i()(null==H?void 0:H.textarea),style:(0,u.Z)((0,u.Z)({},null==P?void 0:P.textarea),{},{resize:null==O?void 0:O.resize}),disabled:j,prefixCls:A,onResize:function(e){var t;null==T||T(e),null!==(t=ie())&&void 0!==t&&t.style.height&&ae(!0)},ref:oe,readOnly:D})))})),A=n(78290),I=n(9708),N=n(53124),R=n(98866),O=n(35792),j=n(98675),F=n(65223),H=n(27833),P=n(4173),T=n(47673),V=n(83559),k=n(83262),D=n(20353);const M=e=>{const{componentCls:t,paddingLG:n}=e,a=`${t}-textarea`;return{[`textarea${t}`]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}`,resize:"vertical",[`&${t}-mouse-active`]:{transition:`all ${e.motionDurationSlow}, height 0s, width 0s`}},[`${t}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[a]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`\n        &-allow-clear > ${t},\n        &-affix-wrapper${a}-has-feedback ${t}\n      `]:{paddingInlineEnd:n},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${a}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}};var L=(0,V.I$)(["Input","TextArea"],(e=>{const t=(0,k.IX)(e,(0,D.e)(e));return[M(t)]}),D.T,{resetFont:!1}),W=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};var B=(0,r.forwardRef)(((e,t)=>{var n;const{prefixCls:a,bordered:o=!0,size:l,disabled:s,status:u,allowClear:c,classNames:d,rootClassName:f,className:p,style:m,styles:g,variant:x,showCount:h,onMouseDown:b,onResize:w}=e,y=W(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]);const{getPrefixCls:C,direction:z,allowClear:S,autoComplete:Z,className:E,style:V,classNames:k,styles:D}=(0,N.dj)("textArea"),M=r.useContext(R.Z),B=null!=s?s:M,{status:q,hasFeedback:K,feedbackIcon:X}=r.useContext(F.aM),J=(0,I.F)(q,u),Y=r.useRef(null);r.useImperativeHandle(t,(()=>{var e;return{resizableTextArea:null===(e=Y.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;(0,v.nH)(null===(n=null===(t=Y.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=Y.current)||void 0===e?void 0:e.blur()}}}));const G=C("input",a),Q=(0,O.Z)(G),[U,_,ee]=(0,T.TI)(G,f),[te]=L(G,Q),{compactSize:ne,compactItemClassnames:ae}=(0,P.ri)(G,z),re=(0,j.Z)((e=>{var t;return null!==(t=null!=l?l:ne)&&void 0!==t?t:e})),[oe,ie]=(0,H.Z)("textArea",x,o),le=(0,A.Z)(null!=c?c:S),[se,ue]=r.useState(!1),[ce,de]=r.useState(!1);return U(te(r.createElement($,Object.assign({autoComplete:Z},y,{style:Object.assign(Object.assign({},V),m),styles:Object.assign(Object.assign({},D),g),disabled:B,allowClear:le,className:i()(ee,Q,p,f,ae,E,ce&&`${G}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},d),k),{textarea:i()({[`${G}-sm`]:"small"===re,[`${G}-lg`]:"large"===re},_,null==d?void 0:d.textarea,k.textarea,se&&`${G}-mouse-active`),variant:i()({[`${G}-${oe}`]:ie},(0,I.Z)(G,J)),affixWrapper:i()(`${G}-textarea-affix-wrapper`,{[`${G}-affix-wrapper-rtl`]:"rtl"===z,[`${G}-affix-wrapper-sm`]:"small"===re,[`${G}-affix-wrapper-lg`]:"large"===re,[`${G}-textarea-show-count`]:h||(null===(n=e.count)||void 0===n?void 0:n.show)},_)}),prefixCls:G,suffix:K&&r.createElement("span",{className:`${G}-textarea-suffix`},X),showCount:h,ref:Y,onResize:e=>{var t,n;if(null==w||w(e),se&&"function"==typeof getComputedStyle){const e=null===(n=null===(t=Y.current)||void 0===t?void 0:t.nativeElement)||void 0===n?void 0:n.querySelector("textarea");e&&"both"===getComputedStyle(e).resize&&de(!0)}},onMouseDown:e=>{ue(!0),null==b||b(e);const t=()=>{ue(!1),document.removeEventListener("mouseup",t)};document.addEventListener("mouseup",t)}}))))}))}}]);
//# sourceMappingURL=2961.588d25be.async.js.map